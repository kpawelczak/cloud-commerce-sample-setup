var VF=Object.create;var mg=Object.defineProperty,HF=Object.defineProperties,zF=Object.getOwnPropertyDescriptor,GF=Object.getOwnPropertyDescriptors,WF=Object.getOwnPropertyNames,Xc=Object.getOwnPropertySymbols,OD=Object.getPrototypeOf,vg=Object.prototype.hasOwnProperty,ND=Object.prototype.propertyIsEnumerable,qF=Reflect.get;var xD=(t,e,i)=>e in t?mg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||={})vg.call(e,i)&&xD(t,i,e[i]);if(Xc)for(var i of Xc(e))ND.call(e,i)&&xD(t,i,e[i]);return t},T=(t,e)=>HF(t,GF(e));var PD=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var yg=(t,e)=>{var i={};for(var n in t)vg.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&Xc)for(var n of Xc(t))e.indexOf(n)<0&&ND.call(t,n)&&(i[n]=t[n]);return i};var FD=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var YF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of WF(e))!vg.call(t,r)&&r!==i&&mg(t,r,{get:()=>e[r],enumerable:!(n=zF(e,r))||n.enumerable});return t};var KF=(t,e,i)=>(i=t!=null?VF(OD(t)):{},YF(e||!t||!t.__esModule?mg(i,"default",{value:t,enumerable:!0}):i,t));var _9=(t,e,i)=>qF(OD(t),i,e);var nt=(t,e,i)=>new Promise((n,r)=>{var s=c=>{try{a(i.next(c))}catch(u){r(u)}},o=c=>{try{a(i.throw(c))}catch(u){r(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((i=i.apply(t,e)).next())});var ZM=FD((Ci,KM)=>{"use strict";var rf=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,sf=function(){function t(){this.fetch=!1,this.DOMException=rf.DOMException}return t.prototype=rf,new t}();(function(t){var e=function(i){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function c(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function u(D){return typeof D!="string"&&(D=String(D)),D}function l(D){var N={next:function(){var ne=D.shift();return{done:ne===void 0,value:ne}}};return r.iterable&&(N[Symbol.iterator]=function(){return N}),N}function f(D){this.map={},D instanceof f?D.forEach(function(N,ne){this.append(ne,N)},this):Array.isArray(D)?D.forEach(function(N){this.append(N[0],N[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(N){this.append(N,D[N])},this)}f.prototype.append=function(D,N){D=c(D),N=u(N);var ne=this.map[D];this.map[D]=ne?ne+", "+N:N},f.prototype.delete=function(D){delete this.map[c(D)]},f.prototype.get=function(D){return D=c(D),this.has(D)?this.map[D]:null},f.prototype.has=function(D){return this.map.hasOwnProperty(c(D))},f.prototype.set=function(D,N){this.map[c(D)]=u(N)},f.prototype.forEach=function(D,N){for(var ne in this.map)this.map.hasOwnProperty(ne)&&D.call(N,this.map[ne],ne,this)},f.prototype.keys=function(){var D=[];return this.forEach(function(N,ne){D.push(ne)}),l(D)},f.prototype.values=function(){var D=[];return this.forEach(function(N){D.push(N)}),l(D)},f.prototype.entries=function(){var D=[];return this.forEach(function(N,ne){D.push([ne,N])}),l(D)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function h(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function p(D){return new Promise(function(N,ne){D.onload=function(){N(D.result)},D.onerror=function(){ne(D.error)}})}function y(D){var N=new FileReader,ne=p(N);return N.readAsArrayBuffer(D),ne}function b(D){var N=new FileReader,ne=p(N);return N.readAsText(D),ne}function w(D){for(var N=new Uint8Array(D),ne=new Array(N.length),ye=0;ye<N.length;ye++)ne[ye]=String.fromCharCode(N[ye]);return ne.join("")}function R(D){if(D.slice)return D.slice(0);var N=new Uint8Array(D.byteLength);return N.set(new Uint8Array(D)),N.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=R(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||a(D))?this._bodyArrayBuffer=R(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=h(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(y)}),this.text=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(D){var N=D.toUpperCase();return U.indexOf(N)>-1?N:D}function te(D,N){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var ne=N.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,N.headers||(this.headers=new f(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!ne&&D._bodyInit!=null&&(ne=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new f(N.headers)),this.method=H(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ue(D){var N=new FormData;return D.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),we=ye.shift().replace(/\+/g," "),de=ye.join("=").replace(/\+/g," ");N.append(decodeURIComponent(we),decodeURIComponent(de))}}),N}function he(D){var N=new f,ne=D.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var we=ye.split(":"),de=we.shift().trim();if(de){var Ir=we.join(":").trim();N.append(de,Ir)}}),N}V.call(te.prototype);function Ne(D,N){if(!(this instanceof Ne))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new f(N.headers),this.url=N.url||"",this._initBody(D)}V.call(Ne.prototype),Ne.prototype.clone=function(){return new Ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},Ne.error=function(){var D=new Ne(null,{status:0,statusText:""});return D.type="error",D};var xi=[301,302,303,307,308];Ne.redirect=function(D,N){if(xi.indexOf(N)===-1)throw new RangeError("Invalid status code");return new Ne(null,{status:N,headers:{location:D}})},i.DOMException=n.DOMException;try{new i.DOMException}catch{i.DOMException=function(N,ne){this.message=N,this.name=ne;var ye=Error(N);this.stack=ye.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function zn(D,N){return new Promise(function(ne,ye){var we=new te(D,N);if(we.signal&&we.signal.aborted)return ye(new i.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function Ir(){de.abort()}de.onload=function(){var He={status:de.status,statusText:de.statusText,headers:he(de.getAllResponseHeaders()||"")};He.url="responseURL"in de?de.responseURL:He.headers.get("X-Request-URL");var nn="response"in de?de.response:de.responseText;setTimeout(function(){ne(new Ne(nn,He))},0)},de.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},de.onabort=function(){setTimeout(function(){ye(new i.DOMException("Aborted","AbortError"))},0)};function ht(He){try{return He===""&&n.location.href?n.location.href:He}catch{return He}}de.open(we.method,ht(we.url),!0),we.credentials==="include"?de.withCredentials=!0:we.credentials==="omit"&&(de.withCredentials=!1),"responseType"in de&&(r.blob?de.responseType="blob":r.arrayBuffer&&we.headers.get("Content-Type")&&we.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(de.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof f)?Object.getOwnPropertyNames(N.headers).forEach(function(He){de.setRequestHeader(He,u(N.headers[He]))}):we.headers.forEach(function(He,nn){de.setRequestHeader(nn,He)}),we.signal&&(we.signal.addEventListener("abort",Ir),de.onreadystatechange=function(){de.readyState===4&&we.signal.removeEventListener("abort",Ir)}),de.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return zn.polyfill=!0,n.fetch||(n.fetch=zn,n.Headers=f,n.Request=te,n.Response=Ne),i.Headers=f,i.Request=te,i.Response=Ne,i.fetch=zn,i}({})})(sf);sf.fetch.ponyfill=!0;delete sf.fetch.polyfill;var Eo=rf.fetch?rf:sf;Ci=Eo.fetch;Ci.default=Eo.fetch;Ci.fetch=Eo.fetch;Ci.Headers=Eo.Headers;Ci.Request=Eo.Request;Ci.Response=Eo.Response;KM.exports=Ci});var JM=FD((eC,QM)=>{"use strict";var of;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?of=global.fetch:typeof window<"u"&&window.fetch?of=window.fetch:of=fetch);typeof PD<"u"&&typeof window>"u"&&(hc=of||ZM(),hc.default&&(hc=hc.default),eC.default=hc,QM.exports=eC.default);var hc});function K(t){return typeof t=="function"}function ei(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var eu=ei(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function Dr(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(K(n))try{n()}catch(s){e=s instanceof eu?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{_D(s)}catch(o){e=e??[],o instanceof eu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new eu(e)}}add(e){var i;if(e&&e!==this)if(this.closed)_D(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&Dr(i,e)}remove(e){let{_finalizers:i}=this;i&&Dr(i,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Eg=Ee.EMPTY;function tu(t){return t instanceof Ee||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function _D(t){K(t)?t():t.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bs={setTimeout(t,e,...i){let{delegate:n}=bs;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=bs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function nu(t){bs.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(t);else throw t})}function At(){}var LD=Cg("C",void 0,void 0);function kD(t){return Cg("E",void 0,t)}function UD(t){return Cg("N",t,void 0)}function Cg(t,e,i){return{kind:t,value:e,error:i}}var Oi=null;function ws(t){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Oi;if(Oi=null,i)throw n}}else t()}function jD(t){Sn.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=t)}var Ni=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tu(e)&&e.add(this)):this.destination=JF}static create(e,i,n){return new br(e,i,n)}next(e){this.isStopped?Ig(UD(e),this):this._next(e)}error(e){this.isStopped?Ig(kD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ig(LD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ZF=Function.prototype.bind;function Sg(t,e){return ZF.call(t,e)}var Dg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){ru(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){ru(n)}else ru(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){ru(i)}}},br=class extends Ni{constructor(e,i,n){super();let r;if(K(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&Sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Sg(e.next,s),error:e.error&&Sg(e.error,s),complete:e.complete&&Sg(e.complete,s)}):r=e}this.destination=new Dg(r)}};function ru(t){Sn.useDeprecatedSynchronousErrorHandling?jD(t):nu(t)}function QF(t){throw t}function Ig(t,e){let{onStoppedNotification:i}=Sn;i&&bs.setTimeout(()=>i(t,e))}var JF={closed:!0,next:At,error:QF,complete:At};var Ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function bg(...t){return wg(t)}function wg(t){return t.length===0?Xe:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var z=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=e_(i)?i:new br(i,n,r);return ws(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=$D(n),new n((r,s)=>{let o=new br({next:a=>{try{i(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[Ts](){return this}pipe(...i){return wg(i)(this)}toPromise(i){return i=$D(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function $D(t){var e;return(e=t??Sn.Promise)!==null&&e!==void 0?e:Promise}function XF(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function e_(t){return t&&t instanceof Ni||XF(t)&&tu(t)}var BD=ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new iu(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new BD}next(i){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){ws(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?Eg:(this.currentObservers=null,s.push(i),new Ee(()=>{this.currentObservers=null,Dr(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new z;return i.source=this,i}}return t.create=(e,i)=>new iu(e,i),t})(),iu=class extends re{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Eg}};var Te=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var qo={now(){return(qo.delegate||Date).now()},delegate:void 0};var rn=class extends re{constructor(e=1/0,i=1/0,n=qo){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){let o=i.now(),a=0;for(let c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}}};var pe=new z(t=>t.complete());function su(t){return t&&K(t.schedule)}function Tg(t){return t[t.length-1]}function ti(t){return K(Tg(t))?t.pop():void 0}function Gn(t){return su(Tg(t))?t.pop():void 0}function VD(t,e){return typeof Tg(t)=="number"?t.pop():e}function H7(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function z7(t,e){return function(i,n){e(i,n,t)}}function zD(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function HD(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function GD(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(y){return Promise.resolve(y).then(p,f)}}function a(p,y){n[p]&&(r[p]=function(b){return new Promise(function(w,R){s.push([p,b,w,R])>1||c(p,b)})},y&&(r[p]=y(r[p])))}function c(p,y){try{u(n[p](y))}catch(b){h(s[0][3],b)}}function u(p){p.value instanceof Pi?Promise.resolve(p.value.v).then(l,f):h(s[0][2],p)}function l(p){c("next",p)}function f(p){c("throw",p)}function h(p,y){p(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function WD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof HD=="function"?HD(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var As=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return K(t?.then)}function au(t){return K(t[Ts])}function cu(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function t_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=t_();function du(t){return K(t?.[lu])}function fu(t){return GD(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Pi(i.read());if(r)return yield Pi(void 0);yield yield Pi(n)}}finally{i.releaseLock()}})}function hu(t){return K(t?.getReader)}function Y(t){if(t instanceof z)return t;if(t!=null){if(au(t))return n_(t);if(As(t))return r_(t);if(ou(t))return i_(t);if(cu(t))return qD(t);if(du(t))return s_(t);if(hu(t))return o_(t)}throw uu(t)}function n_(t){return new z(e=>{let i=t[Ts]();if(K(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function r_(t){return new z(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function i_(t){return new z(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,nu)})}function s_(t){return new z(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function qD(t){return new z(e=>{a_(t,e).catch(i=>e.error(i))})}function o_(t){return qD(fu(t))}function a_(t,e){var i,n,r,s;return zD(this,void 0,void 0,function*(){try{for(i=WD(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function Et(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function Ag(t){return K(t?.lift)}function _(t){return e=>{if(Ag(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,i,n,r){return new Yo(t,e,i,n,r)}var Yo=class extends Ni{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sn(t,e=0){return _((i,n)=>{i.subscribe(P(n,r=>Et(n,t,()=>n.next(r),e),()=>Et(n,t,()=>n.complete(),e),r=>Et(n,t,()=>n.error(r),e)))})}function pu(t,e=0){return _((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function YD(t,e){return Y(t).pipe(pu(e),sn(e))}function KD(t,e){return Y(t).pipe(pu(e),sn(e))}function ZD(t,e){return new z(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function QD(t,e){return new z(i=>{let n;return Et(i,e,()=>{n=t[lu](),Et(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>K(n?.return)&&n.return()})}function gu(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(i=>{Et(i,e,()=>{let n=t[Symbol.asyncIterator]();Et(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function JD(t,e){return gu(fu(t),e)}function XD(t,e){if(t!=null){if(au(t))return YD(t,e);if(As(t))return ZD(t,e);if(ou(t))return KD(t,e);if(cu(t))return gu(t,e);if(du(t))return QD(t,e);if(hu(t))return JD(t,e)}throw uu(t)}function ge(t,e){return e?XD(t,e):Y(t)}function I(...t){let e=Gn(t);return ge(t,e)}function E(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:c_}=Array,{getPrototypeOf:u_,prototype:l_,keys:d_}=Object;function mu(t){if(t.length===1){let e=t[0];if(c_(e))return{args:e,keys:null};if(f_(e)){let i=d_(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function f_(t){return t&&typeof t=="object"&&u_(t)===l_}var{isArray:h_}=Array;function p_(t,e){return h_(e)?t(...e):t(e)}function Rs(t){return E(e=>p_(t,e))}function vu(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function Pe(...t){let e=Gn(t),i=ti(t),{args:n,keys:r}=mu(t);if(n.length===0)return ge([],e);let s=new z(g_(n,e,r?o=>vu(r,o):Xe));return i?s.pipe(Rs(i)):s}function g_(t,e,i=Xe){return n=>{eb(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)eb(e,()=>{let u=ge(t[c],e),l=!1;u.subscribe(P(n,f=>{s[c]=f,l||(l=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function eb(t,e,i){t?Et(i,t,e):e()}function tb(t,e,i,n,r,s,o,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&e.complete()},p=b=>u<n?y(b):c.push(b),y=b=>{s&&e.next(b),u++;let w=!1;Y(i(b,l++)).subscribe(P(e,R=>{r?.(R),s?p(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<n;){let R=c.shift();o?Et(e,o,()=>y(R)):y(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(P(e,p,()=>{f=!0,h()})),()=>{a?.()}}function G(t,e,i=1/0){return K(e)?G((n,r)=>E((s,o)=>e(n,s,r,o))(Y(t(n,r))),i):(typeof e=="number"&&(i=e),_((n,r)=>tb(n,r,t,i)))}var yu=class extends Ee{constructor(e,i){super()}schedule(e,i=0){return this}};var Ko={setInterval(t,e,...i){let{delegate:n}=Ko;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Wn=class extends yu{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return Ko.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Ko.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,Dr(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var Ms=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Ms.now=qo.now;var qn=class extends Ms{constructor(e,i=Ms.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var Wt=new qn(Wn),nb=Wt;function Eu(t){return t instanceof Date&&!isNaN(t)}function qt(t=0,e,i=nb){let n=-1;return e!=null&&(su(e)?i=e:n=e),new z(r=>{let s=Eu(t)?+t-i.now():t;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function Yn(t=1/0){return G(Xe,t)}function on(...t){let e=Gn(t),i=VD(t,1/0),n=t;return n.length?n.length===1?Y(n[0]):Yn(i)(ge(n,e)):pe}function O(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>t.call(e,s,r++)&&n.next(s)))})}function F(t){return _((e,i)=>{let n=null,r=!1,s;n=e.subscribe(P(i,void 0,void 0,o=>{s=Y(t(o,F(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function m_(t){return _((e,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let a=r;r=null,i.next(a)}};e.subscribe(P(i,a=>{s?.unsubscribe(),n=!0,r=a,s=P(i,o,At),Y(t(a)).subscribe(s)},()=>{o(),i.complete()},void 0,()=>{r=s=null}))})}function ie(t){return t<=0?()=>pe:_((e,i)=>{let n=0;e.subscribe(P(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function rb(){return Yn(1)}function Kn(...t){return rb()(ge(t,Gn(t)))}function Zo(){return _((t,e)=>{t.subscribe(P(e,At))})}function Qo(t){return E(()=>t)}function Cu(t,e){return e?i=>Kn(e.pipe(ie(1),Zo()),i.pipe(Cu(t))):G((i,n)=>Y(t(i,n)).pipe(ie(1),Qo(i)))}function Zn(t,e=Wt){let i=qt(t,e);return Cu(()=>i)}function v_(t,e){return _((i,n)=>{let r=new Set;i.subscribe(P(n,s=>{let o=t?t(s):s;r.has(o)||(r.add(o),n.next(s))})),e&&Y(e).subscribe(P(n,()=>r.clear(),At))})}function an(t,e=Xe){return t=t??y_,_((i,n)=>{let r,s=!0;i.subscribe(P(n,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,n.next(o))}))})}function y_(t,e){return t===e}function E_(t,e){return an((i,n)=>e?e(i[t],n[t]):i[t]===n[t])}var In=ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ni(t){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Su(t=C_){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function C_(){return new In}function Rt(t,e){let i=arguments.length>=2;return n=>n.pipe(t?O((r,s)=>t(r,s,n)):Xe,ie(1),i?ni(e):Su(()=>new In))}function xs(t={}){let{connector:e=()=>new re,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=c=void 0,l=f=!1},y=()=>{let b=o;p(),b?.unsubscribe()};return _((b,w)=>{u++,!f&&!l&&h();let R=c=c??e();w.add(()=>{u--,u===0&&!f&&!l&&(a=Rg(y,r))}),R.subscribe(w),!o&&u>0&&(o=new br({next:V=>R.next(V),error:V=>{f=!0,h(),a=Rg(p,i,V),R.error(V)},complete:()=>{l=!0,h(),a=Rg(p,n),R.complete()}}),Y(b).subscribe(o))})(s)}}function Rg(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new br({next:()=>{n.unsubscribe(),t()}});return Y(e(...i)).subscribe(n)}function rt(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,xs({connector:()=>new rn(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Mg(t){return O((e,i)=>t<=i)}function Qn(...t){let e=Gn(t);return _((i,n)=>{(e?Kn(t,i,e):Kn(t,i)).subscribe(n)})}function x(t,e){return _((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(P(n,c=>{r?.unsubscribe();let u=0,l=s++;Y(t(c,l)).subscribe(r=P(n,f=>n.next(e?e(c,f,l,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function S_(t,e=!1){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{let o=t(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}function L(t,e,i){let n=K(t)||e||i?{next:t,error:e,complete:i}:t;return n?_((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(P(s,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Xe}function Os(){return _((t,e)=>{let i=null;t._refCount++;let n=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var ri=class extends z{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Ag(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let i=this.getSubject();e.add(this.source.subscribe(P(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return Os()(this)}};var Ns={schedule(t){let e=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=Ns;n&&(e=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=e(s=>{i=void 0,t(s)});return new Ee(()=>i?.(r))},requestAnimationFrame(...t){let{delegate:e}=Ns;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ns;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var I_=1,xg,Og={};function ib(t){return t in Og?(delete Og[t],!0):!1}var sb={setImmediate(t){let e=I_++;return Og[e]=!0,xg||(xg=Promise.resolve()),xg.then(()=>ib(e)&&t()),e},clearImmediate(t){ib(t)}};var{setImmediate:D_,clearImmediate:b_}=sb,Jo={setImmediate(...t){let{delegate:e}=Jo;return(e?.setImmediate||D_)(...t)},clearImmediate(t){let{delegate:e}=Jo;return(e?.clearImmediate||b_)(t)},delegate:void 0};var Iu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Jo.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Jo.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))}};var Du=class extends qn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var Ng=new Du(Iu);var bu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var wu=class extends qn{};var ii=new wu(bu);var Tu=class extends Wn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Ns.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Ns.cancelAnimationFrame(i),e._scheduled=void 0)}};var Au=class extends qn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var w_=new Au(Tu);function Mt(t,e){let i=K(t)?t:()=>t,n=r=>r.error(i());return new z(e?r=>e.schedule(n,0,r):n)}var si=class t{constructor(e,i,n){this.kind=e,this.value=i,this.error=n,this.hasValue=e==="N"}observe(e){return Pg(this,e)}do(e,i,n){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?i?.(o):n?.()}accept(e,i,n){var r;return K((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,i,n)}toObservable(){let{kind:e,value:i,error:n}=this,r=e==="N"?I(i):e==="E"?Mt(()=>n):e==="C"?pe:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};si.completeNotification=new si("C");function Pg(t,e){var i,n,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(i=e.next)===null||i===void 0||i.call(e,o):s==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Fi(t){return!!t&&(t instanceof z||K(t.lift)&&K(t.subscribe))}function Jn(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:r,complete:()=>{s?n(o):i?n(e.defaultValue):r(new In)}})})}var Ru=ei(t=>function(i=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function Xo(t,e){let{first:i,each:n,with:r=T_,scheduler:s=e??Wt,meta:o=null}=Eu(t)?{first:t}:typeof t=="number"?{each:t}:t;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _((a,c)=>{let u,l,f=null,h=0,p=y=>{l=Et(c,s,()=>{try{u.unsubscribe(),Y(r({meta:o,lastValue:f,seen:h})).subscribe(c)}catch(b){c.error(b)}},y)};u=a.subscribe(P(c,y=>{l?.unsubscribe(),h++,c.next(f=y),n>0&&p(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&p(i!=null?typeof i=="number"?i:+i-s.now():n)})}function T_(t){throw new Ru(t)}function qe(t){return new z(e=>{Y(t()).subscribe(e)})}var A_={connector:()=>new re,resetOnDisconnect:!0};function Mu(t,e=A_){let i=null,{connector:n,resetOnDisconnect:r=!0}=e,s=n(),o=new z(a=>s.subscribe(a));return o.connect=()=>((!i||i.closed)&&(i=qe(()=>t).subscribe(s),r&&i.add(()=>s=n())),i),o}function ea(...t){let e=ti(t),{args:i,keys:n}=mu(t),r=new z(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;Y(i[l]).subscribe(P(s,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(n?vu(n,a):a),s.complete())}))}});return e?r.pipe(Rs(e)):r}var R_=["addListener","removeListener"],M_=["addEventListener","removeEventListener"],x_=["on","off"];function ta(t,e,i,n){if(K(i)&&(n=i,i=void 0),n)return ta(t,e,i).pipe(Rs(n));let[r,s]=P_(t)?M_.map(o=>a=>t[o](e,a,i)):O_(t)?R_.map(ob(t,e)):N_(t)?x_.map(ob(t,e)):[];if(!r&&As(t))return G(o=>ta(o,e,i))(Y(t));if(!r)throw new TypeError("Invalid event target");return new z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function ob(t,e){return i=>n=>t[i](e,n)}function O_(t){return K(t.addListener)&&K(t.removeListener)}function N_(t){return K(t.on)&&K(t.off)}function P_(t){return K(t.addEventListener)&&K(t.removeEventListener)}function na(t,e,i){return qe(()=>t()?e:i)}function F_(t=0,e=Wt){return t<0&&(t=0),qt(t,t,e)}var Fg=new z(At);var{isArray:__}=Array;function xu(t){return t.length===1&&__(t[0])?t[0]:t}function _g(...t){return t=xu(t),t.length===1?Y(t[0]):new z(L_(t))}function L_(t){return e=>{let i=[];for(let n=0;i&&!e.closed&&n<t.length;n++)i.push(Y(t[n]).subscribe(P(e,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}e.next(r)})))}}function _i(t,e){return new z(i=>{let n=t(),r=e(n);return(r?Y(r):pe).subscribe(i),()=>{n&&n.unsubscribe()}})}function Li(...t){let e=ti(t),i=xu(t);return i.length?new z(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)Y(i[o]).subscribe(P(n,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());n.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):pe}function ra(t){return _((e,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let u=r;r=null,i.next(u)}o&&i.complete()},c=()=>{s=null,o&&i.complete()};e.subscribe(P(i,u=>{n=!0,r=u,s||Y(t(u)).subscribe(s=P(i,a,c))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function Ou(t,e=Wt){return ra(()=>qt(t,e))}function Nu(t,e=null){return e=e??t,_((i,n)=>{let r=[],s=0;i.subscribe(P(n,o=>{let a=null;s++%e===0&&r.push([]);for(let c of r)c.push(o),t<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)Dr(r,c),n.next(c)},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function ab(t,e,i,n,r){return(s,o)=>{let a=i,c=e,u=0;s.subscribe(P(o,l=>{let f=u++;c=a?t(c,l,f):(a=!0,l),n&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Ue(t,e){return K(e)?G(t,e,1):G(t,1)}function cb(t){return new z(e=>t.subscribe(e))}var k_={connector:()=>new re};function Pu(t,e=k_){let{connector:i}=e;return _((n,r)=>{let s=i();Y(t(cb(s))).subscribe(r),r.add(n.subscribe(s))})}function ki(t,e=Wt){return _((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,n.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){r=this.schedule(void 0,u-l),n.add(r);return}a()}i.subscribe(P(n,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function Lg(){return _((t,e)=>{t.subscribe(P(e,i=>Pg(i,e)))})}function ub(...t){return e=>Kn(e,I(...t))}function U_(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{t.call(e,s,r++,i)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function Xn(t,e){return e?i=>i.pipe(Xn((n,r)=>Y(t(n,r)).pipe(E((s,o)=>e(n,s,r,o))))):_((i,n)=>{let r=0,s=null,o=!1;i.subscribe(P(n,a=>{s||(s=P(n,void 0,()=>{s=null,o&&n.complete()}),Y(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&n.complete()}))})}function Dn(t){return _((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function wr(t,e,i,n){return _((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:i,element:o,connector:n}=e;let a=new Map,c=y=>{a.forEach(y),y(s)},u=y=>c(b=>b.error(y)),l=0,f=!1,h=new Yo(s,y=>{try{let b=t(y),w=a.get(b);if(!w){a.set(b,w=n?n():new re);let R=p(b,w);if(s.next(R),i){let V=P(w,()=>{w.complete(),V?.unsubscribe()},void 0,void 0,()=>a.delete(b));h.add(Y(i(R)).subscribe(V))}}w.next(o?o(y):y)}catch(b){u(b)}},()=>c(y=>y.complete()),u,()=>a.clear(),()=>(f=!0,l===0));r.subscribe(h);function p(y,b){let w=new z(R=>{l++;let V=b.subscribe(R);return()=>{V.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return w.key=y,w}})}function Ps(t){return t<=0?()=>pe:_((e,i)=>{let n=[];e.subscribe(P(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function kg(t,e){let i=arguments.length>=2;return n=>n.pipe(t?O((r,s)=>t(r,s,n)):Xe,Ps(1),i?ni(e):Su(()=>new In))}function Ug(){return _((t,e)=>{t.subscribe(P(e,i=>{e.next(si.createNext(i))},()=>{e.next(si.createComplete()),e.complete()},i=>{e.next(si.createError(i)),e.complete()}))})}function lb(t,e){let i=K(t)?t:()=>t;return K(e)?Pu(e,{connector:i}):n=>new ri(n,i)}function ia(){return _((t,e)=>{let i,n=!1;t.subscribe(P(e,r=>{let s=i;i=r,n&&e.next([s,r]),n=!0}))})}function jg(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return E(i=>{let n=i;for(let r=0;r<e;r++){let s=n?.[t[r]];if(typeof s<"u")n=s;else return}return n})}function j_(t){return t?e=>Pu(t)(e):e=>lb(new re)(e)}function $g(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:i=1/0,delay:n,resetOnSuccess:r=!1}=e;return i<=0?Xe:_((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(P(o,f=>{r&&(a=0),o.next(f)},void 0,f=>{if(a++<i){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let p=typeof n=="number"?qt(n):Y(n(f,a)),y=P(o,()=>{y.unsubscribe(),h()},()=>{o.complete()});p.subscribe(y)}else h()}else o.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Ui(t,e){return _(ab(t,e,arguments.length>=2,!0))}function Fu(t){return _((e,i)=>{let n=!1,r=0;e.subscribe(P(i,s=>(n||(n=!t(s,r++)))&&i.next(s)))})}function sa(t){return _((e,i)=>{Y(t).subscribe(P(i,()=>i.complete(),At)),!i.closed&&e.subscribe(i)})}function db(t,e){return _((i,n)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,s&&(p(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=y=>c=Y(t(y)).subscribe(P(n,l,f)),p=()=>{if(o){o=!1;let y=a;a=null,n.next(y),!u&&h(y)}};i.subscribe(P(n,y=>{o=!0,a=y,!(c&&!c.closed)&&(r?p():h(y))},()=>{u=!0,!(s&&o&&c&&!c.closed)&&n.complete()}))})}function $_(t,e=Wt,i){let n=qt(t,e);return db(()=>n,i)}function it(...t){let e=ti(t);return _((i,n)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Y(t[c]).subscribe(P(n,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Xe))&&(o=null))},At));i.subscribe(P(n,c=>{if(a){let u=[c,...s];n.next(e?e(...u):u)}}))})}function fb(t,e){return Object.is(t,e)}var st=null,_u=!1,Lu=1,Tr=Symbol("SIGNAL");function ve(t){let e=st;return st=t,e}var Uu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Hg(t){if(_u)throw new Error("");if(st===null)return;st.consumerOnSignalRead(t);let e=st.nextProducerIndex++;if(Fs(st),e<st.producerNode.length&&st.producerNode[e]!==t&&oa(st)){let i=st.producerNode[e];ju(i,st.producerIndexOfThis[e])}st.producerNode[e]!==t&&(st.producerNode[e]=t,st.producerIndexOfThis[e]=oa(st)?vb(t,st,e):0),st.producerLastReadVersion[e]=t.version}function B_(){Lu++}function hb(t){if(!(oa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Lu)){if(!t.producerMustRecompute(t)&&!Wg(t)){t.dirty=!1,t.lastCleanEpoch=Lu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Lu}}function pb(t){if(t.liveConsumerNode===void 0)return;let e=_u;_u=!0;try{for(let i of t.liveConsumerNode)i.dirty||V_(i)}finally{_u=e}}function gb(){return st?.consumerAllowSignalWrites!==!1}function V_(t){t.dirty=!0,pb(t),t.consumerMarkedDirty?.(t)}function zg(t){return t&&(t.nextProducerIndex=0),ve(t)}function Gg(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(oa(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)ju(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Wg(t){Fs(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(hb(i),n!==i.version))return!0}return!1}function mb(t){if(Fs(t),oa(t))for(let e=0;e<t.producerNode.length;e++)ju(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function vb(t,e,i){if(yb(t),Fs(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=vb(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function ju(t,e){if(yb(t),Fs(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)ju(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Fs(r),r.producerIndexOfThis[n]=e}}function oa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Fs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function yb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Eb(t){let e=Object.create(H_);e.computation=t;let i=()=>{if(hb(e),Hg(e),e.value===ku)throw e.error;return e.value};return i[Tr]=e,i}var Bg=Symbol("UNSET"),Vg=Symbol("COMPUTING"),ku=Symbol("ERRORED"),H_=T(v({},Uu),{value:Bg,dirty:!0,error:null,equal:fb,producerMustRecompute(t){return t.value===Bg||t.value===Vg},producerRecomputeValue(t){if(t.value===Vg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Vg;let i=zg(t),n;try{n=t.computation()}catch(r){n=ku,t.error=r}finally{Gg(t,i)}if(e!==Bg&&e!==ku&&n!==ku&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function z_(){throw new Error}var Cb=z_;function Sb(){Cb()}function Ib(t){Cb=t}var G_=null;function Db(t){let e=Object.create(wb);e.value=t;let i=()=>(Hg(e),e.value);return i[Tr]=e,i}function qg(t,e){gb()||Sb(),t.equal(t.value,e)||(t.value=e,W_(t))}function bb(t,e){gb()||Sb(),qg(t,e(t.value))}var wb=T(v({},Uu),{equal:fb,value:void 0});function W_(t){t.version++,B_(),pb(t),G_?.()}var vw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,i){super(Cl(e,i)),this.code=e}};function Cl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ea(t){return{toString:t}.toString()}var $u="__parameters__";function q_(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function pv(t,e,i){return Ea(()=>{let n=q_(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let f=c.hasOwnProperty($u)?c[$u]:Object.defineProperty(c,$u,{value:[]})[$u];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(o),c}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ge=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Y_(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function um(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var K_=Re({__forward_ref__:Re});function yw(t){return t.__forward_ref__=yw,t.toString=function(){return Ot(this())},t}function xt(t){return Ew(t)?t():t}function Ew(t){return typeof t=="function"&&t.hasOwnProperty(K_)&&t.__forward_ref__===yw}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sl(t){return Tb(t,Sw)||Tb(t,Iw)}function Cw(t){return Sl(t)!==null}function Tb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Z_(t){let e=t&&(t[Sw]||t[Iw]);return e||null}function Ab(t){return t&&(t.hasOwnProperty(Rb)||t.hasOwnProperty(Q_))?t[Rb]:null}var Sw=Re({\u0275prov:Re}),Rb=Re({\u0275inj:Re}),Iw=Re({ngInjectableDef:Re}),Q_=Re({ngInjectorDef:Re}),S=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=m({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dw(t){return t&&!!t.\u0275providers}var J_=Re({\u0275cmp:Re}),X_=Re({\u0275dir:Re}),eL=Re({\u0275pipe:Re}),tL=Re({\u0275mod:Re}),Xu=Re({\u0275fac:Re}),aa=Re({__NG_ELEMENT_ID__:Re}),Mb=Re({__NG_ENV_ID__:Re});function wn(t){return typeof t=="string"?t:t==null?"":String(t)}function nL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():wn(t)}function rL(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function gv(t,e){throw new j(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),lm;function bw(){return lm}function jt(t){let e=lm;return lm=t,e}function ww(t,e,i){let n=Sl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&ce.Optional)return null;if(e!==void 0)return e;gv(t,"Injector")}var iL={},ua=iL,dm="__NG_DI_FLAG__",el="ngTempTokenPath",sL="ngTokenPath",oL=/\n/gm,aL="\u0275",xb="__source",js;function cL(){return js}function oi(t){let e=js;return js=t,e}function uL(t,e=ce.Default){if(js===void 0)throw new j(-203,!1);return js===null?ww(t,void 0,e):js.get(t,e&ce.Optional?null:void 0,e)}function d(t,e=ce.Default){return(bw()||uL)(xt(t),e)}function C(t,e=ce.Default){return d(t,Il(e))}function Il(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function fm(t){let e=[];for(let i=0;i<t.length;i++){let n=xt(t[i]);if(Array.isArray(n)){if(n.length===0)throw new j(900,!1);let r,s=ce.Default;for(let o=0;o<n.length;o++){let a=n[o],c=lL(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(d(r,s))}else e.push(d(n))}return e}function mv(t,e){return t[dm]=e,t.prototype[dm]=e,t}function lL(t){return t[dm]}function dL(t,e,i,n){let r=t[el];throw e[xb]&&r.unshift(e[xb]),t.message=fL(`
`+t.message,r,i,n),t[sL]=r,t[el]=null,t}function fL(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==aL?t.slice(2):t;let r=Ot(e);if(Array.isArray(e))r=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(oL,`
  `)}`}var vv=mv(pv("Inject",t=>({token:t})),-1),ln=mv(pv("Optional"),8);var Dl=mv(pv("SkipSelf"),4);function Vi(t,e){let i=t.hasOwnProperty(Xu);return i?t[Xu]:null}function hL(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function pL(t){return t.flat(Number.POSITIVE_INFINITY)}function yv(t,e){t.forEach(i=>Array.isArray(i)?yv(i,e):e(i))}function Tw(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function tl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gL(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function mL(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=i,t[e+1]=n}}function Ca(t,e,i){let n=Sa(t,e);return n>=0?t[n|1]=i:(n=~n,mL(t,n,e,i)),n}function Yg(t,e){let i=Sa(t,e);if(i>=0)return t[i|1]}function Sa(t,e){return vL(t,e,1)}function vL(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=t[s<<i];if(e===o)return s<<i;o>e?r=s:n=s+1}return~(r<<i)}var Bs={},$t=[],nr=new S(""),Aw=new S("",-1),Rw=new S(""),nl=class{get(e,i=ua){if(i===ua){let n=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw n.name="NullInjectorError",n}return i}},Mw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Mw||{}),rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rr||{}),cn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cn||{});function yL(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function hm(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];EL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function xw(t){return t===3||t===4||t===6}function EL(t){return t.charCodeAt(0)===64}function la(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Ob(t,i,r,null,e[++n]):Ob(t,i,r,null,null))}}return t}function Ob(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Ow="ng-template";function CL(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&yL(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(Ev(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function Ev(t){return t.type===4&&t.value!==Ow}function SL(t,e,i){let n=t.type===4&&!i?Ow:t.value;return e===n}function IL(t,e,i){let n=4,r=t.attrs,s=r!==null?wL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!bn(n)&&!bn(c))return!1;if(o&&bn(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!SL(t,c,i)||c===""&&e.length===1){if(bn(n))return!1;o=!0}}else if(n&8){if(r===null||!CL(t,r,c,i)){if(bn(n))return!1;o=!0}}else{let u=e[++a],l=DL(c,r,Ev(t),i);if(l===-1){if(bn(n))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=r[l+1].toLowerCase(),n&2&&u!==f){if(bn(n))return!1;o=!0}}}}return bn(n)||o}function bn(t){return(t&1)===0}function DL(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return TL(e,t)}function Nw(t,e,i=!1){for(let n=0;n<e.length;n++)if(IL(t,e[n],i))return!0;return!1}function bL(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function wL(t){for(let e=0;e<t.length;e++){let i=t[e];if(xw(i))return e}return t.length}function TL(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function AL(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Nb(t,e){return t?":not("+e.trim()+")":e}function RL(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!bn(o)&&(e+=Nb(s,r),r=""),n=o,s=s||!bn(n);i++}return r!==""&&(e+=Nb(s,r)),e}function ML(t){return t.map(RL).join(",")}function xL(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!bn(r))break;r=s}n++}return{attrs:e,classes:i}}function Pw(t){return Ea(()=>{let e=Uw(t),i=T(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Mw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rr.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});jw(i);let n=t.dependencies;return i.directiveDefs=Fb(n,!1),i.pipeDefs=Fb(n,!0),i.id=PL(i),i})}function OL(t){return ci(t)||Fw(t)}function NL(t){return t!==null}function B(t){return Ea(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Pb(t,e){if(t==null)return Bs;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=cn.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==cn.None?[n,a]:n,e[s]=o):i[s]=n}return i}function Nt(t){return Ea(()=>{let e=Uw(t);return jw(e),e})}function Kt(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ci(t){return t[J_]||null}function Fw(t){return t[X_]||null}function _w(t){return t[eL]||null}function Lw(t){let e=ci(t)||Fw(t)||_w(t);return e!==null?e.standalone:!1}function kw(t,e){let i=t[tL]||null;if(!i&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return i}function Uw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Pb(t.inputs,e),outputs:Pb(t.outputs),debugInfo:null}}function jw(t){t.features?.forEach(e=>e(t))}function Fb(t,e){if(!t)return null;let i=e?_w:OL;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(NL)}function PL(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sr(t){return{\u0275providers:t}}function FL(...t){return{\u0275providers:$w(!0,t),\u0275fromNgModule:!0}}function $w(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return yv(e,o=>{let a=o;pm(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Bw(r,s),i}function Bw(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];Cv(r,s=>{e(s,n)})}}function pm(t,e,i,n){if(t=xt(t),!t)return!1;let r=null,s=Ab(t),o=!s&&ci(t);if(!s&&!o){let c=t.ngModule;if(s=Ab(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)pm(u,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let u;try{yv(s.imports,l=>{pm(l,e,i,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Bw(u,e)}if(!a){let u=Vi(r)||(()=>new r);e({provide:r,useFactory:u,deps:$t},r),e({provide:Rw,useValue:r,multi:!0},r),e({provide:nr,useValue:()=>d(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;Cv(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function Cv(t,e){for(let i of t)Dw(i)&&(i=i.\u0275providers),Array.isArray(i)?Cv(i,e):e(i)}var _L=Re({provide:String,useValue:Re});function Vw(t){return t!==null&&typeof t=="object"&&_L in t}function LL(t){return!!(t&&t.useExisting)}function kL(t){return!!(t&&t.useFactory)}function Vs(t){return typeof t=="function"}function UL(t){return!!t.useClass}var bl=new S(""),qu={},jL={},Kg;function Sv(){return Kg===void 0&&(Kg=new nl),Kg}var Ct=class{},da=class extends Ct{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mm(e,o=>this.processProvider(o)),this.records.set(Aw,_s(void 0,this)),r.has("environment")&&this.records.set(Ct,_s(void 0,this));let s=this.records.get(bl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rw,$t,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=oi(this),n=jt(void 0),r;try{return e()}finally{oi(i),jt(n)}}get(e,i=ua,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Mb))return e[Mb](this);n=Il(n);let r,s=oi(this),o=jt(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=zL(e)&&Sl(e);u&&this.injectableDefInScope(u)?c=_s(gm(e),qu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?Sv():this.parent;return i=n&ce.Optional&&i===ua?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(Ot(e)),s)throw a;return dL(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),oi(s)}}resolveInjectorInitializers(){let e=ve(null),i=oi(this),n=jt(void 0),r;try{let s=this.get(nr,$t,ce.Self);for(let o of s)o()}finally{oi(i),jt(n),ve(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Ot(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=xt(e);let i=Vs(e)?e:xt(e&&e.provide),n=BL(e);if(!Vs(e)&&e.multi===!0){let r=this.records.get(i);r||(r=_s(void 0,qu,!0),r.factory=()=>fm(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ve(null);try{return i.value===qu&&(i.value=jL,i.value=i.factory()),typeof i.value=="object"&&i.value&&HL(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ve(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=xt(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function gm(t){let e=Sl(t),i=e!==null?e.factory:Vi(t);if(i!==null)return i;if(t instanceof S)throw new j(204,!1);if(t instanceof Function)return $L(t);throw new j(204,!1)}function $L(t){if(t.length>0)throw new j(204,!1);let i=Z_(t);return i!==null?()=>i.factory(t):()=>new t}function BL(t){if(Vw(t))return _s(void 0,t.useValue);{let e=Hw(t);return _s(e,qu)}}function Hw(t,e,i){let n;if(Vs(t)){let r=xt(t);return Vi(r)||gm(r)}else if(Vw(t))n=()=>xt(t.useValue);else if(kL(t))n=()=>t.useFactory(...fm(t.deps||[]));else if(LL(t))n=()=>d(xt(t.useExisting));else{let r=xt(t&&(t.useClass||t.provide));if(VL(t))n=()=>new r(...fm(t.deps));else return Vi(r)||gm(r)}return n}function _s(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function VL(t){return!!t.deps}function HL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function zL(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function mm(t,e){for(let i of t)Array.isArray(i)?mm(i,e):i&&Dw(i)?mm(i.\u0275providers,e):e(i)}function On(t,e){t instanceof da&&t.assertNotDestroyed();let i,n=oi(t),r=jt(void 0);try{return e()}finally{oi(n),jt(r)}}function zw(){return bw()!==void 0||cL()!=null}function Ia(t){if(!zw())throw new j(-203,!1)}function GL(t){let e=Ge.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function WL(t){return typeof t=="function"}var Or=0,se=1,J=2,gt=3,Tn=4,Zt=5,fa=6,ha=7,An=8,Hs=9,Rn=10,Fe=11,pa=12,_b=13,Zs=14,Mn=15,Da=16,Ls=17,Ar=18,wl=19,Gw=20,ai=21,Zg=22,Hi=23,St=25,Ww=1;var zi=7,rl=8,zs=9,Yt=10,Iv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Iv||{});function $i(t){return Array.isArray(t)&&typeof t[Ww]=="object"}function Nr(t){return Array.isArray(t)&&t[Ww]===!0}function Dv(t){return(t.flags&4)!==0}function Tl(t){return t.componentOffset>-1}function Al(t){return(t.flags&1)===1}function ui(t){return!!t.template}function qL(t){return(t[J]&512)!==0}var vm=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function qw(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function di(){return Yw}function Yw(t){return t.type.prototype.ngOnChanges&&(t.setInput=KL),YL}di.ngInherit=!0;function YL(){let t=Zw(this),e=t?.current;if(e){let i=t.previous;if(i===Bs)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function KL(t,e,i,n,r){let s=this.declaredInputs[n],o=Zw(t)||ZL(t,{previous:Bs,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new vm(u&&u.currentValue,i,c===Bs),qw(t,e,r,i)}var Kw="__ngSimpleChanges__";function Zw(t){return t[Kw]||null}function ZL(t,e){return t[Kw]=e}var Lb=null;var er=function(t,e,i){Lb?.(t,e,i)},QL="svg",JL="math",XL=!1;function ek(){return XL}function ir(t){for(;Array.isArray(t);)t=t[Or];return t}function Qw(t,e){return ir(e[t])}function dn(t,e){return ir(e[t.index])}function Jw(t,e){return t.data[e]}function ba(t,e){return t[e]}function fi(t,e){let i=e[t];return $i(i)?i:i[Or]}function tk(t){return(t[J]&4)===4}function bv(t){return(t[J]&128)===128}function nk(t){return Nr(t[gt])}function Gs(t,e){return e==null?null:t[e]}function Xw(t){t[Ls]=0}function rk(t){t[J]&1024||(t[J]|=1024,bv(t)&&ga(t))}function ik(t,e){for(;t>0;)e=e[Zs],t--;return e}function wv(t){return!!(t[J]&9216||t[Hi]?.dirty)}function ym(t){t[Rn].changeDetectionScheduler?.notify(1),wv(t)?ga(t):t[J]&64&&(ek()?(t[J]|=1024,ga(t)):t[Rn].changeDetectionScheduler?.notify())}function ga(t){t[Rn].changeDetectionScheduler?.notify();let e=ma(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!bv(e)));)e=ma(e)}function eT(t,e){if((t[J]&256)===256)throw new j(911,!1);t[ai]===null&&(t[ai]=[]),t[ai].push(e)}function sk(t,e){if(t[ai]===null)return;let i=t[ai].indexOf(e);i!==-1&&t[ai].splice(i,1)}function ma(t){let e=t[gt];return Nr(e)?e[gt]:e}var oe={lFrame:cT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ok(){return oe.lFrame.elementDepthCount}function ak(){oe.lFrame.elementDepthCount++}function ck(){oe.lFrame.elementDepthCount--}function tT(){return oe.bindingsEnabled}function nT(){return oe.skipHydrationRootTNode!==null}function uk(t){return oe.skipHydrationRootTNode===t}function lk(){oe.skipHydrationRootTNode=null}function Z(){return oe.lFrame.lView}function je(){return oe.lFrame.tView}function nse(t){return oe.lFrame.contextLView=t,t[An]}function rse(t){return oe.lFrame.contextLView=null,t}function Dt(){let t=rT();for(;t!==null&&t.type===64;)t=t.parent;return t}function rT(){return oe.lFrame.currentTNode}function dk(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ji(t,e){let i=oe.lFrame;i.currentTNode=t,i.isParent=e}function Tv(){return oe.lFrame.isParent}function Av(){oe.lFrame.isParent=!1}function fk(){return oe.lFrame.contextLView}function fn(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function iT(){return oe.lFrame.bindingIndex}function hk(t){return oe.lFrame.bindingIndex=t}function wa(){return oe.lFrame.bindingIndex++}function Rl(t){let e=oe.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function pk(){return oe.lFrame.inI18n}function gk(t,e){let i=oe.lFrame;i.bindingIndex=i.bindingRootIndex=t,Em(e)}function mk(){return oe.lFrame.currentDirectiveIndex}function Em(t){oe.lFrame.currentDirectiveIndex=t}function vk(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sT(){return oe.lFrame.currentQueryIndex}function Rv(t){oe.lFrame.currentQueryIndex=t}function yk(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Zt]:null}function oT(t,e,i){if(i&ce.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&ce.Host);)if(r=yk(s),r===null||(s=s[Zs],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=oe.lFrame=aT();return n.currentTNode=e,n.lView=t,!0}function Mv(t){let e=aT(),i=t[se];oe.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function aT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?cT(t):e}function cT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lT=uT;function xv(){let t=uT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ek(t){return(oe.lFrame.contextLView=ik(t,oe.lFrame.contextLView))[An]}function Pr(){return oe.lFrame.selectedIndex}function Gi(t){oe.lFrame.selectedIndex=t}function Ta(){let t=oe.lFrame;return Jw(t.tView,t.selectedIndex)}function Ck(){return oe.lFrame.currentNamespace}var dT=!0;function Ml(){return dT}function xl(t){dT=t}function Sk(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=Yw(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function Ol(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),c&&(t.viewHooks??=[]).push(-i,c),u&&((t.viewHooks??=[]).push(i,u),(t.viewCheckHooks??=[]).push(i,u)),l!=null&&(t.destroyHooks??=[]).push(i,l)}}function Yu(t,e,i){fT(t,e,3,i)}function Ku(t,e,i,n){(t[J]&3)===i&&fT(t,e,i,n)}function Qg(t,e){let i=t[J];(i&3)===e&&(i&=16383,i+=1,t[J]=i)}function fT(t,e,i,n){let r=n!==void 0?t[Ls]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[Ls]+=65536),(a<s||s==-1)&&(Ik(t,i,e,c),t[Ls]=(t[Ls]&4294901760)+c+2),c++}function kb(t,e){er(4,t,e);let i=ve(null);try{e.call(t)}finally{ve(i),er(5,t,e)}}function Ik(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[J]>>14<t[Ls]>>16&&(t[J]&3)===e&&(t[J]+=16384,kb(a,s)):kb(a,s)}var $s=-1,Wi=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function Dk(t){return t instanceof Wi}function bk(t){return(t.flags&8)!==0}function wk(t){return(t.flags&16)!==0}function hT(t){return t!==$s}function il(t){return t&32767}function Tk(t){return t>>16}function sl(t,e){let i=Tk(t),n=e;for(;i>0;)n=n[Zs],i--;return n}var Cm=!0;function ol(t){let e=Cm;return Cm=t,e}var Ak=256,pT=Ak-1,gT=5,Rk=0,tr={};function Mk(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(aa)&&(n=i[aa]),n==null&&(n=i[aa]=Rk++);let r=n&pT,s=1<<r;e.data[t+(r>>gT)]|=s}function al(t,e){let i=mT(t,e);if(i!==-1)return i;let n=e[se];n.firstCreatePass&&(t.injectorIndex=e.length,Jg(n.data,t),Jg(e,null),Jg(n.blueprint,null));let r=Ov(t,e),s=t.injectorIndex;if(hT(r)){let o=il(r),a=sl(r,e),c=a[se].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function Jg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ov(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=ST(r),n===null)return $s;if(i++,r=r[Zs],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return $s}function Sm(t,e,i){Mk(t,e,i)}function xk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(xw(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===e)return i[r+1];r=r+2}}}return null}function vT(t,e,i){if(i&ce.Optional||t!==void 0)return t;gv(e,"NodeInjector")}function yT(t,e,i,n){if(i&ce.Optional&&n===void 0&&(n=null),!(i&(ce.Self|ce.Host))){let r=t[Hs],s=jt(void 0);try{return r?r.get(e,n,i&ce.Optional):ww(e,n,i&ce.Optional)}finally{jt(s)}}return vT(n,e,i)}function ET(t,e,i,n=ce.Default,r){if(t!==null){if(e[J]&2048&&!(n&ce.Self)){let o=Fk(t,e,i,n,tr);if(o!==tr)return o}let s=CT(t,e,i,n,tr);if(s!==tr)return s}return yT(e,i,n,r)}function CT(t,e,i,n,r){let s=Nk(i);if(typeof s=="function"){if(!oT(e,t,n))return n&ce.Host?vT(r,i,n):yT(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&ce.Optional))gv(i);else return o}finally{lT()}}else if(typeof s=="number"){let o=null,a=mT(t,e),c=$s,u=n&ce.Host?e[Mn][Zt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?Ov(t,e):e[a+8],c===$s||!jb(n,!1)?a=-1:(o=e[se],a=il(c),e=sl(c,e)));a!==-1;){let l=e[se];if(Ub(s,a,l.data)){let f=Ok(a,e,i,o,n,u);if(f!==tr)return f}c=e[a+8],c!==$s&&jb(n,e[se].data[a+8]===u)&&Ub(s,a,e)?(o=l,a=il(c),e=sl(c,e)):a=-1}}return r}function Ok(t,e,i,n,r,s){let o=e[se],a=o.data[t+8],c=n==null?Tl(a)&&Cm:n!=o&&(a.type&3)!==0,u=r&ce.Host&&s===a,l=Zu(a,o,i,c,u);return l!==null?qi(e,o,l,a):tr}function Zu(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,f=n?a:a+l,h=r?a+l:u;for(let p=f;p<h;p++){let y=o[p];if(p<c&&i===y||p>=c&&y.type===i)return p}if(r){let p=o[c];if(p&&ui(p)&&p.type===i)return c}return null}function qi(t,e,i,n){let r=t[i],s=e.data;if(Dk(r)){let o=r;o.resolving&&rL(nL(s[i]));let a=ol(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?jt(o.injectImpl):null,l=oT(t,n,ce.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&Sk(i,s[i],e)}finally{u!==null&&jt(u),ol(a),o.resolving=!1,lT()}}return r}function Nk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(aa)?t[aa]:void 0;return typeof e=="number"?e>=0?e&pT:Pk:e}function Ub(t,e,i){let n=1<<t;return!!(i[e+(t>>gT)]&n)}function jb(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Bi=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return ET(this._tNode,this._lView,e,Il(n),i)}};function Pk(){return new Bi(Dt(),Z())}function We(t){return Ea(()=>{let e=t.prototype.constructor,i=e[Xu]||Im(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[Xu]||Im(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Im(t){return Ew(t)?()=>{let e=Im(xt(t));return e&&e()}:Vi(t)}function Fk(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=CT(s,o,i,n|ce.Self,tr);if(a!==tr)return a;let c=s.parent;if(!c){let u=o[Gw];if(u){let l=u.get(i,tr,n);if(l!==tr)return l}c=ST(o),o=o[Zs]}s=c}return r}function ST(t){let e=t[se],i=e.type;return i===2?e.declTNode:i===1?t[Zt]:null}function Nv(t){return xk(Dt(),t)}function $b(t,e=null,i=null,n){let r=IT(t,e,i,n);return r.resolveInjectorInitializers(),r}function IT(t,e=null,i=null,n,r=new Set){let s=[i||$t,FL(t)];return n=n||(typeof t=="object"?void 0:Ot(t)),new da(s,e||Sv(),n||null,r)}var Ye=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return $b({name:""},r,n,"");{let s=n.name??"";return $b({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=ua,e.NULL=new nl,e.\u0275prov=m({token:e,providedIn:"any",factory:()=>d(Aw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var _k="ngOriginalError";function Xg(t){return t[_k]}var It=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&Xg(e);for(;i&&Xg(i);)i=Xg(i);return i||null}},DT=new S("",{providedIn:"root",factory:()=>C(It).handleError.bind(void 0)}),hi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Lk,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),Dm=class extends hi{constructor(e){super(),this._lView=e}onDestroy(e){return eT(this._lView,e),()=>sk(this._lView,e)}};function Lk(){return new Dm(Z())}function kk(){return Qs(Dt(),Z())}function Qs(t,e){return new or(dn(t,e))}var or=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=kk;let t=e;return t})();function Uk(t){return t instanceof or?t.nativeElement:t}var bm=class extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,zw()&&(this.destroyRef=C(hi,{optional:!0})??void 0)}emit(e){let i=ve(null);try{super.next(e)}finally{ve(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=em(s),r&&(r=em(r)),o&&(o=em(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function em(t){return e=>{setTimeout(t,void 0,e)}}var pt=bm;function jk(){return this._results[Symbol.iterator]()}var wm=class t{get changes(){return this._changes??=new pt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=jk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=pL(e);(this._changesDetected=!hL(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bT(t){return(t.flags&128)===128}var wT=new Map,$k=0;function Bk(){return $k++}function Vk(t){wT.set(t[wl],t)}function Hk(t){wT.delete(t[wl])}var Bb="__ngContext__";function li(t,e){$i(e)?(t[Bb]=e[wl],Vk(e)):t[Bb]=e}function TT(t){return RT(t[pa])}function AT(t){return RT(t[Tn])}function RT(t){for(;t!==null&&!Nr(t);)t=t[Tn];return t}var Tm;function MT(t){Tm=t}function Pv(){if(Tm!==void 0)return Tm;if(typeof document<"u")return document;throw new j(210,!1)}var Aa=new S("",{providedIn:"root",factory:()=>zk}),zk="ng",Fv=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var _v=new S("",{providedIn:"root",factory:()=>Pv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Gk(){let t=new Ra;return C($e)==="browser"&&(t.store=Wk(Pv(),C(Aa))),t}var Ra=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=m({token:e,providedIn:"root",factory:Gk});let t=e;return t})();function Wk(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var qk="h",Yk="b";var Kk=()=>null;function Lv(t,e,i=!1){return Kk(t,e,i)}var xT=!1,Zk=new S("",{providedIn:"root",factory:()=>xT});var Bu;function Qk(){if(Bu===void 0&&(Bu=null,Ge.trustedTypes))try{Bu=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bu}function Nl(t){return Qk()?.createHTML(t)||t}var Vu;function OT(){if(Vu===void 0&&(Vu=null,Ge.trustedTypes))try{Vu=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vu}function Vb(t){return OT()?.createHTML(t)||t}function Hb(t){return OT()?.createScriptURL(t)||t}var Rr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vw})`}},Am=class extends Rr{getTypeName(){return"HTML"}},Rm=class extends Rr{getTypeName(){return"Style"}},Mm=class extends Rr{getTypeName(){return"Script"}},xm=class extends Rr{getTypeName(){return"URL"}},Om=class extends Rr{getTypeName(){return"ResourceURL"}};function Bt(t){return t instanceof Rr?t.changingThisBreaksApplicationSecurity:t}function ar(t,e){let i=Jk(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${vw})`)}return i===e}function Jk(t){return t instanceof Rr&&t.getTypeName()||null}function NT(t){return new Am(t)}function PT(t){return new Rm(t)}function FT(t){return new Mm(t)}function _T(t){return new xm(t)}function LT(t){return new Om(t)}function Xk(t){let e=new Pm(t);return eU()?new Nm(e):e}var Nm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Nl(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},Pm=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Nl(e),i}};function eU(){try{return!!new window.DOMParser().parseFromString(Nl(""),"text/html")}catch{return!1}}var tU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pl(t){return t=String(t),t.match(tU)?t:"unsafe:"+t}function Fr(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Ma(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var kT=Fr("area,br,col,hr,img,wbr"),UT=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jT=Fr("rp,rt"),nU=Ma(jT,UT),rU=Ma(UT,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),iU=Ma(jT,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zb=Ma(kT,rU,iU,nU),$T=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),sU=Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oU=Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),aU=Ma($T,sU,oU),cU=Fr("script,style,template"),Fm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=dU(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=lU(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=Gb(e).toLowerCase();if(!zb.hasOwnProperty(i))return this.sanitizedSomething=!0,!cU.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!aU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;$T[a]&&(c=Pl(c)),this.buf.push(" ",o,'="',Wb(c),'"')}return this.buf.push(">"),!0}endElement(e){let i=Gb(e).toLowerCase();zb.hasOwnProperty(i)&&!kT.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(Wb(e))}};function uU(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function lU(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw BT(e);return e}function dU(t){let e=t.firstChild;if(e&&uU(t,e))throw BT(e);return e}function Gb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function BT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var fU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hU=/([^\#-~ |!])/g;function Wb(t){return t.replace(/&/g,"&amp;").replace(fU,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(hU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Hu;function kv(t,e){let i=null;try{Hu=Hu||Xk(t);let n=e?String(e):"";i=Hu.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Hu.getInertBodyElement(n)}while(n!==s);let a=new Fm().sanitizeChildren(qb(i)||i);return Nl(a)}finally{if(i){let n=qb(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function qb(t){return"content"in t&&pU(t)?t.content:null}function pU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var hn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hn||{});function ise(t){let e=Fl();return e?Vb(e.sanitize(hn.HTML,t)||""):ar(t,"HTML")?Vb(Bt(t)):kv(Pv(),wn(t))}function sse(t){let e=Fl();return e?e.sanitize(hn.STYLE,t)||"":ar(t,"Style")?Bt(t):wn(t)}function gU(t){let e=Fl();return e?e.sanitize(hn.URL,t)||"":ar(t,"URL")?Bt(t):Pl(wn(t))}function mU(t){let e=Fl();if(e)return Hb(e.sanitize(hn.RESOURCE_URL,t)||"");if(ar(t,"ResourceURL"))return Hb(Bt(t));throw new j(904,!1)}function vU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?mU:gU}function VT(t,e,i){return vU(e,i)(t)}function Fl(){let t=Z();return t&&t[Rn].sanitizer}var yU=/^>|^->|<!--|-->|--!>|<!-$/g,EU=/(<|>)/g,CU="\u200B$1\u200B";function SU(t){return t.replace(yU,e=>e.replace(EU,CU))}function ose(t){return t.ownerDocument.defaultView}function ase(t){return t.ownerDocument}function HT(t){return t instanceof Function?t():t}function IU(t){return(t??C(Ye)).get($e)==="browser"}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Mr||{}),DU;function Uv(t,e){return DU(t,e)}function ks(t,e,i,n,r){if(n!=null){let s,o=!1;Nr(n)?s=n:$i(n)&&(o=!0,n=n[Or]);let a=ir(n);t===0&&i!==null?r==null?KT(e,i,a):cl(e,i,a,r||null,!0):t===1&&i!==null?cl(e,i,a,r||null,!0):t===2?jU(e,a,o):t===3&&e.destroyNode(a),s!=null&&BU(e,t,s,i,r)}}function bU(t,e){return t.createText(e)}function wU(t,e,i){t.setValue(e,i)}function TU(t,e){return t.createComment(SU(e))}function zT(t,e,i){return t.createElement(e,i)}function AU(t,e){GT(t,e),e[Or]=null,e[Zt]=null}function RU(t,e,i,n,r,s){n[Or]=r,n[Zt]=e,Ll(t,n,i,1,r,s)}function GT(t,e){e[Rn].changeDetectionScheduler?.notify(1),Ll(t,e,e[Fe],2,null,null)}function MU(t){let e=t[pa];if(!e)return tm(t[se],t);for(;e;){let i=null;if($i(e))i=e[pa];else{let n=e[Yt];n&&(i=n)}if(!i){for(;e&&!e[Tn]&&e!==t;)$i(e)&&tm(e[se],e),e=e[gt];e===null&&(e=t),$i(e)&&tm(e[se],e),i=e&&e[Tn]}e=i}}function xU(t,e,i,n){let r=Yt+n,s=i.length;n>0&&(i[r-1][Tn]=e),n<s-Yt?(e[Tn]=i[r],Tw(i,Yt+n,e)):(i.push(e),e[Tn]=null),e[gt]=i;let o=e[Da];o!==null&&i!==o&&OU(o,e);let a=e[Ar];a!==null&&a.insertView(t),ym(e),e[J]|=128}function OU(t,e){let i=t[zs],r=e[gt][gt][Mn];e[Mn]!==r&&(t[J]|=Iv.HasTransplantedViews),i===null?t[zs]=[e]:i.push(e)}function WT(t,e){let i=t[zs],n=i.indexOf(e);i.splice(n,1)}function _m(t,e){if(t.length<=Yt)return;let i=Yt+e,n=t[i];if(n){let r=n[Da];r!==null&&r!==t&&WT(r,n),e>0&&(t[i-1][Tn]=n[Tn]);let s=tl(t,Yt+e);AU(n[se],n);let o=s[Ar];o!==null&&o.detachView(s[se]),n[gt]=null,n[Tn]=null,n[J]&=-129}return n}function qT(t,e){if(!(e[J]&256)){let i=e[Fe];i.destroyNode&&Ll(t,e,i,3,null,null),MU(e)}}function tm(t,e){if(e[J]&256)return;let i=ve(null);try{e[J]&=-129,e[J]|=256,e[Hi]&&mb(e[Hi]),PU(t,e),NU(t,e),e[se].type===1&&e[Fe].destroy();let n=e[Da];if(n!==null&&Nr(e[gt])){n!==e[gt]&&WT(n,e);let r=e[Ar];r!==null&&r.detachView(t)}Hk(e)}finally{ve(i)}}function NU(t,e){let i=t.cleanup,n=e[ha];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[ha]=null);let r=e[ai];if(r!==null){e[ai]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function PU(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Wi)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];er(4,a,c);try{c.call(a)}finally{er(5,a,c)}}else{er(4,r,s);try{s.call(r)}finally{er(5,r,s)}}}}}function YT(t,e,i){return FU(t,e.parent,i)}function FU(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Or];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===rr.None||s===rr.Emulated)return null}return dn(n,i)}}function cl(t,e,i,n,r){t.insertBefore(e,i,n,r)}function KT(t,e,i){t.appendChild(e,i)}function Yb(t,e,i,n,r){n!==null?cl(t,e,i,n,r):KT(t,e,i)}function _U(t,e,i,n){t.removeChild(e,i,n)}function jv(t,e){return t.parentNode(e)}function LU(t,e){return t.nextSibling(e)}function ZT(t,e,i){return UU(t,e,i)}function kU(t,e,i){return t.type&40?dn(t,i):null}var UU=kU,Kb;function _l(t,e,i,n){let r=YT(t,n,e),s=e[Fe],o=n.parent||e[Zt],a=ZT(o,n,e);if(r!=null)if(Array.isArray(i))for(let c=0;c<i.length;c++)Yb(s,r,i[c],a,!1);else Yb(s,r,i,a,!1);Kb!==void 0&&Kb(s,n,e,i,r)}function Qu(t,e){if(e!==null){let i=e.type;if(i&3)return dn(e,t);if(i&4)return Lm(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return Qu(t,n);{let r=t[e.index];return Nr(r)?Lm(-1,r):ir(r)}}else{if(i&32)return Uv(e,t)()||ir(t[e.index]);{let n=QT(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=ma(t[Mn]);return Qu(r,n)}else return Qu(t,e.next)}}}return null}function QT(t,e){if(e!==null){let n=t[Mn][Zt],r=e.projection;return n.projection[r]}return null}function Lm(t,e){let i=Yt+t+1;if(i<e.length){let n=e[i],r=n[se].firstChild;if(r!==null)return Qu(n,r)}return e[zi]}function jU(t,e,i){let n=jv(t,e);n&&_U(t,n,e,i)}function $v(t,e,i,n,r,s,o){for(;i!=null;){let a=n[i.index],c=i.type;if(o&&e===0&&(a&&li(ir(a),n),i.flags|=2),(i.flags&32)!==32)if(c&8)$v(t,e,i.child,n,r,s,!1),ks(e,t,r,a,s);else if(c&32){let u=Uv(i,n),l;for(;l=u();)ks(e,t,r,l,s);ks(e,t,r,a,s)}else c&16?JT(t,e,n,i,r,s):ks(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Ll(t,e,i,n,r,s){$v(i,n,t.firstChild,e,r,s,!1)}function $U(t,e,i){let n=e[Fe],r=YT(t,i,e),s=i.parent||e[Zt],o=ZT(s,i,e);JT(n,0,e,i,r,o)}function JT(t,e,i,n,r,s){let o=i[Mn],c=o[Zt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ks(e,t,r,l,s)}else{let u=c,l=o[gt];bT(n)&&(u.flags|=128),$v(t,e,u,l,r,s,!0)}}function BU(t,e,i,n,r){let s=i[zi],o=ir(i);s!==o&&ks(e,t,n,s,r);for(let a=Yt;a<i.length;a++){let c=i[a];Ll(c[se],c,t,e,n,s)}}function VU(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:Mr.DashCase;r==null?t.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Mr.Important),t.setStyle(i,n,r,s))}}function HU(t,e,i){t.setAttribute(e,"style",i)}function XT(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function e0(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&hm(t,e,n),r!==null&&XT(t,e,r),s!==null&&HU(t,e,s)}var Pt={};function cse(t=1){t0(je(),Z(),Pr()+t,!1)}function t0(t,e,i,n){if(!n)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Yu(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Ku(e,s,0,i)}Gi(i)}function X(t,e=ce.Default){let i=Z();if(i===null)return d(t,e);let n=Dt();return ET(n,i,xt(t),e)}function n0(){let t="invalid";throw new Error(t)}function r0(t,e,i,n,r,s){let o=ve(null);try{let a=null;r&cn.SignalBased&&(a=e[n][Tr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&cn.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):qw(e,a,n,s)}finally{ve(o)}}function zU(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Gi(~r);else{let s=r,o=i[++n],a=i[++n];gk(o,s);let c=e[s];a(2,c)}}}finally{Gi(-1)}}function kl(t,e,i,n,r,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Or]=r,f[J]=n|4|128|8|64,(u!==null||t&&t[J]&2048)&&(f[J]|=2048),Xw(f),f[gt]=f[Zs]=t,f[An]=i,f[Rn]=o||t&&t[Rn],f[Fe]=a||t&&t[Fe],f[Hs]=c||t&&t[Hs]||null,f[Zt]=s,f[wl]=Bk(),f[fa]=l,f[Gw]=u,f[Mn]=e.type==2?t[Mn]:f,f}function Js(t,e,i,n,r){let s=t.data[e];if(s===null)s=GU(t,e,i,n,r),pk()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=dk();s.injectorIndex=o===null?-1:o.injectorIndex}return Ji(s,!0),s}function GU(t,e,i,n,r){let s=rT(),o=Tv(),a=o?s:s&&s.parent,c=t.data[e]=QU(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function i0(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function s0(t,e,i,n,r){let s=Pr(),o=n&2;try{Gi(-1),o&&e.length>St&&t0(t,e,St,!1),er(o?2:0,r),i(n,r)}finally{Gi(s),er(o?3:1,r)}}function Bv(t,e,i){if(Dv(e)){let n=ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=i[o];a.contentQueries(1,c,o)}}}finally{ve(n)}}}function Vv(t,e,i){tT()&&(rj(t,e,i,dn(i,e)),(i.flags&64)===64&&c0(t,e,i))}function Hv(t,e,i=dn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function o0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=zv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function zv(t,e,i,n,r,s,o,a,c,u,l){let f=St+n,h=f+r,p=WU(f,h),y=typeof u=="function"?u():u;return p[se]={type:t,blueprint:p,template:i,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function WU(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:Pt);return i}function qU(t,e,i,n){let s=n.get(Zk,xT)||i===rr.ShadowDom,o=t.selectRootElement(e,s);return YU(o),o}function YU(t){KU(t)}var KU=()=>null;function ZU(t,e,i,n){let r=d0(e);r.push(i),t.firstCreatePass&&f0(t).push(n,r.length-1)}function QU(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return nT()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zb(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=cn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Qb(n,i,u,a,c):Qb(n,i,u,a)}return n}function Qb(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function JU(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=n;l<r;l++){let f=s[l],h=i?i.get(f):null,p=h?h.inputs:null,y=h?h.outputs:null;c=Zb(0,f.inputs,l,c,p),u=Zb(1,f.outputs,l,u,y);let b=c!==null&&o!==null&&!Ev(e)?pj(c,l,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function XU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ul(t,e,i,n,r,s,o,a){let c=dn(e,i),u=e.inputs,l;!a&&u!=null&&(l=u[n])?(Wv(t,i,l,n,r),Tl(e)&&ej(i,e.index)):e.type&3?(n=XU(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(c,n,r)):e.type&12}function ej(t,e){let i=fi(e,t);i[J]&16||(i[J]|=64)}function Gv(t,e,i,n){if(tT()){let r=n===null?null:{"":-1},s=sj(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&a0(t,e,i,o,r,a),r&&oj(i,n,r)}i.mergedAttrs=la(i.mergedAttrs,i.attrs)}function a0(t,e,i,n,r,s){for(let u=0;u<n.length;u++)Sm(al(i,e),t,n[u].type);cj(i,t.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=i0(t,e,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];i.mergedAttrs=la(i.mergedAttrs,l.hostAttrs),uj(t,i,e,c,l),aj(c,l,r),l.contentQueries!==null&&(i.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(i.flags|=64);let f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),c++}JU(t,i,s)}function tj(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;nj(o)!=a&&o.push(a),o.push(i,n,s)}}function nj(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function rj(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;Tl(i)&&lj(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||al(i,e),li(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=qi(e,t,a,i);if(li(u,e),o!==null&&hj(e,a-r,u,c,i,o),ui(c)){let l=fi(i.index,e);l[An]=qi(e,t,a,i)}}}function c0(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=mk();try{Gi(s);for(let a=n;a<r;a++){let c=t.data[a],u=e[a];Em(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&ij(c,u)}}finally{Gi(-1),Em(o)}}function ij(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sj(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Nw(e,o.selectors,!1))if(n||(n=[]),ui(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let c=a.length;km(t,e,c)}else n.unshift(o),km(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function km(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function oj(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new j(-301,!1);n.push(e[r],s)}}}function aj(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ui(e)&&(i[""]=t)}}function cj(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function uj(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=Vi(r.type,!0)),o=new Wi(s,ui(r),X);t.blueprint[n]=o,i[n]=o,tj(t,e,n,i0(t,i,r.hostVars,Pt),r)}function lj(t,e,i){let n=dn(e,t),r=o0(i),s=t[Rn].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=jl(t,kl(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function dj(t,e,i,n,r,s){let o=dn(t,e);fj(e[Fe],o,s,t.value,i,n,r)}function fj(t,e,i,n,r,s,o){if(s==null)t.removeAttribute(e,r,i);else{let a=o==null?wn(s):o(s,n||"",r);t.setAttribute(e,r,a,i)}}function hj(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],f=o[a++];r0(n,i,c,u,l,f)}}function pj(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function u0(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function l0(t,e){let i=t.contentQueries;if(i!==null){let n=ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];Rv(s),a.contentQueries(2,e[o],o)}}}finally{ve(n)}}}function jl(t,e){return t[pa]?t[_b][Tn]=e:t[pa]=e,t[_b]=e,e}function Um(t,e,i){Rv(0);let n=ve(null);try{e(t,i)}finally{ve(n)}}function d0(t){return t[ha]||(t[ha]=[])}function f0(t){return t.cleanup||(t.cleanup=[])}function h0(t,e){let i=t[Hs],n=i?i.get(It,null):null;n&&n.handleError(e)}function Wv(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],c=i[s++],u=e[o],l=t.data[o];r0(l,u,n,a,c,r)}}function qv(t,e,i){let n=Qw(e,t);wU(t[Fe],n,i)}function gj(t,e){let i=fi(e,t),n=i[se];mj(n,i);let r=i[Or];r!==null&&i[fa]===null&&(i[fa]=Lv(r,i[Hs])),Yv(n,i,i[An])}function mj(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Yv(t,e,i){Mv(e);try{let n=t.viewQuery;n!==null&&Um(1,n,i);let r=t.template;r!==null&&s0(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ar]?.finishViewCreation(t),t.staticContentQueries&&l0(t,e),t.staticViewQueries&&Um(2,t.viewQuery,i);let s=t.components;s!==null&&vj(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[J]&=-5,xv()}}function vj(t,e){for(let i=0;i<e.length;i++)gj(t,e[i])}function yj(t,e,i,n){let r=ve(null);try{let s=e.tView,a=t[J]&4096?4096:16,c=kl(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=t[e.index];c[Da]=u;let l=t[Ar];return l!==null&&(c[Ar]=l.createEmbeddedView(s)),Yv(s,c,i),c}finally{ve(r)}}function Jb(t,e){return!e||e.firstChild===null||bT(t)}function Ej(t,e,i,n=!0){let r=e[se];if(xU(r,e,t,i),n){let o=Lm(i,t),a=e[Fe],c=jv(a,t[zi]);c!==null&&RU(r,t[Zt],a,e,c,o)}let s=e[fa];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ul(t,e,i,n,r=!1){for(;i!==null;){let s=e[i.index];s!==null&&n.push(ir(s)),Nr(s)&&Cj(s,n);let o=i.type;if(o&8)ul(t,e,i.child,n);else if(o&32){let a=Uv(i,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=QT(e,i);if(Array.isArray(a))n.push(...a);else{let c=ma(e[Mn]);ul(c[se],c,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Cj(t,e){for(let i=Yt;i<t.length;i++){let n=t[i],r=n[se].firstChild;r!==null&&ul(n[se],n,r,e)}t[zi]!==t[Or]&&e.push(t[zi])}var p0=[];function Sj(t){return t[Hi]??Ij(t)}function Ij(t){let e=p0.pop()??Object.create(bj);return e.lView=t,e}function Dj(t){t.lView[Hi]!==t&&(t.lView=null,p0.push(t))}var bj=T(v({},Uu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ga(t.lView)},consumerOnSignalRead(){this.lView[Hi]=this}}),g0=100;function m0(t,e=!0,i=0){let n=t[Rn],r=n.rendererFactory,s=!1;s||r.begin?.();try{wj(t,i)}catch(o){throw e&&h0(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function wj(t,e){jm(t,e);let i=0;for(;wv(t);){if(i===g0)throw new j(103,!1);i++,jm(t,1)}}function Tj(t,e,i,n){let r=e[J];if((r&256)===256)return;let s=!1;!s&&e[Rn].inlineEffectRunner?.flush(),Mv(e);let o=null,a=null;!s&&Aj(t)&&(a=Sj(e),o=zg(a));try{Xw(e),hk(t.bindingStartIndex),i!==null&&s0(t,e,i,2,n);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Yu(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ku(e,f,0,null),Qg(e,0)}if(Rj(e),v0(e,0),t.contentQueries!==null&&l0(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Yu(e,f)}else{let f=t.contentHooks;f!==null&&Ku(e,f,1),Qg(e,1)}zU(t,e);let u=t.components;u!==null&&E0(e,u,0);let l=t.viewQuery;if(l!==null&&Um(2,l,n),!s)if(c){let f=t.viewCheckHooks;f!==null&&Yu(e,f)}else{let f=t.viewHooks;f!==null&&Ku(e,f,2),Qg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zg]){for(let f of e[Zg])f();e[Zg]=null}s||(e[J]&=-73)}catch(c){throw ga(e),c}finally{a!==null&&(Gg(a,o),Dj(a)),xv()}}function Aj(t){return t.type!==2}function v0(t,e){for(let i=TT(t);i!==null;i=AT(i))for(let n=Yt;n<i.length;n++){let r=i[n];y0(r,e)}}function Rj(t){for(let e=TT(t);e!==null;e=AT(e)){if(!(e[J]&Iv.HasTransplantedViews))continue;let i=e[zs];for(let n=0;n<i.length;n++){let r=i[n],s=r[gt];rk(r)}}}function Mj(t,e,i){let n=fi(e,t);y0(n,i)}function y0(t,e){bv(t)&&jm(t,e)}function jm(t,e){let n=t[se],r=t[J],s=t[Hi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Wg(s)),s&&(s.dirty=!1),t[J]&=-9217,o)Tj(n,t,n.template,t[An]);else if(r&8192){v0(t,1);let a=n.components;a!==null&&E0(t,a,1)}}function E0(t,e,i){for(let n=0;n<e.length;n++)Mj(t,e[n],i)}function Kv(t){for(t[Rn].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=ma(t);if(qL(t)&&!e)return t;t=e}return null}var Yi=class{get rootNodes(){let e=this._lView,i=e[se];return ul(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[An]}set context(e){this._lView[An]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(Nr(e)){let i=e[rl],n=i?i.indexOf(this):-1;n>-1&&(_m(e,n),tl(i,n))}this._attachedToViewContainer=!1}qT(this._lView[se],this._lView)}onDestroy(e){eT(this._lView,e)}markForCheck(){Kv(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){ym(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,m0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,GT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,ym(this._lView)}},xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Nj;let t=e;return t})(),xj=xn,Oj=class extends xj{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=yj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Yi(r)}};function Nj(){return $l(Dt(),Z())}function $l(t,e){return t.type&4?new Oj(e,t,Qs(t,e)):null}var lse=new RegExp(`^(\\d+)*(${Yk}|${qk})*(.*)`);var Pj=()=>null;function Xb(t,e){return Pj(t,e)}var ll=class{},$m=class{},dl=class{};function Fj(t){let e=Error(`No component factory found for ${Ot(t)}.`);return e[_j]=t,e}var _j="ngComponent";var Bm=class{resolveComponentFactory(e){throw Fj(e)}},Bl=(()=>{let e=class e{};e.NULL=new Bm;let t=e;return t})(),Ki=class{},Xs=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Lj();let t=e;return t})();function Lj(){let t=Z(),e=Dt(),i=fi(e.index,t);return($i(i)?i:t)[Fe]}var kj=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),nm={};var ew=new Set;function eo(t){ew.has(t)||(ew.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function tw(...t){}function Uj(){let t=typeof Ge.requestAnimationFrame=="function",e=Ge[t?"requestAnimationFrame":"setTimeout"],i=Ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pt(!1),this.onMicrotaskEmpty=new pt(!1),this.onStable=new pt(!1),this.onError=new pt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Uj().nativeRequestAnimationFrame,Bj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,jj,tw,tw);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},jj={};function Zv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $j(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Vm(t),t.isCheckStableRunning=!0,Zv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Vm(t))}function Bj(t){let e=()=>{$j(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(Vj(a))return i.invokeTask(r,s,o,a);try{return nw(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),rw(t)}},onInvoke:(i,n,r,s,o,a,c)=>{try{return nw(t),i.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),rw(t)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Vm(t),Zv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Vm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function nw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function rw(t){t._nesting--,Zv(t)}var Hm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pt,this.onMicrotaskEmpty=new pt,this.onStable=new pt,this.onError=new pt}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Vj(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Hj(t="zone.js",e){return t==="noop"?new Hm:t==="zone.js"?new Ce(e):t}var Us=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Us||{}),zj={destroy(){}};function Vl(t,e){!e&&Ia(Vl);let i=e?.injector??C(Ye);if(!IU(i))return zj;eo("NgAfterNextRender");let n=i.get(Qv),r=n.handler??=new Gm,s=e?.phase??Us.MixedReadWrite,o=()=>{r.unregister(c),a()},a=i.get(hi).onDestroy(o),c=On(i,()=>new zm(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var zm=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=C(Ce),this.errorHandler=C(It,{optional:!0}),C(ll,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gm=class{constructor(){this.executingCallbacks=!1,this.buckets={[Us.EarlyRead]:new Set,[Us.Write]:new Set,[Us.MixedReadWrite]:new Set,[Us.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Qv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function fl(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=um(r,a);else if(s==2){let c=a,u=e[++o];n=um(n,c+": "+u+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var hl=class extends Bl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ci(e);return new Ws(i,this.ngModule)}};function iw(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function Gj(t){let e=t.toLowerCase();return e==="svg"?QL:e==="math"?JL:null}var Wm=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=Il(n);let r=this.injector.get(e,nm,n);return r!==nm||i===nm?r:this.parentInjector.get(e,i,n)}},Ws=class extends dl{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=iw(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return iw(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=ML(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=ve(null);try{r=r||this.ngModule;let o=r instanceof Ct?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Wm(e,o):e,c=a.get(Ki,null);if(c===null)throw new j(407,!1);let u=a.get(kj,null),l=a.get(Qv,null),f=a.get(ll,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},p=c.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=n?qU(p,n,this.componentDef.encapsulation,a):zT(p,y,Gj(y)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let R=null;b!==null&&(R=Lv(b,a,!0));let V=zv(0,null,null,1,0,null,null,null,null,null,null),U=kl(null,V,null,w,null,null,h,p,a,null,R);Mv(U);let H,te;try{let ue=this.componentDef,he,Ne=null;ue.findHostDirectiveDefs?(he=[],Ne=new Map,ue.findHostDirectiveDefs(ue,he,Ne),he.push(ue)):he=[ue];let xi=Wj(U,b),zn=qj(xi,b,ue,he,U,h,p);te=Jw(V,St),b&&Zj(p,ue,b,n),i!==void 0&&Qj(te,this.ngContentSelectors,i),H=Kj(zn,ue,he,Ne,U,[Jj]),Yv(V,U,null)}finally{xv()}return new qm(this.componentType,H,Qs(te,U),U,te)}finally{ve(s)}}},qm=class extends $m{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Yi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;Wv(s[se],s,r,e,i),this.previousInputValues.set(e,i);let o=fi(this._tNode.index,s);Kv(o)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Wj(t,e){let i=t[se],n=St;return t[n]=e,Js(i,n,2,"#host",null)}function qj(t,e,i,n,r,s,o){let a=r[se];Yj(n,t,e,o);let c=null;e!==null&&(c=Lv(e,r[Hs]));let u=s.rendererFactory.createRenderer(e,i),l=16;i.signals?l=4096:i.onPush&&(l=64);let f=kl(r,o0(i),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&km(a,t,n.length-1),jl(r,f),r[t.index]=f}function Yj(t,e,i,n){for(let r of t)e.mergedAttrs=la(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(fl(e,e.mergedAttrs,!0),i!==null&&e0(n,i,e))}function Kj(t,e,i,n,r,s){let o=Dt(),a=r[se],c=dn(o,r);a0(a,r,o,i,null,n);for(let l=0;l<i.length;l++){let f=o.directiveStart+l,h=qi(r,a,f,o);li(h,r)}c0(a,r,o),c&&li(c,r);let u=qi(r,a,o.directiveStart+o.componentOffset,o);if(t[An]=r[An]=u,s!==null)for(let l of s)l(u,e);return Bv(a,o,r),u}function Zj(t,e,i,n){if(n)hm(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=xL(e.selectors[0]);r&&hm(t,i,r),s&&s.length>0&&XT(t,i,s.join(" "))}}function Qj(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function Jj(){let t=Dt();Ol(Z()[se],t)}var Vt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Xj;let t=e;return t})();function Xj(){let t=Dt();return S0(t,Z())}var e1=Vt,C0=class extends e1{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Qs(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ov(this._hostTNode,this._hostLView);if(hT(e)){let i=sl(e,this._hostLView),n=il(e),r=i[se].data[n+8];return new Bi(r,i)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=sw(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=Xb(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,Jb(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!WL(e),a;if(o)a=i;else{let y=i||{};a=y.index,n=y.injector,r=y.projectableNodes,s=y.environmentInjector||y.ngModuleRef}let c=o?e:new Ws(ci(e)),u=n||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?u:this.parentInjector).get(Ct,null);b&&(s=b)}let l=ci(c.componentType??{}),f=Xb(this._lContainer,l?.id??null),h=f?.firstChild??null,p=c.create(u,r,h,s);return this.insertImpl(p.hostView,a,Jb(this._hostTNode,f)),p}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(nk(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[gt],u=new C0(c,c[Zt],c[gt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return Ej(o,r,s,n),e.attachToViewContainerRef(),Tw(rm(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=sw(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=_m(this._lContainer,i);n&&(tl(rm(this._lContainer),i),qT(n[se],n))}detach(e){let i=this._adjustIndex(e,-1),n=_m(this._lContainer,i);return n&&tl(rm(this._lContainer),i)!=null?new Yi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function sw(t){return t[rl]}function rm(t){return t[rl]||(t[rl]=[])}function S0(t,e){let i,n=e[t.index];return Nr(n)?i=n:(i=u0(n,e,null,t),e[t.index]=i,jl(e,i)),n1(i,e,t,n),new C0(i,t,e)}function t1(t,e){let i=t[Fe],n=i.createComment(""),r=dn(e,t),s=jv(i,r);return cl(i,s,n,LU(i,r),!1),n}var n1=s1,r1=()=>!1;function i1(t,e,i){return r1(t,e,i)}function s1(t,e,i,n){if(t[zi])return;let r;i.type&8?r=ir(n):r=t1(e,i),t[zi]=r}var Ym=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Km=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)Jv(e,i).matches!==null&&this.queries[i].setDirty()}},pl=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=h1(e):this.predicate=e}},Zm=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qm=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,o1(i,s)),this.matchTNodeWithReadOption(e,i,Zu(i,e,s,!1,!1))}else n===xn?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Zu(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===or||r===Vt||r===xn&&i.type&4)this.addMatch(i.index,-2);else{let s=Zu(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function o1(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function a1(t,e){return t.type&11?Qs(t,e):t.type&4?$l(t,e):null}function c1(t,e,i,n){return i===-1?a1(e,t):i===-2?u1(t,e,n):qi(t,t[se],i,e)}function u1(t,e,i){if(i===or)return Qs(e,t);if(i===xn)return $l(e,t);if(i===Vt)return S0(e,t)}function I0(t,e,i,n){let r=e[Ar].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(c1(e,l,o[c+1],i.metadata.read))}}r.matches=a}return r.matches}function Jm(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=I0(t,e,r,i);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)n.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=Yt;f<l.length;f++){let h=l[f];h[Da]===h[gt]&&Jm(h[se],h,u,n)}if(l[zs]!==null){let f=l[zs];for(let h=0;h<f.length;h++){let p=f[h];Jm(p[se],p,u,n)}}}}}return n}function l1(t,e){return t[Ar].queries[e].queryList}function D0(t,e,i){let n=new wm((i&4)===4);return ZU(t,e,n,n.destroy),(e[Ar]??=new Km).queries.push(new Ym(n))-1}function d1(t,e,i){let n=je();return n.firstCreatePass&&(b0(n,new pl(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),D0(n,Z(),e)}function f1(t,e,i,n){let r=je();if(r.firstCreatePass){let s=Dt();b0(r,new pl(e,i,n),s.index),p1(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return D0(r,Z(),i)}function h1(t){return t.split(",").map(e=>e.trim())}function b0(t,e,i){t.queries===null&&(t.queries=new Zm),t.queries.track(new Qm(e,i))}function p1(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function Jv(t,e){return t.queries.getByIndex(e)}function g1(t,e){let i=t[se],n=Jv(i,e);return n.crossesNgTemplate?Jm(i,t,e,[]):I0(i,t,n,e)}function m1(t){return typeof t=="function"&&t[Tr]!==void 0}function Xv(t,e){eo("NgSignals");let i=Db(t),n=i[Tr];return e?.equal&&(n.equal=e.equal),i.set=r=>qg(n,r),i.update=r=>bb(n,r),i.asReadonly=v1.bind(i),i}function v1(){let t=this[Tr];if(t.readonlyFn===void 0){let e=()=>this();e[Tr]=t,t.readonlyFn=e}return t.readonlyFn}function w0(t){return m1(t)&&typeof t.set=="function"}function y1(t){let e=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=t(r);i.set(r,s=o.then(I1))}return s}return gl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,l=r.styleUrls;r.styleUrls.forEach((f,h)=>{a.push(""),o.push(n(f).then(p=>{a[u+h]=p,l.splice(l.indexOf(f),1),l.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>D1(s));e.push(c)}),C1(),Promise.all(e).then(()=>{})}var gl=new Map,E1=new Set;function C1(){let t=gl;return gl=new Map,t}function S1(){return gl.size===0}function I1(t){return typeof t=="string"?t:t.text()}function D1(t){E1.delete(t)}function b1(t){return Object.getPrototypeOf(t.prototype).constructor}function w1(t){let e=b1(t.type),i=!0,n=[t];for(;e;){let r;if(ui(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let o=t;o.inputs=zu(t.inputs),o.inputTransforms=zu(t.inputTransforms),o.declaredInputs=zu(t.declaredInputs),o.outputs=zu(t.outputs);let a=r.hostBindings;a&&x1(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&R1(t,c),u&&M1(t,u),T1(t,r),Y_(t.outputs,r.outputs),ui(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===w1&&(i=!1)}}e=Object.getPrototypeOf(e)}A1(n)}function T1(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function A1(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=la(r.hostAttrs,i=la(i,r.hostAttrs))}}function zu(t){return t===Bs?{}:t===$t?[]:t}function R1(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function M1(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,s)=>{e(n,r,s),i(n,r,s)}:t.contentQueries=e}function x1(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function ey(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var xr=class{},Zi=class{};function T0(t,e){return new va(t,e??null,[])}var va=class extends xr{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new hl(this);let r=kw(e);this._bootstrapComponents=HT(r.bootstrap),this._r3Injector=IT(e,i,[{provide:xr,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver},...n],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ml=class extends Zi{constructor(e){super(),this.moduleType=e}create(e){return new va(this.moduleType,e,[])}};function O1(t,e,i){return new va(t,e,i)}var Xm=class extends xr{constructor(e){super(),this.componentFactoryResolver=new hl(this),this.instance=null;let i=new da([...e.providers,{provide:xr,useValue:this},{provide:Bl,useValue:this.componentFactoryResolver}],e.parent||Sv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Hl(t,e,i=null){return new Xm({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var Xi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A0(t){return ty(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function N1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function ty(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function pi(t,e,i){return t[e]=i}function zl(t,e){return t[e]}function un(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function qs(t,e,i,n){let r=un(t,e,i);return un(t,e+1,n)||r}function ny(t,e,i,n,r){let s=qs(t,e,i,n);return un(t,e+2,r)||s}function Gl(t,e,i,n,r,s){let o=qs(t,e,i,n);return qs(t,e+2,r,s)||o}function P1(t){return(t.flags&32)===32}function F1(t,e,i,n,r,s,o,a,c){let u=e.consts,l=Js(e,t,4,o||null,Gs(u,a));Gv(e,i,l,Gs(u,c)),Ol(e,l);let f=l.tView=zv(2,l,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function _1(t,e,i,n,r,s,o,a){let c=Z(),u=je(),l=t+St,f=u.firstCreatePass?F1(l,u,c,e,i,n,r,s,o):u.data[l];Ji(f,!1);let h=L1(u,c,f,t);Ml()&&_l(u,c,h,f),li(h,c);let p=u0(h,c,h,f);return c[l]=p,jl(c,p),i1(p,f,c),Al(f)&&Vv(u,c,f),o!=null&&Hv(c,f,a),_1}var L1=k1;function k1(t,e,i,n){return xl(!0),e[Fe].createComment("")}function ry(t,e,i,n){let r=Z(),s=wa();if(un(r,s,e)){let o=je(),a=Ta();dj(a,r,t,e,i,n)}return ry}function iy(t,e,i,n){return un(t,wa(),i)?e+wn(i)+n:Pt}function U1(t,e,i,n,r,s){let o=iT(),a=qs(t,o,i,r);return Rl(2),a?e+wn(i)+n+wn(r)+s:Pt}function j1(t,e,i,n,r,s,o,a){let c=iT(),u=ny(t,c,i,r,o);return Rl(3),u?e+wn(i)+n+wn(r)+s+wn(o)+a:Pt}function Gu(t,e){return t<<17|e<<2}function Qi(t){return t>>17&32767}function $1(t){return(t&2)==2}function B1(t,e){return t&131071|e<<17}function ev(t){return t|2}function Ys(t){return(t&131068)>>2}function im(t,e){return t&-131069|e<<2}function V1(t){return(t&1)===1}function tv(t){return t|1}function H1(t,e,i,n,r,s){let o=s?e.classBindings:e.styleBindings,a=Qi(o),c=Ys(o);t[n]=i;let u=!1,l;if(Array.isArray(i)){let f=i;l=f[1],(l===null||Sa(f,l)>0)&&(u=!0)}else l=i;if(r)if(c!==0){let h=Qi(t[a+1]);t[n+1]=Gu(h,a),h!==0&&(t[h+1]=im(t[h+1],n)),t[a+1]=B1(t[a+1],n)}else t[n+1]=Gu(a,0),a!==0&&(t[a+1]=im(t[a+1],n)),a=n;else t[n+1]=Gu(c,0),a===0?a=n:t[c+1]=im(t[c+1],n),c=n;u&&(t[n+1]=ev(t[n+1])),ow(t,l,n,!0),ow(t,l,n,!1),z1(e,l,t,n,s),o=Gu(a,c),s?e.classBindings=o:e.styleBindings=o}function z1(t,e,i,n,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Sa(s,e)>=0&&(i[n+1]=tv(i[n+1]))}function ow(t,e,i,n){let r=t[i+1],s=e===null,o=n?Qi(r):Ys(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];G1(c,e)&&(a=!0,t[o+1]=n?tv(u):ev(u)),o=n?Qi(u):Ys(u)}a&&(t[i+1]=n?ev(r):tv(r))}function G1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Sa(t,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R0(t){return t.substring(et.key,et.keyEnd)}function W1(t){return t.substring(et.value,et.valueEnd)}function q1(t){return O0(t),M0(t,Ks(t,0,et.textEnd))}function M0(t,e){let i=et.textEnd;return i===e?-1:(e=et.keyEnd=K1(t,et.key=e,i),Ks(t,e,i))}function Y1(t){return O0(t),x0(t,Ks(t,0,et.textEnd))}function x0(t,e){let i=et.textEnd,n=et.key=Ks(t,e,i);return i===n?-1:(n=et.keyEnd=Z1(t,n,i),n=aw(t,n,i,58),n=et.value=Ks(t,n,i),n=et.valueEnd=Q1(t,n,i),aw(t,n,i,59))}function O0(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}function Ks(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function K1(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function Z1(t,e,i){let n;for(;e<i&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function aw(t,e,i,n){return e=Ks(t,e,i),e<i&&e++,e}function Q1(t,e,i){let n=-1,r=-1,s=-1,o=e,a=o;for(;o<i;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=cw(t,c,o,i):e===o-4&&s===85&&r===82&&n===76&&c===40?a=o=cw(t,41,o,i):c>32&&(a=o),s=r,r=n,n=c&-33}return a}function cw(t,e,i,n){let r=-1,s=i;for(;s<n;){let o=t.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function J1(t,e,i){let n=Z(),r=wa();if(un(n,r,e)){let s=je(),o=Ta();Ul(s,o,n,t,e,n[Fe],i,!1)}return J1}function nv(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";Wv(t,i,s[o],o,n)}function N0(t,e,i){return F0(t,e,i,!1),N0}function X1(t,e){return F0(t,e,null,!0),X1}function fse(t){sy(k0,e$,t,!1)}function e$(t,e){for(let i=Y1(e);i>=0;i=x0(e,i))k0(t,R0(e),W1(e))}function hse(t){sy(o$,P0,t,!0)}function P0(t,e){for(let i=q1(e);i>=0;i=M0(e,i))Ca(t,R0(e),!0)}function F0(t,e,i,n){let r=Z(),s=je(),o=Rl(2);if(s.firstUpdatePass&&L0(s,t,o,n),e!==Pt&&un(r,o,e)){let a=s.data[Pr()];U0(s,a,r,r[Fe],t,r[o+1]=c$(e,i),n,o)}}function sy(t,e,i,n){let r=je(),s=Rl(2);r.firstUpdatePass&&L0(r,null,s,n);let o=Z();if(i!==Pt&&un(o,s,i)){let a=r.data[Pr()];if(j0(a,n)&&!_0(r,s)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(i=um(c,i||"")),nv(r,a,o,i,n)}else a$(r,a,o,o[Fe],o[s+1],o[s+1]=s$(t,e,i),n,s)}}function _0(t,e){return e>=t.expandoStartIndex}function L0(t,e,i,n){let r=t.data;if(r[i+1]===null){let s=r[Pr()],o=_0(t,i);j0(s,n)&&e===null&&!o&&(e=!1),e=t$(r,s,e,n),H1(r,s,e,i,o,n)}}function t$(t,e,i,n){let r=vk(t),s=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=sm(null,t,e,i,n),i=ya(i,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(i=sm(r,t,e,i,n),s===null){let c=n$(t,e,n);c!==void 0&&Array.isArray(c)&&(c=sm(null,t,e,c[1],n),c=ya(c,e.attrs,n),r$(t,e,n,c))}else s=i$(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),i}function n$(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Ys(n)!==0)return t[Qi(n)]}function r$(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Qi(r)]=n}function i$(t,e,i){let n,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;n=ya(n,o,i)}return ya(n,e.attrs,i)}function sm(t,e,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=e[a],n=ya(n,s.hostAttrs,r),s!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function ya(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Ca(t,o,i?!0:e[++s]))}return t===void 0?null:t}function s$(t,e,i){if(i==null||i==="")return $t;let n=[],r=Bt(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else typeof r=="string"&&e(n,r);return n}function k0(t,e,i){Ca(t,e,Bt(i))}function o$(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Ca(t,n,i)}function a$(t,e,i,n,r,s,o,a){r===Pt&&(r=$t);let c=0,u=0,l=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let h=c<r.length?r[c+1]:void 0,p=u<s.length?s[u+1]:void 0,y=null,b;l===f?(c+=2,u+=2,h!==p&&(y=f,b=p)):f===null||l!==null&&l<f?(c+=2,y=l):(u+=2,y=f,b=p),y!==null&&U0(t,e,i,n,y,b,o,a),l=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function U0(t,e,i,n,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=V1(u)?uw(c,e,i,r,Ys(u),o):void 0;if(!vl(l)){vl(s)||$1(u)&&(s=uw(c,null,i,r,a,o));let f=Qw(Pr(),i);VU(n,o,f,r,s)}}function uw(t,e,i,n,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=i[r+1];h===Pt&&(h=f?$t:void 0);let p=f?Yg(h,n):l===n?h:void 0;if(u&&!vl(p)&&(p=Yg(c,n)),vl(p)&&(a=p,o))return a;let y=t[r+1];r=o?Qi(y):Ys(y)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Yg(c,n))}return a}function vl(t){return t!==void 0}function c$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(Bt(t)))),t}function j0(t,e){return(t.flags&(e?8:16))!==0}function pse(t,e,i){let n=Z(),r=iy(n,t,e,i);sy(Ca,P0,r,!0)}function u$(t,e,i,n,r,s){let o=e.consts,a=Gs(o,r),c=Js(e,t,2,n,a);return Gv(e,i,c,Gs(o,s)),c.attrs!==null&&fl(c,c.attrs,!1),c.mergedAttrs!==null&&fl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function $0(t,e,i,n){let r=Z(),s=je(),o=St+t,a=r[Fe],c=s.firstCreatePass?u$(o,s,r,e,i,n):s.data[o],u=l$(s,r,c,a,e,t);r[o]=u;let l=Al(c);return Ji(c,!0),e0(a,u,c),!P1(c)&&Ml()&&_l(s,r,u,c),ok()===0&&li(u,r),ak(),l&&(Vv(s,r,c),Bv(s,c,r)),n!==null&&Hv(r,c),$0}function B0(){let t=Dt();Tv()?Av():(t=t.parent,Ji(t,!1));let e=t;uk(e)&&lk(),ck();let i=je();return i.firstCreatePass&&(Ol(i,t),Dv(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&bk(e)&&nv(i,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&wk(e)&&nv(i,e,Z(),e.stylesWithoutHost,!1),B0}function oy(t,e,i,n){return $0(t,e,i,n),B0(),oy}var l$=(t,e,i,n,r,s)=>(xl(!0),zT(n,r,Ck()));function d$(t,e,i,n,r){let s=e.consts,o=Gs(s,n),a=Js(e,t,8,"ng-container",o);o!==null&&fl(a,o,!0);let c=Gs(s,r);return Gv(e,i,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function V0(t,e,i){let n=Z(),r=je(),s=t+St,o=r.firstCreatePass?d$(s,r,n,e,i):r.data[s];Ji(o,!0);let a=h$(r,n,o,t);return n[s]=a,Ml()&&_l(r,n,a,o),li(a,n),Al(o)&&(Vv(r,n,o),Bv(r,o,n)),i!=null&&Hv(n,o),V0}function H0(){let t=Dt(),e=je();return Tv()?Av():(t=t.parent,Ji(t,!1)),e.firstCreatePass&&(Ol(e,t),Dv(t)&&e.queries.elementEnd(t)),H0}function f$(t,e,i){return V0(t,e,i),H0(),f$}var h$=(t,e,i,n)=>(xl(!0),TU(e[Fe],""));function gse(){return Z()}function p$(t,e,i){let n=Z(),r=wa();if(un(n,r,e)){let s=je(),o=Ta();Ul(s,o,n,t,e,n[Fe],i,!0)}return p$}var ji=void 0;function g$(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var m$=["en",[["a","p"],["AM","PM"],ji],[["AM","PM"],ji,ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ji,"{1} 'at' {0}",ji],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",g$],om={};function Ht(t){let e=v$(t),i=lw(e);if(i)return i;let n=e.split("-")[0];if(i=lw(n),i)return i;if(n==="en")return m$;throw new j(701,!1)}function lw(t){return t in om||(om[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),om[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function v$(t){return t.toLowerCase().replace(/_/g,"-")}var yl="en-US";var y$=yl;function E$(t){typeof t=="string"&&(y$=t.toLowerCase().replace(/_/g,"-"))}function ay(t,e,i,n){let r=Z(),s=je(),o=Dt();return z0(s,r,r[Fe],o,t,e,n),ay}function C$(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[ha],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function z0(t,e,i,n,r,s,o){let a=Al(n),u=t.firstCreatePass&&f0(t),l=e[An],f=d0(e),h=!0;if(n.type&3||o){let b=dn(n,e),w=o?o(b):b,R=f.length,V=o?H=>o(ir(H[n.index])):n.index,U=null;if(!o&&a&&(U=C$(t,e,r,n.index)),U!==null){let H=U.__ngLastListenerFn__||U;H.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,h=!1}else{s=fw(n,e,l,s,!1);let H=i.listen(w,r,s);f.push(s,H),u&&u.push(r,V,R,R+1)}}else s=fw(n,e,l,s,!1);let p=n.outputs,y;if(h&&p!==null&&(y=p[r])){let b=y.length;if(b)for(let w=0;w<b;w+=2){let R=y[w],V=y[w+1],te=e[R][V].subscribe(s),ue=f.length;f.push(s,te),u&&u.push(r,n.index,ue,-(ue+1))}}}function dw(t,e,i,n){let r=ve(null);try{return er(6,e,i),i(n)!==!1}catch(s){return h0(t,s),!1}finally{er(7,e,i),ve(r)}}function fw(t,e,i,n,r){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?fi(t.index,e):e;Kv(a);let c=dw(e,i,n,o),u=s.__ngNextListenerFn__;for(;u;)c=dw(e,i,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function mse(t=1){return Ek(t)}function S$(t,e){let i=null,n=bL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){i=r;continue}if(n===null?Nw(t,s,!0):AL(n,s))return r}return i}function vse(t){let e=Z()[Mn][Zt];if(!e.projection){let i=t?t.length:1,n=e.projection=gL(i,null),r=n.slice(),s=e.child;for(;s!==null;){let o=t?S$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function yse(t,e=0,i){let n=Z(),r=je(),s=Js(r,St+t,16,null,i||null);s.projection===null&&(s.projection=e),Av(),(!n[fa]||nT())&&(s.flags&32)!==32&&$U(r,n,s)}function I$(t,e,i){return G0(t,"",e,"",i),I$}function G0(t,e,i,n,r){let s=Z(),o=iy(s,e,i,n);if(o!==Pt){let a=je(),c=Ta();Ul(a,c,s,t,o,s[Fe],r,!1)}return G0}function W0(t,e,i,n){f1(t,e,i,n)}function Ese(t,e,i){d1(t,e,i)}function q0(t){let e=Z(),i=je(),n=sT();Rv(n+1);let r=Jv(i,n);if(t.dirty&&tk(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=g1(e,n);t.reset(s,Uk),t.notifyOnChanges()}return!0}return!1}function Y0(){return l1(Z(),sT())}function D$(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function Cse(t){let e=fk();return ba(e,St+t)}function Sse(t,e=""){let i=Z(),n=je(),r=t+St,s=n.firstCreatePass?Js(n,r,1,e,null):n.data[r],o=b$(n,i,s,e,t);i[r]=o,Ml()&&_l(n,i,o,s),Ji(s,!1)}var b$=(t,e,i,n,r)=>(xl(!0),bU(e[Fe],n));function w$(t){return K0("",t,""),w$}function K0(t,e,i){let n=Z(),r=iy(n,t,e,i);return r!==Pt&&qv(n,Pr(),r),K0}function T$(t,e,i,n,r){let s=Z(),o=U1(s,t,e,i,n,r);return o!==Pt&&qv(s,Pr(),o),T$}function A$(t,e,i,n,r,s,o){let a=Z(),c=j1(a,t,e,i,n,r,s,o);return c!==Pt&&qv(a,Pr(),c),A$}function R$(t,e,i){w0(e)&&(e=e());let n=Z(),r=wa();if(un(n,r,e)){let s=je(),o=Ta();Ul(s,o,n,t,e,n[Fe],i,!1)}return R$}function Ise(t,e){let i=w0(t);return i&&t.set(e),i}function M$(t,e){let i=Z(),n=je(),r=Dt();return z0(n,i,i[Fe],r,t,e),M$}function x$(t,e,i){let n=je();if(n.firstCreatePass){let r=ui(t);rv(i,n.data,n.blueprint,r,!0),rv(e,n.data,n.blueprint,r,!1)}}function rv(t,e,i,n,r){if(t=xt(t),Array.isArray(t))for(let s=0;s<t.length;s++)rv(t[s],e,i,n,r);else{let s=je(),o=Z(),a=Dt(),c=Vs(t)?t:xt(t.provide),u=Hw(t),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Vs(t)||!t.multi){let p=new Wi(u,r,X),y=cm(c,e,r?l:l+h,f);y===-1?(Sm(al(a,o),s,c),am(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(p),o.push(p)):(i[y]=p,o[y]=p)}else{let p=cm(c,e,l+h,f),y=cm(c,e,l,l+h),b=p>=0&&i[p],w=y>=0&&i[y];if(r&&!w||!r&&!b){Sm(al(a,o),s,c);let R=P$(r?N$:O$,i.length,r,n,u);!r&&w&&(i[y].providerFactory=R),am(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(R),o.push(R)}else{let R=Z0(i[r?y:p],u,!r&&n);am(s,t,p>-1?p:y,R)}!r&&n&&w&&i[y].componentProviders++}}}function am(t,e,i,n){let r=Vs(e),s=UL(e);if(r||s){let c=(s?xt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(i);l===-1?u.push(i,[n,c]):u[l+1].push(n,c)}else u.push(i,c)}}}function Z0(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function cm(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function O$(t,e,i,n){return iv(this.multi,[])}function N$(t,e,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qi(i,i[se],this.providerFactory.index,n);s=a.slice(0,o),iv(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],iv(r,s);return s}function iv(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function P$(t,e,i,n,r){let s=new Wi(t,i,X);return s.multi=[],s.index=e,s.componentProviders=0,Z0(s,r,n&&!i),s}function Dse(t,e=[]){return i=>{i.providersResolver=(n,r)=>x$(n,r?r(t):t,e)}}var F$=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=$w(!1,n.type),s=r.length>0?Hl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=m({token:e,providedIn:"environment",factory:()=>new e(d(Ct))});let t=e;return t})();function Q0(t){eo("NgStandalone"),t.getStandaloneInjector=e=>e.get(F$).getOrCreateStandaloneInjector(t)}function bse(t,e,i){let n=fn()+t,r=Z();return r[n]===Pt?pi(r,n,i?e.call(i):e()):zl(r,n)}function wse(t,e,i,n){return J0(Z(),fn(),t,e,i,n)}function Tse(t,e,i,n,r){return X0(Z(),fn(),t,e,i,n,r)}function Ase(t,e,i,n,r,s){return eA(Z(),fn(),t,e,i,n,r,s)}function Rse(t,e,i,n,r,s,o){return tA(Z(),fn(),t,e,i,n,r,s,o)}function Mse(t,e,i,n,r,s,o,a){let c=fn()+t,u=Z(),l=Gl(u,c,i,n,r,s);return un(u,c+4,o)||l?pi(u,c+5,a?e.call(a,i,n,r,s,o):e(i,n,r,s,o)):zl(u,c+5)}function xse(t,e,i,n,r,s,o,a,c){let u=fn()+t,l=Z(),f=Gl(l,u,i,n,r,s);return qs(l,u+4,o,a)||f?pi(l,u+6,c?e.call(c,i,n,r,s,o,a):e(i,n,r,s,o,a)):zl(l,u+6)}function Ose(t,e,i,n,r,s,o,a,c,u){let l=fn()+t,f=Z(),h=Gl(f,l,i,n,r,s);return ny(f,l+4,o,a,c)||h?pi(f,l+7,u?e.call(u,i,n,r,s,o,a,c):e(i,n,r,s,o,a,c)):zl(f,l+7)}function Wl(t,e){let i=t[e];return i===Pt?void 0:i}function J0(t,e,i,n,r,s){let o=e+i;return un(t,o,r)?pi(t,o+1,s?n.call(s,r):n(r)):Wl(t,o+1)}function X0(t,e,i,n,r,s,o){let a=e+i;return qs(t,a,r,s)?pi(t,a+2,o?n.call(o,r,s):n(r,s)):Wl(t,a+2)}function eA(t,e,i,n,r,s,o,a){let c=e+i;return ny(t,c,r,s,o)?pi(t,c+3,a?n.call(a,r,s,o):n(r,s,o)):Wl(t,c+3)}function tA(t,e,i,n,r,s,o,a,c){let u=e+i;return Gl(t,u,r,s,o,a)?pi(t,u+4,c?n.call(c,r,s,o,a):n(r,s,o,a)):Wl(t,u+4)}function Nse(t,e){let i=je(),n,r=t+St;i.firstCreatePass?(n=_$(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=Vi(n.type,!0)),o,a=jt(X);try{let c=ol(!1),u=s();return ol(c),D$(i,Z(),r,u),u}finally{jt(a)}}function _$(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function Pse(t,e,i){let n=t+St,r=Z(),s=ba(r,n);return ql(r,n)?J0(r,fn(),e,s.transform,i,s):s.transform(i)}function Fse(t,e,i,n){let r=t+St,s=Z(),o=ba(s,r);return ql(s,r)?X0(s,fn(),e,o.transform,i,n,o):o.transform(i,n)}function _se(t,e,i,n,r){let s=t+St,o=Z(),a=ba(o,s);return ql(o,s)?eA(o,fn(),e,a.transform,i,n,r,a):a.transform(i,n,r)}function Lse(t,e,i,n,r,s){let o=t+St,a=Z(),c=ba(a,o);return ql(a,o)?tA(a,fn(),e,c.transform,i,n,r,s,c):c.transform(i,n,r,s)}function ql(t,e){return t[se].data[e].pure}function kse(t,e){return $l(t,e)}var Wu=null;function L$(t){Wu!==null&&(t.defaultEncapsulation!==Wu.defaultEncapsulation||t.preserveWhitespaces!==Wu.preserveWhitespaces)||(Wu=t)}var Yl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var cy=new S(""),xa=new S(""),Kl=(()=>{let e=class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uy||(k$(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Zl),d(xa))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Zl=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return uy?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function k$(t){uy=t}var uy;function to(t){return!!t&&typeof t.then=="function"}function ly(t){return!!t&&typeof t.subscribe=="function"}var bt=new S(""),nA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=C(bt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(to(o))n.push(o);else if(ly(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),no=new S("");function U$(){Ib(()=>{throw new j(600,!1)})}function j$(t){return t.isBoundToModule}function $$(t,e,i){try{let n=i();return to(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function rA(t,e){return Array.isArray(e)?e.reduce(rA,t):v(v({},t),e)}var es=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(DT),this.afterRenderEffectManager=C(Qv),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=C(Xi).hasPendingTasks.pipe(E(n=>!n)),this._injector=C(Ct)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof dl;if(!this._injector.get(nA).done){let p=!s&&Lw(n),y=!1;throw new j(405,y)}let a;s?a=n:a=this._injector.get(Bl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=j$(a)?void 0:this._injector.get(xr),u=r||a.selector,l=a.create(Ye.NULL,[],u,c),f=l.location.nativeElement,h=l.injector.get(cy,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),Ju(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===g0)throw new j(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)B$(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sv(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sv(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ju(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(no,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ju(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ju(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function B$(t,e,i){!e&&!sv(t)||V$(t,i,e)}function sv(t){return wv(t)}function V$(t,e,i){let n;i?(n=0,t[J]|=1024):t[J]&64?n=0:n=1,m0(t,e,n)}var ov=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},ro=(()=>{let e=class e{compileModuleSync(n){return new ml(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=kw(n),o=HT(s.declarations).reduce((a,c)=>{let u=ci(c);return u&&a.push(new Ws(u)),a},[]);return new ov(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H$=new S("");function z$(t,e,i){let n=new ml(i);return Promise.resolve(n)}function hw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var G$=(()=>{let e=class e{constructor(){this.zone=C(Ce),this.applicationRef=C(es)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W$(t){return[{provide:Ce,useFactory:t},{provide:nr,multi:!0,useFactory:()=>{let e=C(G$,{optional:!0});return()=>e.initialize()}},{provide:nr,multi:!0,useFactory:()=>{let e=C(K$);return()=>{e.initialize()}}},{provide:DT,useFactory:q$}]}function q$(){let t=C(Ce),e=C(It);return i=>t.runOutsideAngular(()=>e.handleError(i))}function Y$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var K$=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=C(Ce),this.pendingTasks=C(Xi)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z$(){return typeof $localize<"u"&&$localize.locale||yl}var Oa=new S("",{providedIn:"root",factory:()=>C(Oa,ce.Optional|ce.SkipSelf)||Z$()});var iA=new S(""),sA=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=Hj(r?.ngZone,Y$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=O1(n.moduleType,this.injector,W$(()=>s)),a=o.injector.get(It,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{Ju(this._modules,o),c.unsubscribe()})}),$$(a,s,()=>{let c=o.injector.get(nA);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(Oa,yl);return E$(u||yl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=rA({},r);return z$(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(es);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(iA,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ca=null,oA=new S("");function Q$(t){if(ca&&!ca.get(oA,!1))throw new j(400,!1);U$(),ca=t;let e=t.get(sA);return eB(t),e}function dy(t,e,i=[]){let n=`Platform: ${e}`,r=new S(n);return(s=[])=>{let o=aA();if(!o||o.injector.get(oA,!1)){let a=[...i,...s,{provide:r,useValue:!0}];t?t(a):Q$(J$(a,n))}return X$(r)}}function J$(t=[],e){return Ye.create({name:e,providers:[{provide:bl,useValue:"platform"},{provide:iA,useValue:new Set([()=>ca=null])},...t]})}function X$(t){let e=aA();if(!e)throw new j(401,!1);return e}function aA(){return ca?.get(sA)??null}function eB(t){t.get(Fv,null)?.forEach(i=>i())}function me(){return!1}var _r=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tB;let t=e;return t})();function tB(t){return nB(Dt(),Z(),(t&16)===16)}function nB(t,e,i){if(Tl(t)&&!i){let n=fi(t.index,e);return new Yi(n,n)}else if(t.type&47){let n=e[Mn];return new Yi(n,e)}return null}var av=class{constructor(){}supports(e){return A0(e)}create(e){return new cv(e)}},rB=(t,e)=>e,cv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||rB}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<pw(n,r,s)?i:n,a=pw(o,r,s),c=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let p=h<s.length?s[h]:s[h]=0,y=p+h;l<=y&&y<u&&(s[h]=p+1)}let f=o.previousIndex;s[f]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!A0(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,N1(e,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,s,r)):e=this._addAfter(new uv(i,n),s,r)),e}_verifyReinsertion(e,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new El),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new El),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},uv=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},El=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new lv,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function pw(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var dv=class{constructor(){}supports(e){return e instanceof Map||ty(e)}create(){return new fv}},fv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ty(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new hv(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},hv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function gw(){return new fy([new av])}var fy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||gw()),deps:[[e,new Dl,new ln]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:gw});let t=e;return t})();function mw(){return new hy([new dv])}var hy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||mw()),deps:[[e,new Dl,new ln]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:mw});let t=e;return t})();var cA=dy(null,"core",[]),uA=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(es))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Na(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Ql(t,e){eo("NgSignals");let i=Eb(t);return e?.equal&&(i[Tr].equal=e.equal),i}function Jl(t){let e=ve(null);try{return t()}finally{ve(e)}}function lA(t){let e=ci(t);if(!e)return null;let i=new Ws(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var IA=null;function gi(){return IA}function DA(t){IA??=t}var ad=class{};var _e=new S(""),Ty=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(iB),providedIn:"platform"});let t=e;return t})(),dd=new S(""),iB=(()=>{let e=class e extends Ty{constructor(){super(),this._doc=C(_e),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(n){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Ay(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function dA(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function Ur(t){return t&&t[0]!=="?"?"?"+t:t}var $r=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Ry),providedIn:"root"});let t=e;return t})(),bA=new S(""),Ry=(()=>{let e=class e extends $r{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ay(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ur(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Ur(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Ur(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ty),d(bA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wA=(()=>{let e=class e extends $r{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ay(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+Ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+Ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ty),d(bA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ur=(()=>{let e=class e{constructor(n){this._subject=new pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=aB(dA(fA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ur(r))}normalize(n){return e.stripTrailingSlash(oB(this._basePath,fA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=Ur,e.joinWithSlash=Ay,e.stripTrailingSlash=dA,e.\u0275fac=function(r){return new(r||e)(d($r))},e.\u0275prov=m({token:e,factory:()=>sB(),providedIn:"root"});let t=e;return t})();function sB(){return new ur(d($r))}function oB(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function fA(t){return t.replace(/\/index.html$/,"")}function aB(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var TA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},My=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(My||{});var Ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ft||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),Qt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Qt||{}),wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function fd(t){return Ht(t)[Be.LocaleId]}function cB(t,e,i){let n=Ht(t),r=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],s=pn(r,e);return pn(s,i)}function uB(t,e,i){let n=Ht(t),r=[n[Be.DaysFormat],n[Be.DaysStandalone]],s=pn(r,e);return pn(s,i)}function lB(t,e,i){let n=Ht(t),r=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],s=pn(r,e);return pn(s,i)}function dB(t,e){let n=Ht(t)[Be.Eras];return pn(n,e)}function Xl(t,e){let i=Ht(t);return pn(i[Be.DateFormat],e)}function ed(t,e){let i=Ht(t);return pn(i[Be.TimeFormat],e)}function td(t,e){let n=Ht(t)[Be.DateTimeFormat];return pn(n,e)}function cr(t,e){let i=Ht(t),n=i[Be.NumberSymbols][e];if(typeof n>"u"){if(e===wt.CurrencyDecimal)return i[Be.NumberSymbols][wt.Decimal];if(e===wt.CurrencyGroup)return i[Be.NumberSymbols][wt.Group]}return n}function AA(t,e){return Ht(t)[Be.NumberFormats][e]}function fB(t){return Ht(t)[Be.Currencies]}function RA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function hB(t){let e=Ht(t);return RA(e),(e[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?py(n):[py(n[0]),py(n[1])])}function pB(t,e,i){let n=Ht(t);RA(n);let r=[n[Be.ExtraData][0],n[Be.ExtraData][1]],s=pn(r,e)||[];return pn(s,i)||[]}function pn(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function py(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function noe(t,e,i="en"){let n=fB(i)[t]||TA[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var gB=2;function mB(t){let e,i=TA[t];return i&&(e=i[2]),typeof e=="number"?e:gB}var vB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nd={},yB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,jr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(jr||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function EB(t,e,i,n){let r=RB(t);e=kr(i,e)||e;let o=[],a;for(;e;)if(a=yB.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=r.getTimezoneOffset();n&&(c=xA(n,c),r=AB(r,n,!0));let u="";return o.forEach(l=>{let f=wB(l);u+=f?f(r,i,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function cd(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function kr(t,e){let i=fd(t);if(nd[i]??={},nd[i][e])return nd[i][e];let n="";switch(e){case"shortDate":n=Xl(t,Qt.Short);break;case"mediumDate":n=Xl(t,Qt.Medium);break;case"longDate":n=Xl(t,Qt.Long);break;case"fullDate":n=Xl(t,Qt.Full);break;case"shortTime":n=ed(t,Qt.Short);break;case"mediumTime":n=ed(t,Qt.Medium);break;case"longTime":n=ed(t,Qt.Long);break;case"fullTime":n=ed(t,Qt.Full);break;case"short":let r=kr(t,"shortTime"),s=kr(t,"shortDate");n=rd(td(t,Qt.Short),[r,s]);break;case"medium":let o=kr(t,"mediumTime"),a=kr(t,"mediumDate");n=rd(td(t,Qt.Medium),[o,a]);break;case"long":let c=kr(t,"longTime"),u=kr(t,"longDate");n=rd(td(t,Qt.Long),[c,u]);break;case"full":let l=kr(t,"fullTime"),f=kr(t,"fullDate");n=rd(td(t,Qt.Full),[l,f]);break}return n&&(nd[i][e]=n),n}function rd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function Nn(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function CB(t,e){return Nn(t,3).substring(0,e)}function Ke(t,e,i=0,n=!1,r=!1){return function(s,o){let a=SB(t,s);if((i>0||a>-i)&&(a+=i),t===Ie.Hours)a===0&&i===-12&&(a=12);else if(t===Ie.FractionalSeconds)return CB(a,e);let c=cr(o,wt.MinusSign);return Nn(a,e,c,n,r)}}function SB(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function xe(t,e,i=Ft.Format,n=!1){return function(r,s){return IB(r,s,t,e,i,n)}}function IB(t,e,i,n,r,s){switch(i){case Se.Months:return lB(e,r,n)[t.getMonth()];case Se.Days:return uB(e,r,n)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=hB(e),l=pB(e,r,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[p,y]=h,b=o>=p.hours&&a>=p.minutes,w=o<y.hours||o===y.hours&&a<y.minutes;if(p.hours<y.hours){if(b&&w)return!0}else if(b||w)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return cB(e,r,n)[o<12?0:1];case Se.Eras:return dB(e,n)[t.getFullYear()<=0?0:1];default:let c=i;throw new Error(`unexpected translation type ${c}`)}}function id(t){return function(e,i,n){let r=-1*n,s=cr(i,wt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case jr.Short:return(r>=0?"+":"")+Nn(o,2,s)+Nn(Math.abs(r%60),2,s);case jr.ShortGMT:return"GMT"+(r>=0?"+":"")+Nn(o,1,s);case jr.Long:return"GMT"+(r>=0?"+":"")+Nn(o,2,s)+":"+Nn(Math.abs(r%60),2,s);case jr.Extended:return n===0?"Z":(r>=0?"+":"")+Nn(o,2,s)+":"+Nn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var DB=0,od=4;function bB(t){let e=cd(t,DB,1).getDay();return cd(t,0,1+(e<=od?od:od+7)-e)}function MA(t){let e=t.getDay(),i=e===0?-3:od-e;return cd(t.getFullYear(),t.getMonth(),t.getDate()+i)}function gy(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=MA(i),o=bB(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Nn(r,t,cr(n,wt.MinusSign))}}function sd(t,e=!1){return function(i,n){let s=MA(i).getFullYear();return Nn(s,t,cr(n,wt.MinusSign),e)}}var my={};function wB(t){if(my[t])return my[t];let e;switch(t){case"G":case"GG":case"GGG":e=xe(Se.Eras,Me.Abbreviated);break;case"GGGG":e=xe(Se.Eras,Me.Wide);break;case"GGGGG":e=xe(Se.Eras,Me.Narrow);break;case"y":e=Ke(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Ke(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(Ie.FullYear,4,0,!1,!0);break;case"Y":e=sd(1);break;case"YY":e=sd(2,!0);break;case"YYY":e=sd(3);break;case"YYYY":e=sd(4);break;case"M":case"L":e=Ke(Ie.Month,1,1);break;case"MM":case"LL":e=Ke(Ie.Month,2,1);break;case"MMM":e=xe(Se.Months,Me.Abbreviated);break;case"MMMM":e=xe(Se.Months,Me.Wide);break;case"MMMMM":e=xe(Se.Months,Me.Narrow);break;case"LLL":e=xe(Se.Months,Me.Abbreviated,Ft.Standalone);break;case"LLLL":e=xe(Se.Months,Me.Wide,Ft.Standalone);break;case"LLLLL":e=xe(Se.Months,Me.Narrow,Ft.Standalone);break;case"w":e=gy(1);break;case"ww":e=gy(2);break;case"W":e=gy(1,!0);break;case"d":e=Ke(Ie.Date,1);break;case"dd":e=Ke(Ie.Date,2);break;case"c":case"cc":e=Ke(Ie.Day,1);break;case"ccc":e=xe(Se.Days,Me.Abbreviated,Ft.Standalone);break;case"cccc":e=xe(Se.Days,Me.Wide,Ft.Standalone);break;case"ccccc":e=xe(Se.Days,Me.Narrow,Ft.Standalone);break;case"cccccc":e=xe(Se.Days,Me.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":e=xe(Se.Days,Me.Abbreviated);break;case"EEEE":e=xe(Se.Days,Me.Wide);break;case"EEEEE":e=xe(Se.Days,Me.Narrow);break;case"EEEEEE":e=xe(Se.Days,Me.Short);break;case"a":case"aa":case"aaa":e=xe(Se.DayPeriods,Me.Abbreviated);break;case"aaaa":e=xe(Se.DayPeriods,Me.Wide);break;case"aaaaa":e=xe(Se.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=xe(Se.DayPeriods,Me.Abbreviated,Ft.Standalone,!0);break;case"bbbb":e=xe(Se.DayPeriods,Me.Wide,Ft.Standalone,!0);break;case"bbbbb":e=xe(Se.DayPeriods,Me.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=xe(Se.DayPeriods,Me.Abbreviated,Ft.Format,!0);break;case"BBBB":e=xe(Se.DayPeriods,Me.Wide,Ft.Format,!0);break;case"BBBBB":e=xe(Se.DayPeriods,Me.Narrow,Ft.Format,!0);break;case"h":e=Ke(Ie.Hours,1,-12);break;case"hh":e=Ke(Ie.Hours,2,-12);break;case"H":e=Ke(Ie.Hours,1);break;case"HH":e=Ke(Ie.Hours,2);break;case"m":e=Ke(Ie.Minutes,1);break;case"mm":e=Ke(Ie.Minutes,2);break;case"s":e=Ke(Ie.Seconds,1);break;case"ss":e=Ke(Ie.Seconds,2);break;case"S":e=Ke(Ie.FractionalSeconds,1);break;case"SS":e=Ke(Ie.FractionalSeconds,2);break;case"SSS":e=Ke(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=id(jr.Short);break;case"ZZZZZ":e=id(jr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=id(jr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=id(jr.Long);break;default:return null}return my[t]=e,e}function xA(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function TB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function AB(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=xA(e,r);return TB(t,n*(s-r))}function RB(t){if(hA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return cd(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(vB))return MB(n)}let e=new Date(t);if(!hA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function MB(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function hA(t){return t instanceof Date&&!isNaN(t.valueOf())}var xB=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pA=22,ud=".",Pa="0",OB=";",NB=",",vy="#",gA="\xA4";function OA(t,e,i,n,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=cr(i,wt.Infinity);else{let u=_B(t);o&&(u=FB(u));let l=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let V=s.match(xB);if(V===null)throw new Error(`${s} is not a valid digit info`);let U=V[1],H=V[3],te=V[5];U!=null&&(l=yy(U)),H!=null&&(f=yy(H)),te!=null?h=yy(te):H!=null&&f>h&&(h=f)}LB(u,f,h);let p=u.digits,y=u.integerLen,b=u.exponent,w=[];for(c=p.every(V=>!V);y<l;y++)p.unshift(0);for(;y<0;y++)p.unshift(0);y>0?w=p.splice(y,p.length):(w=p,p=[0]);let R=[];for(p.length>=e.lgSize&&R.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)R.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&R.unshift(p.join("")),a=R.join(cr(i,n)),w.length&&(a+=cr(i,r)+w.join("")),b&&(a+=cr(i,wt.Exponential)+"+"+b)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function roe(t,e,i,n,r){let s=AA(e,My.Currency),o=NA(s,cr(e,wt.MinusSign));return o.minFrac=mB(n),o.maxFrac=o.minFrac,OA(t,o,e,wt.CurrencyGroup,wt.CurrencyDecimal,r).replace(gA,i).replace(gA,"").trim()}function PB(t,e,i){let n=AA(e,My.Decimal),r=NA(n,cr(e,wt.MinusSign));return OA(t,r,e,wt.Group,wt.Decimal,i)}function NA(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(OB),r=n[0],s=n[1],o=r.indexOf(ud)!==-1?r.split(ud):[r.substring(0,r.lastIndexOf(Pa)+1),r.substring(r.lastIndexOf(Pa)+1)],a=o[0],c=o[1]||"";i.posPre=a.substring(0,a.indexOf(vy));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===Pa?i.minFrac=i.maxFrac=l+1:f===vy?i.maxFrac=l+1:i.posSuf+=f}let u=a.split(NB);if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=r.length-i.posPre.length-i.posSuf.length,f=s.indexOf(vy);i.negPre=s.substring(0,f).replace(/'/g,""),i.negSuf=s.slice(f+l).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function FB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function _B(t){let e=Math.abs(t)+"",i=0,n,r,s,o,a;for((r=e.indexOf(ud))>-1&&(e=e.replace(ud,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Pa;s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===Pa;)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>pA&&(n=n.splice(0,pA-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function LB(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,s=Math.min(Math.max(e,r),i),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let f=o;f<n.length;f++)n[f]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let f=1;f<o;f++)n[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let c=s!==0,u=e+t.integerLen,l=n.reduceRight(function(f,h,p,y){return h=h+f,y[p]=h<10?h:h-10,c&&(y[p]===0&&p>=u?y.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),t.integerLen++)}function yy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function hd(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Ey=/\s+/,mA=[],ioe=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=mA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Ey):mA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ey):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ey).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(X(or),X(Xs))},e.\u0275dir=Nt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[cn.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),soe=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=T0(this.ngComponentOutletNgModule,vA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(vA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,s]of this._inputsUsed)s?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(X(Vt))},e.\u0275dir=Nt({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[di]});let t=e;return t})();function vA(t){return t.get(xr).injector}var Cy=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ooe=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Cy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),yA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);yA(o,s)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(xn),X(fy))},e.\u0275dir=Nt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function yA(t,e){t.context.$implicit=e.item}var aoe=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new Sy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){EA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){EA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(xn))},e.\u0275dir=Nt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Sy=class{constructor(){this.$implicit=null,this.ngIf=null}};function EA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ot(e)}'.`)}var kB=!0,ld=class{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},PA=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=kB?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),coe=(()=>{let e=class e{constructor(n,r,s){this.ngSwitch=s,s._addCase(),this._view=new ld(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(xn),X(PA,9))},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),uoe=(()=>{let e=class e{constructor(n,r,s){s._addDefault(new ld(n,r))}};e.\u0275fac=function(r){return new(r||e)(X(Vt),X(xn),X(PA,9))},e.\u0275dir=Nt({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var loe=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(X(Vt))},e.\u0275dir=Nt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[di]});let t=e;return t})();function Fa(t,e){return new j(2100,!1)}var Iy=class{createSubscription(e,i){return Jl(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){Jl(()=>e.unsubscribe())}},Dy=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},UB=new Dy,jB=new Iy,doe=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(to(n))return UB;if(ly(n))return jB;throw Fa(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(_r,16))},e.\u0275pipe=Kt({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),foe=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Fa(e,n);return n.toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Kt({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var $B="mediumDate",BB=new S(""),VB=new S(""),FA=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??$B,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return EB(n,a,o||this.locale,c)}catch(a){throw Fa(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Oa,16),X(BB,24),X(VB,24))},e.\u0275pipe=Kt({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var hoe=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Kt({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function HB(t,e){return{key:t,value:e}}var poe=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=CA}transform(n,r=CA){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let s=this.differ.diff(n),o=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(HB(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};e.\u0275fac=function(r){return new(r||e)(X(hy,16))},e.\u0275pipe=Kt({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function CA(t,e){let i=t.key,n=e.key;if(i===n)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(i===null)return 1;if(n===null)return-1;if(typeof i=="string"&&typeof n=="string")return i<n?-1:1;if(typeof i=="number"&&typeof n=="number")return i-n;if(typeof i=="boolean"&&typeof n=="boolean")return i<n?-1:1;let r=String(i),s=String(n);return r==s?0:r<s?-1:1}var _A=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,r,s){if(!zB(n))return null;s||=this._locale;try{let o=GB(n);return PB(o,s,r)}catch(o){throw Fa(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(X(Oa,16))},e.\u0275pipe=Kt({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function zB(t){return!(t==null||t===""||t!==t)}function GB(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var goe=(()=>{let e=class e{transform(n,r,s){if(n==null)return null;if(!this.supports(n))throw Fa(e,n);return n.slice(r,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Kt({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ze=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),xy="browser",WB="server";function Pn(t){return t===xy}function ts(t){return t===WB}var LA=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>Pn(C($e))?new by(C(_e),window):new wy});let t=e;return t})(),by=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=qB(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function qB(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}var wy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},io=class{};var La=class{},ka=class{},le=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Fy=class{encodeKey(e){return kA(e)}encodeValue(e){return kA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function YB(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=i.get(o)||[];c.push(a),i.set(o,c)}),i}var KB=/%(\d[a-f0-9])/gi,ZB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kA(t){return encodeURIComponent(t).replace(KB,(e,i)=>ZB[i]??e)}function pd(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Fy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=YB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(pd):[pd(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(pd(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(pd(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Ua=class{constructor(e){this.defaultValue=e}},so=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function QB(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UA(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function jA(t){return typeof Blob<"u"&&t instanceof Blob}function $A(t){return typeof FormData<"u"&&t instanceof FormData}function JB(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _a=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(QB(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new le,this.context??=new so,!this.params)this.params=new ze,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UA(this.body)||jA(this.body)||$A(this.body)||JB(this.body)?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$A(this.body)?null:jA(this.body)?this.body.type||null:UA(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new t(i,n,o,{params:l,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},lr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(lr||{}),ja=class{constructor(e,i=$a.Ok,n="OK"){this.headers=e.headers||new le,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},gd=class t extends ja{constructor(e={}){super(e),this.type=lr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ns=class t extends ja{constructor(e={}){super(e),this.type=lr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},zt=class extends ja{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},$a=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}($a||{});function Ny(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Le=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof _a)o=n;else{let u;s.headers instanceof le?u=s.headers:u=new le(s.headers);let l;s.params&&(s.params instanceof ze?l=s.params:l=new ze({fromObject:s.params})),o=new _a(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=I(o).pipe(Ue(u=>this.handler.handle(u)));if(n instanceof _a||s.observe==="events")return a;let c=a.pipe(O(u=>u instanceof ns));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(E(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(E(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(E(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ze().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Ny(s,r))}post(n,r,s={}){return this.request("POST",n,Ny(s,r))}put(n,r,s={}){return this.request("PUT",n,Ny(s,r))}};e.\u0275fac=function(r){return new(r||e)(d(La))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),XB=/^\)\]\}',?\n/,eV="X-Request-URL";function BA(t){if(t.url)return t.url;let e=eV.toLocaleLowerCase();return t.headers.get(e)}var Py=(()=>{let e=class e{constructor(){this.fetchImpl=C(_y,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=C(Ce)}handle(n){return new z(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Ly,o=>r.error(new zt({error:o}))),()=>s.abort()})}doRequest(n,r,s){return nt(this,null,function*(){let o=this.createRequestInit(n),a;try{let y=this.fetchImpl(n.urlWithParams,v({signal:r},o));tV(y),s.next({type:lr.Sent}),a=yield y}catch(y){s.error(new zt({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let c=new le(a.headers),u=a.statusText,l=BA(a)??n.urlWithParams,f=a.status,h=null;if(n.reportProgress&&s.next(new gd({headers:c,status:f,statusText:u,url:l})),a.body){let y=a.headers.get("content-length"),b=[],w=a.body.getReader(),R=0,V,U,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>nt(this,null,function*(){for(;;){let{done:ue,value:he}=yield w.read();if(ue)break;if(b.push(he),R+=he.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(V??=new TextDecoder).decode(he,{stream:!0}):void 0;let Ne=()=>s.next({type:lr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:U});H?H.run(Ne):Ne()}}}));let te=this.concatChunks(b,R);try{let ue=a.headers.get("Content-Type")??"";h=this.parseBody(n,te,ue)}catch(ue){s.error(new zt({error:ue,headers:new le(a.headers),status:a.status,statusText:a.statusText,url:BA(a)??n.urlWithParams}));return}}f===0&&(f=h?$a.Ok:0),f>=200&&f<300?(s.next(new ns({body:h,headers:c,status:f,statusText:u,url:l})),s.complete()):s.error(new zt({error:h,headers:c,status:f,statusText:u,url:l}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(XB,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),_y=class{};function Ly(){}function tV(t){t.then(Ly,Ly)}function WA(t,e){return e(t)}function nV(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function rV(t,e,i){return(n,r)=>On(i,()=>e(n,s=>t(s,r)))}var gn=new S(""),ky=new S(""),iV=new S(""),qA=new S("");function sV(){let t=null;return(e,i)=>{t===null&&(t=(C(gn,{optional:!0})??[]).reduceRight(nV,WA));let n=C(Xi),r=n.add();return t(e,i).pipe(Dn(()=>n.remove(r)))}}var VA=(()=>{let e=class e extends La{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(Xi);let s=C(qA,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(ky),...this.injector.get(iV,[])]));this.chain=s.reduceRight((o,a)=>rV(o,a,this.injector),WA)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(Dn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(d(ka),d(Ct))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var oV=/^\)\]\}',?\n/;function aV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var HA=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):I(null)).pipe(x(()=>new z(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,R)=>a.setRequestHeader(w,R.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let w=a.statusText||"OK",R=new le(a.getAllResponseHeaders()),V=aV(a)||n.url;return u=new gd({headers:R,status:a.status,statusText:w,url:V}),u},f=()=>{let{headers:w,status:R,statusText:V,url:U}=l(),H=null;R!==$a.NoContent&&(H=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=H?$a.Ok:0);let te=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let ue=H;H=H.replace(oV,"");try{H=H!==""?JSON.parse(H):null}catch(he){H=ue,te&&(te=!1,H={error:he,text:H})}}te?(o.next(new ns({body:H,headers:w,status:R,statusText:V,url:U||void 0})),o.complete()):o.error(new zt({error:H,headers:w,status:R,statusText:V,url:U||void 0}))},h=w=>{let{url:R}=l(),V=new zt({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(V)},p=!1,y=w=>{p||(o.next(l()),p=!0);let R={type:lr.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),n.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=w=>{let R={type:lr.UploadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),o.next(R)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",y),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:lr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",y),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(d(io))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),YA=new S(""),cV="XSRF-TOKEN",uV=new S("",{providedIn:"root",factory:()=>cV}),lV="X-XSRF-TOKEN",dV=new S("",{providedIn:"root",factory:()=>lV}),md=class{},fV=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=hd(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(uV))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function hV(t,e){let i=t.url.toLowerCase();if(!C(YA)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(md).getToken(),r=C(dV);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var Uy=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Uy||{});function KA(t,e){return{\u0275kind:t,\u0275providers:e}}function Aoe(...t){let e=[Le,HA,VA,{provide:La,useExisting:VA},{provide:ka,useExisting:HA},{provide:ky,useValue:hV,multi:!0},{provide:YA,useValue:!0},{provide:md,useClass:fV}];for(let i of t)e.push(...i.\u0275providers);return sr(e)}var zA=new S("");function Roe(){return KA(Uy.LegacyInterceptors,[{provide:zA,useFactory:sV},{provide:ky,useExisting:zA,multi:!0}])}function Moe(){return KA(Uy.Fetch,[Py,{provide:ka,useExisting:Py},{provide:qA,useExisting:Py}])}var By=class extends ad{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Vy=class t extends By{static makeCurrent(){DA(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=pV();return i==null?null:gV(i)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hd(document.cookie,e)}},Ba=null;function pV(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}function gV(t){return new URL(t,document.baseURI).pathname}var Hy=class{addToWindow(e){Ge.getAngularTestability=(n,r=!0)=>{let s=e.findTestabilityInTree(n,r);if(s==null)throw new j(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ge.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?gi().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},mV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zy=new S(""),eR=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(d(zy),d(Ce))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vd=class{constructor(e){this._doc=e}},jy="ng-app-id",tR=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ts(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${jy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(jy),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(jy,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d(Aa),d(_v,8),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$y={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Wy=/%COMP%/g,nR="%COMP%",vV=`_nghost-${nR}`,yV=`_ngcontent-${nR}`,EV=!0,CV=new S("",{providedIn:"root",factory:()=>EV});function SV(t){return yV.replace(Wy,t)}function IV(t){return vV.replace(Wy,t)}function rR(t,e){return e.map(i=>i.replace(Wy,t))}var QA=(()=>{let e=class e{constructor(n,r,s,o,a,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ts(c),this.defaultRenderer=new Va(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rr.ShadowDom&&(r=T(v({},r),{encapsulation:rr.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof yd?s.applyToHost(n):s instanceof Ha&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case rr.Emulated:o=new yd(u,l,r,this.appId,f,a,c,h);break;case rr.ShadowDom:return new Gy(u,l,n,r,a,c,this.nonce,h);default:o=new Ha(u,l,r,f,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(d(eR),d(tR),d(Aa),d(CV),d(_e),d($e),d(Ce),d(_v))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS($y[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(JA(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(JA(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new j(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=$y[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=$y[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Mr.DashCase|Mr.Important)?e.style.setProperty(i,n,r&Mr.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Mr.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=gi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function JA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gy=class extends Va{constructor(e,i,n,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=rR(r.id,r.styles);for(let l of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ha=class extends Va{constructor(e,i,n,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?rR(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},yd=class extends Ha{constructor(e,i,n,r,s,o,a,c){let u=r+"-"+n.id;super(e,i,n,s,o,a,c,u),this.contentAttr=SV(u),this.hostAttr=IV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},DV=(()=>{let e=class e extends vd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),XA=["alt","control","meta","shift"],bV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TV=(()=>{let e=class e extends vd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),XA.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let s=bV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),XA.forEach(a=>{if(a!==s){let c=wV[a];c(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function AV(){Vy.makeCurrent()}function RV(){return new It}function MV(){return MT(document),document}var xV=[{provide:$e,useValue:xy},{provide:Fv,useValue:AV,multi:!0},{provide:_e,useFactory:MV,deps:[]}],Boe=dy(cA,"browser",xV),OV=new S(""),NV=[{provide:xa,useClass:Hy,deps:[]},{provide:cy,useClass:Kl,deps:[Ce,Zl,xa]},{provide:Kl,useClass:Kl,deps:[Ce,Zl,xa]}],PV=[{provide:bl,useValue:"root"},{provide:It,useFactory:RV,deps:[]},{provide:zy,useClass:DV,multi:!0,deps:[_e,Ce,$e]},{provide:zy,useClass:TV,multi:!0,deps:[_e]},QA,tR,eR,{provide:Ki,useExisting:QA},{provide:io,useClass:mV,deps:[]},[]],Voe=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Aa,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(d(OV,12))},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[...PV,...NV],imports:[Ze,uA]});let t=e;return t})(),qy=(()=>{let e=class e{constructor(n){this._doc=n,this._dom=gi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,r)),s),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let s=this.getTag(r);return s?this._setMetaElementAttributes(n,s):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let a=this._parseSelector(n),c=this.getTags(a).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(n,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),n[s])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(s=>r.getAttribute(this._getMetaKeyMap(s))===n[s])}_getMetaKeyMap(n){return FV[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FV={httpEquiv:"http-equiv"},iR=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _V=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(LV),s},providedIn:"root"});let t=e;return t})(),LV=(()=>{let e=class e extends _V{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case hn.NONE:return r;case hn.HTML:return ar(r,"HTML")?Bt(r):kv(this._doc,String(r)).toString();case hn.STYLE:return ar(r,"Style")?Bt(r):r;case hn.SCRIPT:if(ar(r,"Script"))return Bt(r);throw new j(5200,!1);case hn.URL:return ar(r,"URL")?Bt(r):Pl(String(r));case hn.RESOURCE_URL:if(ar(r,"ResourceURL"))return Bt(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(n){return NT(n)}bypassSecurityTrustStyle(n){return PT(n)}bypassSecurityTrustScript(n){return FT(n)}bypassSecurityTrustUrl(n){return _T(n)}bypassSecurityTrustResourceUrl(n){return LT(n)}};e.\u0275fac=function(r){return new(r||e)(d(_e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yy(t,e){let i=!e?.manualCleanup;i&&!e?.injector&&Ia(Yy);let n=i?e?.injector?.get(hi)??C(hi):null,r;e?.requireSync?r=Xv({kind:0}):r=Xv({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return n?.onDestroy(s.unsubscribe.bind(s)),Ql(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var Jy={};function mi(t,e){if(Jy[t]=(Jy[t]||0)+1,typeof e=="function")return Ky(t,(...n)=>T(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return Ky(t,()=>({type:t}));case"props":return Ky(t,n=>T(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function ao(){return{_as:"props",_p:void 0}}function Ky(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Id="@ngrx/store/init",Br=(()=>{let e=class e extends Te{constructor(){super({type:Id})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),UV=[Br],CR=new S("@ngrx/store Internal Root Guard"),sR=new S("@ngrx/store Internal Initial State"),nE=new S("@ngrx/store Initial State"),SR=new S("@ngrx/store Reducer Factory"),oR=new S("@ngrx/store Internal Reducer Factory Provider"),IR=new S("@ngrx/store Initial Reducers"),Zy=new S("@ngrx/store Internal Initial Reducers"),aR=new S("@ngrx/store Store Features"),cR=new S("@ngrx/store Internal Store Reducers"),Qy=new S("@ngrx/store Internal Feature Reducers"),uR=new S("@ngrx/store Internal Feature Configs"),DR=new S("@ngrx/store Internal Store Features"),lR=new S("@ngrx/store Internal Feature Reducers Token"),bR=new S("@ngrx/store Feature Reducers"),dR=new S("@ngrx/store User Provided Meta Reducers"),oo=new S("@ngrx/store Meta Reducers"),fR=new S("@ngrx/store Internal Resolved Meta Reducers"),hR=new S("@ngrx/store User Runtime Checks Config"),pR=new S("@ngrx/store Internal User Runtime Checks Config"),rs=new S("@ngrx/store Internal Runtime Checks"),rE=new S("@ngrx/store Check if Action types are unique"),jV=new S("@ngrx/store Root Store Provider"),$V=new S("@ngrx/store Feature State Provider");function is(t,e={}){let i=Object.keys(t),n={};for(let s=0;s<i.length;s++){let o=i[s];typeof t[o]=="function"&&(n[o]=t[o])}let r=Object.keys(n);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let l=0;l<r.length;l++){let f=r[l],h=n[f],p=o[f],y=h(p,a);u[f]=y,c=c||y!==p}return c?u:o}}function BV(t,e){return Object.keys(t).filter(i=>i!==e).reduce((i,n)=>Object.assign(i,{[n]:t[n]}),{})}function wR(...t){return function(e){if(t.length===0)return e;let i=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),i(e))}}function TR(t,e){return Array.isArray(e)&&e.length>0&&(t=wR.apply(null,[...e,t])),(i,n)=>{let r=t(i);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function VV(t){let e=Array.isArray(t)&&t.length>0?wR(...t):i=>i;return(i,n)=>(i=e(i),(r,s)=>(r=r===void 0?n:r,i(r,s)))}var za=class extends z{},Ed=class extends Br{},HV="@ngrx/store/update-reducers",Cd=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:l})=>{let f=typeof o=="function"?VV(c)(o,u):TR(a,c)(o,u);return s[l]=f,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=BV(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:HV,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(d(Ed),d(nE),d(IR),d(SR))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zV=[Cd,{provide:za,useExisting:Cd},{provide:Ed,useExisting:Br}],Ga=(()=>{let e=class e extends re{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),GV=[Ga],Sd=class extends z{},gR=(()=>{let e=class e extends Te{constructor(n,r,s,o){super(o);let c=n.pipe(sn(ii)).pipe(it(r)),u={state:o},l=c.pipe(Ui(WV,u));this.stateSubscription=l.subscribe(({state:f,action:h})=>{this.next(f),s.next(h)}),this.state=Yy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Id,e.\u0275fac=function(r){return new(r||e)(d(Br),d(za),d(Ga),d(nE))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function WV(t={state:void 0},[e,i]){let{state:n}=t;return{state:i(n,e),action:e}}var qV=[gR,{provide:Sd,useExisting:gR}],fe=(()=>{let e=class e extends z{constructor(n,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...r){return M.call(null,n,...r)(this)}selectSignal(n,r){return Ql(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(d(Sd),d(Br),d(Cd))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),YV=[fe];function M(t,e,...i){return function(r){let s;if(typeof t=="string"){let o=[e,...i].filter(Boolean);s=r.pipe(jg(t,...o))}else if(typeof t=="function")s=r.pipe(E(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(an())}}var iE="https://ngrx.io/guide/store/configuration/runtime-checks";function mR(t){return t===void 0}function vR(t){return t===null}function AR(t){return Array.isArray(t)}function KV(t){return typeof t=="string"}function ZV(t){return typeof t=="boolean"}function QV(t){return typeof t=="number"}function RR(t){return typeof t=="object"&&t!==null}function JV(t){return RR(t)&&!AR(t)}function XV(t){if(!JV(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Xy(t){return typeof t=="function"}function e2(t){return Xy(t)&&t.hasOwnProperty("\u0275cmp")}function t2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var n2=!1;function sE(){return n2}function yR(t,e){return t===e}function r2(t,e,i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!0;return!1}function MR(t,e=yR,i=yR){let n=null,r=null,s;function o(){n=null,r=null}function a(l=void 0){s={result:l}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!n)return r=t.apply(null,arguments),n=arguments,r;if(!r2(arguments,n,e))return r;let l=t.apply(null,arguments);return n=arguments,i(r,l)?r:(r=l,l)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function A(...t){return s2(MR)(...t)}function i2(t,e,i,n){if(i===void 0){let s=e.map(o=>o(t));return n.memoized.apply(null,s)}let r=e.map(s=>s(t,i));return n.memoized.apply(null,[...r,i])}function s2(t,e={stateFn:i2}){return function(...i){let n=i;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&o2(n[0])&&(n=a2(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(l=>l.release&&typeof l.release=="function"),a=t(function(...l){return s.apply(null,l)}),c=MR(function(l,f){return e.stateFn.apply(null,[l,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Fn(t){return A(e=>{let i=e[t];return!sE()&&me()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),i},e=>e)}function o2(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function a2(t){let e=Object.values(t),i=Object.keys(t),n=(...r)=>i.reduce((s,o,a)=>T(v({},s),{[o]:r[a]}),{});return[...e,n]}function c2(t){return t instanceof S?C(t):t}function u2(t,e){return e.map((i,n)=>{if(t[n]instanceof S){let r=C(t[n]);return{key:i.key,reducerFactory:r.reducerFactory?r.reducerFactory:is,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return i})}function l2(t){return t.map(e=>e instanceof S?C(e):e)}function xR(t){return typeof t=="function"?t():t}function d2(t,e){return t.concat(e)}function f2(){if(C(fe,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function h2(t,e){return function(i,n){let r=e.action(n)?eE(n):n,s=t(i,r);return e.state()?eE(s):s}}function eE(t){Object.freeze(t);let e=Xy(t);return Object.getOwnPropertyNames(t).forEach(i=>{if(!i.startsWith("\u0275")&&t2(t,i)&&(!e||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=t[i];(RR(n)||Xy(n))&&!Object.isFrozen(n)&&eE(n)}}),t}function p2(t,e){return function(i,n){if(e.action(n)){let s=tE(n);ER(s,"action")}let r=t(i,n);if(e.state()){let s=tE(r);ER(s,"state")}return r}}function tE(t,e=[]){return(mR(t)||vR(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let s=t[r];return e2(s)?n:mR(s)||vR(s)||QV(s)||ZV(s)||KV(s)||AR(s)?!1:XV(s)?tE(s,[...e,r]):{path:[...e,r],value:s}},!1)}function ER(t,e){if(t===!1)return;let i=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${i}". ${iE}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=i,n}function g2(t,e){return function(i,n){if(e.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${iE}#strictactionwithinngzone`);return t(i,n)}}function m2(t){return me()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function v2({strictActionSerializability:t,strictStateSerializability:e}){return i=>t||e?p2(i,{action:n=>t&&!oE(n),state:()=>e}):i}function y2({strictActionImmutability:t,strictStateImmutability:e}){return i=>t||e?h2(i,{action:n=>t&&!oE(n),state:()=>e}):i}function oE(t){return t.type.startsWith("@ngrx")}function E2({strictActionWithinNgZone:t}){return e=>t?g2(e,{action:i=>t&&!oE(i)}):e}function C2(t){return[{provide:pR,useValue:t},{provide:hR,useFactory:S2,deps:[pR]},{provide:rs,deps:[hR],useFactory:m2},{provide:oo,multi:!0,deps:[rs],useFactory:y2},{provide:oo,multi:!0,deps:[rs],useFactory:v2},{provide:oo,multi:!0,deps:[rs],useFactory:E2}]}function OR(){return[{provide:rE,multi:!0,deps:[rs],useFactory:I2}]}function S2(t){return t}function I2(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Jy).filter(([,i])=>i>1).map(([i])=>i);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(i=>`"${i}"`).join(", ")}. ${iE}#strictactiontypeuniqueness`)}function D2(t={},e={}){return[{provide:CR,useFactory:f2},{provide:sR,useValue:e.initialState},{provide:nE,useFactory:xR,deps:[sR]},{provide:Zy,useValue:t},{provide:cR,useExisting:t instanceof S?t:Zy},{provide:IR,deps:[Zy,[new vv(cR)]],useFactory:c2},{provide:dR,useValue:e.metaReducers?e.metaReducers:[]},{provide:fR,deps:[oo,dR],useFactory:d2},{provide:oR,useValue:e.reducerFactory?e.reducerFactory:is},{provide:SR,deps:[oR,fR],useFactory:TR},UV,zV,GV,qV,YV,C2(e.runtimeChecks),OR()]}function b2(t,e,i={}){return[{provide:uR,multi:!0,useValue:t instanceof Object?{}:i},{provide:aR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(i instanceof S)&&i.reducerFactory?i.reducerFactory:is,metaReducers:!(i instanceof S)&&i.metaReducers?i.metaReducers:[],initialState:!(i instanceof S)&&i.initialState?i.initialState:void 0}},{provide:DR,deps:[uR,aR],useFactory:u2},{provide:Qy,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:lR,multi:!0,useExisting:e instanceof S?e:Qy},{provide:bR,multi:!0,deps:[Qy,[new vv(lR)]],useFactory:l2},OR()]}var Wa=(()=>{let e=class e{constructor(n,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(d(Br),d(za),d(Ga),d(fe),d(CR,8),d(rE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Dd=(()=>{let e=class e{constructor(n,r,s,o,a){this.features=n,this.featureReducers=r,this.reducerManager=s;let c=n.map((u,l)=>{let h=r.shift()[l];return T(v({},u),{reducers:h,initialState:xR(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(d(DR),d(bR),d(Cd),d(Wa),d(rE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),dr=(()=>{let e=class e{static forRoot(n,r){return{ngModule:Wa,providers:[...D2(n,r)]}}static forFeature(n,r,s={}){return{ngModule:Dd,providers:[...b2(n,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function nae(...t){let e=t.pop(),i=t.map(n=>n.type);return{reducer:e,types:i}}function rae(t,...e){let i=new Map;for(let n of e)for(let r of n.types){let s=i.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);i.set(r,o)}else i.set(r,n.reducer)}return function(n=t,r){let s=i.get(r.type);return s?s(n,r):n}}var w2={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},wd="__@ngrx/effects_create__";function W(t,e={}){let i=e.functional?t:t(),n=v(v({},w2),e);return Object.defineProperty(i,wd,{value:n}),i}function T2(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(wd)?t[n][wd].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][wd];return v({propertyName:n},r)})}function A2(t){return T2(t)}function _R(t){return Object.getPrototypeOf(t)}function R2(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function LR(t){return typeof t=="function"}function NR(t){return t.filter(LR)}function M2(t){return t instanceof S||LR(t)}function x2(t,e,i){let n=_R(t),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=A2(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof t[a]=="function"?t[a]():t[a],f=u?i(l,e):l;return c===!1?f.pipe(Zo()):f.pipe(Ug()).pipe(E(p=>({effect:t[a],notification:p,propertyName:a,sourceName:s,sourceInstance:t})))});return on(...o)}var O2=10;function kR(t,e,i=O2){return t.pipe(F(n=>(e&&e.handleError(n),i<=1?t:kR(t,e,i-1))))}var Ae=(()=>{let e=class e extends z{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(d(Ga))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function k(...t){return O(e=>t.some(i=>typeof i=="string"?i===e.type:i.type===e.type))}var UR=new S("@ngrx/effects Internal Root Guard"),bd=new S("@ngrx/effects User Provided Effects"),cE=new S("@ngrx/effects Internal Root Effects"),jR=new S("@ngrx/effects Internal Root Effects Instances"),PR=new S("@ngrx/effects Internal Feature Effects"),$R=new S("@ngrx/effects Internal Feature Effects Instance Groups"),N2=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>kR}),BR="@ngrx/effects/init",hae=mi(BR);function P2(t,e){if(t.notification.kind==="N"){let i=t.notification.value;!F2(i)&&e.handleError(new Error(`Effect ${_2(t)} dispatched an invalid action: ${L2(i)}`))}}function F2(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function _2({propertyName:t,sourceInstance:e,sourceName:i}){let n=typeof e[t]=="function";return!!i?`"${i}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function L2(t){try{return JSON.stringify(t)}catch{return t}}var k2="ngrxOnIdentifyEffects";function U2(t){return uE(t,k2)}var j2="ngrxOnRunEffects";function $2(t){return uE(t,j2)}var B2="ngrxOnInitEffects";function V2(t){return uE(t,B2)}function uE(t,e){return t&&e in t&&typeof t[e]=="function"}var VR=(()=>{let e=class e extends re{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(wr(n=>R2(n)?_R(n):n),G(n=>n.pipe(wr(H2))),G(n=>{let r=n.pipe(Xn(o=>z2(this.errorHandler,this.effectsErrorHandler)(o)),E(o=>(P2(o,this.errorHandler),o.notification)),O(o=>o.kind==="N"&&o.value!=null),Lg()),s=n.pipe(ie(1),O(V2),E(o=>o.ngrxOnInitEffects()));return on(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(d(It),d(N2))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H2(t){return U2(t)?t.ngrxOnIdentifyEffects():""}function z2(t,e){return i=>{let n=x2(i,t,e);return $2(i)?i.ngrxOnRunEffects(n):n}}var HR=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(d(VR),d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zR=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.sources=n,r.start();for(let l of o)n.addEffects(l);s.dispatch({type:BR})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(d(VR),d(HR),d(fe),d(jR),d(Wa,8),d(Dd,8),d(UR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),G2=(()=>{let e=class e{constructor(n,r,s,o){let a=r.flat();for(let c of a)n.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(d(zR),d($R),d(Wa,8),d(Dd,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Vr=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),s=NR(r);return{ngModule:G2,providers:[s,{provide:PR,multi:!0,useValue:r},{provide:bd,multi:!0,useValue:[]},{provide:$R,multi:!0,useFactory:FR,deps:[PR,bd]}]}}static forRoot(...n){let r=n.flat(),s=NR(r);return{ngModule:zR,providers:[s,{provide:cE,useValue:[r]},{provide:UR,useFactory:W2},{provide:bd,multi:!0,useValue:[]},{provide:jR,useFactory:FR,deps:[cE,bd]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function FR(t,e){let i=[];for(let n of t)i.push(...n);for(let n of e)i.push(...n);return i.map(n=>M2(n)?C(n):n)}function W2(){let t=C(HR,{optional:!0,skipSelf:!0}),e=C(cE,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",sc=Symbol("RouteTitle"),pE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function ho(t){return new pE(t)}function Y2(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function K2(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!fr(t[i],e[i]))return!1;return!0}function fr(t,e){let i=t?gE(t):void 0,n=e?gE(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!eM(t[r],e[r]))return!1;return!0}function gE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function eM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function tM(t){return t.length>0?t[t.length-1]:null}function Ei(t){return Fi(t)?t:to(t)?ge(Promise.resolve(t)):I(t)}var Z2={exact:rM,subset:iM},nM={exact:Q2,subset:J2,ignored:()=>!0};function GR(t,e,i){return Z2[i.paths](t.root,e.root,i.matrixParams)&&nM[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function Q2(t,e){return fr(t,e)}function rM(t,e,i){if(!os(t.segments,e.segments)||!Rd(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!rM(t.children[n],e.children[n],i))return!1;return!0}function J2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>eM(t[i],e[i]))}function iM(t,e,i){return sM(t,e,e.segments,i)}function sM(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!os(r,i)||e.hasChildren()||!Rd(r,i,n))}else if(t.segments.length===i.length){if(!os(t.segments,i)||!Rd(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!iM(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!os(t.segments,r)||!Rd(t.segments,r,n)||!t.children[ee]?!1:sM(t.children[ee],e,s,n)}}function Rd(t,e,i){return e.every((n,r)=>nM[i](t[r].parameters,n.parameters))}var vi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=ho(this.queryParams),this._queryParamMap}toString(){return tH.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Md(this)}},ss=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=ho(this.parameters),this._parameterMap}toString(){return aM(this)}};function X2(t,e){return os(t,e)&&t.every((i,n)=>fr(i.parameters,e[n].parameters))}function os(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function eH(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ee&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ee&&(i=i.concat(e(r,n)))}),i}var us=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new as,providedIn:"root"});let t=e;return t})(),as=class{parse(e){let i=new vE(e);return new vi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${qa(e.root,!0)}`,n=iH(e.queryParams),r=typeof e.fragment=="string"?`#${nH(e.fragment)}`:"";return`${i}${n}${r}`}},tH=new as;function Md(t){return t.segments.map(e=>aM(e)).join("/")}function qa(t,e){if(!t.hasChildren())return Md(t);if(e){let i=t.children[ee]?qa(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ee&&n.push(`${r}:${qa(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=eH(t,(n,r)=>r===ee?[qa(t.children[ee],!1)]:[`${r}:${qa(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Md(t)}/${i[0]}`:`${Md(t)}/(${i.join("//")})`}}function oM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Td(t){return oM(t).replace(/%3B/gi,";")}function nH(t){return encodeURI(t)}function mE(t){return oM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(t){return decodeURIComponent(t)}function WR(t){return xd(t.replace(/\+/g,"%20"))}function aM(t){return`${mE(t.path)}${rH(t.parameters)}`}function rH(t){return Object.entries(t).map(([e,i])=>`;${mE(e)}=${mE(i)}`).join("")}function iH(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Td(i)}=${Td(r)}`).join("&"):`${Td(i)}=${Td(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var sH=/^[^\/()?;#]+/;function lE(t){let e=t.match(sH);return e?e[0]:""}var oH=/^[^\/()?;=#]+/;function aH(t){let e=t.match(oH);return e?e[0]:""}var cH=/^[^=?&#]+/;function uH(t){let e=t.match(cH);return e?e[0]:""}var lH=/^[^&#]+/;function dH(t){let e=t.match(lH);return e?e[0]:""}var vE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ee]=new De(e,i)),n}parseSegment(){let e=lE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new ss(xd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=aH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=lE(this.remaining);r&&(n=r,this.capture(n))}e[xd(i)]=xd(n)}parseQueryParam(e){let i=uH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=dH(this.remaining);o&&(n=o,this.capture(n))}let r=WR(i),s=WR(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=lE(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ee]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function cM(t){return t.segments.length>0?new De([],{[ee]:t}):t}function uM(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=uM(r);if(n===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return fH(i)}function fH(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new De(t.segments.concat(e.segments),e.children)}return t}function po(t){return t instanceof vi}function hH(t,e,i=null,n=null){let r=lM(t);return dM(r,e,i,n)}function lM(t){let e;function i(s){let o={};for(let c of s.children){let u=i(c);o[c.outlet]=u}let a=new De(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=cM(n);return e??r}function dM(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return dE(r,r,r,i,n);let s=pH(e);if(s.toRoot())return dE(r,r,new De([],{}),i,n);let o=gH(s,r,t),a=o.processChildren?Za(o.segmentGroup,o.index,s.commands):hM(o.segmentGroup,o.index,s.commands);return dE(r,o.segmentGroup,a,i,n)}function Od(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Xa(t){return typeof t=="object"&&t!=null&&t.outlets}function dE(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=i:o=fM(t,e,i);let a=cM(uM(o));return new vi(a,s,r)}function fM(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=fM(s,e,i)}),new De(t.segments,n)}var Nd=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Od(n[0]))throw new j(4003,!1);let r=n.find(Xa);if(r&&r!==tM(n))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nd(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Nd(i,e,n)}var lo=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function gH(t,e,i){if(t.isAbsolute)return new lo(e,!0,0);if(!i)return new lo(e,!1,NaN);if(i.parent===null)return new lo(i,!0,0);let n=Od(t.commands[0])?0:1,r=i.segments.length-1+n;return mH(i,r,t.numberOfDoubleDots)}function mH(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new j(4005,!1);r=n.segments.length}return new lo(n,!1,r-s)}function vH(t){return Xa(t[0])?t[0].outlets:{[ee]:t}}function hM(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Za(t,e,i);let n=yH(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ee]=new De(t.segments.slice(n.pathIndex),t.children),Za(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?yE(t,e,i):n.match?Za(t,0,r):yE(t,e,i)}function Za(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=vH(i),r={};if(Object.keys(n).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=Za(t.children[ee],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=hM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function yH(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(Xa(a))break;let c=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!YR(c,u,o))return s;n+=2}else{if(!YR(c,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function yE(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Xa(s)){let c=EH(s.outlets);return new De(n,c)}if(r===0&&Od(i[0])){let c=t.segments[e];n.push(new ss(c.path,qR(i[0]))),r++;continue}let o=Xa(s)?s.outlets[ee]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Od(a)?(n.push(new ss(o,qR(a))),r+=2):(n.push(new ss(o,{})),r++)}return new De(n,{})}function EH(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=yE(new De([],{}),0,n))}),e}function qR(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function YR(t,e,i){return t==i.path&&fr(e,i.parameters)}var Qa="imperative",at=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(at||{}),mn=class{constructor(e,i){this.id=e,this.url=i}},vn=class extends mn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=at.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ot=class extends mn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=at.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Xt||{}),Pd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pd||{}),yn=class extends mn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=at.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends mn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=at.NavigationSkipped}},hr=class extends mn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=at.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cs=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},EE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},CE=class extends mn{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=at.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},SE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IE=class extends mn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=at.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DE=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bE=class{constructor(e){this.route=e,this.type=at.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wE=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},TE=class{constructor(e){this.snapshot=e,this.type=at.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},AE=class{constructor(e){this.snapshot=e,this.type=at.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RE=class{constructor(e){this.snapshot=e,this.type=at.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fd=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=at.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ec=class{},tc=class{constructor(e){this.url=e}};var ME=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new oc,this.attachRef=null}},oc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ME,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_d=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=xE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=xE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=OE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return OE(e,this._root).map(i=>i.value)}};function xE(t,e){if(t===e.value)return e;for(let i of e.children){let n=xE(t,i);if(n)return n}return null}function OE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=OE(t,i);if(n.length)return n.unshift(e),n}return[]}var Jt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function uo(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var Ld=class extends _d{constructor(e,i){super(e),this.snapshot=i,BE(this,e)}toString(){return this.snapshot.toString()}};function pM(t){let e=CH(t),i=new Te([new ss("",{})]),n=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new Hr(i,n,s,o,r,ee,t,e.root);return a.snapshot=e.root,new Ld(new Jt(a,[]),e)}function CH(t){let e={},i={},n={},r="",s=new nc([],e,n,r,i,ee,t,null,{});return new kd("",new Jt(s,[]))}var Hr=class{constructor(e,i,n,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(u=>u[sc]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(e=>ho(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(e=>ho(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $E(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&mM(r)&&(n.resolve[sc]=r.title),n}var nc=class{get title(){return this.data?.[sc]}constructor(e,i,n,r,s,o,a,c,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ho(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ho(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},kd=class extends _d{constructor(e,i){super(i),this.url=e,BE(this,i)}toString(){return gM(this._root)}};function BE(t,e){e.value._routerState=t,e.children.forEach(i=>BE(t,i))}function gM(t){let e=t.children.length>0?` { ${t.children.map(gM).join(", ")} } `:"";return`${t.value}${e}`}function fE(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,fr(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),fr(e.params,i.params)||t.paramsSubject.next(i.params),K2(e.url,i.url)||t.urlSubject.next(i.url),fr(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function NE(t,e){let i=fr(t.params,e.params)&&X2(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||NE(t.parent,e.parent))}function mM(t){return typeof t.title=="string"||t.title===null}var SH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=C(oc),this.location=C(Vt),this.changeDetector=C(_r),this.environmentInjector=C(Ct),this.inputBinder=C(Vd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new PE(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[di]});let t=e;return t})(),PE=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Hr?this.route:e===oc?this.childContexts:this.parent.get(e,i)}},Vd=new S(""),KR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Pe([r.queryParams,r.params,r.data]).pipe(x(([o,a,c],u)=>(c=v(v(v({},o),a),c),u===0?I(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=lA(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function IH(t,e,i){let n=rc(t,e._root,i?i._root:void 0);return new Ld(n,e)}function rc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=DH(t,e,i);return new Jt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rc(t,a)),o}}let n=bH(e.value),r=e.children.map(s=>rc(t,s));return new Jt(n,r)}}function DH(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return rc(t,n,r);return rc(t,n)})}function bH(t){return new Hr(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var vM="ngNavigationCancelingError";function yM(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=po(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=EM(!1,Xt.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function EM(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[vM]=!0,i.cancellationCode=e,i}function wH(t){return CM(t)&&po(t.url)}function CM(t){return!!t&&t[vM]}var TH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Pw({type:e,selectors:[["ng-component"]],standalone:!0,features:[Q0],decls:1,vars:0,template:function(r,s){r&1&&oy(0,"router-outlet")},dependencies:[SH],encapsulation:2});let t=e;return t})();function AH(t,e){return t.providers&&!t._injector&&(t._injector=Hl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function VE(t){let e=t.children&&t.children.map(VE),i=e?T(v({},t),{children:e}):v({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ee&&(i.component=TH),i}function pr(t){return t.outlet||ee}function RH(t,e){let i=t.filter(n=>pr(n)===e);return i.push(...t.filter(n=>pr(n)!==e)),i}function ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var MH=(t,e,i,n)=>E(r=>(new FE(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),FE=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),fE(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=uo(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=uo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=uo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=uo(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new RE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new TE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(fE(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),fE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ac(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},Ud=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fo=class{constructor(e,i){this.component=e,this.route=i}};function xH(t,e,i){let n=t._root,r=e?e._root:null;return Ya(n,r,i,[n.value])}function OH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function mo(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!Cw(t)?t:e.get(t):n}function Ya(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=uo(e);return t.children.forEach(o=>{NH(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ja(a,i.getContext(o),r)),r}function NH(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=PH(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Ud(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ya(t,e,a?a.children:null,n,r):Ya(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new fo(a.outlet.component,o))}else o&&Ja(e,a,r),r.canActivateChecks.push(new Ud(n)),s.component?Ya(t,null,a?a.children:null,n,r):Ya(t,null,i,n,r);return r}function PH(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!NE(t,e)||!fr(t.queryParams,e.queryParams);case"paramsChange":default:return!NE(t,e)}}function Ja(t,e,i){let n=uo(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?Ja(o,e.children.getContext(s),i):Ja(o,null,i):Ja(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new fo(e.outlet.component,r)):i.canDeactivateChecks.push(new fo(null,r)):i.canDeactivateChecks.push(new fo(null,r))}function cc(t){return typeof t=="function"}function FH(t){return typeof t=="boolean"}function _H(t){return t&&cc(t.canLoad)}function LH(t){return t&&cc(t.canActivate)}function kH(t){return t&&cc(t.canActivateChild)}function UH(t){return t&&cc(t.canDeactivate)}function jH(t){return t&&cc(t.canMatch)}function SM(t){return t instanceof In||t?.name==="EmptyError"}var Ad=Symbol("INITIAL_VALUE");function go(){return x(t=>Pe(t.map(e=>e.pipe(ie(1),Qn(Ad)))).pipe(E(e=>{for(let i of e)if(i!==!0){if(i===Ad)return Ad;if(i===!1||i instanceof vi)return i}return!0}),O(e=>e!==Ad),ie(1)))}function $H(t,e){return G(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?I(T(v({},i),{guardsResult:!0})):BH(o,n,r,t).pipe(G(a=>a&&FH(a)?VH(n,s,t,e):I(a)),E(a=>T(v({},i),{guardsResult:a})))})}function BH(t,e,i,n){return ge(t).pipe(G(r=>qH(r.component,r.route,i,e,n)),Rt(r=>r!==!0,!0))}function VH(t,e,i,n){return ge(e).pipe(Ue(r=>Kn(zH(r.route.parent,n),HH(r.route,n),WH(t,r.path,i),GH(t,r.route,i))),Rt(r=>r!==!0,!0))}function HH(t,e){return t!==null&&e&&e(new AE(t)),I(!0)}function zH(t,e){return t!==null&&e&&e(new wE(t)),I(!0)}function GH(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(s=>qe(()=>{let o=ac(e)??i,a=mo(s,o),c=LH(a)?a.canActivate(e,t):On(o,()=>a(e,t));return Ei(c).pipe(Rt())}));return I(r).pipe(go())}function WH(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OH(o)).filter(o=>o!==null).map(o=>qe(()=>{let a=o.guards.map(c=>{let u=ac(o.node)??i,l=mo(c,u),f=kH(l)?l.canActivateChild(n,t):On(u,()=>l(n,t));return Ei(f).pipe(Rt())});return I(a).pipe(go())}));return I(s).pipe(go())}function qH(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=ac(e)??r,u=mo(a,c),l=UH(u)?u.canDeactivate(t,e,i,n):On(c,()=>u(t,e,i,n));return Ei(l).pipe(Rt())});return I(o).pipe(go())}function YH(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let s=r.map(o=>{let a=mo(o,t),c=_H(a)?a.canLoad(e,i):On(t,()=>a(e,i));return Ei(c)});return I(s).pipe(go(),IM(n))}function IM(t){return bg(L(e=>{if(po(e))throw yM(t,e)}),E(e=>e===!0))}function KH(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let s=r.map(o=>{let a=mo(o,t),c=jH(a)?a.canMatch(e,i):On(t,()=>a(e,i));return Ei(c)});return I(s).pipe(go(),IM(n))}var ic=class{constructor(e){this.segmentGroup=e||null}},jd=class extends Error{constructor(e){super(),this.urlTree=e}};function co(t){return Mt(new ic(t))}function ZH(t){return Mt(new j(4e3,!1))}function QH(t){return Mt(EM(!1,Xt.GuardRejected))}var _E=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[ee])return ZH(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new jd(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new vi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},LE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JH(t,e,i,n,r){let s=HE(t,e,i);return s.matched?(n=AH(e,n),KH(n,e,i,r).pipe(E(o=>o===!0?s:v({},LE)))):I(s)}function HE(t,e,i){if(e.path==="**")return XH(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?v({},LE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Y2)(i,t,e);if(!r)return v({},LE);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function XH(t){return{matched:!0,parameters:t.length>0?tM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function ZR(t,e,i,n){return i.length>0&&nz(t,i,n)?{segmentGroup:new De(e,tz(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&rz(t,i,n)?{segmentGroup:new De(t.segments,ez(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function ez(t,e,i,n){let r={};for(let s of i)if(Hd(t,e,s)&&!n[pr(s)]){let o=new De([],{});r[pr(s)]=o}return v(v({},n),r)}function tz(t,e){let i={};i[ee]=e;for(let n of t)if(n.path===""&&pr(n)!==ee){let r=new De([],{});i[pr(n)]=r}return i}function nz(t,e,i){return i.some(n=>Hd(t,e,n)&&pr(n)!==ee)}function rz(t,e,i){return i.some(n=>Hd(t,e,n))}function Hd(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function iz(t,e,i,n){return pr(t)!==n&&(n===ee||!Hd(e,i,t))?!1:HE(e,t,i).matched}function sz(t,e,i){return e.length===0&&!t.children[i]}var kE=class{};function oz(t,e,i,n,r,s,o="emptyOnly"){return new UE(t,e,i,n,r,o,s).recognize()}var az=31,UE=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _E(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(i=>{let n=new nc([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new Jt(n,i),s=new kd("",r),o=hH(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(F(n=>{if(n instanceof jd)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ic?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=$E(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(E(s=>s instanceof Jt?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return ge(r).pipe(Ue(s=>{let o=n.children[s],a=RH(i,s);return this.processSegmentGroup(e,a,o,s)}),Ui((s,o)=>(s.push(...o),s)),ni(null),kg(),G(s=>{if(s===null)return co(n);let o=DM(s);return cz(o),I(o)}))}processSegment(e,i,n,r,s,o){return ge(i).pipe(Ue(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(F(c=>{if(c instanceof ic)return I(null);throw c}))),Rt(a=>!!a),F(a=>{if(SM(a))return sz(n,r,s)?I(new kE):co(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return iz(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):co(r):co(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=HE(i,r,s);if(!a)return co(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>az&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(G(h=>this.processSegment(e,n,i,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=JH(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(x(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(x(({routes:c})=>{let u=n._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:h}=a,p=new nc(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,lz(n),pr(n),n.component??n._loadedComponent??null,n,dz(n)),{segmentGroup:y,slicedSegments:b}=ZR(i,l,f,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y).pipe(E(R=>R===null?null:new Jt(p,R)));if(c.length===0&&b.length===0)return I(new Jt(p,[]));let w=pr(n)===s;return this.processSegment(u,c,y,b,w?ee:s,!0).pipe(E(R=>new Jt(p,R instanceof Jt?[R]:[])))}))):co(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):YH(e,i,n,this.urlSerializer).pipe(G(r=>r?this.configLoader.loadChildren(e,i).pipe(L(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):QH(i))):I({routes:[],injector:e})}};function cz(t){t.sort((e,i)=>e.value.outlet===ee?-1:i.value.outlet===ee?1:e.value.outlet.localeCompare(i.value.outlet))}function uz(t){let e=t.value.routeConfig;return e&&e.path===""}function DM(t){let e=[],i=new Set;for(let n of t){if(!uz(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=DM(n.children);e.push(new Jt(n.value,r))}return e.filter(n=>!i.has(n))}function lz(t){return t.data||{}}function dz(t){return t.resolve||{}}function fz(t,e,i,n,r,s){return G(o=>oz(t,e,i,n,o.extractedUrl,r,s).pipe(E(({state:a,tree:c})=>T(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function hz(t,e){return G(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of bM(c))o.add(u);let a=0;return ge(o).pipe(Ue(c=>s.has(c)?pz(c,n,t,e):(c.data=$E(c,c.parent,t).resolve,I(void 0))),L(()=>a++),Ps(1),G(c=>a===o.size?I(i):pe))})}function bM(t){let e=t.children.map(i=>bM(i)).flat();return[t,...e]}function pz(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!mM(r)&&(s[sc]=r.title),gz(s,t,e,n).pipe(E(o=>(t._resolvedData=o,t.data=$E(t,t.parent,i).resolve,null)))}function gz(t,e,i,n){let r=gE(t);if(r.length===0)return I({});let s={};return ge(r).pipe(G(o=>mz(t[o],e,i,n).pipe(Rt(),L(a=>{s[o]=a}))),Ps(1),Qo(s),F(o=>SM(o)?pe:Mt(o)))}function mz(t,e,i,n){let r=ac(e)??n,s=mo(t,r),o=s.resolve?s.resolve(e,i):On(r,()=>s(e,i));return Ei(o)}function hE(t){return x(e=>{let i=t(e);return i?ge(i).pipe(E(()=>e)):I(e)})}var wM=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[sc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(vz),providedIn:"root"});let t=e;return t})(),vz=(()=>{let e=class e extends wM{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(d(iR))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uc=new S("",{providedIn:"root",factory:()=>({})}),$d=new S(""),zE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(ro)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ei(n.loadComponent()).pipe(E(TM),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Dn(()=>{this.componentLoaders.delete(n)})),s=new ri(r,()=>new re).pipe(Os());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=yz(r,this.compiler,n,this.onLoadEndListener).pipe(Dn(()=>{this.childrenLoaders.delete(r)})),a=new ri(o,()=>new re).pipe(Os());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yz(t,e,i,n){return Ei(t.loadChildren()).pipe(E(TM),G(r=>r instanceof Zi||Array.isArray(r)?I(r):ge(e.compileModuleAsync(r))),E(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get($d,[],{optional:!0,self:!0}).flat()),{routes:o.map(VE),injector:s}}))}function Ez(t){return t&&typeof t=="object"&&"default"in t}function TM(t){return Ez(t)?t.default:t}var GE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Cz),providedIn:"root"});let t=e;return t})(),Cz=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AM=new S(""),RM=new S("");function Sz(t,e,i){let n=t.get(RM),r=t.get(_e);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),Iz(t))),{onViewTransitionCreated:c}=n;return c&&On(t,()=>c({transition:a,from:e,to:i})),o})}function Iz(t){return new Promise(e=>{Vl(e,{injector:t})})}var WE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=C(zE),this.environmentInjector=C(Ct),this.urlSerializer=C(us),this.rootContexts=C(oc),this.location=C(ur),this.inputBindingEnabled=C(Vd,{optional:!0})!==null,this.titleStrategy=C(wM),this.options=C(uc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(GE),this.createViewTransition=C(AM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=s=>this.events.next(new DE(s)),r=s=>this.events.next(new bE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(T(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(O(o=>o.id!==0),E(o=>T(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),x(o=>{let a=!1,c=!1;return I(o).pipe(x(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),pe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?T(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new yi(u.id,this.urlSerializer.serialize(u.rawUrl),h,Pd.IgnoredSameUrlNavigation)),u.resolve(null),pe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return I(u).pipe(x(h=>{let p=this.transitions?.getValue();return this.events.next(new vn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?pe:Promise.resolve(h)}),fz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),L(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=T(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new cs(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:y,restoredState:b,extras:w}=u,R=new vn(h,this.urlSerializer.serialize(p),y,b);this.events.next(R);let V=pM(this.rootComponentType).snapshot;return this.currentTransition=o=T(v({},u),{targetSnapshot:V,urlAfterRedirects:p,extras:T(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,I(o)}else{let h="";return this.events.next(new yi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Pd.IgnoredByUrlHandlingStrategy)),u.resolve(null),pe}}),L(u=>{let l=new EE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),E(u=>(this.currentTransition=o=T(v({},u),{guards:xH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),$H(this.environmentInjector,u=>this.events.next(u)),L(u=>{if(o.guardsResult=u.guardsResult,po(u.guardsResult))throw yM(this.urlSerializer,u.guardsResult);let l=new CE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),O(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Xt.GuardRejected),!1)),hE(u=>{if(u.guards.canActivateChecks.length)return I(u).pipe(L(l=>{let f=new SE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),x(l=>{let f=!1;return I(l).pipe(hz(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Xt.NoDataFromResolver)}}))}),L(l=>{let f=new IE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),hE(u=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(L(p=>{f.component=p}),E(()=>{})));for(let p of f.children)h.push(...l(p));return h};return Pe(l(u.targetSnapshot.root)).pipe(ni(null),ie(1))}),hE(()=>this.afterPreactivation()),x(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?ge(f).pipe(E(()=>o)):I(o)}),E(u=>{let l=IH(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=T(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new ec)}),MH(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ie(1),L({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),sa(this.transitionAbortSubject.pipe(L(u=>{throw u}))),Dn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(u=>{if(c=!0,CM(u))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),wH(u)?this.events.next(new tc(u.url)):o.resolve(!1);else{this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return pe}))}))}cancelNavigationTransition(n,r,s){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dz(t){return t!==Qa}var bz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(wz),providedIn:"root"});let t=e;return t})(),jE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},wz=(()=>{let e=class e extends jE{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Tz),providedIn:"root"});let t=e;return t})(),Tz=(()=>{let e=class e extends MM{constructor(){super(...arguments),this.location=C(ur),this.urlSerializer=C(us),this.options=C(uc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(GE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof vn)this.stateMemento=this.createStateMemento();else if(n instanceof yi)this.rawUrlTree=r.initialUrl;else if(n instanceof cs){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof ec?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof yn&&(n.code===Xt.GuardRejected||n.code===Xt.NoDataFromResolver)?this.restoreHistory(r):n instanceof hr?this.restoreHistory(r,!0):n instanceof ot&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ka=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ka||{});function xM(t,e){t.events.pipe(O(i=>i instanceof ot||i instanceof yn||i instanceof hr||i instanceof yi),E(i=>i instanceof ot||i instanceof yi?Ka.COMPLETE:(i instanceof yn?i.code===Xt.Redirect||i.code===Xt.SupersededByNewNavigation:!1)?Ka.REDIRECTING:Ka.FAILED),O(i=>i!==Ka.REDIRECTING),ie(1)).subscribe(()=>{e()})}function Az(t){throw t}var Rz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oe=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Yl),this.stateManager=C(MM),this.options=C(uc,{optional:!0})||{},this.pendingTasks=C(Xi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(WE),this.urlSerializer=C(us),this.location=C(ur),this.urlHandlingStrategy=C(GE),this._events=new re,this.errorHandler=this.options.errorHandler||Az,this.navigated=!1,this.routeReuseStrategy=C(bz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C($d,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(Vd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=C(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ot)this.navigated=!0;else if(r instanceof tc){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Dz(s.source)};this.scheduleNavigation(a,Qa,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Oz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(VE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=lM(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return dM(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=po(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Qa,null,r)}navigate(n,r={skipLocationChange:!1}){return xz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=v({},Rz):r===!1?s=v({},Mz):s=r,po(n))return GR(this.currentUrlTree,n,s);let o=this.parseUrl(n);return GR(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let f=this.pendingTasks.add();return xM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function Oz(t){return!(t instanceof ec)&&!(t instanceof tc)}var QR=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ot&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:VT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(Hr),Nv("tabindex"),X(Xs),X(or),X($r))},e.\u0275dir=Nt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&ay("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ry("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[cn.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Na],skipLocationChange:[cn.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Na],replaceUrl:[cn.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Na],routerLink:"routerLink"},standalone:!0,features:[ey,di]});let t=e;return t})(),Oae=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new pt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof ot&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Yn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(n).pipe(Yn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Nz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(X(Oe),X(or),X(Xs),X(_r),X(QR,8))},e.\u0275dir=Nt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&W0(o,QR,5),r&2){let a;q0(a=Y0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[di]});let t=e;return t})();function Nz(t){return!!t.paths}var Bd=class{};var Pz=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(O(n=>n instanceof ot),Ue(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Hl(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ge(s).pipe(Yn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=I(null);let o=s.pipe(G(a=>a===null?I(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ge([o,a]).pipe(Yn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(ro),d(Ct),d(Bd),d(zE))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OM=new S(""),Fz=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=C(Ct),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ot?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof yi&&n.code===Pd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>nt(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Vl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Fd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){n0()},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function _z(t){return t.routerState.root}function lc(t,e){return{\u0275kind:t,\u0275providers:e}}function Lz(){let t=C(Ye);return e=>{let i=t.get(es);if(e!==i.components[0])return;let n=t.get(Oe),r=t.get(NM);t.get(qE)===1&&n.initialNavigation(),t.get(PM,null,ce.Optional)?.setUpPreloading(),t.get(OM,null,ce.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var NM=new S("",{factory:()=>new re}),qE=new S("",{providedIn:"root",factory:()=>1});function kz(){return lc(2,[{provide:qE,useValue:0},{provide:bt,multi:!0,deps:[Ye],useFactory:e=>{let i=e.get(dd,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Oe),s=e.get(NM);xM(r,()=>{n(!0)}),e.get(WE).afterPreactivation=()=>(n(!0),s.closed?I(void 0):s),r.initialNavigation()}))}}])}function Uz(){return lc(3,[{provide:bt,multi:!0,useFactory:()=>{let e=C(Oe);return()=>{e.setUpLocationChangeListener()}}},{provide:qE,useValue:2}])}var PM=new S("");function jz(t){return lc(0,[{provide:PM,useExisting:Pz},{provide:Bd,useExisting:t}])}function $z(){return lc(8,[KR,{provide:Vd,useExisting:KR}])}function Bz(t){let e=[{provide:AM,useValue:Sz},{provide:RM,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return lc(9,e)}var JR=new S("ROUTER_FORROOT_GUARD"),Vz=[ur,{provide:us,useClass:as},Oe,oc,{provide:Hr,useFactory:_z,deps:[Oe]},zE,[]],FM=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Vz,[],{provide:$d,multi:!0,useValue:n},{provide:JR,useFactory:Wz,deps:[[Oe,new ln,new Dl]]},{provide:uc,useValue:r||{}},r?.useHash?zz():Gz(),Hz(),r?.preloadingStrategy?jz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qz(r):[],r?.bindToComponentInputs?$z().\u0275providers:[],r?.enableViewTransitions?Bz().\u0275providers:[],Yz()]}}static forChild(n){return{ngModule:e,providers:[{provide:$d,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(d(JR,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Hz(){return{provide:OM,useFactory:()=>{let t=C(LA),e=C(Ce),i=C(uc),n=C(WE),r=C(us);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Fz(r,n,t,e,i)}}}function zz(){return{provide:$r,useClass:wA}}function Gz(){return{provide:$r,useClass:Ry}}function Wz(t){return"guarded"}function qz(t){return[t.initialNavigation==="disabled"?Uz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?kz().\u0275providers:[]]}var XR=new S("");function Yz(){return[{provide:XR,useFactory:Lz},{provide:no,multi:!0,useExisting:XR}]}var zd=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},Gd=class{};var dc=class{},Kz=(()=>{let e=class e extends dc{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var Wd=class{},ds=class{},Zz=(()=>{let e=class e{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,r){this.data.set(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var fc=class{constructor(e){this.type=e}},_t=class extends fc{constructor(e,i=null){super(e),this.info=i}},_n=class extends fc{constructor(e,i=null){super(e),this.info=i}},Ve=class extends fc{constructor(e,i,n=null){super(e),this.reason=i,this.params=n}};function LM(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function kM(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var vo=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=i=>{location.href=i},e&&Object.assign(this,e)}},ls=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},qd=class{};var UM=(()=>{let e=class e{getHashFragmentParams(n){let r=n||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(n){let r={},s,o,a,c,u,l;if(n===null)return r;let f=n.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,c=null):(a=s.substr(0,o),c=s.substr(o+1)),u=decodeURIComponent(a),l=decodeURIComponent(c),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=l;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),jM=32,Qz=64,Jz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function YE(t,e,i,n,r){let s,o,a,c,u,l,f,h,p,y,b,w,R;for(;r>=64;){for(s=e[0],o=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],y=0;y<16;y++)b=n+y*4,t[y]=(i[b]&255)<<24|(i[b+1]&255)<<16|(i[b+2]&255)<<8|i[b+3]&255;for(y=16;y<64;y++)p=t[y-2],w=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=t[y-15],R=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[y]=(w+t[y-7]|0)+(R+t[y-16]|0);for(y=0;y<64;y++)w=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(Jz[y]+t[y]|0)|0)|0,R=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=l,l=u,u=c+w|0,c=a,a=o,o=s,s=w+R|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=f,e[7]+=h,n+=64,r-=64}return n}var KE=class{constructor(){this.digestLength=jM,this.blockSize=Qz,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,i=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=i,this.bufferLength>0){for(;this.bufferLength<64&&i>0;)this.buffer[this.bufferLength++]=e[n++],i--;this.bufferLength===64&&(YE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(i>=64&&(n=YE(this.temp,this.state,e,n,i),i%=64);i>0;)this.buffer[this.bufferLength++]=e[n++],i--;return this}finish(e){if(!this.finished){let i=this.bytesHashed,n=this.bufferLength,r=i/536870912|0,s=i<<3,o=i%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,YE(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let i=0;i<8;i++)e[i*4+0]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let i=0;i<this.state.length;i++)e[i]=this.state[i]}_restoreState(e,i){for(let n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=i,this.finished=!1,this.bufferLength=0}};function Xz(t){let e=new KE().update(t),i=e.digest();return e.clean(),i}var Vae=new Uint8Array(jM);var Yd=class{};function eG(t){if(typeof t!="string")throw new TypeError("expected string");let e=t,i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function tG(t){let e=[];for(let i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}var nG=(()=>{let e=class e{calcHash(n,r){return nt(this,null,function*(){return tG(Xz(eG(n)))})}toHashString2(n){let r="";for(let s of n)r+=String.fromCharCode(s);return r}toHashString(n){let r=new Uint8Array(n),s="";for(let o of r)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Zd=(()=>{let e=class e extends vo{constructor(n,r,s,o,a,c,u,l,f,h){super(),this.ngZone=n,this.http=r,this.config=a,this.urlHelper=c,this.logger=u,this.crypto=l,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new re,this.discoveryDocumentLoadedSubject=new re,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(p){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",p)}if(this.checkLocalStorageAccessable()){let p=window?.navigator?.userAgent;(p?.includes("MSIE ")||p?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new vo,n),this.config=Object.assign({},new vo,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(O(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},r,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),O(a=>a.type==="token_expires"&&(r==null||r==="any"||a.info===r)),ki(1e3)).subscribe(()=>{o&&this.refreshInternal(n,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,r)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof n.state=="string"?n.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let r=[],s=this.validateUrlForHttps(n),o=this.validateUrlAgainstIssuer(n);return s||r.push("https for all urls required. Also for urls received by discovery."),o||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(n){if(!n)return!0;let r=n.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,r){if(!n)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(O(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new _n("token_expires","access_token")).pipe(Zn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new _n("token_expires","id_token")).pipe(Zn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,r){let s=this.dateTimeService.now(),o=(r-n)*this.timeoutFactor-(s-n),a=Math.max(0,o),c=2147483647;return a>c?c:a}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((r,s)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let c={discoveryDocument:o,jwks:a},u=new _t("discovery_document_loaded",c);this.eventsSubject.next(u),r(u)}).catch(a=>{this.eventsSubject.next(new Ve("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((n,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,n(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Ve("jwks_load_error",s)),r(s)}):n(null)})}validateDiscoveryDocument(n){let r;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,r,s=new le){return this.fetchTokenUsingPasswordFlow(n,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,r)=>{let s=new le().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),c=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!c.sub||a.sub!==c.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},c,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new _t("user_profile_loaded")),n({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new _t("user_profile_loaded")),n(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),r(o)})})}fetchTokenUsingPasswordFlow(n,r,s=new le){let o={username:n,password:r};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(n,r,s=new le){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new ze({encoder:new ls}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(r))o=o.set(a,r[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,c)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(l=>{this.storeIdToken(l),a(u)}),this.eventsSubject.next(new _t("token_received")),a(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Ve("token_error",u)),c(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,r)=>{let s=new ze({encoder:new ls}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(x(a=>this.oidc&&a.id_token?ge(this.processIdToken(a.id_token,a.access_token,!0)).pipe(L(c=>this.storeIdToken(c)),E(()=>a)):I(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),n(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let r=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let c=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,c,r,n).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let u=this.events.pipe(O(h=>h instanceof Ve),Rt()),l=this.events.pipe(O(h=>h.type==="token_received"),Rt()),f=I(new Ve("silent_refresh_timeout",null)).pipe(Zn(this.silentRefreshTimeout));return _g([u,l,f]).pipe(E(h=>{if(h instanceof Ve)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new Ve("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new _t("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,o)=>{let c=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(c=n.windowRef,c.location.href=r):c=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let u,l=b=>{this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},w=>{h(),o(w)})},f=()=>{(!c||c.closed)&&(h(),o(new Ve("popup_closed",{})))};c?u=window.setInterval(f,500):o(new Ve("popup_blocked",{}));let h=()=>{window.clearInterval(u),window.removeEventListener("storage",y),window.removeEventListener("message",p),c!==null&&c.close(),c=null},p=b=>{let w=this.processMessageEventMessage(b);w&&w!==null?(window.removeEventListener("storage",y),l(w)):console.log("false event firing")},y=b=>{b.key==="auth_hash"&&(window.removeEventListener("message",p),l(b.newValue))};window.addEventListener("message",p),window.addEventListener("storage",y)}))}calculatePopupFeatures(n){let r=n.height||470,s=n.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${a},left=${o}`}processMessageEventMessage(n){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let s=n.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let r=n.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new _n("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new _n("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(O(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),Rt()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new _n("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new _n("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;n.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return nt(this,arguments,function*(n="",r="",s="",o=!1,a={}){let c=this,u;s?u=s:u=this.redirectUri;let l=yield this.createAndSaveNonce();if(n?n=l+this.config.nonceStateSeparator+encodeURIComponent(n):n=l,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=c.loginUrl.indexOf("?")>-1?"&":"?",h=c.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let p=c.loginUrl+f+"response_type="+encodeURIComponent(c.responseType)+"&client_id="+encodeURIComponent(c.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[y,b]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",b):this._storage.setItem("PKCE_verifier",b),p+="&code_challenge="+y,p+="&code_challenge_method=S256"}r&&(p+="&login_hint="+encodeURIComponent(r)),c.resource&&(p+="&resource="+encodeURIComponent(c.resource)),c.oidc&&(p+="&nonce="+encodeURIComponent(l)),o&&(p+="&prompt=none");for(let y of Object.keys(a))p+="&"+encodeURIComponent(y)+"="+encodeURIComponent(a[y]);if(this.customQueryParams)for(let y of Object.getOwnPropertyNames(this.customQueryParams))p+="&"+y+"="+encodeURIComponent(this.customQueryParams[y]);return p})}initImplicitFlowInternal(n="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(n="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,r):this.events.pipe(O(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let r=this;if(n.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};n.onTokenReceived(s)}}storeAccessTokenResponse(n,r,s,o,a){if(this._storage.setItem("access_token",n),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let c=s*1e3,l=this.dateTimeService.new().getTime()+c;this._storage.setItem("expires_at",""+l)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((c,u)=>{this._storage.setItem(u,c)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return nt(this,null,function*(){n=n||{};let r=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),o=s.code,a=s.state,c=s.session_state;if(!n.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[u,l]=this.parseState(a);if(this.state=l,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let f=new Ve("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!n.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(u)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(c),o&&(yield this.getTokenFromCode(o,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,r){let s=new ze({encoder:new ls}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(n,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,n,{headers:s}).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token?this.processIdToken(c.id_token,c.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),o(c)}).catch(u=>{this.eventsSubject.next(new Ve("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),a(u)}):(this.eventsSubject.next(new _t("token_received")),this.eventsSubject.next(new _t("token_refreshed")),o(c))},c=>{console.error("Error getting token",c),this.eventsSubject.next(new Ve("token_refresh_error",c)),a(c)})})}tryLoginImplicitFlow(n=null){n=n||{};let r;n.customHashFragment?r=this.urlHelper.getHashFragmentParams(n.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[o,a]=this.parseState(s);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(n,r);let h=new Ve("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}let c=r.access_token,u=r.id_token,l=r.session_state,f=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!c||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!l&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(o)){let p=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(p),Promise.reject(p)}return this.requestAccessToken&&this.storeAccessTokenResponse(c,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(u,c,n.disableNonceCheck).then(h=>n.validationHandler?n.validationHandler({accessToken:c,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(l),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new _t("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new Ve("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new _t("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let r=n,s="";if(n){let o=n.indexOf(this.config.nonceStateSeparator);o>-1&&(r=n.substr(0,o),s=n.substr(o+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(n){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==n?(console.error("Validating access_token failed, wrong state/nonce.",r,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,r){n.onLoginError&&n.onLoginError(r),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,r,s=!1){let o=n.split("."),a=this.padBase64(o[0]),c=LM(a),u=JSON.parse(c),l=this.padBase64(o[1]),f=LM(l),h=JSON.parse(f),p;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?p=localStorage.getItem("nonce"):p=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(U=>U!==this.clientId)){let U="Wrong audience: "+h.aud.join(",");return this.logger.warn(U),Promise.reject(U)}}else if(h.aud!==this.clientId){let U="Wrong audience: "+h.aud;return this.logger.warn(U),Promise.reject(U)}if(!h.sub){let U="No sub claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let U=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(U),Promise.reject(U)}if(!h.iat){let U="No iat claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let U="Wrong issuer: "+h.iss;return this.logger.warn(U),Promise.reject(U)}if(!s&&h.nonce!==p){let U="Wrong nonce: "+h.nonce;return this.logger.warn(U),Promise.reject(U)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let U="An at_hash is needed!";return this.logger.warn(U),Promise.reject(U)}let y=this.dateTimeService.now(),b=h.iat*1e3,w=h.exp*1e3,R=this.getClockSkewInMsec();if(b-R>=y||w+R-this.decreaseExpirationBySec<=y){let U="Token has expired";return console.error(U),console.error({now:y,issuedAtMSec:b,expiresAtMSec:w}),Promise.reject(U)}let V={accessToken:r,idToken:n,jwks:this.jwks,idTokenClaims:h,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(V).then(()=>({idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w})):this.checkAtHash(V).then(U=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!U){let H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(V).then(()=>{let H=!this.disableAtHashCheck,te={idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w};return H?this.checkAtHash(V).then(ue=>{if(this.requestAccessToken&&!ue){let he="Wrong at_hash";return this.logger.warn(he),Promise.reject(he)}else return te}):te})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},r=""){let s=!1;typeof n=="boolean"&&(s=n,n={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>this._storage.removeItem(c)),this.silentRefreshSubject=null,this.eventsSubject.next(new _n("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let c=new ze({encoder:new ls});o&&(c=c.set("id_token_hint",o));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(c=c.set("post_logout_redirect_uri",u),r&&(c=c.set("state",r)));for(let l in n)c=c.set(l,n[l]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+c.toString()}this.config.openUri(a)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(r){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):n._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let c=new Uint8Array(s);a.getRandomValues(c),c.map||(c.map=Array.prototype.map),c=c.map(u=>r.charCodeAt(u%r.length)),o=String.fromCharCode.apply(null,c)}else for(;0<s--;)o+=r[Math.random()*r.length|0];n(kM(o))})}checkAtHash(n){return nt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",r={}){return this.responseType==="code"?this.initCodeFlow(n,r):this.initImplicitFlow(n,r)}initCodeFlow(n="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(n,r):this.events.pipe(O(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,r))}initCodeFlowInternal(n="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return nt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),r=yield this.crypto.calcHash(n,"sha-256");return[kM(r),n]})}extractRecognizedCustomParameters(n){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{n[s]&&r.set(s,JSON.stringify(n[s]))}),r}revokeTokenAndLogout(n={},r=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let c=new ze({encoder:new ls}),u=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(l,this.customQueryParams[l]);return new Promise((l,f)=>{let h,p;if(o){let y=c.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,y,{headers:u})}else h=I(null);if(a){let y=c.set("token",a).set("token_type_hint","refresh_token");p=this.http.post(s,y,{headers:u})}else p=I(null);r&&(h=h.pipe(F(y=>y.status===0?I(null):Mt(y))),p=p.pipe(F(y=>y.status===0?I(null):Mt(y)))),Pe([h,p]).subscribe(y=>{this.logOut(n),l(y),this.logger.info("Token successfully revoked")},y=>{this.logger.error("Error revoking token",y),this.eventsSubject.next(new Ve("token_revoke_error",y)),f(y)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Le),d(ds,8),d(qd,8),d(vo,8),d(UM),d(Wd),d(Yd,8),d(_e),d(dc))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Kd=class{},ZE=class{handleError(e){return Mt(e)}},rG=(()=>{let e=class e{constructor(n,r,s){this.oAuthService=n,this.errorHandler=r,this.moduleConfig=s}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(r=>n.toLowerCase().startsWith(r.toLowerCase())):!0}intercept(n,r){let s=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?r.handle(n):this.moduleConfig.resourceServer.sendAccessToken?on(I(this.oAuthService.getAccessToken()).pipe(O(a=>!!a)),this.oAuthService.events.pipe(O(a=>a.type==="token_received"),Xo(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),E(()=>this.oAuthService.getAccessToken()))).pipe(ie(1),G(a=>{if(a){let c="Bearer "+a,u=n.headers.set("Authorization",c);n=n.clone({headers:u})}return r.handle(n).pipe(F(c=>this.errorHandler.handleError(c)))})):r.handle(n).pipe(F(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(r){return new(r||e)(d(Zd),d(Kd),d(Gd,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function iG(){return console}function sG(){return typeof sessionStorage<"u"?sessionStorage:new Zz}function oG(t=null,e=zd){return sr([Zd,UM,{provide:Wd,useFactory:iG},{provide:ds,useFactory:sG},{provide:qd,useClass:e},{provide:Yd,useClass:nG},{provide:Kd,useClass:ZE},{provide:Gd,useValue:t},{provide:gn,useClass:rG,multi:!0},{provide:dc,useClass:Kz}])}var $M=(()=>{let e=class e{static forRoot(n=null,r=zd){return{ngModule:e,providers:[oG(n,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})();var Hae=new S("AUTH_CONFIG");var zM="@ngrx/router-store/request",Jae=mi(zM,ao()),Xd="@ngrx/router-store/navigation",Xae=mi(Xd,ao()),ef="@ngrx/router-store/cancel",ece=mi(ef,ao()),tf="@ngrx/router-store/error",tce=mi(tf,ao()),nf="@ngrx/router-store/navigated",nce=mi(nf,ao());var Qd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:i[0],children:i}}},QE=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}(QE||{}),cG="router",BM=new S("@ngrx/router-store Internal Configuration"),GM=new S("@ngrx/router-store Configuration");function uG(t){return v({stateKey:cG,serializer:Qd,navigationActionTiming:QE.PreActivation},t)}var Jd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:i[0],pathFromRoot:void 0,children:i}}},yo=class{},gr=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}(gr||{}),VM=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.router=r,this.serializer=s,this.errorHandler=o,this.config=a,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=gr.NONE,this.stateKey=this.config.stateKey,!sE()&&me()&&(c?.strictActionSerializability||c?.strictStateSerializability)&&this.serializer instanceof Jd&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(M(this.stateKey),it(this.store)).subscribe(([n,r])=>{this.navigateIfNeeded(n,r)})}navigateIfNeeded(n,r){if(!n||!n.state||this.trigger===gr.ROUTER||this.lastEvent instanceof vn)return;let s=n.state.url;lG(this.router.url,s)||(this.storeState=r,this.trigger=gr.STORE,this.router.navigateByUrl(s).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let n=this.config.navigationActionTiming===QE.PostActivation,r;this.router.events.pipe(it(this.store)).subscribe(([s,o])=>{this.lastEvent=s,s instanceof vn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==gr.STORE&&(this.storeState=o,this.dispatchRouterRequest(s))):s instanceof cs?(r=s,!n&&this.trigger!==gr.STORE&&this.dispatchRouterNavigation(s)):s instanceof yn?(this.dispatchRouterCancel(s),this.reset()):s instanceof hr?(this.dispatchRouterError(s),this.reset()):s instanceof ot&&(this.trigger!==gr.STORE&&(n&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(n){this.dispatchRouterAction(zM,{event:n})}dispatchRouterNavigation(n){let r=this.serializer.serialize(n.state);this.dispatchRouterAction(Xd,{routerState:r,event:new cs(n.id,n.url,n.urlAfterRedirects,r)})}dispatchRouterCancel(n){this.dispatchRouterAction(ef,{storeState:this.storeState,event:n})}dispatchRouterError(n){this.dispatchRouterAction(tf,{storeState:this.storeState,event:new hr(n.id,n.url,`${n}`)})}dispatchRouterNavigated(n){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(nf,{event:n,routerState:r})}dispatchRouterAction(n,r){this.trigger=gr.ROUTER;try{this.store.dispatch({type:n,payload:T(v({routerState:this.routerState},r),{event:this.config.routerState===0?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=gr.NONE}}reset(){this.trigger=gr.NONE,this.storeState=null,this.routerState=null}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Oe),d(yo),d(It),d(GM),d(rs))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function lG(t,e){return HM(t)===HM(e)}function HM(t){return t?.length>0&&t[t.length-1]==="/"?t.substring(0,t.length-1):t}function dG(t={}){return sr([{provide:BM,useValue:t},{provide:GM,useFactory:uG,deps:[BM]},{provide:yo,useClass:t.serializer?t.serializer:t.routerState===0?Jd:Qd},{provide:nr,multi:!0,useFactory(){return()=>C(VM)}},VM])}var WM=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[dG(n)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function JE(t){"@babel/helpers - typeof";return JE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JE(t)}var qM=[],ice=qM.forEach,sce=qM.slice;function XE(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":JE(XMLHttpRequest))==="object"}function hG(t){return!!t&&typeof t.then=="function"}function YM(t){return hG(t)?t:Promise.resolve(t)}var af=KF(JM(),1);function XM(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function ex(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(i),!0).forEach(function(n){pG(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):XM(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function pG(t,e,i){return(e=gG(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gG(t){var e=mG(t,"string");return fs(e)=="symbol"?e:e+""}function mG(t,e){if(fs(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(fs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fs(t){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fs(t)}var zr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?zr=global.fetch:typeof window<"u"&&window.fetch?zr=window.fetch:zr=fetch);var pc;XE()&&(typeof global<"u"&&global.XMLHttpRequest?pc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(pc=window.XMLHttpRequest));var cf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?cf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(cf=window.ActiveXObject));!zr&&af&&!pc&&!cf&&(zr=af.default||af);typeof zr!="function"&&(zr=void 0);var tC=function(e,i){if(i&&fs(i)==="object"){var n="";for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},tx=function(e,i,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(r){var o=r(e,i);if(o instanceof Promise){o.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,i).then(s).catch(n):zr(e,i).then(s).catch(n)},nx=!1,vG=function(e,i,n,r){e.queryStringParams&&(i=tC(i,e.queryStringParams));var s=ex({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=ex({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},nx?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{tx(i,a,r,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return r(u);try{Object.keys(o).forEach(function(l){delete a[l]}),tx(i,a,r,c),nx=!0}catch(l){r(l)}}},yG=function(e,i,n,r){n&&fs(n)==="object"&&(n=tC("",n).slice(1)),e.queryStringParams&&(i=tC(i,e.queryStringParams));try{var s;pc?s=new pc:s=new cf("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",i,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},EG=function(e,i,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},zr&&i.indexOf("file:")!==0)return vG(e,i,n,r);if(XE()||typeof ActiveXObject=="function")return yG(e,i,n,r);r(new Error("No fetch and no xhr implementation found!"))},rx=EG;function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Co(t)}function ix(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function nC(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(i),!0).forEach(function(n){ox(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ix(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function CG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sx(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ax(n.key),n)}}function SG(t,e,i){return e&&sx(t.prototype,e),i&&sx(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function ox(t,e,i){return(e=ax(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ax(t){var e=IG(t,"string");return Co(e)=="symbol"?e:e+""}function IG(t,e){if(Co(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(Co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,n,r){return ox({},n,r||"")},parseLoadPayload:function(i,n){},request:rx,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},cx=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};CG(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}return SG(t,[{key:"init",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=nC(nC(nC({},DG()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);Co(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(i,n,r){this._readAny(i,i,n,n,r)}},{key:"read",value:function(i,n,r){this._readAny([i],i,[n],n,r)}},{key:"_readAny",value:function(i,n,r,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(i,r)),c=YM(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:i.join("+"),ns:r.join("+")});a.loadUrl(l,o,n,s)})}},{key:"loadUrl",value:function(i,n,r,s){var o=this,a=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,i,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+i+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+i+"; status code: "+f.status,!1);if(!f&&l&&l.message&&l.message.toLowerCase().indexOf("failed")>-1&&(l.message.indexOf("fetch")>-1||l.message.toLowerCase().indexOf("network")>-1))return n("failed loading "+i+": "+l.message,!0);if(l)return n(l,!1);var h,p;try{typeof f.data=="string"?h=o.options.parse(f.data,r,s):h=f.data}catch{p="failed parsing "+i+" to json"}if(p)return n(p,!1);n(null,h)})}},{key:"create",value:function(i,n,r,s,o){var a=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var c=this.options.parsePayload(n,r,s),u=0,l=[],f=[];i.forEach(function(h){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(h,n));var y=a.services.interpolator.interpolate(p,{lng:h,ns:n});a.options.request(a.options,y,c,function(b,w){u+=1,l.push(b),f.push(w),u===i.length&&typeof o=="function"&&o(l,f)})})}}},{key:"reload",value:function(){var i=this,n=this.services,r=n.backendConnector,s=n.languageUtils,o=n.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=s.toResolveHierarchy(f);h.forEach(function(p){c.indexOf(p)<0&&c.push(p)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){i.allOptions.ns.forEach(function(f){r.read(l,f,"read",null,null,function(h,p){h&&o.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&p&&o.log("loaded namespace ".concat(f," for language ").concat(l),p),r.loaded("".concat(l,"|").concat(f),h,p)})})})}}}])}();cx.type="backend";var ux=cx;var bG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},sC=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||bG,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new t(this.logger,v({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},mr=new sC,Do=class{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let r=this.observers[n].get(i)||0;this.observers[n].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[e,...n])})}},gc=()=>{let t,e,i=new Promise((n,r)=>{t=n,e=r});return i.resolve=t,i.reject=e,i},lx=t=>t==null?"":""+t,wG=(t,e,i)=>{t.forEach(n=>{e[n]&&(i[n]=e[n])})},TG=/###/g,dx=t=>t&&t.indexOf("###")>-1?t.replace(TG,"."):t,fx=t=>!t||typeof t=="string",mc=(t,e,i)=>{let n=typeof e!="string"?e:e.split("."),r=0;for(;r<n.length-1;){if(fx(t))return{};let s=dx(n[r]);!t[s]&&i&&(t[s]=new i),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return fx(t)?{}:{obj:t,k:dx(n[r])}},hx=(t,e,i)=>{let{obj:n,k:r}=mc(t,e,Object);if(n!==void 0||e.length===1){n[r]=i;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=mc(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=mc(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=i},AG=(t,e,i,n)=>{let{obj:r,k:s}=mc(t,e,Object);r[s]=r[s]||[],r[s].push(i)},lf=(t,e)=>{let{obj:i,k:n}=mc(t,e);if(i)return i[n]},RG=(t,e,i)=>{let n=lf(t,i);return n!==void 0?n:lf(e,i)},Ex=(t,e,i)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):Ex(t[n],e[n],i):t[n]=e[n]);return t},So=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),MG={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},xG=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>MG[e]):t,oC=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let i=this.regExpMap.get(e);if(i!==void 0)return i;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},OG=[" ",",","?","!",";"],NG=new oC(20),PG=(t,e,i)=>{e=e||"",i=i||"";let n=OG.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;let r=NG.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),s=!r.test(t);if(!s){let o=t.indexOf(i);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s},aC=function(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let n=e.split(i),r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=i),a+=n[c],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=o}return r},df=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t,ff=class extends Do{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,i],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));let c=lf(this.data,a);return!c&&!i&&!n&&e.indexOf(".")>-1&&(e=a[0],i=a[1],n=a.slice(2).join(".")),c||!o||typeof n!="string"?c:aC(this.data&&this.data[e]&&this.data[e][i],n,s)}addResource(e,i,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=[e,i];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=i,i=a[1]),this.addNamespaces(i),hx(this.data,a,r),s.silent||this.emit("added",e,i,n,r)}addResources(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(typeof n[s]=="string"||Array.isArray(n[s]))&&this.addResource(e,i,s,n[s],{silent:!0});r.silent||this.emit("added",e,i,n)}addResourceBundle(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,i];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=i,i=a[1]),this.addNamespaces(i);let c=lf(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Ex(c,n,s):c=v(v({},c),n),hx(this.data,a,c),o.silent||this.emit("added",e,i,n)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(e,i)):this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}},Cx={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,n,r){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,i,n,r))}),e}},px={},hf=class t extends Do{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),wG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=mr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let n=this.resolve(e,i);return n&&n.res!==void 0}extractFromKey(e,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!PG(e,n,r);if(o&&!a){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};let u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=v({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],i),c=a[a.length-1],u=i.lng||this.language,l=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let H=i.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${H}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${H}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o}let f=this.resolve(e,i),h=f&&f.res,p=f&&f.usedKey||o,y=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],R=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject;if(V&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&w.indexOf(b)<0&&!(typeof R=="string"&&Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,T(v({},i),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=H,f.usedParams=this.getUsedParamsDetails(i),f):H}if(s){let H=Array.isArray(h),te=H?[]:{},ue=H?y:p;for(let he in h)if(Object.prototype.hasOwnProperty.call(h,he)){let Ne=`${ue}${s}${he}`;te[he]=this.translate(Ne,T(v({},i),{joinArrays:!1,ns:a})),te[he]===Ne&&(te[he]=h[he])}h=te}}else if(V&&typeof R=="string"&&Array.isArray(h))h=h.join(R),h&&(h=this.extendTranslation(h,e,i,n));else{let H=!1,te=!1,ue=i.count!==void 0&&typeof i.count!="string",he=t.hasDefaultValue(i),Ne=ue?this.pluralResolver.getSuffix(u,i.count,i):"",xi=i.ordinal&&ue?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",zn=ue&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),D=zn&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Ne}`]||i[`defaultValue${xi}`]||i.defaultValue;!this.isValidLookup(h)&&he&&(H=!0,h=D),this.isValidLookup(h)||(te=!0,h=o);let ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&te?void 0:h,ye=he&&D!==h&&this.options.updateMissing;if(te||H||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,o,ye?D:h),s){let ht=this.resolve(o,T(v({},i),{keySeparator:!1}));ht&&ht.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[],de=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&de&&de[0])for(let ht=0;ht<de.length;ht++)we.push(de[ht]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(i.lng||this.language):we.push(i.lng||this.language);let Ir=(ht,He,nn)=>{let Jc=he&&nn!==h?nn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(ht,c,He,Jc,ye,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(ht,c,He,Jc,ye,i),this.emit("missingKey",ht,c,He,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?we.forEach(ht=>{let He=this.pluralResolver.getSuffixes(ht,i);zn&&i[`defaultValue${this.options.pluralSeparator}zero`]&&He.indexOf(`${this.options.pluralSeparator}zero`)<0&&He.push(`${this.options.pluralSeparator}zero`),He.forEach(nn=>{Ir([ht],o+nn,i[`defaultValue${nn}`]||D)})}):Ir(we,o,D))}h=this.extendTranslation(h,e,i,f,n),te&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(te||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,H?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,i,n,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(T(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;l<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];return s&&s[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${i[0]}`),null):o.translate(...p,i)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=Cx.handle(c,e,i,this.options&&this.options.postProcessPassResolved?v({i18nResolved:T(v({},r),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,i),l=u.key;r=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=i.count!==void 0&&typeof i.count!="string",p=h&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),y=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(a=w,!px[`${b[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(px[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(R=>{if(this.isValidLookup(n))return;o=R;let V=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(V,l,R,w,i);else{let H;h&&(H=this.pluralResolver.getSuffix(R,i.count,i));let te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(V.push(l+H),i.ordinal&&H.indexOf(ue)===0&&V.push(l+H.replace(ue,this.options.pluralSeparator)),p&&V.push(l+te)),y){let he=`${l}${this.options.contextSeparator}${i.context}`;V.push(he),h&&(V.push(he+H),i.ordinal&&H.indexOf(ue)===0&&V.push(he+H.replace(ue,this.options.pluralSeparator)),p&&V.push(he+te))}}let U;for(;U=V.pop();)this.isValidLookup(n)||(s=U,n=this.getResource(R,w,U,i))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,n,r):this.resourceStore.getResource(e,i,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string",r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=v(v({},this.options.interpolation.defaultVariables),r)),!n){r=v({},r);for(let s of i)delete r[s]}return r}static hasDefaultValue(e){let i="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&i===n.substring(0,i.length)&&e[n]!==void 0)return!0;return!1}},rC=t=>t.charAt(0).toUpperCase()+t.slice(1),pf=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=mr.create("languageUtils")}getScriptPartFromCode(e){if(e=df(e),!e||e.indexOf("-")<0)return null;let i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=df(e),!e||e.indexOf("-")<0)return e;let i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let i=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=rC(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=rC(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=rC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(n=>{if(i)return;let r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(n=>{if(i)return;let r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return i=r;i=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let n=e[i];return n||(n=e[this.getScriptPartFromCode(i)]),n||(n=e[this.formatLanguageCode(i)]),n||(n=e[this.getLanguagePartFromCode(i)]),n||(n=e.default),n||[]}toResolveHierarchy(e,i){let n=this.getFallbackCodes(i||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}},FG=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_G={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3},LG=["v1","v2","v3"],kG=["v4"],gx={zero:0,one:1,two:2,few:3,many:4,other:5},UG=()=>{let t={};return FG.forEach(e=>{e.lngs.forEach(i=>{t[i]={numbers:e.nr,plurals:_G[e.fc]}})}),t},cC=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=mr.create("pluralResolver"),(!this.options.compatibilityJSON||kG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=UG(),this.pluralRulesCache={}}addRule(e,i){this.rules[e]=i}clearCache(){this.pluralRulesCache={}}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=df(e==="dev"?"en":e),r=i.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o=new Intl.PluralRules(n,{type:r});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${i}${r}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>gx[r]-gx[s]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,i)):[]}getSuffix(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:this.getSuffixRetroCompatible(r,i):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,i){let n=e.noAbs?e.plurals(i):e.plurals(Math.abs(i)),r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!LG.includes(this.options.compatibilityJSON)}},mx=function(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=RG(t,e,i);return!s&&r&&typeof i=="string"&&(s=aC(t,i,n),s===void 0&&(s=aC(e,i,n))),s},iC=t=>t.replace(/\$/g,"$$$$"),uC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=mr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:i,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:R,alwaysFormat:V}=e.interpolation;this.escape=i!==void 0?i:xG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?So(s):o||"{{",this.suffix=a?So(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?So(h):p||So("$t("),this.nestingSuffix=y?So(y):b||So(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=R||1e3,this.alwaysFormat=V!==void 0?V:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,n,r){let s,o,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){let R=mx(i,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,n,T(v(v({},r),i),{interpolationkey:p})):R}let y=p.split(this.formatSeparator),b=y.shift().trim(),w=y.join(this.formatSeparator).trim();return this.format(mx(i,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,T(v(v({},r),i),{interpolationkey:b}))};this.resetRegExp();let l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>iC(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?iC(this.escape(p)):iC(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){let y=s[1].trim();if(o=u(y),o===void 0)if(typeof l=="function"){let w=l(e,s,r);o=typeof w=="string"?w:""}else if(r&&Object.prototype.hasOwnProperty.call(r,y))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=lx(o));let b=p.safeValue(o);if(e=e.replace(s[0],b),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);let p=h.match(/'/g),y=h.match(/"/g);(p&&p.length%2===0&&!y||y.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o=v(v({},u),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${l}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o=v({},n),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let l=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=l.shift(),c=l,u=!0}if(s=i(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=lx(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((l,f)=>this.format(l,f,n.lng,T(v({},n),{interpolationkey:r[1].trim()})),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}},jG=t=>{let e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();i[l]||(i[l]=u),u==="false"&&(i[l]=!1),u==="true"&&(i[l]=!0),isNaN(u)||(i[l]=parseInt(u,10))}})}return{formatName:e,formatOptions:i}},Io=t=>{let e={};return(i,n,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s=T(v({},s),{[r.interpolationkey]:void 0}));let o=n+JSON.stringify(s),a=e[o];return a||(a=t(df(n),r),e[o]=a),a(i)}},lC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=mr.create("formatter"),this.options=e,this.formats={number:Io((i,n)=>{let r=new Intl.NumberFormat(i,v({},n));return s=>r.format(s)}),currency:Io((i,n)=>{let r=new Intl.NumberFormat(i,T(v({},n),{style:"currency"}));return s=>r.format(s)}),datetime:Io((i,n)=>{let r=new Intl.DateTimeFormat(i,v({},n));return s=>r.format(s)}),relativetime:Io((i,n)=>{let r=new Intl.RelativeTimeFormat(i,v({},n));return s=>r.format(s,n.range||"day")}),list:Io((i,n)=>{let r=new Intl.ListFormat(i,v({},n));return s=>r.format(s)})},this.init(e)}init(e){let n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=Io(i)}format(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){let a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{let{formatName:u,formatOptions:l}=jG(c);if(this.formats[u]){let f=a;try{let h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},p=h.locale||h.lng||r.locale||r.lng||n;f=this.formats[u](a,p,v(v(v({},l),r),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}},$G=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},dC=class extends Do{constructor(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=mr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,i,n,r){let s={},o={},a={},c={};return e.forEach(u=>{let l=!0;i.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,l=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,i,n){let r=e.split("|"),s=r[0],o=r[1];i&&this.emit("failedLoading",s,o,i),!i&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2,i&&n&&(this.state[e]=0);let a={};this.queue.forEach(c=>{AG(c.loaded,[s],o),$G(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:n,tried:r,wait:s,callback:o});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,n,r+1,s*2,o)},s);return}o(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(e,i);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(e,i,a)}prepareLoading(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);let s=this.queueLoad(e,i,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,n){this.prepareLoading(e,i,{},n)}reload(e,i,n){this.prepareLoading(e,i,{reload:!0},n)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${i}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${i}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=T(v({},o),{isUpdate:s}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,i,n,r,c):l=u(e,i,n,r),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(e,i,n,r,a,c)}!e||!e[0]||this.store.addResource(e[0],i,n,r)}}},vx=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let i=t[3]||t[2];Object.keys(i).forEach(n=>{e[n]=i[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),yx=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),uf=()=>{},BG=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(i=>{typeof t[i]=="function"&&(t[i]=t[i].bind(t))})},gf=class t extends Do{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=yx(e),this.services={},this.logger=mr,this.modules={external:[]},BG(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));let r=vx();this.options=v(v(v({},r),this.options),yx(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},r.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);let s=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?mr.init(s(this.modules.logger),this.options):mr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=lC);let f=new pf(this.options);this.store=new ff(this.options.resources,this.options);let h=this.services;h.logger=mr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new cC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new uC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new dC(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new hf(this.services,this.options),this.translator.on("*",function(p){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=uf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});let c=gc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uf,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,i,n){let r=gc();return typeof e=="function"&&(n=e,e=void 0),typeof i=="function"&&(n=i,i=void 0),e||(e=this.languages),i||(i=this.options.ns),n||(n=uf),this.services.backendConnector.reload(e,i,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Cx.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){let n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,i){var n=this;this.isLanguageChangingTo=e;let r=gc();this.emit("languageChanging",e);let s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),i&&i(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{o(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,i,n){var r=this;let s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=r.options.overloadTranslationOptionHandler([o,a].concat(l))}else c=v({},a);c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);let h=r.options.keySeparator||".",p;return c.keyPrefix&&Array.isArray(o)?p=o.map(y=>`${c.keyPrefix}${h}${y}`):p=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,r.t(p,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=i,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(i.precheck){let a=i.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(s,e)))}loadNamespaces(e,i){let n=gc();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),i&&i(r)}),n):(i&&i(),Promise.resolve())}loadLanguages(e,i){let n=gc();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new pf(vx());return i.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uf,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r=T(v(v({},this.options),e),{isClone:!0}),s=new t(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services=v({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new ff(this.store.data,r),s.services.resourceStore=s.store),s.translator=new hf(s.services,r),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];s.emit(a,...u)}),s.init(r,i),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},mt=gf.createInstance();mt.createInstance=gf.createInstance;var hce=mt.createInstance,pce=mt.dir,gce=mt.init,mce=mt.loadResources,vce=mt.reloadResources,yce=mt.use,Ece=mt.changeLanguage,Cce=mt.getFixedT,Sce=mt.t,Ice=mt.exists,Dce=mt.setDefaultNamespace,bce=mt.hasLoadedNamespace,wce=mt.loadNamespaces,Tce=mt.loadLanguages;var Sx=function(e){return{type:"backend",init:function(n,r,s){},read:function(n,r,s){if(typeof e=="function"){if(e.length<3){try{var o=e(n,r);o&&typeof o.then=="function"?o.then(function(a){return s(null,a&&a.default||a)}).catch(s):s(null,o)}catch(a){s(a)}return}e(n,r,s);return}s(null,e&&e[n]&&e[n][r])}}};function Cf(t){return t&&typeof t=="object"&&!Array.isArray(t)}function VG(t){return t==="__proto__"||t==="constructor"}function yt(t={},...e){if(!e.length)return t;let i=e.shift()||{};if(!Cf(i))return yt(t,...e);for(let n in i)VG(n)||(i[n]instanceof Date?t[n]=i[n]:Cf(i[n])?(Cf(t[n])||(t[n]={}),yt(t[n],i[n])):t[n]=i[n]);return yt(t,...e)}function HG(){return yt({},C(Kx),C($S))}var kt=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>HG(),providedIn:"root"});let t=e;return t})();function zG(){return yt({},...C(jo,{optional:!0})??[])}var Kx=new S("DefaultConfiguration",{providedIn:"root",factory:zG});function GG(){return yt({},...C(Ac,{optional:!0})??[])}var $S=new S("RootConfiguration",{providedIn:"root",factory:GG}),Ac=new S("ConfigurationChunk"),jo=new S("DefaultConfigurationChunk");function Ix(t={},e=!1){return{provide:e?jo:Ac,useValue:t,multi:!0}}function Sf(t,e,i=!1){return{provide:i?jo:Ac,useFactory:t,multi:!0,deps:e}}function $n(t={}){return{provide:jo,useValue:t,multi:!0}}function $o(t,e){return{provide:jo,useFactory:t,multi:!0,deps:e}}var WG={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},BS=function(t){return t.BILLING="BILLING",t.SHIPPING="SHIPPING",t}(BS||{}),be=function(t){return t.CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",t}(be||{}),qG=function(t){return t.AUTO="auto",t.SMOOTH="smooth",t}(qG||{});var YG=function(t){return t.NO_BACKGROUND="NO_BACKGROUND",t.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",t.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",t}(YG||{});var wo="userCmsEndpoints",Po=function(t){return t.GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",t}(Po||{}),SC="X-Anonymous-Consents";var If=class{};var KG=function(t){return t.BACK_IN_STOCK="BACK_IN_STOCK",t}(KG||{}),ZG=function(t){return t.SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",t}(ZG||{});var QG=function(t){return t.SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.STYLE_SWATCH="styleSwatch",t.ROLLUP_PROPERTY="rollupProperty",t}(QG||{}),Zx="[ENTITY] REMOVE",Qx="[ENTITY] REMOVE ALL";function wi(t,e){return{entityType:t,entityId:e}}function Jx(t,e){return{entityId:e,entityType:t,entityRemove:!0}}function Xx(t){return{entityId:null,entityType:t,entityRemove:!0}}var IC=class{constructor(e,i){this.type=Zx,this.meta=Jx(e,i)}},Df=class{constructor(e){this.type=Qx,this.meta=Xx(e)}},eO="[LOADER] LOAD",tO="[LOADER] FAIL",nO="[LOADER] SUCCESS",rO="[LOADER] RESET";function VS(t){return{entityType:t,loader:{load:!0}}}function HS(t,e){return{entityType:t,loader:{error:e||!0}}}function zS(t){return{entityType:t,loader:{success:!0}}}function Gp(t){return{entityType:t,loader:{}}}var ut=class{constructor(e){this.type=eO,this.meta=VS(e)}},lt=class{constructor(e,i){this.type=tO,this.meta=HS(e,i)}},dt=class{constructor(e){this.type=nO,this.meta=zS(e)}},Yr=class{constructor(e){this.type=rO,this.meta=Gp(e)}},GS="[ENTITY] LOAD",WS="[ENTITY] LOAD FAIL",qS="[ENTITY] LOAD SUCCESS",YS="[ENTITY] RESET";function KS(t,e){return v(v({},VS(t)),wi(t,e))}function ZS(t,e,i){return v(v({},HS(t,i)),wi(t,e))}function QS(t,e){return v(v({},zS(t)),wi(t,e))}function JS(t,e){return v(v({},Gp(t)),wi(t,e))}var Lt=class{constructor(e,i){this.type=GS,this.meta=KS(e,i)}},Tt=class{constructor(e,i,n){this.type=WS,this.meta=ZS(e,i,n)}},ft=class{constructor(e,i,n){this.payload=n,this.type=qS,this.meta=QS(e,i)}},kn=class{constructor(e,i){this.type=YS,this.meta=JS(e,i)}};function tt(t){return t.value}function Ut(t){return t.loading??!1}function Bo(t){return t.error??!1}function Bn(t){return t.success??!1}var Ln={loading:!1,error:!1,success:!1,value:void 0};function ct(t,e){return(i=Ln,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===t){let s=n.meta.loader;return s.load?T(v({},i),{loading:!0,value:r(i.value)}):s.error?T(v({},i),{loading:!1,error:!0,success:!1,value:r(void 0)}):s.success?T(v({},i),{value:r(n.payload),loading:!1,error:!1,success:!0}):T(v({},Ln),{value:e?e(Ln.value,n):Ln.value})}if(e){let s=e(i.value,n);if(s!==i.value)return T(v({},i),{value:s})}return i;function r(s){return e?e(i.value,n):s}}}function Gt(t,e){return t.entities[e]||Ln}function JG(t,e){let i=Gt(t,e);return tt(i)}function XG(t,e){let i=Gt(t,e);return Ut(i)}function e8(t,e){let i=Gt(t,e);return Bo(i)}function t8(t,e){let i=Gt(t,e);return Bn(i)}var DC={entities:{}};function Rc(t,e){return(n=DC,r)=>{let s=[],o=!1;if(r.meta&&r.meta.entityType===t&&r.meta.entityId!==void 0){if(r.meta.entityId!==null&&(s=[].concat(r.meta.entityId)),r.meta.entityRemove)return i(r,n,s);o=Array.isArray(r.meta.entityId)&&Array.isArray(r.payload)}else s=Object.keys(n.entities);let a={};for(let c=0;c<s.length;c++){let u=s[c],l=o?T(v({},r),{payload:r.payload[c]}):r,f=e(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?T(v({},n),{entities:v(v({},n.entities),a)}):n};function i(n,r,s){if(n?.meta?.entityId===null)return DC;{let o=!1,a=Object.keys(r.entities).reduce((c,u)=>(s.includes(u)?o=!0:c[u]=r.entities[u],c),{});return o?{entities:a}:r}}}function hs(t,e){return Rc(t,ct(t,e))}var iO="[PROCESSES LOADER] INCREMENT",sO="[PROCESSES LOADER] DECREMENT",oO="[PROCESSES LOADER] RESET";function XS(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function eI(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function tI(t){return T(v({},Gp(t)),{processesCountDiff:null})}var bC=class{constructor(e){this.type=oO,this.meta=tI(e)}},wC=class{constructor(e){this.type=iO,this.meta=XS(e)}},TC=class{constructor(e){this.type=sO,this.meta=eI(e)}},aO="[ENTITY] PROCESSES LOADER RESET",cO="[ENTITY] PROCESSES INCREMENT",uO="[ENTITY] PROCESSES DECREMENT";function lO(t,e){return v(v({},tI(t)),wi(t,e))}function dO(t,e){return v(v({},XS(t)),wi(t,e))}function fO(t,e){return v(v({},eI(t)),wi(t,e))}var AC=class{constructor(e,i){this.type=aO,this.meta=lO(e,i)}},RC=class{constructor(e,i){this.type=cO,this.meta=dO(e,i)}},MC=class{constructor(e,i){this.type=uO,this.meta=fO(e,i)}};function hO(t){return!t.processesCount&&!t.loading}function pO(t){return t.processesCount!==void 0&&t.processesCount>0}var bf={processesCount:0};function gO(t,e){return(i=v(v({},bf),Ln),n)=>{let r=ct(t,e)(i,n);if(n.meta&&n.meta.entityType===t){let s=n.meta.processesCountDiff;if(me()&&i.processesCount&&s&&i.processesCount+s<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),s)return T(v({},r),{processesCount:i.processesCount?i.processesCount+s:s});if(s===null)return v(v({},r),bf)}return r}}var n8=v(v({},Ln),bf);function r8(t,e){let i=Gt(t,e);return pO(i)}function i8(t,e){let i=Gt(t,e);return hO(i)}function s8(t,e){return t.entities[e]||n8}function o8(t,e){return Rc(t,gO(t,e))}function mO(t,e){return t.entities[e]||void 0}var nI=".";function a8(t,e){return t.split(nI).reduce((n,r)=>n?n[r]:void 0,e)}function c8(t,e,i){if(!t||!i||Object.keys(i).length===0)return{};let n=t.split(nI).reduceRight((r,s)=>({[s]:r}),i);return u8(t,e,n)}function rI(t,e,i){if(t&&t.length===0)return{};let n={};for(let r of t){let s=a8(r,i),o=c8(r,e,s);n=yt(n,o)}return n}function u8(t,e,i){let n=l8(t,e);if(n.length===0)return i;let r=yt({},i);for(let s of n){let o=s.split(nI),a=r;for(let c=0;c<o.length;c++){let u=o[c];c===o.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return r}function l8(t,e){if(!t||!e)return[];let i=[];for(let n of e)n.includes(t)&&i.push(n);return i}function vO(t,e){return t?Object.keys(t).filter(i=>t[i]===e):[]}var d8="all";function iI(t,e){return`${e??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function f8(t,e){return yO(t.list,t.entities,e)}function yO(t,e,i,n){let r=Gt(t,i?iI(i,n):n??d8);if(!r.value||!r.value.ids)return r;let s=Object.assign({},r,{value:{values:r.value.ids.map(o=>Gt(e,o).value)}});return i&&s.value&&(s.value.pagination=r.value.pagination,s.value.sorts=r.value.sorts),s}function h8(t,e){let i=t.values||[],n={ids:i.map(r=>r[e])};return t.pagination&&(n.pagination=t.pagination),t.sorts&&(n.sorts=t.sorts),{values:i,page:n}}function p8(t,e){return[t,iI(e)].toString()}var Zce=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:WS,ENTITY_LOAD_ACTION:GS,ENTITY_PROCESSES_DECREMENT_ACTION:uO,ENTITY_PROCESSES_INCREMENT_ACTION:cO,ENTITY_PROCESSES_LOADER_RESET_ACTION:aO,ENTITY_REMOVE_ACTION:Zx,ENTITY_REMOVE_ALL_ACTION:Qx,ENTITY_RESET_ACTION:YS,ENTITY_SUCCESS_ACTION:qS,EntityFailAction:Tt,EntityLoadAction:Lt,EntityLoaderResetAction:kn,EntityProcessesDecrementAction:MC,EntityProcessesIncrementAction:RC,EntityProcessesLoaderResetAction:AC,EntityRemoveAction:IC,EntityRemoveAllAction:Df,EntitySuccessAction:ft,LOADER_FAIL_ACTION:tO,LOADER_LOAD_ACTION:eO,LOADER_RESET_ACTION:rO,LOADER_SUCCESS_ACTION:nO,LoaderFailAction:lt,LoaderLoadAction:ut,LoaderResetAction:Yr,LoaderSuccessAction:dt,PROCESSES_DECREMENT_ACTION:sO,PROCESSES_INCREMENT_ACTION:iO,PROCESSES_LOADER_RESET_ACTION:oO,ProcessesDecrementAction:TC,ProcessesIncrementAction:wC,ProcessesLoaderResetAction:bC,denormalizeCustomB2BSearch:yO,denormalizeSearch:f8,entityErrorSelector:e8,entityFailMeta:ZS,entityHasPendingProcessesSelector:r8,entityIsStableSelector:i8,entityLoadMeta:KS,entityLoaderReducer:hs,entityLoaderStateSelector:Gt,entityLoadingSelector:XG,entityMeta:wi,entityProcessesDecrementMeta:fO,entityProcessesIncrementMeta:dO,entityProcessesLoaderReducer:o8,entityProcessesLoaderResetMeta:lO,entityProcessesLoaderStateSelector:s8,entityReducer:Rc,entityRemoveAllMeta:Xx,entityRemoveMeta:Jx,entityResetMeta:JS,entitySelector:mO,entitySuccessMeta:QS,entitySuccessSelector:t8,entityValueSelector:JG,failMeta:HS,getStateSlice:rI,hasPendingProcessesSelector:pO,initialEntityState:DC,initialLoaderState:Ln,initialProcessesState:bf,isStableSelector:hO,loadMeta:VS,loaderErrorSelector:Bo,loaderLoadingSelector:Ut,loaderReducer:ct,loaderSuccessSelector:Bn,loaderValueSelector:tt,normalizeListPage:h8,processesDecrementMeta:eI,processesIncrementMeta:XS,processesLoaderReducer:gO,processesLoaderResetMeta:tI,resetMeta:Gp,serializeParams:p8,serializeSearchConfig:iI,successMeta:zS}),EO="anonymous-consents",Mc="[Anonymous Consents] Anonymous Consents",CO="[Anonymous Consents] Load Anonymous Consent Templates",g8="[Anonymous Consents] Load Anonymous Consent Templates Success",m8="[Anonymous Consents] Load Anonymous Consent Templates Fail",v8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var SO="[Anonymous Consents] Set Anonymous Consents",IO="[Anonymous Consents] Give Anonymous Consent",DO="[Anonymous Consents] Withdraw Anonymous Consent",bO="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",wO="[Anonymous Consents] Anonymous Consent Templates Updated",TO="[Anonymous Consents] Check Updated Versions",wf=class extends ut{constructor(){super(Mc),this.type=CO}},Tf=class extends dt{constructor(e){super(Mc),this.payload=e,this.type=g8}},Af=class extends lt{constructor(e){super(Mc,e),this.type=m8}},xC=class extends Yr{constructor(){super(Mc),this.type=v8}};var OC=class{constructor(e){this.payload=e,this.type=SO}},NC=class{constructor(e){this.templateCode=e,this.type=IO}},PC=class{constructor(e){this.templateCode=e,this.type=DO}},FC=class{constructor(e){this.dismissed=e,this.type=bO}},Rf=class{constructor(e){this.updated=e,this.type=wO}},_C=class{constructor(){this.type=TO}};var xc=Fn(EO),Wp=A(xc,t=>t.templates),LC=A(Wp,t=>tt(t)),y8=A(Wp,Ut),E8=A(Wp,Bn),C8=A(Wp,Bo),S8=t=>A(LC,e=>e?e.find(i=>i.id===t):void 0),I8=A(xc,t=>t.ui.updated),D8=A(xc,t=>t.ui.bannerDismissed),AO=A(xc,t=>t.consents),b8=t=>A(AO,e=>e.find(i=>i.templateCode===t));var Ao="current",Ro="anonymous",w8="guest",T8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:Ro,OCC_USER_ID_CURRENT:Ao,OCC_USER_ID_GUEST:w8}),Qce="current",Un="[Auth] Login",yr="[Auth] Logout",Mo=class{constructor(){this.type=Un}},Mf=class{constructor(){this.type=yr}},Jce=Object.freeze({__proto__:null,LOGIN:Un,LOGOUT:yr,Login:Mo,Logout:Mf}),Vn=(()=>{let e=class e{constructor(){this._userId=new rn(1)}setUserId(n){this._userId.next(n)}getUserId(){return this._userId}takeUserId(n=!1){return this.getUserId().pipe(ie(1),E(r=>{if(n&&r===Ro)throw new Error("Requested user id for logged user while user is not logged in.");return r}))}clearUserId(){this.setUserId(Ro)}isEmulated(){return this.getUserId().pipe(E(n=>n!==Ro&&n!==Ao))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A8="oAuthRedirectCodeFlow",yc=function(t){return t[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",t}(yc||{}),R8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Jr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Er=(()=>{let e=class e extends Jr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),qp=(()=>{let e=class e{constructor(n,r){this.authConfig=n,this.occConfig=r}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let n=this.config?.tokenEndpoint??"";return this.prefixEndpoint(n)}getLoginUrl(){let n=this.config?.loginUrl??"";return this.prefixEndpoint(n)}getRevokeEndpoint(){let n=this.config?.revokeEndpoint??"";return this.prefixEndpoint(n)}getLogoutUrl(){let n=this.config?.logoutUrl??"";return this.prefixEndpoint(n)}getUserinfoEndpoint(){let n=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(n)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(n){let r=n;return r.startsWith("/")||(r="/"+r),`${this.getBaseUrl()}${r}`}getOAuthFlow(){let n=this.config?.OAuthLibConfig?.responseType;if(n){let r=n.split(" ");return r.includes("code")?yc.AuthorizationCode:r.includes("token")?yc.ImplicitFlow:yc.ResourceOwnerPasswordFlow}return yc.ResourceOwnerPasswordFlow}};e.\u0275fac=function(r){return new(r||e)(d(R8),d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M8=new S("SERVER_REQUEST_URL"),x8=new S("SERVER_REQUEST_ORIGIN"),Ti=(()=>{let e=class e{constructor(n,r,s,o){this.platformId=r,this.serverUrl=s,this.serverOrigin=o,this.document=n}isBrowser(){return Pn(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?ta(this.nativeWindow,"resize").pipe(ki(300),Qn({target:this.nativeWindow}),an()):I(null)}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e),d(M8,8),d(x8,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RO=(()=>{let e=class e{constructor(n,r,s,o){this.oAuthService=n,this.authConfigService=r,this.platformId=s,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let n=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(n?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(n,r){return this.oAuthService.fetchTokenUsingPasswordFlow(n,r)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(n=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{n()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(A8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(n=>{let r,s=this.events$.pipe(O(o=>o.type==="token_received"),ie(1)).subscribe(o=>r=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{n({result:o,tokenReceived:!!r})}).finally(()=>{s.unsubscribe()})})}};e.\u0275fac=function(r){return new(r||e)(d(Zd),d(qp),d($e),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Oc=(()=>{let e=class e extends ds{constructor(){super(...arguments),this._token$=new Te({})}decode(n,r){return e.nonStringifiedOAuthLibKeys.includes(n)?r:JSON.stringify(r)}encode(n,r){if(e.nonStringifiedOAuthLibKeys.includes(n))return r;try{return JSON.parse(r)}catch{return r}}getToken(){return this._token$}setToken(n){this._token$.next(n)}getItem(n){let r;return this.getToken().subscribe(s=>r=s).unsubscribe(),this.decode(n,r?.[n])}removeItem(n){let r=v({},this._token$.value);delete r[n],this._token$.next(v({},r))}setItem(n,r){n&&this._token$.next(T(v({},this._token$.value),{[n]:this.encode(n,r)}))}};e.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MO="[Router] Change Next PageContext",kC=class{constructor(e){this.payload=e,this.type=MO}};var UC="router",O8=Fn(UC),Yp=A(O8,t=>t.router),Xce=A(Yp,t=>t.state&&t.state.semanticRoute||""),N8=A(Yp,t=>t.state&&t.state.context||{id:""}),xO=A(Yp,t=>t.nextState&&t.nextState.context),P8=A(xO,t=>!!t);var jC=t=>t.startsWith(":"),Dx=t=>t.slice(1);var Q=(()=>{let e=class e{log(...n){console.log(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}info(...n){console.info(...n)}debug(...n){console.debug(...n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Zp=(()=>{let e=class e{constructor(n){this.config=n,this.logger=C(Q)}getRouteConfig(n){let r=this.config?.routing?.routes,s=r&&r[n];return(!r||s===void 0)&&this.warn(`No path was configured for the named route '${n}'!`),s}warn(...n){me()&&this.logger.warn(...n)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(n){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[n]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[n,r]of Object.entries(this.config?.routing?.routes??{}))r?.paths?.forEach(s=>{me()&&this.routeNamesByPath[s]&&this.logger.error(`The same path '${s}' is configured for two different route names: '${this.routeNamesByPath[s]}' and '${n}`),this.routeNamesByPath[s]=n})}};e.\u0275fac=function(r){return new(r||e)(d(Kp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sI=(()=>{let e=class e{constructor(n){this.router=n}getPrimarySegments(n){let r=this.router.parseUrl(n);return this._getPrimarySegmentsFromUrlTree(r.root)}_getPrimarySegmentsFromUrlTree(n){let r=n.segments.map(o=>o.path),s=n.children[ee]?this._getPrimarySegmentsFromUrlTree(n.children[ee]):[];return r.concat(s)}matchPath(n,r){if(n=Array.isArray(n)?n:this.getPrimarySegments(n),r=Array.isArray(r)?r:this.getPrimarySegments(r),n.length!==r.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(!jC(o)&&o!==a)return!1}return!0}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nc=(()=>{let e=class e{constructor(n,r){this.routingConfigService=n,this.urlParser=r,this.ROOT_URL=["/"]}get(n){let r=this.routingConfigService.getRouteConfig(n);return r&&Array.isArray(r.paths)?"/"+r.paths[0]:void 0}transform(n){Array.isArray(n)||(n=[n]);let r=[];for(let s of n)if(!this.isRouteCommand(s))r.push(s);else{let o=this.generateUrlPart(s);if(o===null)return this.ROOT_URL;r.push(...o)}return this.shouldOutputAbsolute(n)&&r.unshift("/"),r}isRouteCommand(n){return n&&!!n.cxRoute}shouldOutputAbsolute(n){return this.isRouteCommand(n[0])}generateUrlPart(n){if(this.standarizeRouteCommand(n),!n.cxRoute)return null;let r=this.routingConfigService.getRouteConfig(n.cxRoute);if(!r||!r.paths)return null;let s=this.findPathWithFillableParams(r,n.params);return s?this.provideParamsValues(s,n.params,r.paramsMapping):null}standarizeRouteCommand(n){n.params=n.params||{}}provideParamsValues(n,r,s){return this.urlParser.getPrimarySegments(n).map(o=>{if(jC(o)){let a=Dx(o),c=this.getMappedParamName(a,s);return r?.[c]}return o})}findPathWithFillableParams(n,r){let s=n.paths?.find(o=>this.getParams(o).every(a=>{let c=this.getMappedParamName(a,n.paramsMapping);return r?.[c]!==void 0}));return s??null}getParams(n){return this.urlParser.getPrimarySegments(n).filter(jC).map(Dx)}getMappedParamName(n,r){return r&&r[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(Zp),d(sI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OO=(()=>{let e=class e{constructor(n){this.router=n,this.routes$=this.router.events.pipe(O(r=>r instanceof ot),Qn(void 0),E(()=>{let r=this.router.routerState.snapshot.root,s=[r];for(;r=r.firstChild;)s.push(r);return s}),rt({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F8=(()=>{let e=class e{constructor(n,r){this.router=n,this.activatedRoutesService=r,this.params$=this.activatedRoutesService.routes$.pipe(E(s=>this.findAllParam(s)),rt({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(n){return Object.assign({},...n.map(r=>r.params))}};e.\u0275fac=function(r){return new(r||e)(d(Oe),d(OO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ai=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.winRef=r,this.semanticPathService=s,this.routingParamsService=o,this.router=a,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(M(Yp))}getPageContext(){return this.store.pipe(M(N8))}getNextPageContext(){return this.store.pipe(M(xO))}changeNextPageContext(n){this.store.dispatch(new kC(n))}isNavigating(){return this.store.pipe(M(P8))}go(n,r){let s=this.semanticPathService.transform(n);return this.navigate(s,r)}getUrl(n,r){let s=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(n),r));return s.startsWith("/")||(s=`/${s}`),s}getFullUrl(n,r){return`${this.winRef.location.origin}${this.getUrl(n,r)}`}goByUrl(n,r){return this.router.navigateByUrl(n,r)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(n,r){return this.router.navigate(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Ti),d(Nc),d(F8),d(Oe),d(ur))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NO=(()=>{let e=class e{constructor(){this.redirectUrl$=new Te(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(n){this.redirectUrl$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_8=(()=>{let e=class e{constructor(n,r){this.config=n,this.urlParsingService=r}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((n,r)=>r.authFlow===!0&&r.paths?.length?n.concat(r?.paths):n,[])),this._authFlowPaths}isAuthFlow(n){return this.authFlowPaths.some(r=>this.urlParsingService.matchPath(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(Kp),d(sI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oI=(()=>{let e=class e{constructor(n,r,s,o){this.routing=n,this.router=r,this.authRedirectStorageService=s,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(n=>{n instanceof ot&&this.setRedirectUrl(n.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(ie(1)).subscribe(n=>{n===void 0?this.routing.go("/"):this.routing.goByUrl(n),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let n=this.router.getCurrentNavigation();if(!n?.finalUrl)return;let r=this.router.serializeUrl(n.finalUrl);this.setRedirectUrl(r)}setRedirectUrl(n){this.authFlowRoutesService.isAuthFlow(n)||this.authRedirectStorageService.setRedirectUrl(n)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(Oe),d(NO),d(_8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function En(t){return typeof t<"u"}function Cc(t){return En(t)&&t!==null}function Pc(t,e){return t.context&&t.context[e]||[]}function Di(t,e){let i=Pc(t,e);return i&&i.length?i[0]:void 0}var Cs="language",Ss="currency",Kr="baseSite",L8="theme",aI="[Site-context] Load BaseSite",PO="[Site-context] Load BaseSite Fail",cI="[Site-context] Load BaseSite Success",uI="[Site-context] Load BaseSites",FO="[Site-context] Load BaseSites Fail",lI="[Site-context] Load BaseSites Success",dI="[Site-context] Set Active BaseSite",_O="[Site-context] BaseSite Change",$C=class{constructor(){this.type=aI}},xf=class{constructor(e){this.payload=e,this.type=PO}},Of=class{constructor(e){this.payload=e,this.type=cI}},Nf=class{constructor(){this.type=uI}},Pf=class{constructor(e){this.payload=e,this.type=FO}},Ff=class{constructor(e){this.payload=e,this.type=lI}},_f=class{constructor(e){this.payload=e,this.type=dI}},BC=class{constructor(){this.type=_O}},fI="[Site-context] Load Currencies",LO="[Site-context] Load Currencies Fail",hI="[Site-context] Load Currencies Success",Qp="[Site-context] Set Active Currency",Vo="[Site-context] Currency Change",Lf=class{constructor(){this.type=fI}},kf=class{constructor(e){this.payload=e,this.type=LO}},Uf=class{constructor(e){this.payload=e,this.type=hI}},jf=class{constructor(e){this.payload=e,this.type=Qp}},$f=class{constructor(e){this.payload=e,this.type=Vo}},pI="[Site-context] Load Languages",kO="[Site-context] Load Languages Fail",gI="[Site-context] Load Languages Success",Jp="[Site-context] Set Active Language",Cn="[Site-context] Language Change",Bf=class{constructor(){this.type=pI}},Vf=class{constructor(e){this.payload=e,this.type=kO}},Hf=class{constructor(e){this.payload=e,this.type=gI}},zf=class{constructor(e){this.payload=e,this.type=Jp}},Gf=class{constructor(e){this.payload=e,this.type=Cn}},eue=Object.freeze({__proto__:null,BASE_SITE_CHANGE:_O,BaseSiteChange:BC,CURRENCY_CHANGE:Vo,CurrencyChange:$f,LANGUAGE_CHANGE:Cn,LOAD_BASE_SITE:aI,LOAD_BASE_SITES:uI,LOAD_BASE_SITES_FAIL:FO,LOAD_BASE_SITES_SUCCESS:lI,LOAD_BASE_SITE_FAIL:PO,LOAD_BASE_SITE_SUCCESS:cI,LOAD_CURRENCIES:fI,LOAD_CURRENCIES_FAIL:LO,LOAD_CURRENCIES_SUCCESS:hI,LOAD_LANGUAGES:pI,LOAD_LANGUAGES_FAIL:kO,LOAD_LANGUAGES_SUCCESS:gI,LanguageChange:Gf,LoadBaseSite:$C,LoadBaseSiteFail:xf,LoadBaseSiteSuccess:Of,LoadBaseSites:Nf,LoadBaseSitesFail:Pf,LoadBaseSitesSuccess:Ff,LoadCurrencies:Lf,LoadCurrenciesFail:kf,LoadCurrenciesSuccess:Uf,LoadLanguages:Bf,LoadLanguagesFail:Vf,LoadLanguagesSuccess:Hf,SET_ACTIVE_BASE_SITE:dI,SET_ACTIVE_CURRENCY:Qp,SET_ACTIVE_LANGUAGE:Jp,SetActiveBaseSite:_f,SetActiveCurrency:jf,SetActiveLanguage:zf}),mI="siteContext",Fc=Fn(mI),k8=t=>t.entities,U8=A(Fc,t=>t.baseSite),bx=A(Fc,t=>t&&t.baseSite&&t.baseSite.activeSite),tue=A(Fc,t=>t&&t.baseSite&&t.baseSite.details),j8=A(U8,k8),$8=A(j8,t=>t?Object.keys(t).map(e=>t[e]):null),B8=t=>t.entities,V8=t=>t.activeCurrency,UO=A(Fc,t=>t.currencies),H8=A(UO,B8),VC=A(UO,V8),z8=A(H8,t=>t?Object.keys(t).map(e=>t[e]):null),G8=t=>t.activeLanguage,W8=t=>t.entities,jO=A(Fc,t=>t.languages),q8=A(jO,W8),HC=A(jO,G8),Y8=A(q8,t=>t?Object.keys(t).map(e=>t[e]):null);var Is=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getActive(){return this.store.pipe(M(bx),O(n=>!!n))}getAll(){return this.store.pipe(M($8),L(n=>{n||this.store.dispatch(new Nf)}),O(Cc))}get(n){return n?this.getAll().pipe(E(r=>r.find(s=>s.uid===n))):this.getActive().pipe(x(r=>this.getAll().pipe(E(s=>s.find(o=>o.uid===r)))))}setActive(n){this.store.pipe(M(bx),ie(1)).subscribe(r=>{n&&r!==n&&this.store.dispatch(new _f(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Kr).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),K8=(()=>{let e=class e{constructor(n){this.baseSiteService=n,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(ie(1),E(n=>n?.isolated?this.MULTISITE_SEPARATOR+n?.uid:""))}decorateUserId(n){return this.getBaseSiteDecorator().pipe(E(r=>n+r))}};e.\u0275fac=function(r){return new(r||e)(d(Is))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hn=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.store=n,this.userIdService=r,this.oAuthLibWrapperService=s,this.authStorageService=o,this.authRedirectService=a,this.routingService=c,this.authMultisiteIsolationService=u,this.refreshInProgress$=new Te(!1),this.logoutInProgress$=new Te(!1)}checkOAuthParamsInUrl(){return nt(this,null,function*(){try{let n=yield this.oAuthLibWrapperService.tryLogin(),r=this.authStorageService.getItem("access_token");n.result&&r&&(this.userIdService.setUserId(Ao),this.store.dispatch(new Mo),n.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(n,r){return nt(this,null,function*(){let s=n;this.authMultisiteIsolationService&&(s=yield Jn(this.authMultisiteIsolationService.decorateUserId(s)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(s,r),this.userIdService.setUserId(Ao),this.store.dispatch(new Mo),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(n,r){return nt(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(n,r),this.userIdService.setUserId(Ao),this.store.dispatch(new Mo),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(n=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new Mf),this.setLogoutProgress(!1),n()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(E(n=>!!n?.access_token),an())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(n){this.refreshInProgress$.next(n)}setLogoutProgress(n){this.logoutInProgress$.next(n)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn),d(RO),d(Oc),d(oI),d(Ai),d(K8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_c=(()=>{let e=class e{constructor(n,r){this.store=n,this.authService=r}loadTemplates(){this.store.dispatch(new wf)}getTemplates(n=!1){return na(()=>n,this.store.pipe(M(LC),it(this.getLoadTemplatesLoading()),O(([r,s])=>!s),L(([r,s])=>{r||this.loadTemplates()}),O(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(LC)))}getTemplate(n){return this.store.pipe(M(S8(n)))}getLoadTemplatesLoading(){return this.store.pipe(M(y8))}getLoadTemplatesSuccess(){return this.store.pipe(M(E8))}getLoadTemplatesError(){return this.store.pipe(M(C8))}resetLoadTemplatesState(){this.store.dispatch(new xC)}getConsents(){return this.store.pipe(M(AO))}setConsents(n){return this.store.dispatch(new OC(n))}getConsent(n){return this.authService.isUserLoggedIn().pipe(O(r=>!r),L(()=>this.getTemplates(!0)),x(()=>this.store.pipe(M(b8(n)))))}giveConsent(n){this.store.dispatch(new NC(n))}giveAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.giveConsent(r.id)})))}isConsentGiven(n){return(n&&n.consentState===Po.GIVEN)??!1}withdrawConsent(n){this.store.dispatch(new PC(n))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.withdrawConsent(r.id)})))}isConsentWithdrawn(n){return n&&n.consentState===Po.WITHDRAWN}toggleBannerDismissed(n){this.store.dispatch(new FC(n)),n&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(M(D8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(x(()=>this.store.pipe(M(I8))))}toggleTemplatesUpdated(n){this.store.dispatch(new Rf(n))}isBannerVisible(){return Pe([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),E(([n,r])=>!n||r))}checkConsentVersions(){this.store.dispatch(new _C)}detectUpdatedTemplates(n,r){if(r.length!==n.length)return!0;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.version!==a.version)return!0}return!1}serializeAndEncode(n){if(!n)return"";let r=JSON.stringify(n);return encodeURIComponent(r)}decodeAndDeserialize(n){let r=decodeURIComponent(n);return r.length>0?JSON.parse(r):[]}consentsUpdated(n,r){let s=this.serializeAndEncode(n),o=this.serializeAndEncode(r);return s!==o}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Hn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zC="cx-use-client-token",nue="cx-use-csagent-token",rue="sap-commerce-cloud-captcha-token",Sc=class{static createHeader(e,i,n){return n?n.append(e,JSON.stringify(i)):(n=new le().set(e,JSON.stringify(i)),n)}static removeHeader(e,i){let n=i.headers.delete(e);return i.clone({headers:n})}static getInterceptorParam(e,i){let n=i.get(e);if(n)return JSON.parse(n)}},$O="client-auth",Xp="[Client auth] Client Token Data",BO="[Token] Load Client Token",Z8="[Token] Load Client Token Fail",Q8="[Token] Load Client Token Success",Wf=class extends ut{constructor(){super(Xp),this.type=BO}},GC=class extends lt{constructor(e){super(Xp,e),this.payload=e,this.type=Z8}},WC=class extends dt{constructor(e){super(Xp),this.payload=e,this.type=Q8}};var J8=Fn($O),wx=A(J8,t=>t.clientToken);var VO=(()=>{let e=class e{constructor(n){this.store=n}getClientToken(){return this.store.pipe(M(wx),sn(ii),O(n=>this.isClientTokenLoaded(n)?!0:(n.loading||this.store.dispatch(new Wf),!1)),E(n=>n.value))}refreshClientToken(){return this.store.dispatch(new Wf),this.store.pipe(M(wx),O(n=>this.isClientTokenLoaded(n)),E(n=>n.value),O(En))}isClientTokenLoaded(n){return!!((n.success||n.error)&&!n.loading)}};e.\u0275fac=function(r){return new(r||e)(d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X8=(()=>{let e=class e{constructor(n){this.clientTokenService=n}handleExpiredClientToken(n,r){return this.clientTokenService.refreshClientToken().pipe(ie(1),x(s=>r.handle(this.createNewRequestWithNewToken(n,s))))}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}};e.\u0275fac=function(r){return new(r||e)(d(VO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qC=class{static resolve(e,i,n){for(let r of Object.keys(i)){let s=new RegExp("\\${"+r+"}","g");e=e.replace(s,n?encodeURIComponent(i[r]):i[r])}return e}},YC=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Ec="default";function Tx(...t){let e=[];t=t.filter(i=>!!i);for(let i of t)e.push(e3(i));return t[0]?.startsWith("/")&&(e[0]="/"+e[0]),t[t.length-1]?.endsWith("/")&&(e[e.length-1]=e[e.length-1]+"/"),e.join("/")}function e3(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}var Qe=(()=>{let e=class e{get activeBaseSite(){return this._activeBaseSite??Di(this.config,Kr)}constructor(n,r){this.config=n,this.baseSiteService=r,this.logger=C(Q),this.baseSiteService&&this.baseSiteService.getActive().subscribe(s=>this._activeBaseSite=s)}getRawEndpointValue(n,r){return this.getEndpointForScope(n,r)}isConfigured(n,r){return!(typeof this.getEndpointFromConfig(n,r)>"u")}getBaseUrl(n={baseUrl:!0,prefix:!0,baseSite:!0}){let r=n.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",s=n.prefix===!1?"":this.getPrefix(),o=n.baseSite===!1?"":this.activeBaseSite;return Tx(r,s,o)}buildUrl(n,r,s){let o=this.getEndpointForScope(n,r?.scope);if(r){let{urlParams:a,queryParams:c}=r;if(a&&(o=qC.resolve(o,a,!0)),c){let u={encoder:new YC};if(o.includes("?")){let h;[o,h]=o.split("?"),u=T(v({},u),{fromString:h})}let f=this.getHttpParamsFromQueryParams(c,u).toString();f.length&&(o+="?"+f)}}return this.buildUrlFromEndpointString(o,s)}getHttpParamsFromQueryParams(n,r){let s=new ze(r);return Object.keys(n).forEach(o=>{let a=n[o];a!==void 0&&(a===null?s=s.delete(o):s=s.set(o,a))}),s}getEndpointFromConfig(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return;let o=s[n];return r?r===Ec&&typeof o=="string"?o:o?.[r]:typeof o=="string"?o:o?.[Ec]}getEndpointForScope(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return"";let o=s[n];if(r){if(o?.[r])return o?.[r];if(r===Ec&&typeof o=="string")return o;me()&&this.logger.warn(`${n} endpoint configuration missing for scope "${r}"`)}return(typeof o=="string"?o:o?.[Ec])||n}buildUrlFromEndpointString(n,r){return Tx(this.getBaseUrl(r),n)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}};e.\u0275fac=function(r){return new(r||e)(d(Er),d(Is,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t3=(()=>{let e=class e{constructor(n,r,s){this.clientTokenService=n,this.clientErrorHandlingService=r,this.occEndpoints=s}intercept(n,r){let s=this.isClientTokenRequest(n);return s&&(n=Sc.removeHeader(zC,n)),this.getClientToken(s).pipe(ie(1),x(o=>(o?.access_token&&n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n).pipe(F(a=>{if(a instanceof zt&&a.status===401&&s&&this.isExpiredToken(a))return this.clientErrorHandlingService.handleExpiredClientToken(n,r);throw a})))))}getClientToken(n){return n?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(n){return!!Sc.getInterceptorParam(zC,n.headers)}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(VO),d(X8),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n3=[{provide:gn,useExisting:t3,multi:!0}],xo=function(t){return t.NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",t}(xo||{}),Ho=function(t){return t.TRANSFER_STATE="SSR",t}(Ho||{});function Ax(t,e){let i;switch(t){case xo.LOCAL_STORAGE:{i=e.localStorage;break}case xo.SESSION_STORAGE:{i=e.sessionStorage;break}case xo.NO_STORAGE:{i=void 0;break}default:i=e.sessionStorage}return i}function r3(t,e,i){!HO(i)&&e&&i.setItem(t,JSON.stringify(e))}function Rx(t,e){if(HO(t))return;let i=t.getItem(e);if(i)return JSON.parse(i)}function HO(t){return!t}var eg=(()=>{let e=class e{constructor(n){this.winRef=n}syncWithStorage({key:n,state$:r,context$:s=I(""),storageType:o=xo.LOCAL_STORAGE,onRead:a=()=>{}}){let c=Ax(o,this.winRef),u=new Ee;return u.add(s.pipe(E(l=>c?Rx(c,this.generateKeyWithContext(l,n)):void 0),L(l=>a(l))).subscribe()),c&&u.add(r.pipe(it(s)).subscribe(([l,f])=>{r3(this.generateKeyWithContext(f,n),l,c)})),u}readStateFromStorage({key:n,context:r="",storageType:s=xo.LOCAL_STORAGE}){let o=Ax(s,this.winRef);if(o)return Rx(o,this.generateKeyWithContext(r,n))}generateKeyWithContext(n,r){return`spartacus\u26BF${[].concat(n).join("\u26BF")}\u26BF${r}`}};e.\u0275fac=function(r){return new(r||e)(d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zO=(()=>{let e=class e{constructor(n,r,s,o){this.statePersistenceService=n,this.userIdService=r,this.authStorageService=s,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return Pe([this.authStorageService.getToken().pipe(O(n=>!!n),E(n=>v({},n))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(E(([n,r,s])=>{let o=n;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:r,redirectUrl:s}}))}onRead(n){n?.token&&this.authStorageService.setToken(n.token),n?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(n.redirectUrl),n?.userId?this.userIdService.setUserId(n.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(eg),d(Vn),d(Oc),d(NO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KC="cx-state";function i3(t,e,i,n){if(e&&i?.state?.ssrTransfer?.keys){if(Pn(t))return o3(e,i.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(ts(t))return s3(e,i.state.ssrTransfer.keys)}return r=>r}function s3(t,e){let i=vO(e,Ho.TRANSFER_STATE);return function(n){return function(r,s){let o=n(r,s);if(o){let a=rI(i,[],o);t.set(KC,a)}return o}}}function o3(t,e,i){let n=vO(e,Ho.TRANSFER_STATE);return function(r){return function(s,o){if(o.type===Id){if(s||(s=r(s,o)),!i&&t.hasKey(KC)){let a=t.get(KC,{}),c=rI(n,[],a);s=yt({},s,c)}return s}return r(s,o)}}}var Mx=new S("TransferStateMetaReducer"),a3=[{provide:Mx,useFactory:i3,deps:[$e,[new ln,Ra],[new ln,kt],[new ln,zO]]},{provide:oo,useExisting:Mx,multi:!0}],Ri=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...a3]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function q(t,e){if(t instanceof If)return t;if(t instanceof zt){let i=new If;return i.message=t.message,i.status=t.status,i.statusText=t.statusText,i.url=t.url,Array.isArray(t.error.errors)?i.details=t.error.errors:typeof t.error.error=="string"&&(i.details=[{type:t.error.error,message:t.error.error_description}]),i}me()&&e.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}var c3=(()=>{let e=class e{constructor(n,r){this.http=n,this.authConfigService=r}loadClientAuthenticationToken(){let n=this.authConfigService.getTokenEndpoint(),r=new ze().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),s=new le({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(n,r,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(qp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u3=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.clientAuthenticationTokenService=r,this.logger=C(Q),this.loadClientToken$=W(()=>this.actions$.pipe(k(BO),Xn(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(E(s=>new WC(s)),F(s=>I(new GC(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(c3))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),l3=[u3];function d3(){return{clientToken:ct(Xp)}}var GO=new S("ClientAuthReducers"),f3={provide:GO,useFactory:d3},h3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[f3],imports:[Ze,Ri,dr.forFeature($O,GO),Vr.forFeature(l3)]});let t=e;return t})(),p3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...n3]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,h3]});let t=e;return t})(),tg=new S("ConfigInitializer"),WO=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),jn=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.initializerGuard=r,this.rootConfig=s,this.logger=C(Q),this.ongoingScopes$=new Te(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...n){return this.isStable?I(this.config):this.ongoingScopes$.pipe(O(r=>!!r&&this.areReady(n,r)),ie(1),E(()=>this.config))}finishScopes(n){let r=[...this.ongoingScopes$.value??[]];for(let s of n)r.splice(r.indexOf(s),1);this.ongoingScopes$.next(r)}areReady(n,r){if(!n.length)return!r.length;for(let s of n)for(let o of r)if(this.scopesOverlap(s,o))return!1;return!0}scopesOverlap(n,r){return r.length>n.length&&([n,r]=[r,n]),n.startsWith(r)&&(n[r.length]||".")==="."}initialize(n){return nt(this,null,function*(){if(this.ongoingScopes$.value)return;let r=[],s=[];for(let o of n||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");me()&&!this.areReady(o.scopes,r)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),r.push(...o.scopes),s.push(nt(this,null,function*(){let a=yield o.configFactory();yt(this.rootConfig,a),yt(this.config,a),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(r),s.length&&(yield Promise.all(s))})}};e.\u0275fac=function(r){return new(r||e)(d(kt),d(WO,8),d($S))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qO=new S("ConfigurationValidator");function vI(t){return{provide:qO,useValue:t,multi:!0}}function g3(t,e,i){for(let n of e){let r=n(t);r&&i.warn(r)}}function m3(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&t?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var v3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function bi(t,e){return Object.assign(new t,e)}var Zr=(()=>{let e=class e{};e.type="CxEvent";let t=e;return t})(),xx=(()=>{let e=class e extends Zr{};e.type="LogoutEvent";let t=e;return t})(),y3=(()=>{let e=class e extends Zr{};e.type="LoginEvent";let t=e;return t})(),ZC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new z(e=>(this.consumer=e,this.bindAllSourcesToConsumer(e),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(xs()),this.consumer=null}add(e){this.has(e)||(this.consumer&&this.bindSourceToConsumer(e,this.consumer),this.sources.push(e))}bindAllSourcesToConsumer(e){this.sources.forEach(i=>this.bindSourceToConsumer(i,e))}unbindAllSourcesFromConsumer(){this.sources.forEach(e=>this.unbindSourceFromConsumer(e))}bindSourceToConsumer(e,i){let n=e.subscribe(r=>i.next(r));this.subscriptionsToSources.set(e,n)}unbindSourceFromConsumer(e){let i=this.subscriptionsToSources.get(e);i!==void 0&&(i.unsubscribe(),this.subscriptionsToSources.delete(e))}remove(e){this.unbindSourceFromConsumer(e);let i;(i=this.sources.findIndex(n=>n===e))!==-1&&this.sources.splice(i,1)}has(e){return this.sources.includes(e)}},Ds=(()=>{let e=class e{constructor(){this.logger=C(Q),this.eventsMeta=new Map}register(n,r){let s=this.getEventMeta(n);return s.mergingSubject.has(r)?me()&&this.logger.warn("EventService: the event source",r,"has been already registered for the type",n):s.mergingSubject.add(r),()=>s.mergingSubject.remove(r)}get(n){let r=this.getEventMeta(n).mergingSubject.output$;return me()&&(r=this.getValidatedEventStream(r,n)),r}dispatch(n,r){r?n instanceof r||(n=bi(r,n)):r=n.constructor,this.getInputSubject(r).next(n)}getInputSubject(n){let r=this.getEventMeta(n);return r.inputSubject$||(r.inputSubject$=new re,this.register(n,r.inputSubject$)),r.inputSubject$}getEventMeta(n){return this.eventsMeta.get(n)||(me()&&this.validateEventType(n),this.createEventMeta(n)),this.eventsMeta.get(n)}createEventMeta(n){let r={inputSubject$:null,mergingSubject:new ZC};this.eventsMeta.set(n,r);let s=Object.getPrototypeOf(n);for(;s!==null&&Object.getPrototypeOf(s)!==Object.getPrototypeOf({});)this.register(s,r.mergingSubject.output$),s=Object.getPrototypeOf(s)}validateEventType(n){if(!n?.constructor)throw new Error(`EventService:  ${n} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(n)}validateCxEvent(n){let r=n;for(;r!==null&&Object.getPrototypeOf(r)!==Object.getPrototypeOf({});){if(r.type===Zr.type)return;r=Object.getPrototypeOf(r)}this.logger.warn(`The ${n.name} (or one of its parent classes) does not inherit from the ${Zr.type}`)}getValidatedEventStream(n,r){return n.pipe(L(s=>{s instanceof r||this.logger.warn("EventService: The stream",n,"emitted the event",s,"that is not an instance of the declared type",r.name)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YO=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r}register(n){return this.eventService.register(n.event,this.getFromAction(n))}getFromAction(n){return this.actionsSubject.pipe(k(...[].concat(n.action))).pipe(E(r=>this.createEvent(r,n.event,n.factory)))}createEvent(n,r,s){return s?s(n):bi(r,n.payload??{})}};e.\u0275fac=function(r){return new(r||e)(d(Br),d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),E3=(()=>{let e=class e{constructor(n,r,s){this.stateEventService=n,this.eventService=r,this.authService=s,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:Un,event:y3})}registerLogoutEvent(){this.eventService.register(xx,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(ia(),O(([n,r])=>n&&!r),E(()=>bi(xx,{})))}};e.\u0275fac=function(r){return new(r||e)(d(YO),d(Ds),d(Hn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),C3=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(E3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),ke=function(t){return t.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",t}(ke||{}),qf="[Global-message] Add a Message",KO="[Global-message] Remove a Message",ZO="[Global-message] Remove messages by type",QC=class{constructor(e){this.payload=e,this.type=qf}},Ic=class{constructor(e){this.payload=e,this.type=KO}},Yf=class{constructor(e){this.payload=e,this.type=ZO}};var QO="global-message",S3=Fn(QO),JO=A(S3,t=>t.entities),XO=t=>A(JO,e=>e&&e[t]),I3=t=>A(XO(t),e=>e&&e.length);var zo=(()=>{let e=class e{constructor(n){this.store=n}get(){return this.store.pipe(M(JO),O(En))}add(n,r,s){this.store.dispatch(new QC({text:typeof n=="string"?{raw:n}:n,type:r,timeout:s}))}remove(n,r){this.store.dispatch(r!==void 0?new Ic({type:n,index:r}):new Yf(n))}};e.\u0275fac=function(r){return new(r||e)(d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D3=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.authService=n,this.authStorageService=r,this.oAuthLibWrapperService=s,this.routingService=o,this.occEndpoints=a,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new re,this.token$=this.authStorageService.getToken().pipe(E(l=>l?.access_token?l:void 0)),this.stopProgress$=this.token$.pipe(ia(),L(([l,f])=>{l?.access_token!==f?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(it(this.authService.refreshInProgress$,this.authService.logoutInProgress$),O(([,l,f])=>!l&&!f),L(([l])=>{l?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=_i(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(rt({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(n){return this.isOccUrl(n.url)}shouldAddAuthorizationHeader(n){let r=!!this.getAuthorizationHeader(n),s=this.isOccUrl(n.url);return!r&&s}alterRequest(n,r){let s=!!this.getAuthorizationHeader(n),o=this.isBaseSitesRequest(n),a=this.isOccUrl(n.url);return!s&&a&&!o?n.clone({setHeaders:v({},this.createAuthorizationHeader(r))}):n}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(n){return n.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(n){return n.headers.get("Authorization")}createAuthorizationHeader(n){if(n?.access_token)return{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`};let r;return this.authStorageService.getToken().subscribe(s=>r=s).unsubscribe(),r?.access_token?{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}:{}}handleExpiredAccessToken(n,r,s){return this.getValidToken(s).pipe(x(o=>o?r.handle(this.createNewRequestWithNewToken(n,o)):pe))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},ke.MSG_TYPE_ERROR)})}getStableToken(){return Pe([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(sn(ii),O(([n,r,s])=>!r&&!s),x(()=>this.token$))}getValidToken(n){return qe(()=>{let r=!1;return this.tokenToRetryRequest$.pipe(L(s=>{s?.access_token===n?.access_token&&!r&&this.refreshTokenTrigger$.next(s),r=!0}),Fu(s=>s?.access_token===n?.access_token),ie(1))})}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(Oc),d(RO),d(Ai),d(Qe),d(zo),d(oI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b3=(()=>{let e=class e{constructor(n,r){this.authHttpHeaderService=n,this.authConfigService=r}intercept(n,r){let s=this.authHttpHeaderService.shouldCatchError(n);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(n)?this.authHttpHeaderService.getStableToken().pipe(ie(1)):I(void 0)).pipe(E(u=>({token:u,request:this.authHttpHeaderService.alterRequest(n,u)}))).pipe(x(({request:u,token:l})=>r.handle(u).pipe(F(f=>{switch(f.status){case 401:if(this.isExpiredToken(f)&&s)return this.authHttpHeaderService.handleExpiredAccessToken(u,r,l);if(this.errorIsInvalidToken(f))return this.authHttpHeaderService.handleExpiredRefreshToken(),pe;break;case 400:this.errorIsInvalidGrant(f)&&u.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw f}))))}errorIsInvalidToken(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_token")??!1}errorIsInvalidGrant(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_grant")??!1}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(D3),d(qp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),w3=(()=>{let e=class e{constructor(n,r){this.authStorageService=n,this.authConfigService=r}intercept(n,r){let s=this.isTokenRevocationRequest(n);return this.authStorageService.getToken().pipe(ie(1),x(o=>(s&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n))))}isTokenRevocationRequest(n){return n.url===this.authConfigService.getRevokeEndpoint()}};e.\u0275fac=function(r){return new(r||e)(d(Oc),d(qp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),T3=[{provide:gn,useExisting:b3,multi:!0},{provide:gn,useExisting:w3,multi:!0}],yI=new S("MULTI_LOCATION_INITIALIZED");function A3(t,e,i){return()=>Pn(i)?Jn(e.getStable().pipe(x(()=>t.checkOAuthParamsInUrl()))):Promise.resolve()}function R3(t){return()=>t.initSync()}var M3=()=>{let t=C(Hn),e=C(jn),i=C($e),n=C(zO);return R3(n)(),A3(t,e,i)},x3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[$n(v3),vI(m3),...T3,{provide:ds,useExisting:Oc},{provide:yI,useFactory:M3,multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,$M.forRoot(),C3]});let t=e;return t})(),iue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,x3.forRoot(),p3.forRoot()]});let t=e;return t})(),O3=(()=>{let e=class e{constructor(n,r,s,o){this.authService=n,this.authRedirectService=r,this.router=s,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(oI),d(Oe),d(Nc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sue=(()=>{let e=class e{constructor(n,r,s){this.authService=n,this.semanticPathService=r,this.router=s}canActivate(){return this.authService.isUserLoggedIn().pipe(E(n=>n?this.router.parseUrl(this.semanticPathService.get("home")??""):!n))}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(Nc),d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eN=(()=>{let e=class e extends Er{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),N3=(()=>{let e=class e{constructor(n,r,s,o){this.anonymousConsentsService=n,this.authService=r,this.occEndpoints=s,this.config=o}intercept(n,r){return Pe([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(ie(1),x(([s,o])=>{if(!this.isOccUrl(n.url))return r.handle(n);let a=this.handleRequest(s,n);return r.handle(a).pipe(L(c=>{c instanceof ns&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,c.headers.get(SC),s)}))}))}handleResponse(n,r,s){if(!n&&r){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(r),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,s)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(n,r){if(!n)return r;let s=this.anonymousConsentsService.serializeAndEncode(n);return r.clone({setHeaders:{[SC]:s}})}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(n){let r=[...n];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let s of r)s.templateCode&&this.config.anonymousConsents.requiredConsents.includes(s.templateCode)&&(s.consentState=Po.GIVEN);return r}};e.\u0275fac=function(r){return new(r||e)(d(_c),d(Hn),d(Qe),d(eN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P3=[{provide:gn,useExisting:N3,multi:!0}],EI="[User] Load Billing Countries",tN="[User] Load Billing Countries Fail",CI="[User] Load Billing Countries Success",Kf=class{constructor(){this.type=EI}},Zf=class{constructor(e){this.payload=e,this.type=tN}},Qf=class{constructor(e){this.payload=e,this.type=CI}},ae="process";function F3(){return Fn(ae)}function ng(t){return A(F3(),e=>Gt(e,t))}function Ii(t){return A(ng(t),e=>Ut(e))}function Wr(t){return A(ng(t),e=>Bn(e))}function Si(t){return A(ng(t),e=>Bo(e))}var oue=Object.freeze({__proto__:null,getProcessErrorFactory:Si,getProcessLoadingFactory:Ii,getProcessStateFactory:ng,getProcessSuccessFactory:Wr}),nN="user",_3="registerUser",ps="giveConsent",gs="withdrawConsent",Lc="updateNotificationPreferences",Fo="addProductInterests",_o="removeProductInterests",kc="[User] User Consents",Cr="[User] User Payment Methods",tn="[User] User Addresses",rg="[User] User Cost Centers",Uc="[User] Regions",jc="[User] Customer Coupons",ms="subscribeCustomerCoupon",vs="unsubscribeCustomerCoupon",Oo="claimCustomerCoupon",Lo="disclaimCustomerCoupon",$c="[User] Notification Preferences",Bc="[User] Product Interests",SI="[User] Load Customer Coupons",rN="[User] Load Customer Coupons Fail",II="[User] Load Customer Coupons Success",iN="[User] Reset Load Customer Coupons",DI="[User] Subscribe Customer Notification Coupon",sN="[User] Subscribe Customer Coupon Notification Fail",bI="[User] Subscribe Customer Coupon Notification Success",oN="[User] Reset Subscribe Customer Coupon Process",wI="[User] Unsubscribe Customer Notification Coupon",aN="[User] Unsubscribe Customer Coupon Notification Fail",TI="[User] Unsubscribe Customer Coupon Notification Success",cN="[User] Reset Unsubscribe Customer Coupon Process",AI="[User] Claim Customer",uN="[User] Claim Customer Fail",lN="[User] Claim Customer Success",RI="[User] Disclaim Customer",dN="[User] Disclaim Customer Fail",fN="[User] Disclaim Customer Success",hN="[User] Reset Disclaim Customer",Jf=class extends ut{constructor(e){super(jc),this.payload=e,this.type=SI}},Xf=class extends lt{constructor(e){super(jc,e),this.payload=e,this.type=rN}},eh=class extends dt{constructor(e){super(jc),this.payload=e,this.type=II}},JC=class extends Yr{constructor(){super(jc),this.type=iN}},th=class extends Lt{constructor(e){super(ae,ms),this.payload=e,this.type=DI}},nh=class extends Tt{constructor(e){super(ae,ms,e),this.payload=e,this.type=sN}},rh=class extends ft{constructor(e){super(ae,ms,e),this.payload=e,this.type=bI}},XC=class extends kn{constructor(){super(ae,ms),this.type=oN}},ih=class extends Lt{constructor(e){super(ae,vs),this.payload=e,this.type=wI}},sh=class extends Tt{constructor(e){super(ae,vs,e),this.payload=e,this.type=aN}},oh=class extends ft{constructor(e){super(ae,vs,e),this.payload=e,this.type=TI}},eS=class extends kn{constructor(){super(ae,vs),this.type=cN}},ah=class extends Lt{constructor(e){super(ae,Oo),this.payload=e,this.type=AI}},ch=class extends Lt{constructor(e){super(ae,Lo),this.payload=e,this.type=RI}},uh=class extends kn{constructor(){super(ae,Lo),this.type=hN}},lh=class extends Tt{constructor(e){super(ae,Lo,e),this.payload=e,this.type=dN}},dh=class extends ft{constructor(e){super(ae,Lo,e),this.payload=e,this.type=fN}},fh=class extends Tt{constructor(e){super(ae,Oo,e),this.payload=e,this.type=uN}},hh=class extends ft{constructor(e){super(ae,Oo,e),this.payload=e,this.type=lN}},MI="[User] Load Delivery Countries",pN="[User] Load Delivery Countries Fail",xI="[User] Load Delivery Countries Success",ph=class{constructor(){this.type=MI}},gh=class{constructor(e){this.payload=e,this.type=pN}},mh=class{constructor(e){this.payload=e,this.type=xI}},OI="[User] Load Notification Preferences",NI="[User] Load Notification Preferences Fail",PI="[User] Load Notification Preferences Success",FI="[User] Update Notification Preferences",gN="[User] Update Notification Preferences Fail",_I="[User] Update Notification Preferences Success",mN="[User] Reset Notification Preferences",vN="[User] Clear Notification Preferences",vh=class extends ut{constructor(e){super($c),this.payload=e,this.type=OI}},yh=class extends lt{constructor(e){super($c,e),this.payload=e,this.type=NI}},Eh=class extends dt{constructor(e){super($c),this.payload=e,this.type=PI}},Ch=class extends Lt{constructor(e){super(ae,Lc),this.payload=e,this.type=FI}},Sh=class extends Tt{constructor(e){super(ae,Lc,e),this.payload=e,this.type=gN}},Ih=class extends ft{constructor(e){super(ae,Lc),this.payload=e,this.type=_I}},Dh=class extends kn{constructor(){super(ae,Lc),this.type=mN}},bh=class extends Yr{constructor(){super($c),this.type=vN}},LI="[User] Load User Payment Methods",kI="[User] Load User Payment Methods Fail",UI="[User] Load User Payment Methods Success",jI="[User] Set Default User Payment Method",yN="[User] Set Default User Payment Method Fail",EN="[User] Set Default User Payment Method Success",$I="[User] Delete User Payment Method",CN="[User] Delete User Payment Method Fail",SN="[User] Delete User  Payment Method Success",ko=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=LI}},wh=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=kI}},Th=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=UI}},Ah=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=jI}},Rh=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=yN}},Mh=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=EN}},xh=class extends ut{constructor(e){super(Cr),this.payload=e,this.type=$I}},Oh=class extends lt{constructor(e){super(Cr,e),this.payload=e,this.type=CN}},Nh=class extends dt{constructor(e){super(Cr),this.payload=e,this.type=SN}},BI="Load Product Interests",VI="Load Product Interests Fail",HI="Load Product Interests Success",zI="Remove Product Interest",IN="Remove Product Interest Success",DN="Remove Product Interest Fail",GI="Add Product Interest",bN="Add Product Interest Fail",wN="Add Product Interest Success",TN="Add Product Interest Reset",AN="Remove Product Interest Reset",RN="Clear Product Interests",Uo=class extends ut{constructor(e){super(Bc),this.payload=e,this.type=BI}},Ph=class extends lt{constructor(e){super(Bc,e),this.payload=e,this.type=VI}},Fh=class extends dt{constructor(e){super(Bc),this.payload=e,this.type=HI}},_h=class extends Lt{constructor(e){super(ae,_o),this.payload=e,this.type=zI}},Lh=class extends ft{constructor(e){super(ae,_o),this.payload=e,this.type=IN}},kh=class extends Tt{constructor(e){super(ae,_o,e),this.payload=e,this.type=DN}},Uh=class extends Lt{constructor(e){super(ae,Fo),this.payload=e,this.type=GI}},jh=class extends ft{constructor(e){super(ae,Fo),this.payload=e,this.type=wN}},$h=class extends Tt{constructor(e){super(ae,Fo,e),this.payload=e,this.type=bN}},Bh=class extends kn{constructor(){super(ae,Fo),this.type=TN}},Vh=class extends kn{constructor(){super(ae,_o),this.type=AN}},Hh=class extends Yr{constructor(){super(Bc),this.type=RN}},WI="[User] Load Regions",qI="[User] Load Regions Success",MN="[User] Load Regions Fail",YI="[User] Clear Regions",zh=class extends ut{constructor(e){super(Uc),this.payload=e,this.type=WI}},Gh=class extends lt{constructor(e){super(Uc,e),this.payload=e,this.type=MN}},Wh=class extends dt{constructor(e){super(Uc),this.payload=e,this.type=qI}},qh=class{constructor(){this.type=YI}},KI="[User] Load User Addresses",ZI="[User] Load User Addresses Fail",QI="[User] Load User Addresses Success",ig="[User] Add User Address",xN="[User] Add User Address Fail",JI="[User] Add User Address Success",sg="[User] Update User Address",ON="[User] Update User Address Fail",XI="[User] Update User Address Success",og="[User] Delete User Address",NN="[User] Delete User Address Fail",eD="[User] Delete User Address Success",Yh=class extends ut{constructor(e){super(tn),this.payload=e,this.type=KI}},Kh=class extends lt{constructor(e){super(tn,e),this.payload=e,this.type=ZI}},Zh=class extends dt{constructor(e){super(tn),this.payload=e,this.type=QI}},Qh=class extends ut{constructor(e){super(tn),this.payload=e,this.type=ig}},Jh=class extends lt{constructor(e){super(tn,e),this.payload=e,this.type=xN}},Xh=class extends dt{constructor(e){super(tn),this.payload=e,this.type=JI}},Dc=class extends ut{constructor(e){super(tn),this.payload=e,this.type=sg}},ep=class extends lt{constructor(e){super(tn,e),this.payload=e,this.type=ON}},tp=class extends dt{constructor(e){super(tn),this.payload=e,this.type=XI}},np=class extends ut{constructor(e){super(tn),this.payload=e,this.type=og}},rp=class extends lt{constructor(e){super(tn,e),this.payload=e,this.type=NN}},ip=class extends dt{constructor(e){super(tn),this.payload=e,this.type=eD}},tD="[User] Load User Consents",nD="[User] Load User Consents Success",PN="[User] Load User Consents Fail",FN="[User] Reset Load User Consents",rD="[User] Give User Consent",_N="[User] Give User Consent Fail",iD="[User] Give User Consent Success",LN="[User] Reset Give User Consent Process",sp="[User] Transfer Anonymous Consent",sD="[User] Withdraw User Consent",kN="[User] Withdraw User Consent Fail",UN="[User] Withdraw User Consent Success",jN="[User] Reset Withdraw User Consent Process",op=class extends ut{constructor(e){super(kc),this.payload=e,this.type=tD}},ap=class extends lt{constructor(e){super(kc,e),this.payload=e,this.type=PN}},cp=class extends dt{constructor(e){super(kc),this.payload=e,this.type=nD}},bc=class extends Yr{constructor(){super(kc),this.type=FN}},wc=class extends Lt{constructor(e){super(ae,ps),this.payload=e,this.type=rD}},up=class extends Tt{constructor(e){super(ae,ps,e),this.type=_N}},lp=class extends ft{constructor(e){super(ae,ps),this.consentTemplate=e,this.type=iD}},dp=class extends kn{constructor(){super(ae,ps),this.type=LN}},fp=class{constructor(e){this.payload=e,this.type=sp}},hp=class extends Lt{constructor(e){super(ae,gs),this.payload=e,this.type=sD}},pp=class extends Tt{constructor(e){super(ae,gs,e),this.type=kN}},gp=class extends ft{constructor(){super(ae,gs),this.type=UN}},mp=class extends kn{constructor(){super(ae,gs),this.type=jN}},oD="[User] Load Active CostCenters",aD="[User] Load Active CostCenters Fail",cD="[User] Load Active CostCenters Success",tS=class extends ut{constructor(e){super(rg),this.payload=e,this.type=oD}},vp=class extends lt{constructor(e){super(rg,e),this.payload=e,this.type=aD}},yp=class extends dt{constructor(e){super(rg),this.payload=e,this.type=cD}},Vc="[User] Clear User Misc Data",Ep=class{constructor(){this.type=Vc}},uD="[User] Register User Success",nS=class extends ft{constructor(){super(ae,_3),this.type=uD}},aue=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:GI,ADD_PRODUCT_INTEREST_FAIL:bN,ADD_PRODUCT_INTEREST_RESET:TN,ADD_PRODUCT_INTEREST_SUCCESS:wN,ADD_USER_ADDRESS:ig,ADD_USER_ADDRESS_FAIL:xN,ADD_USER_ADDRESS_SUCCESS:JI,AddProductInterest:Uh,AddProductInterestFail:$h,AddProductInterestSuccess:jh,AddUserAddress:Qh,AddUserAddressFail:Jh,AddUserAddressSuccess:Xh,CLAIM_CUSTOMER_COUPON:AI,CLAIM_CUSTOMER_COUPON_FAIL:uN,CLAIM_CUSTOMER_COUPON_SUCCESS:lN,CLEAR_NOTIFICATION_PREFERENCES:vN,CLEAR_PRODUCT_INTERESTS:RN,CLEAR_REGIONS:YI,CLEAR_USER_MISCS_DATA:Vc,ClaimCustomerCoupon:ah,ClaimCustomerCouponFail:fh,ClaimCustomerCouponSuccess:hh,ClearNotificationPreferences:bh,ClearProductInterests:Hh,ClearRegions:qh,ClearUserMiscsData:Ep,DELETE_USER_ADDRESS:og,DELETE_USER_ADDRESS_FAIL:NN,DELETE_USER_ADDRESS_SUCCESS:eD,DELETE_USER_PAYMENT_METHOD:$I,DELETE_USER_PAYMENT_METHOD_FAIL:CN,DELETE_USER_PAYMENT_METHOD_SUCCESS:SN,DISCLAIM_CUSTOMER_COUPON:RI,DISCLAIM_CUSTOMER_COUPON_FAIL:dN,DISCLAIM_CUSTOMER_COUPON_SUCCESS:fN,DeleteUserAddress:np,DeleteUserAddressFail:rp,DeleteUserAddressSuccess:ip,DeleteUserPaymentMethod:xh,DeleteUserPaymentMethodFail:Oh,DeleteUserPaymentMethodSuccess:Nh,DisclaimCustomerCoupon:ch,DisclaimCustomerCouponFail:lh,DisclaimCustomerCouponSuccess:dh,GIVE_USER_CONSENT:rD,GIVE_USER_CONSENT_FAIL:_N,GIVE_USER_CONSENT_SUCCESS:iD,GiveUserConsent:wc,GiveUserConsentFail:up,GiveUserConsentSuccess:lp,LOAD_ACTIVE_COST_CENTERS:oD,LOAD_ACTIVE_COST_CENTERS_FAIL:aD,LOAD_ACTIVE_COST_CENTERS_SUCCESS:cD,LOAD_BILLING_COUNTRIES:EI,LOAD_BILLING_COUNTRIES_FAIL:tN,LOAD_BILLING_COUNTRIES_SUCCESS:CI,LOAD_CUSTOMER_COUPONS:SI,LOAD_CUSTOMER_COUPONS_FAIL:rN,LOAD_CUSTOMER_COUPONS_SUCCESS:II,LOAD_DELIVERY_COUNTRIES:MI,LOAD_DELIVERY_COUNTRIES_FAIL:pN,LOAD_DELIVERY_COUNTRIES_SUCCESS:xI,LOAD_NOTIFICATION_PREFERENCES:OI,LOAD_NOTIFICATION_PREFERENCES_FAIL:NI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:PI,LOAD_PRODUCT_INTERESTS:BI,LOAD_PRODUCT_INTERESTS_FAIL:VI,LOAD_PRODUCT_INTERESTS_SUCCESS:HI,LOAD_REGIONS:WI,LOAD_REGIONS_FAIL:MN,LOAD_REGIONS_SUCCESS:qI,LOAD_USER_ADDRESSES:KI,LOAD_USER_ADDRESSES_FAIL:ZI,LOAD_USER_ADDRESSES_SUCCESS:QI,LOAD_USER_CONSENTS:tD,LOAD_USER_CONSENTS_FAIL:PN,LOAD_USER_CONSENTS_SUCCESS:nD,LOAD_USER_PAYMENT_METHODS:LI,LOAD_USER_PAYMENT_METHODS_FAIL:kI,LOAD_USER_PAYMENT_METHODS_SUCCESS:UI,LoadActiveCostCenters:tS,LoadActiveCostCentersFail:vp,LoadActiveCostCentersSuccess:yp,LoadBillingCountries:Kf,LoadBillingCountriesFail:Zf,LoadBillingCountriesSuccess:Qf,LoadCustomerCoupons:Jf,LoadCustomerCouponsFail:Xf,LoadCustomerCouponsSuccess:eh,LoadDeliveryCountries:ph,LoadDeliveryCountriesFail:gh,LoadDeliveryCountriesSuccess:mh,LoadNotificationPreferences:vh,LoadNotificationPreferencesFail:yh,LoadNotificationPreferencesSuccess:Eh,LoadProductInterests:Uo,LoadProductInterestsFail:Ph,LoadProductInterestsSuccess:Fh,LoadRegions:zh,LoadRegionsFail:Gh,LoadRegionsSuccess:Wh,LoadUserAddresses:Yh,LoadUserAddressesFail:Kh,LoadUserAddressesSuccess:Zh,LoadUserConsents:op,LoadUserConsentsFail:ap,LoadUserConsentsSuccess:cp,LoadUserPaymentMethods:ko,LoadUserPaymentMethodsFail:wh,LoadUserPaymentMethodsSuccess:Th,REGISTER_USER_SUCCESS:uD,REMOVE_PRODUCT_INTEREST:zI,REMOVE_PRODUCT_INTEREST_FAIL:DN,REMOVE_PRODUCT_INTEREST_RESET:AN,REMOVE_PRODUCT_INTEREST_SUCCESS:IN,RESET_DISCLAIM_CUSTOMER_COUPON:hN,RESET_GIVE_USER_CONSENT_PROCESS:LN,RESET_LOAD_CUSTOMER_COUPONS:iN,RESET_LOAD_USER_CONSENTS:FN,RESET_NOTIFICATION_PREFERENCES:mN,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:oN,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:cN,RESET_WITHDRAW_USER_CONSENT_PROCESS:jN,RegisterUserSuccess:nS,RemoveProductInterest:_h,RemoveProductInterestFail:kh,RemoveProductInterestSuccess:Lh,ResetAddInterestState:Bh,ResetDisclaimCustomerCoupon:uh,ResetGiveUserConsentProcess:dp,ResetLoadCustomerCoupons:JC,ResetLoadUserConsents:bc,ResetNotificationPreferences:Dh,ResetRemoveInterestState:Vh,ResetSubscribeCustomerCouponProcess:XC,ResetUnsubscribeCustomerCouponProcess:eS,ResetWithdrawUserConsentProcess:mp,SET_DEFAULT_USER_PAYMENT_METHOD:jI,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:yN,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:EN,SUBSCRIBE_CUSTOMER_COUPON:DI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:sN,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:bI,SetDefaultUserPaymentMethod:Ah,SetDefaultUserPaymentMethodFail:Rh,SetDefaultUserPaymentMethodSuccess:Mh,SubscribeCustomerCoupon:th,SubscribeCustomerCouponFail:nh,SubscribeCustomerCouponSuccess:rh,TRANSFER_ANONYMOUS_CONSENT:sp,TransferAnonymousConsent:fp,UNSUBSCRIBE_CUSTOMER_COUPON:wI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:aN,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:TI,UPDATE_NOTIFICATION_PREFERENCES:FI,UPDATE_NOTIFICATION_PREFERENCES_FAIL:gN,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:_I,UPDATE_USER_ADDRESS:sg,UPDATE_USER_ADDRESS_FAIL:ON,UPDATE_USER_ADDRESS_SUCCESS:XI,UnsubscribeCustomerCoupon:ih,UnsubscribeCustomerCouponFail:sh,UnsubscribeCustomerCouponSuccess:oh,UpdateNotificationPreferences:Ch,UpdateNotificationPreferencesFail:Sh,UpdateNotificationPreferencesSuccess:Ih,UpdateUserAddress:Dc,UpdateUserAddressFail:ep,UpdateUserAddressSuccess:tp,WITHDRAW_USER_CONSENT:sD,WITHDRAW_USER_CONSENT_FAIL:kN,WITHDRAW_USER_CONSENT_SUCCESS:UN,WithdrawUserConsent:hp,WithdrawUserConsentFail:pp,WithdrawUserConsentSuccess:gp}),Cp=class{},L3=(()=>{let e=class e{constructor(n){this.adapter=n}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}};e.\u0275fac=function(r){return new(r||e)(d(Cp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sp=class{},Ip=class{},rS=new S("CmsPageNormalizer"),k3="JspIncludeComponent",U3="CMSFlexComponent";var j3=function(t){return t.DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",t}(j3||{}),lD=(()=>{let e=class e extends Er{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),Gr=function(t){return t.INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",t}(Gr||{}),To;(function(t){let e;(function(g){g.INDEX_FOLLOW="INDEX_FOLLOW",g.NOINDEX_FOLLOW="NOINDEX_FOLLOW",g.INDEX_NOFOLLOW="INDEX_NOFOLLOW",g.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(e=t.PageRobots||(t.PageRobots={}));let i;(function(g){g.Success="SUCCESS",g.Info="INFO",g.Warning="WARNING",g.Error="ERROR"})(i=t.OrderEntryStatus||(t.OrderEntryStatus={}));let n;(function(g){g.BUY="BUY",g.FROM="FROM"})(n=t.PriceType||(t.PriceType={}));let r;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(r=t.ImageType||(t.ImageType={}));let s;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(s=t.Fields||(t.Fields={}));let o;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(o=t.Fields1||(t.Fields1={}));let a;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(a=t.Fields2||(t.Fields2={}));let c;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(c=t.Fields3||(t.Fields3={}));let u;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(u=t.Fields4||(t.Fields4={}));let l;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(l=t.Fields5||(t.Fields5={}));let f;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(f=t.Fields6||(t.Fields6={}));let h;(function(g){g.CONTENT_PAGE="ContentPage",g.PRODUCT_PAGE="ProductPage",g.CATEGORY_PAGE="CategoryPage",g.CATALOG_PAGE="CatalogPage"})(h=t.PageType||(t.PageType={}));let p;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(p=t.Fields7||(t.Fields7={}));let y;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(y=t.Fields8||(t.Fields8={}));let b;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(b=t.Fields9||(t.Fields9={}));let w;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(w=t.Fields10||(t.Fields10={}));let R;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(R=t.Fields11||(t.Fields11={}));let V;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(V=t.Fields12||(t.Fields12={}));let U;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(U=t.Fields13||(t.Fields13={}));let H;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(H=t.Fields14||(t.Fields14={}));let te;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(te=t.Fields15||(t.Fields15={}));let ue;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ue=t.Fields16||(t.Fields16={}));let he;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(he=t.SortEnum||(t.SortEnum={}));let Ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ne=t.Fields17||(t.Fields17={}));let xi;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(xi=t.Fields18||(t.Fields18={}));let zn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(zn=t.Fields19||(t.Fields19={}));let D;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(D=t.Fields20||(t.Fields20={}));let N;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(N=t.Fields21||(t.Fields21={}));let ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ne=t.Fields22||(t.Fields22={}));let ye;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ye=t.Fields23||(t.Fields23={}));let we;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(we=t.Fields24||(t.Fields24={}));let de;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(de=t.Fields25||(t.Fields25={}));let Ir;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Ir=t.Fields26||(t.Fields26={}));let ht;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ht=t.Fields27||(t.Fields27={}));let He;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(He=t.Fields28||(t.Fields28={}));let nn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(nn=t.Fields29||(t.Fields29={}));let Jc;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Jc=t.Fields30||(t.Fields30={}));let sF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(sF=t.Fields31||(t.Fields31={}));let oF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(oF=t.Fields32||(t.Fields32={}));let aF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(aF=t.Fields33||(t.Fields33={}));let cF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(cF=t.Fields34||(t.Fields34={}));let uF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(uF=t.Fields35||(t.Fields35={}));let lF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(lF=t.Fields36||(t.Fields36={}));let dF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(dF=t.Fields37||(t.Fields37={}));let fF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fF=t.Fields38||(t.Fields38={}));let hF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(hF=t.Fields39||(t.Fields39={}));let pF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(pF=t.Fields40||(t.Fields40={}));let gF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(gF=t.Fields41||(t.Fields41={}));let mF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(mF=t.Fields42||(t.Fields42={}));let vF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(vF=t.Fields43||(t.Fields43={}));let yF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(yF=t.Fields44||(t.Fields44={}));let EF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(EF=t.Fields45||(t.Fields45={}));let CF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(CF=t.Fields46||(t.Fields46={}));let SF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(SF=t.Fields47||(t.Fields47={}));let IF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(IF=t.Fields48||(t.Fields48={}));let DF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(DF=t.Fields49||(t.Fields49={}));let bF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(bF=t.Fields50||(t.Fields50={}));let wF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(wF=t.Fields51||(t.Fields51={}));let TF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(TF=t.Fields52||(t.Fields52={}));let AF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(AF=t.Fields53||(t.Fields53={}));let RF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(RF=t.Fields54||(t.Fields54={}));let MF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(MF=t.Fields55||(t.Fields55={}));let xF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(xF=t.Fields56||(t.Fields56={}));let OF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(OF=t.Fields57||(t.Fields57={}));let NF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(NF=t.Fields58||(t.Fields58={}));let PF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(PF=t.Fields59||(t.Fields59={}));let FF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(FF=t.Fields60||(t.Fields60={}));let _F;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(_F=t.Fields61||(t.Fields61={}));let LF;(function(g){g.All="all",g.Product="product",g.Order="order"})(LF=t.Type||(t.Type={}));let kF;(function(g){g.ANONYMOUS_CONSENT_GIVEN="GIVEN",g.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})(kF=t.CONSENT_STATUS||(t.CONSENT_STATUS={}));let UF;(function(g){g.BACK_IN_STOCK="BACK_IN_STOCK"})(UF=t.NotificationType||(t.NotificationType={}));let jF;(function(g){g.DAY="DAY",g.WEEK="WEEK",g.MONTH="MONTH",g.QUARTER="QUARTER",g.YEAR="YEAR"})(jF=t.Period||(t.Period={}));let $F;(function(g){g.MONDAY="MONDAY",g.TUESDAY="TUESDAY",g.WEDNESDAY="WEDNESDAY",g.THURSDAY="THURSDAY",g.FRIDAY="FRIDAY",g.SATURDAY="SATURDAY",g.SUNDAY="SUNDAY"})($F=t.DaysOfWeek||(t.DaysOfWeek={}));let BF;(function(g){g.APPROVE="APPROVE",g.REJECT="REJECT"})(BF=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))})(To||(To={}));var $3=(()=>{let e=class e{convert(n,r={}){return this.normalizePageData(n,r),this.normalizePageSlotData(n,r),this.normalizePageComponentData(n,r),this.normalizeComponentData(n,r),r}normalizePageData(n,r){if(!n)return;let s={};n.name&&(s.name=n.name),n.typeCode&&(s.type=n.typeCode),n.label&&(s.label=n.label),n.template&&(s.template=n.template),n.uid&&(s.pageId=n.uid),n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.properties&&(s.properties=n.properties),this.normalizeRobots(n,s),r.page=s}normalizePageSlotData(n,r){if(n?.contentSlots){n.contentSlots.contentSlot&&!Array.isArray(n.contentSlots.contentSlot)&&(n.contentSlots.contentSlot=[n.contentSlots.contentSlot]),r.page=r.page??{},r.page.slots={};for(let s of n.contentSlots.contentSlot??[])s.position&&(r.page.slots[s.position]={},s.properties&&(r.page.slots[s.position].properties=s.properties))}}normalizePageComponentData(n,r){if(n?.contentSlots?.contentSlot){for(let s of n.contentSlots.contentSlot)if(Array.isArray(s.components?.component))for(let o of s.components?.component??[]){let a={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(s.position){let c=r.page?.slots?.[s.position];c&&(c.components||(c.components=[]),c.components.push(a))}}}}getComponentProperties(n){return n||void 0}getFlexTypeFromComponent(n){return n.typeCode===U3?n.flexType:n.typeCode===k3?n.uid:n.typeCode}normalizeComponentData(n,r){if(n?.contentSlots?.contentSlot)for(let s of n.contentSlots.contentSlot)for(let o of s.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),r.components||(r.components=[]),r.components.push(o)}normalizeRobots(n,r){let s=[];if(n.robotTag)switch(n.robotTag){case To.PageRobots.INDEX_FOLLOW:s.push(Gr.INDEX),s.push(Gr.FOLLOW);break;case To.PageRobots.NOINDEX_FOLLOW:s.push(Gr.NOINDEX),s.push(Gr.FOLLOW);break;case To.PageRobots.INDEX_NOFOLLOW:s.push(Gr.INDEX),s.push(Gr.NOFOLLOW);break;case To.PageRobots.NOINDEX_NOFOLLOW:s.push(Gr.NOINDEX),s.push(Gr.NOFOLLOW);break}r.robots=s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mf=new S("CmsComponentNormalizer"),B3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})();function $N(t){return typeof t=="object"&&!!t.features}function Ox(t,e){if(t==="*")return!0;let i=t.split("."),n=e.split(".");for(let r=0;r<n.length;r++){let s=Number(n[r]),o=Number(i[r])||0;if(s!==o)return o>s}return!0}function BN(t,e){return $N(t)&&t.features.level?e.startsWith("!")?!Ox(t.features.level,e.substring(1)):Ox(t.features.level,e):!1}function VN(t,e){if($N(t)){let i=e[0]==="!"?t.features[e.substring(1)]:t.features[e],n=typeof i=="string"?BN(t,i):i;return e.startsWith("!")?!n:!!n}return!1}var ag=(()=>{let e=class e{constructor(n){this.config=n}isLevel(n){return BN(this.config,n)}isEnabled(n){return VN(this.config,n)}};e.\u0275fac=function(r){return new(r||e)(d(B3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cue=(()=>{let e=class e{constructor(n,r,s){this.templateRef=n,this.viewContainer=r,this.featureConfig=s,this.hasView=!1}set cxFeature(n){this.featureConfig.isEnabled(n)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(n)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}};e.\u0275fac=function(r){return new(r||e)(X(xn),X(Vt),X(ag))},e.\u0275dir=Nt({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}});let t=e;return t})(),uue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>Object.assign({},C(HN),C(zN)),providedIn:"root"});let t=e;return t})(),HN=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(WN,{optional:!0})??[])}),zN=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(GN,{optional:!0})??[])}),GN=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),WN=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function lue(t={}){return{provide:GN,useValue:t,multi:!0}}function V3(t={}){return{provide:WN,useValue:t,multi:!0}}var H3={showDeliveryOptionsTranslation:!1,formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!1,recentSearches:!1,pdfInvoicesSortByInvoiceDate:!1,storeFrontLibCardParagraphTruncated:!1,useProductCarouselBatchApi:!1,productConfiguratorAttributeTypesV2:!1,productConfiguratorDeltaRendering:!1,a11yRequiredAsterisks:!1,a11yQuantityOrderTabbing:!1,a11yNavigationUiKeyboardControls:!1,a11yNavMenuExpandStateReadout:!1,a11yOrderConfirmationHeadingOrder:!1,a11yStarRating:!1,a11yViewChangeAssistiveMessage:!1,a11yReorderDialog:!1,a11yPopoverFocus:!1,a11yScheduleReplenishment:!1,a11yScrollToTop:!1,a11ySavedCartsZoom:!1,a11ySortingOptionsTruncation:!1,a11yExpandedFocusIndicator:!1,a11yCheckoutDeliveryFocus:!1,a11yMobileVisibleFocus:!1,a11yOrganizationsBanner:!1,a11yOrganizationListHeadingOrder:!1,a11yReplenishmentOrderFieldset:!1,a11yListOversizedFocus:!1,a11yStoreFinderOverflow:!1,a11yCartSummaryHeadingOrder:!1,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!1,a11yCartItemsLinksStyles:!1,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!1,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yRepeatedPageTitleFix:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectOptionsCount:!1,a11yRepeatedCancelOrderError:!1,a11yAddedToCartActiveDialog:!1,a11yNgSelectMobileReadout:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1};function z3(t,e){return()=>t.initialize(e)}var G3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:WO,useValue:!0},{provide:bt,multi:!0,useFactory:z3,deps:[jn,[new ln,tg]]},{provide:yI,useFactory:()=>{let n=C(jn);return()=>Jn(n.getStable())},multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function W3(t,e){let i=C(Q);return()=>{me()&&t.getStable().subscribe(n=>g3(n,e||[],i))}}var q3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:W3,deps:[jn,[new ln,qO]]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),vf={},iS=class{constructor(e,i){this.mainInjector=e,this.complementaryInjectors=i}get(e,i,n){if(n&&n.self){if(i!==void 0)return i;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let r of this.complementaryInjectors){let s=r.get(e,vf,{self:!0});if(s!==vf)return s}for(let r of this.complementaryInjectors){let s=r.get(e,vf);if(s!==vf)return s}return this.mainInjector.get(e,i)}},fC=(()=>{let e=class e extends Zr{};e.type="ModuleInitializedEvent";let t=e;return t})(),qN=new S("MODULE_INITIALIZER"),dD=(()=>{let e=class e{constructor(n,r,s){this.compiler=n,this.injector=r,this.events=s,this.logger=C(Q),this.modules$=Mu(this.events.get(fC).pipe(E(o=>o.moduleRef)),{connector:()=>new rn,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(n,r,s=[]){let o;return s.length?s.length===1?o=s[0].injector:o=new iS(this.injector,s.map(a=>a.injector)):o=this.injector,this.resolveModuleFactory(n).pipe(E(([a])=>a.create(o)),Ue(a=>this.runModuleInitializersForModule(a)),L(a=>this.events.dispatch(bi(fC,{feature:r,moduleRef:a}))))}resolveDependencyModuleInstance(n){return this.resolveModuleFactory(n).pipe(E(([r,s])=>{if(!this.dependencyModules.has(s)){let o=r.create(this.injector);this.dependencyModules.set(s,o)}return this.dependencyModules.get(s)}),Ue(r=>this.runModuleInitializersForModule(r)),L(r=>this.events.dispatch(bi(fC,{moduleRef:r}))))}runModuleInitializersForModule(n){let r=n.injector.get(qN,[],{self:!0}),s=this.runModuleInitializerFunctions(r);return s.length?ge(Promise.all(s)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),x(()=>I(n))):I(n)}runModuleInitializerFunctions(n){let r=[];try{if(n)for(let s=0;s<n.length;s++){let o=n[s]();this.isObjectPromise(o)&&r.push(o)}return r}catch(s){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",s),s}}isObjectPromise(n){return!!n&&typeof n.then=="function"}resolveModuleFactory(n){return ge(n()).pipe(x(r=>r instanceof Zi?I([r,r]):Pe([ge(this.compiler.compileModuleAsync(r)),I(r)])),sn(ii))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(n=>n.destroy())}};e.\u0275fac=function(r){return new(r||e)(d(ro),d(Ye),d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nx={},Hc=(()=>{let e=class e{constructor(n,r){this.rootInjector=n,this.lazyModules=r,this.injectors$=this.lazyModules.modules$.pipe(E(s=>s.injector),Qn(this.rootInjector))}get(n,r){return this.injectors$.pipe(E((s,o)=>s.get(n,r??Nx,o?{self:!0}:void 0)),O(s=>s!==Nx))}getMulti(n){return this.get(n,[]).pipe(O(r=>{if(!Array.isArray(r))throw new Error(`Multi-providers mixed with single providers for ${n.toString()}!`);return r.length>0}),Ui((r,s)=>[...r,...s],[]))}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(dD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y3=(()=>{let e=class e{constructor(n,r,s,o){this.rootConfig=n,this.defaultConfig=r,this.unifiedInjector=s,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Te(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let n=this.unifiedInjector.get(Ac,[]),r=this.unifiedInjector.get(jo,[]);return Li(n,r).pipe(Mg(1),L(([s,o])=>this.processConfig(s,o)))}processConfig(n,r){r?.length&&yt(this.ambientDefaultConfig,...r),n.length&&yt(this.ambientConfig,...n),(n.length||r.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let n=yt({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(n),VN(this.config,"disableConfigUpdates")||yt(this.config,n)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}};e.\u0275fac=function(r){return new(r||e)(d($S),d(Kx),d(Hc),d(kt))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YN=(()=>{let e=class e{constructor(n){}static withConfig(n){return{ngModule:e,providers:[Ix(n)]}}static withConfigFactory(n,r){return{ngModule:e,providers:[Sf(n,r)]}}static forRoot(n={}){return{ngModule:e,providers:[Ix(n)]}}};e.\u0275fac=function(r){return new(r||e)(d(Y3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function K3(t,e){let n=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)","g").exec(t);return n&&decodeURIComponent(n[1])||""}var Z3=new S("TEST_CONFIG_COOKIE_NAME"),due=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let t=C(Z3),e=C($e),i=C(_e);if(Pn(e)&&t){let n=K3(i.cookie,t);return Q3(n)}return{}}});function Q3(t){try{return JSON.parse(decodeURIComponent(t))}catch{return{}}}var J3=[Sf(()=>{let t=C(zN);return{features:v({},t)}}),$o(()=>{let t=C(HN);return{features:v({},t)}})],KN=(()=>{let e=class e{constructor(){this.rendererFactory=C(Ki),this.featureConfig=C(ag),this.logger=C(Q),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(n){this.rootElement=n.location.nativeElement;for(let[r,s]of this.usagesCounter.entries())s>0&&this.addClass(r)}registerUsage(n){let r=this.usagesCounter.get(n)??0;this.isEnabled(n)&&r===0&&this.addClass(n),this.usagesCounter.set(n,r+1)}unregisterUsage(n){let r=this.usagesCounter.get(n)??0;r===0&&me()&&this.logger.warn(`Feature flag CSS: "${n}" is already not used, so it cannot be unregistered.`),this.isEnabled(n)&&r===1&&this.removeClass(n),this.usagesCounter.set(n,Math.max(r-1,0))}isEnabled(n){return this.featureConfig.isEnabled(n)}addClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.addClass(this.rootElement,r)}removeClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.removeClass(this.rootElement,r)}getCssClass(n){return this.featureConfig.isEnabled(n)?`${this.CSS_FEATURE_FLAG_PREFIX}${n}`:void 0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X3=(()=>{let e=class e{static forRoot(n="3.0"){return{ngModule:e,providers:[V3(H3),...J3,$n({features:{level:n||"*"}}),{provide:no,multi:!0,useFactory:()=>{let r=C(KN);return s=>r.init(s)}}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function eW(t){Ia(eW);let e=C(KN),i=C(hi);e.registerUsage(t),i.onDestroy(()=>e.unregisterUsage(t))}function Dp(t){let e;return t.subscribe(i=>e=i).unsubscribe(),e}var Je=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.subscriptions=new Ee,this.converters=new Map;let r=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(r.subscribe())}getConverters(n){if(!this.converters.has(n)){let r=Dp(this.unifiedInjector.getMulti(n));r&&this.converters.set(n,r)}return this.converters.get(n)}hasConverters(n){let r=this.getConverters(n);return Array.isArray(r)&&r.length>0}pipeable(n){return this.hasConverters(n)?E(r=>this.convertSource(r,n)):r=>r}pipeableMany(n){return this.hasConverters(n)?E(r=>this.convertMany(r,n)):r=>r}convert(n,r){return this.hasConverters(r)?this.convertSource(n,r):n}convertMany(n,r){return this.hasConverters(r)&&Array.isArray(n)?n.map(s=>this.convertSource(s,r)):n}convertSource(n,r){return this.getConverters(r)?.reduce((s,o)=>o.convert(n,s),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Hc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Vn),this.featureConfigService=C(ag),this.headers=new le().set("Content-Type","application/json")}load(n,r){return this.featureConfigService.isEnabled(wo)?this.userIdService.getUserId().pipe(x(s=>this.http.get(this.getComponentEndPoint(n,r,s),{headers:this.headers})),this.converter.pipeable(mf)):this.http.get(this.getComponentEndPoint(n,r),{headers:this.headers}).pipe(this.converter.pipeable(mf))}findComponentsByIds(n,r,s="DEFAULT",o=0,a=n.length,c){let u=v(v({},this.getContextParams(r)),this.getPaginationParams(o,a,c));return u.componentIds=n.toString(),this.featureConfigService.isEnabled(wo)?this.userIdService.getUserId().pipe(x(l=>this.http.get(this.getComponentsEndpoint(u,s,l),{headers:this.headers})),E(l=>l.component??[]),this.converter.pipeableMany(mf)):this.http.get(this.getComponentsEndpoint(u,s),{headers:this.headers}).pipe(E(l=>l.component??[]),this.converter.pipeableMany(mf))}getComponentEndPoint(n,r,s){if(this.featureConfigService.isEnabled(wo)){let o=this.getContextParams(r),a=s?{urlParams:{id:n,userId:s},queryParams:o}:{urlParams:{id:n},queryParams:o};return this.occEndpoints.buildUrl("component",a)}return this.occEndpoints.buildUrl("component",{urlParams:{id:n},queryParams:this.getContextParams(r)})}getComponentsEndpoint(n,r,s){if(this.featureConfigService.isEnabled(wo)){let o=v({fields:r},n),a=s?{urlParams:{userId:s},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",a)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:r},n)})}getPaginationParams(n,r,s){let o={};return n!==void 0&&(o.currentPage=n.toString()),r!==void 0&&(o.pageSize=r.toString()),s!==void 0&&(o.sort=s),o}getContextParams(n){let r={};switch(n.type){case be.PRODUCT_PAGE:{r={productCode:n.id};break}case be.CATEGORY_PAGE:{r={categoryCode:n.id};break}case be.CATALOG_PAGE:{r={catalogCode:n.id};break}}return r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZN="__HOMEPAGE__",QN="smartedit-preview";var nW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Vn),this.featureConfigService=C(ag),this.headers=new le().set("Content-Type","application/json")}load(n){let r=this.getPagesRequestParams(n);if(this.featureConfigService.isEnabled(wo))return this.userIdService.getUserId().pipe(x(o=>{let a=n.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id,userId:o}});return this.http.get(a,{headers:this.headers})}),this.converter.pipeable(rS));let s=n.type?this.occEndpoints.buildUrl("pages",{queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id}});return this.http.get(s,{headers:this.headers}).pipe(this.converter.pipeable(rS))}getPagesRequestParams(n){if(n.id===ZN||n.id===QN)return{};let r={};return n.type&&(r.pageType=n.type),n.type===be.CONTENT_PAGE?r.pageLabelOrId=n.id:r.code=n.id,r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:Ip,useExisting:nW},{provide:rS,useExisting:$3,multi:!0},{provide:Sp,useExisting:tW}],imports:[Ze]});let t=e;return t})();var iW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.active=this.normalizeBoolean(n.active),r}normalizeBoolean(n){return n===void 0?!1:typeof n=="string"?n==="true":n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.activeFlag=n.active,delete r.active,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JN=new S("CostCenterNormalizer"),XN=new S("CostCentersListNormalizer"),oW=new S("CostCenterSerializer"),aW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.costCenters.map(s=>v({},this.converter.convert(s,JN))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cW={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},fue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:XN,useExisting:aW,multi:!0},{provide:JN,useExisting:iW,multi:!0},{provide:oW,useExisting:sW,multi:!0}],imports:[Ze,YN.withConfig(cW)]});let t=e;return t})(),uW=(()=>{let e=class e{constructor(n){this.config=n}convert(n,r){return r===void 0&&(r=v({},n)),n.images&&(r.images=this.normalize(n.images)),r}normalize(n){let r={};if(n)for(let s of n){let o=this.hasGalleryIndex(s);if(s.imageType){r.hasOwnProperty(s.imageType)||(r[s.imageType]=o?[]:{});let a=this.getImageContainer(o,r,s),c=v({},s);c.url=this.normalizeImageUrl(c.url??""),s.format&&(a[s.format]=c)}}return r}getImageContainer(n,r,s){return n?this.getImageGroups(r,s)[s.galleryIndex]:r[s.imageType]}getImageGroups(n,r){let s=n[r.imageType];return s[r.galleryIndex]||(s[r.galleryIndex]={}),s}normalizeImageUrl(n){return new RegExp(/^(http|data:image|\/\/)/i).test(n)?n:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+n}hasGalleryIndex(n){return(n.galleryIndex??!1)!==!1}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ys=new S("ProductNormalizer"),lW=(()=>{let e=class e{constructor(n){this.converterService=n,this.DEFAULT_TOP_VALUES=6}convert(n,r={}){return r=v(v({},r),n),this.normalizeFacets(r),n.products&&(r.products=n.products.map(s=>this.converterService.convert(s,ys))),r}normalizeFacets(n){this.normalizeFacetValues(n),this.normalizeUselessFacets(n)}normalizeUselessFacets(n){n.facets&&(n.facets=n.facets.filter(r=>!n.pagination||!n.pagination.totalResults||(!r.hasOwnProperty("visible")||r.visible)&&r.values&&r.values.find(s=>s.selected||(s.count??0)<(n.pagination?.totalResults??0))))}normalizeFacetValues(n){n.facets&&(n.facets=n.facets.map(r=>{let a=r,{topValues:s}=a,o=yg(a,["topValues"]);return o.topValueCount=s&&s.length>0?s.length:this.DEFAULT_TOP_VALUES,o}))}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r=[]){return r===void 0&&(r=v({},n)),n&&n.references?(r=n.references.map(s=>T(v({},s),{target:this.converter.convert(s.target,ys)})),r):[]}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fW=(()=>{let e=class e{constructor(n){this.config=n,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(n,r){return r=r??v({},n),n.name&&(r.name=this.normalize(n.name),r.slug=this.normalizeSlug(n.name),r.nameHtml=n.name),r}normalize(n){return n.replace(/<[^>]*>/g,"")}normalizeSlug(n){return this.normalize(n).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eP=new S("ProductReferencesListNormalizer"),hW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r,s){return this.http.get(this.getEndpoint(n,r,s)).pipe(this.converter.pipeable(eP))}getEndpoint(n,r,s){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:n},queryParams:{referenceType:r,pageSize:s}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),pW=new S("ProductReviewNormalizer"),gW=new S("ProductReviewSerializer"),mW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(E(s=>s.reviews),E(s=>s??[]),this.converter.pipeableMany(pW))}post(n,r){r=this.converter.convert(r,gW);let s=new le({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",r.headline),o.append("comment",r.comment),o.append("rating",r.rating.toString()),o.append("alias",r.alias),this.http.post(this.getEndpoint(n),o.toString(),{headers:s})}getEndpoint(n,r){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:n},queryParams:{maxCount:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),tP=new S("ProductSearchPageNormalizer"),vW=new S("ProductSuggestionNormalizer"),nP=new Ua(()=>({}));function yW(t){let e=t.map(n=>typeof n=="string"?cg(n):n),i=rP(yt({},...e));return iP(i)}function rP(t={}){let e=Object.keys(t);return e.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):e.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(i=>{t[i]=rP(t[i])}),t}function cg(t,e=0){let i={},n=e;for(;n<t.length;){if(t[n]===",")n>e&&(i[t.substring(e,n)]={}),e=n+1;else if(t[n]==="("){let r=cg(t,n+1);if(!Array.isArray(r))return i;i[t.substring(e,n)]=r[0],e=r[1],n=e-1}else if(t[n]===")")return n>e&&(i[t.substring(e,n)]={}),[i,n+1];n++}return e<t.length&&(i[t.substring(e,n)]={}),i}function iP(t){return Object.keys(t).map(e=>{let i=iP(t[e]);return i?`${e}(${i})`:e}).join(",")}function EW(t,e){let i=typeof e=="string"?cg(e):e;return sP(t,i)}function sP(t,e){if(!Cf(t))return t;let i=Object.keys(e);if(i.length===0||i.find(r=>r==="BASIC"||r==="DEFAULT"||r==="FULL"))return t;let n={};return i.forEach(r=>{t.hasOwnProperty(r)&&(n[r]=sP(t[r],e[r]))}),n}var hue=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>T8}),CW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.router=C(Oe,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(n,r=this.DEFAULT_SEARCH_CONFIG,s){let o=new so().set(nP,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(n,r,s),{context:o}).pipe(this.converter.pipeable(tP),L(a=>a.keywordRedirectUrl&&this.router?.navigate([a.keywordRedirectUrl])))}searchByCodes(n,r){if(n.length===0)return I({products:[]});let s=100,o=[];for(let c=0;c<n.length;c+=s)o.push(n.slice(c,c+s));let a=o.map(c=>{let u={filters:`code:${c.join(",")}`,pageSize:s};return this.search("",u,r).pipe(E(l=>({products:l?.products??[]})))});return ea(a).pipe(E(c=>({products:c.flatMap(u=>u.products)})))}loadSuggestions(n,r=3){return this.http.get(this.getSuggestionEndpoint(n,r.toString())).pipe(E(s=>s.suggestions??[]),this.converter.pipeableMany(vW))}getSearchEndpoint(n,r,s){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:n},r),scope:s})}getSuggestionEndpoint(n,r){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:n,max:r}})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),SW=(()=>{let e=class e{constructor(n){this.http=n,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(n){let r={};for(let o of n){let[a,c]=this.splitFields(o.url??"");r[a]||(r[a]={}),o.fields=c?cg(c):{},o.scopedData.scope!==void 0&&(r[a][o.scopedData.scope]=o)}let s={};for(let[o,a]of Object.entries(r)){let c=this.getUrlWithFields(o,Object.values(a).map(u=>u.fields));s[c]=a}return s}splitFields(n){let[r,s]=n.split("?"),o={};s&&s.split("&").forEach(u=>{let l=u.split("=");o[l[0]]=l[1]});let c=Object.keys(o).sort().reduce((u,l)=>(l!==this.FIELDS_PARAM&&u.push(o[l]?`${l}=${o[l]}`:l),u),[]).join("&");return[c?`${r}?${c}`:r,o[this.FIELDS_PARAM]]}getUrlWithFields(n,r){let s=yW(r);return s&&(n+=n.includes("?")?"&":"?",n+=`${this.FIELDS_PARAM}=${s}`),n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),IW=(()=>{let e=class e{constructor(n,r){this.http=n,this.occFields=r}scopedDataLoad(n,r){let s=[];r||(r=a=>this.http.get(a));let o=this.occFields.getOptimalUrlGroups(n);return Object.entries(o).forEach(([a,c])=>{let u=Object.values(c);if(u.length===1)s.push(T(v({},u[0].scopedData),{data$:r?.(a)}));else{let l=r?.(a).pipe(rt(1));u.forEach(f=>{s.push(T(v({},f.scopedData),{data$:l?.pipe(E(h=>EW(h,f.fields)))}))})}}),s}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(SW))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.converter=s,this.requestsOptimizer=o}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(this.converter.pipeable(ys))}loadMany(n){let r=n.map(s=>({scopedData:s,url:this.getEndpoint(s.code,s.scope)}));return this.requestsOptimizer.scopedDataLoad(r).map(s=>T(v({},s),{data$:s.data$?.pipe(this.converter.pipeable(ys))}))}getEndpoint(n,r){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:n},scope:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je),d(IW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),bp=class{},wp=class{},Tp=class{},Ap=class{},bW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:{default:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions,baseProduct),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",carousel:"products/search?fields=products(code,purchasable,name,summary,price(formattedValue),stock(DEFAULT),images(DEFAULT,galleryIndex),baseProduct)",carouselMinimal:"products/search?fields=products(code,name,price(formattedValue),images(DEFAULT),baseProduct)"},productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},pue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$n(bW),{provide:bp,useClass:DW},{provide:ys,useExisting:uW,multi:!0},{provide:ys,useExisting:fW,multi:!0},{provide:wp,useClass:hW},{provide:eP,useExisting:dW,multi:!0},{provide:Ap,useClass:CW},{provide:tP,useExisting:lW,multi:!0},{provide:Tp,useClass:mW}],imports:[Ze]});let t=e;return t})(),wW=(()=>{let e=class e{constructor(){}convert(n,r){return r===void 0&&(r=v({},n)),r.baseStore=n.stores?.[0],delete r.stores,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TW=new S("LanguageNormalizer"),AW=new S("CurrencyNormalizer"),RW=new S("CountryNormalizer"),MW=new S("RegionNormalizer"),oP=new S("BaseSiteNormalizer"),xW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpointsService=r,this.converterService=s}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(E(n=>n.languages??[]),this.converterService.pipeableMany(TW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(E(n=>n.currencies??[]),this.converterService.pipeableMany(AW))}loadCountries(n){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:n?{type:n}:void 0})).pipe(E(r=>r.countries??[]),this.converterService.pipeableMany(RW))}loadRegions(n){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:n}})).pipe(E(r=>r.regions??[]),this.converterService.pipeableMany(MW))}loadBaseSite(n){return n||(n=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(r=>r.baseSites.find(s=>s.uid===n)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(E(n=>n.baseSites),this.converterService.pipeableMany(oP))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Rp=class{},OW={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Mi=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(Y8),L(n=>{n||this.store.dispatch(new Bf)}),O(Cc))}getActive(){return this.store.pipe(M(HC),O(Cc))}setActive(n){this.store.pipe(M(HC),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new zf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Cs).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zc=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(z8),L(n=>{n||this.store.dispatch(new Lf)}),O(Cc))}getActive(){return this.store.pipe(M(VC),O(Cc))}setActive(n){this.store.pipe(M(VC),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new jf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Pc(this.config,Ss).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),NW=(()=>{let e=class e{constructor(n,r,s,o){this.languageService=n,this.currencyService=r,this.occEndpoints=s,this.config=o,this.activeLang=Di(this.config,Cs),this.activeCurr=Di(this.config,Ss),this.languageService.getActive().subscribe(a=>this.activeLang=a),this.currencyService.getActive().subscribe(a=>{this.activeCurr=a})}intercept(n,r){return n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),r.handle(n)}};e.\u0275fac=function(r){return new(r||e)(d(Mi),d(zc),d(Qe),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$n(OW),{provide:Rp,useClass:xW},{provide:gn,useExisting:NW,multi:!0},{provide:oP,useExisting:wW,multi:!0}],imports:[Ze]});let t=e;return t})(),FW=(()=>{let e=class e{constructor(n){this.anonymousConsentsService=n}convert(n){return this.anonymousConsentsService.decodeAndDeserialize(n)}};e.\u0275fac=function(r){return new(r||e)(d(_c))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_W=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),n&&n.results&&(r.results=n.results.map(s=>T(v({},s),{product:this.converter.convert(s.product,ys)}))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aP=new S("AnonymousConsentNormalizer"),sS=new S("ConsentTemplateNormalizer"),LW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAnonymousConsentTemplates(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(n).pipe(F(r=>{throw q(r,this.logger)}),E(r=>r.consentTemplates??[]),this.converter.pipeableMany(sS))}loadAnonymousConsents(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(n,{observe:"response"}).pipe(F(r=>{throw q(r,this.logger)}),E(r=>r.headers.get(SC)??""),this.converter.pipeable(aP))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),kW=new S("CustomerCouponSearchResultNormalizer"),UW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}getCustomerCoupons(n,r,s,o){if(n===Ro)return I({});let a=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:n}}),c=new ze().set("sort",o||"startDate:asc");r&&(c=c.set("pageSize",r.toString())),s&&(c=c.set("currentPage",s.toString()));let u=this.newHttpHeader();return this.http.get(a,{headers:u,params:c}).pipe(this.converter.pipeable(kW))}turnOffNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}turnOnNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}claimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}disclaimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}newHttpHeader(){return new le({"Content-Type":"application/json"})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),cP=new S("AddressNormalizer"),jW=new S("AddressesNormalizer"),hC=new S("AddressSerializer"),$W=new S("AddressValidationNormalizer"),vc={"Content-Type":"application/json"},BW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),s=new le(v({},vc));return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),E(o=>o.addresses??[]),this.converter.pipeableMany(cP))}add(n,r){let s=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),o=new le(v({},vc));return r=this.converter.convert(r,hC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}update(n,r,s){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),a=new le(v({},vc));return s=this.converter.convert(s,hC),this.http.patch(o,s,{headers:a}).pipe(F(c=>{throw q(c,this.logger)}))}verify(n,r){let s=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:n}}),o=new le(v({},vc));return n===Ro&&(o=Sc.createHeader(zC,!0,o)),r=this.converter.convert(r,hC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}),this.converter.pipeable($W))}delete(n,r){let s=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),o=new le(v({},vc));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),VW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadConsents(n){let r=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:n}}),s=new le({"Cache-Control":"no-cache"});return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),E(o=>o.consentTemplates??[]),this.converter.pipeableMany(sS))}giveConsent(n,r,s){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:n}}),a=new ze().set("consentTemplateId",r).set("consentTemplateVersion",s.toString()),c=new le({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,a,{headers:c}).pipe(F(u=>{throw q(u,this.logger)}),this.converter.pipeable(sS))}withdrawConsent(n,r){let s=new le({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:n,consentId:r}});return this.http.delete(o,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),uP=new S("ProductInterestsNormalizer"),Px=new le({"Content-Type":"application/json"}),HW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.config=s,this.converter=o,this.logger=C(Q)}getInterests(n,r,s,o,a,c){let u=new ze().set("sort",o||"name:asc");return r&&(u=u.set("pageSize",r.toString())),s&&(u=u.set("currentPage",s.toString())),a&&(u=u.set("productCode",a)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:n}}),{headers:Px,params:u}).pipe(this.converter.pipeable(uP),F(l=>{throw q(l,this.logger)}))}removeInterest(n,r){let s=[];return r.productInterestEntry?.forEach(o=>{let a=new ze().set("productCode",r.product?.code??"").set("notificationType",o.interestType);s.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{params:a}).pipe(F(c=>{throw q(c,this.logger)})))}),ea(s)}addInterest(n,r,s){let o=new ze().set("productCode",r).set("notificationType",s.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{},{headers:Px,params:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Er),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zW=new S("NotificationPreferenceSerializer"),GW=new S("NotificationPreferenceNormalizer"),Mp=class{},WW=(()=>{let e=class e{constructor(n){this.adapter=n}loadAll(n){return this.adapter.loadAll(n)}update(n,r){return this.adapter.update(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Mp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fx=new le({"Content-Type":"application/json"}),qW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.converter=r,this.occEndpoints=s,this.logger=C(Q)}loadAll(n){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{headers:Fx}).pipe(E(r=>r.preferences??[]),this.converter.pipeableMany(GW),F(r=>{throw q(r,this.logger)}))}update(n,r){return r=this.converter.convert(r,zW),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{preferences:r},{headers:Fx}).pipe(F(s=>{throw q(s,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Je),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),YW=new S("PaymentDetailsNormalizer"),pC={"Content-Type":"application/json"},KW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:n}})+"?saved=true",s=new le(v({},pC));return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),E(o=>o.payments??[]),this.converter.pipeableMany(YW))}delete(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},pC));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}setDefault(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},pC));return this.http.patch(s,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),xp=class{},Op=class{},Np=class{},Pp=class{},Fp=class{},_p=class{},ZW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.addresses?.map(s=>v({},this.converter.convert(s,cP)))??[],r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QW={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},JW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}loadActiveList(n){let r=new so().set(nP,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(n),{context:r}).pipe(this.converter.pipeable(XN))}getCostCentersEndpoint(n,r){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:n},queryParams:r})}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),gue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$n(QW),{provide:xp,useClass:BW},{provide:Op,useClass:VW},{provide:Cp,useClass:LW},{provide:_p,useClass:KW},{provide:Pp,useClass:UW},{provide:Mp,useClass:qW},{provide:Fp,useClass:HW},{provide:Np,useClass:JW},{provide:uP,useExisting:_W,multi:!0},{provide:aP,useExisting:FW,multi:!0},{provide:jW,useExisting:ZW,multi:!0}],imports:[Ze]});let t=e;return t})(),XW={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function e4(t){if(t.backend===void 0||t.backend.occ===void 0||t.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var t4=(()=>{let e=class e{constructor(n){this.config=n}intercept(n,r){return this.requiresWithCredentials(n)&&(n=n.clone({withCredentials:!0})),r.handle(n)}requiresWithCredentials(n){return this.occConfig?.useWithCredentials!==void 0&&n.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:gn,useExisting:t4,multi:!0},$n(XW),vI(e4)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[rW,PW]});let t=e;return t})(),r4="occ-backend-base-url",i4="OCC_BACKEND_BASE_URL_VALUE",s4="media-backend-base-url",o4="MEDIA_BACKEND_BASE_URL_VALUE";function a4(t){let e=lP(r4,t);return e&&e!==i4?{backend:{occ:{baseUrl:e}}}:{}}function c4(t){let e=lP(s4,t);return e&&e!==o4?{backend:{media:{baseUrl:e}}}:{}}function lP(t,e){let i=e.getTag(`name="${t}"`);return i&&i.content}function u4(){return[Sf(a4,[qy]),Sf(c4,[qy])]}var l4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...u4()]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),d4=(()=>{let e=class e{constructor(n){this.config=n}expand(n,r){let s=this.config?.backend?.loadingScopes?.[n];if(s){let o=[...r],a=o.length;for(;a>0;){a--;let c=s[o[a]]?.include;if(c)for(let u of c)o.includes(u)||(o.splice(a,0,u),a++)}return o}return r}getMaxAge(n,r){return(this.config.backend?.loadingScopes?.[n]?.[r]?.maxAge??0)*1e3}getReloadTriggers(n,r){return this.config.backend?.loadingScopes?.[n]?.[r]?.reloadOn??[]}};e.\u0275fac=function(r){return new(r||e)(d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sr=Fn(nN),f4=A(Sr,t=>t.billingCountries),h4=A(f4,t=>t.entities),p4=A(h4,t=>Object.keys(t).map(e=>t[e])),ug=A(Sr,t=>t.customerCoupons),g4=A(ug,t=>Bn(t)),m4=A(ug,t=>Ut(t)),mue=A(ug,t=>tt(t)),v4=A(Sr,t=>t.countries),dP=A(v4,t=>t.entities),y4=A(dP,t=>Object.keys(t).map(e=>t[e])),E4=t=>A(dP,e=>Object.keys(e).length!==0?e[t]:null),fD=A(Sr,t=>t.notificationPreferences),C4=A(fD,t=>tt(t)),S4=A(fD,t=>tt(t).filter(e=>e.enabled)),I4=A(fD,t=>Ut(t)),hD=A(Sr,t=>t.payments),D4=A(hD,t=>tt(t)),b4=A(hD,t=>Ut(t)),w4=A(hD,t=>Bn(t)&&!Ut(t)),pD=A(Sr,t=>t.productInterests),T4=A(pD,t=>tt(t)),A4=A(pD,t=>Ut(t)),Gc=A(Sr,t=>t.regions),vue=A(Gc,t=>tt(t).entities),R4=A(Gc,t=>({loaded:Bn(t),loading:Ut(t),regions:tt(t).entities,country:tt(t).country})),yue=A(Gc,t=>tt(t).country),Eue=A(Gc,t=>Ut(t)),Cue=A(Gc,t=>Bn(t)),gD=A(Sr,t=>t.addresses),M4=A(gD,t=>tt(t)),x4=A(gD,t=>Ut(t)),O4=A(gD,t=>Bn(t)&&!Ut(t)),lg=A(Sr,t=>t.consents),oS=A(lg,t=>tt(t)),N4=t=>A(oS,e=>e.find(i=>i.id===t)),P4=A(lg,Ut),F4=A(lg,Bn),_4=A(lg,Bo),L4=A(Sr,t=>t.costCenters),Sue=A(L4,t=>tt(t));var k4=(()=>{let e=class e{constructor(n,r,s){this.store=n,this.authService=r,this.userIdService=s}loadConsents(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new op(n))})}getConsents(n=!1){return na(()=>n,this.store.pipe(M(oS),it(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),O(([r,s,o])=>!s),L(([r,s,o])=>{(!r||r.length===0)&&(o||this.loadConsents())}),O(([r,s])=>!!r),E(([r,s])=>r)),this.store.pipe(M(oS)))}getConsentsResultLoading(){return this.store.pipe(M(P4))}getConsentsResultSuccess(){return this.store.pipe(M(F4))}getConsentsResultError(){return this.store.pipe(M(_4))}resetConsentsProcessState(){this.store.dispatch(new bc)}getConsent(n){return Pe([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(O(([r,s])=>r&&s===Ao),x(()=>this.getConsents(!0)),ie(1),x(()=>this.store.pipe(M(N4(n)))),O(En),E(r=>r.currentConsent))}isConsentGiven(n){return!!n&&!!n.consentGivenDate&&!n.consentWithdrawnDate}isConsentWithdrawn(n){return n?!!n?.consentWithdrawnDate:!0}giveConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new wc({userId:s,consentTemplateId:n,consentTemplateVersion:r}))})}getGiveConsentResultLoading(){return this.store.pipe(M(Ii(ps)))}getGiveConsentResultSuccess(){return this.store.pipe(M(Wr(ps)))}getGiveConsentResultError(){return this.store.pipe(M(Si(ps)))}resetGiveConsentProcessState(){return this.store.dispatch(new dp)}withdrawConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new hp({userId:s,consentCode:n,consentId:r}))})}getWithdrawConsentResultLoading(){return this.store.pipe(M(Ii(gs)))}getWithdrawConsentResultSuccess(){return this.store.pipe(M(Wr(gs)))}getWithdrawConsentResultError(){return this.store.pipe(M(Si(gs)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new mp)}filterConsentTemplates(n,r=[]){if(r.length===0)return n;let s=[];for(let o of n)o.id&&!r.includes(o.id)&&s.push(o);return s}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Hn),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U4=(()=>{let e=class e{isRequiredConsent(n){return!!(n&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(n))}constructor(n,r,s,o,a,c,u){this.actions$=n,this.anonymousConsentTemplatesConnector=r,this.authService=s,this.anonymousConsentsConfig=o,this.anonymousConsentService=a,this.userConsentService=c,this.userIdService=u,this.logger=C(Q),this.checkConsentVersions$=W(()=>this.actions$.pipe(k(TO),it(this.anonymousConsentService.getConsents()),Ue(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(E(h=>{if(!h)return me()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let p=f.map(b=>b.templateVersion),y=h.map(b=>b.templateVersion);return this.detectUpdatedVersion(p,y)}),x(h=>h?I(new wf):pe),F(h=>I(new Af(q(h,this.logger)))))))),this.loadAnonymousConsentTemplates$=W(()=>this.actions$.pipe(k(CO),it(this.anonymousConsentService.getTemplates()),Ue(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(G(h=>{let p=!1;return f&&f.length!==0&&(p=this.anonymousConsentService.detectUpdatedTemplates(f,h)),[new Tf(h),new Rf(p)]}),F(h=>I(new Af(q(h,this.logger)))))))),this.transferAnonymousConsentsToUser$=W(()=>this.actions$.pipe(k(Un),O(()=>!!this.anonymousConsentsConfig.anonymousConsents),it(this.actions$.pipe(k(uD))),O(([,l])=>!!l),x(()=>this.anonymousConsentService.getConsents().pipe(it(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),O(([,,,l])=>l),Ue(([l,f,h,p])=>{let y=[];for(let b of l)if(this.anonymousConsentService.isConsentGiven(b)&&!this.isRequiredConsent(b.templateCode)){for(let w of h)if(w.id===b.templateCode){y.push(new fp({userId:f,consentTemplateId:w.id,consentTemplateVersion:w.version}));break}}return y.length>0?y:pe}))))),this.giveRequiredConsentsToUser$=W(()=>this.actions$.pipe(k(Un),O(l=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&l)),Ue(()=>this.userConsentService.getConsentsResultSuccess().pipe(ie(1),it(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),O(([,,,l])=>l),L(([l,f,h,p])=>{l||this.userConsentService.loadConsents()}),E(([l,f,h,p])=>({userId:f,templates:h})),Ue(({userId:l,templates:f})=>{let h=[];for(let p of f)this.userConsentService.isConsentWithdrawn(p.currentConsent)&&this.isRequiredConsent(p.id)&&h.push(new wc({userId:l,consentTemplateId:p.id,consentTemplateVersion:p.version}));return h.length>0?h:pe})))))}detectUpdatedVersion(n,r){if(n.length!==r.length)return!0;for(let s=0;s<r.length;s++)if(n[s]!==r[s])return!0;return!1}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(L3),d(Hn),d(eN),d(_c),d(k4),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),j4=[U4],$4=(()=>{let e=class e{constructor(){this.logger=C(Q),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(n){let r=n.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!r)return null;let[,,s,o]=r;try{return new RegExp(o,s)}catch(a){return me()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${n} 
Message: ${a}`),null}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B4=(()=>{let e=class e{constructor(n,r,s){this.baseSiteService=n,this.javaRegExpConverter=r,this.winRef=s,this.scopes=["context"],this.configFactory=()=>Jn(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(E(n=>n?.find(r=>this.isCurrentBaseSite(r))),O(n=>{if(!n)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!n}),E(n=>this.getConfig(n)),ie(1))}getConfig(n){return{context:{urlParameters:this.getUrlParams(n.urlEncodingAttributes),[Kr]:[n.uid],[Cs]:this.getIsoCodes(n.baseStore?.languages,n.defaultLanguage||n.baseStore?.defaultLanguage),[Ss]:this.getIsoCodes(n.baseStore?.currencies,n.baseStore?.defaultCurrency),[L8]:[n.theme]}}}isCurrentBaseSite(n){return(n.urlPatterns||[]).findIndex(s=>{let o=this.javaRegExpConverter.toJsRegExp(s);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(n){let r="storefront";return(n||[]).map(s=>s===r?Kr:s)}getIsoCodes(n,r){if(n&&r)return this.moveToFirst(n,o=>o.isocode===r.isocode).map(o=>o.isocode)}moveToFirst(n,r){n=[...n];let s=n.findIndex(r);if(s!==-1){let[o]=n.splice(s,1);n.unshift(o)}return n}};e.\u0275fac=function(r){return new(r||e)(d(Is),d($4),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Go=(()=>{let e=class e{constructor(n){this.adapter=n}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(n){return this.adapter.loadCountries(n)}getRegions(n){return this.adapter.loadRegions(n)}getBaseSite(n){return this.adapter.loadBaseSite(n)}getBaseSites(){return this.adapter.loadBaseSites()}};e.\u0275fac=function(r){return new(r||e)(d(Rp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_x=(()=>{let e=class e extends Zr{};e.type="LanguageSetEvent";let t=e;return t})(),Lx=(()=>{let e=class e extends Zr{};e.type="CurrencySetEvent";let t=e;return t})(),V4=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let n=this.actionsSubject.pipe(k(Jp),E(r=>bi(_x,{activeLanguage:r.payload})));this.eventService.register(_x,n)}registerSetCurrency(){let n=this.actionsSubject.pipe(k(Qp),E(r=>bi(Lx,{activeCurrency:r.payload})));this.eventService.register(Lx,n)}};e.\u0275fac=function(r){return new(r||e)(d(Br),d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H4=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(V4))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Lp=class{};function z4(){return{[Cs]:Mi,[Ss]:zc,[Kr]:Is}}var G4={provide:Lp,useFactory:z4},W4=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r}initialize(){this.subscription=this.configInit.getStable("context").pipe(x(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Kr);!this.baseSiteService.isInitialized()&&r&&this.baseSiteService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Is),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.currencyService=r,this.config=s,this.initialized$=new rn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Ss,state$:this.currencyService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(eg),d(zc),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y4=(()=>{let e=class e{constructor(n,r,s){this.currencyService=n,this.currencyStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(x(()=>this.currencyStatePersistenceService.initSync()),x(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Ss);!this.currencyService.isInitialized()&&r&&this.currencyService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(zc),d(q4),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K4=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.languageService=r,this.config=s,this.initialized$=new rn(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Cs,state$:this.languageService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.languageService.isInitialized()&&n&&this.languageService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(eg),d(Mi),d(Jr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z4=(()=>{let e=class e{constructor(n,r,s){this.languageService=n,this.languageStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(x(()=>this.languageStatePersistenceService.initSync()),x(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Cs);!this.languageService.isInitialized()&&r&&this.languageService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Mi),d(K4),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mD=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.injector=r,this.serviceMap=s,this.logger=C(Q)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(n=>n!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(n){return Pc(this.config,n)}getParamDefaultValue(n){return Di(this.config,n)}getSiteContextService(n){if(this.serviceMap[n])try{return this.injector.get(this.serviceMap[n])}catch{me()&&this.logger.warn(`Couldn't find site context service for '${n}'.`);return}}getValue(n){let r,s=this.getSiteContextService(n);return s&&s.getActive().subscribe(o=>r=o).unsubscribe(),r!==void 0?r:this.getParamDefaultValue(n)}setValue(n,r){let s=this.getSiteContextService(n);s&&s.setActive(r)}getValues(n){return n.length===0?I([]):Pe(n.map(r=>{let s=this.getSiteContextService(r);return s?s.getActive().pipe(an()):I("")})).pipe(O(r=>r.every(s=>!!s)))}};e.\u0275fac=function(r){return new(r||e)(d(Jr),d(Ye),d(Lp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),aS=(()=>{let e=class e extends as{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(n){super(),this.siteContextParams=n,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(n){if(this.hasContextInRoutes){let r=this.urlExtractContextParameters(n),s=super.parse(r.url);return this.urlTreeIncludeContextParameters(s,r.params),s}else return super.parse(n)}urlExtractContextParameters(n){let[,r,s]=n.match(this.URL_SPLIT)??[,"",""],o=r?.split("/")??[];o[0]===""&&o.shift();let a={},c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<o.length;){let l=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(l).includes(o[u])&&(a[l]=o[u],u++),c++}return n=o.slice(u).join("/")+s,{url:n,params:a}}urlTreeIncludeContextParameters(n,r){n.siteContext=r}serialize(n){let r=this.urlTreeExtractContextParameters(n),s=super.serialize(n);return this.urlIncludeContextParameters(s,r)}urlTreeExtractContextParameters(n){return n.siteContext?n.siteContext:{}}urlIncludeContextParameters(n,r){return this.urlEncodingParameters.map(o=>r[o]?r[o]:this.siteContextParams.getValue(o)).join("/")+n}};e.\u0275fac=function(r){return new(r||e)(d(mD))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function Q4(t){if(Di(t,Kr)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function J4(){return{context:{[Cs]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Ss]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function X4(t){return()=>{t.initialize()}}function eq(t){return()=>{t.initialize()}}function tq(t){return()=>{t.initialize()}}var nq=[{provide:bt,useFactory:eq,deps:[Z4],multi:!0},{provide:bt,useFactory:X4,deps:[Y4],multi:!0},{provide:bt,useFactory:tq,deps:[W4],multi:!0}],rq=(()=>{let e=class e{constructor(n,r,s){this.siteContextParams=n,this.serializer=r,this.injector=s,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Oe),this.location=this.injector.get(ur);let n=this.siteContextParams.getUrlEncodingParameters();n.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(n),this.subscribeRouting())}subscribeChanges(n){n.forEach(r=>{let s=this.siteContextParams.getSiteContextService(r);s&&this.subscription.add(s.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[r]&&this.contextValues[r]!==o){let a=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(a);this.location.replaceState(c)}this.contextValues[r]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(O(n=>n instanceof vn||n instanceof ot||n instanceof hr||n instanceof yn)).subscribe(n=>{this.isNavigating=n instanceof vn,this.isNavigating&&this.setContextParamsFromRoute(n.url)}))}setContextParamsFromRoute(n){let{params:r}=this.serializer.urlExtractContextParameters(n);Object.keys(r).forEach(s=>this.siteContextParams.setValue(s,r[s]))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(mD),d(aS),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iq(t,e){return()=>Jn(t.getStable("context").pipe(L(()=>{e.init()})))}var sq=[Is,Mi,zc,{provide:bt,useFactory:iq,deps:[jn,rq],multi:!0}],oq=[mD,aS,{provide:us,useExisting:aS}],aq=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBaseSite$=W(()=>this.actions$.pipe(k(aI),Xn(()=>this.siteConnector.getBaseSite().pipe(E(s=>{if(s)return new Of(s);throw new Error("BaseSite is not found")}),F(s=>I(new xf(q(s,this.logger)))))))),this.loadBaseSites$=W(()=>this.actions$.pipe(k(uI),Xn(()=>this.siteConnector.getBaseSites().pipe(E(s=>new Ff(s)),F(s=>I(new Pf(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),cq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadCurrencies$=W(()=>this.actions$.pipe(k(fI),Xn(()=>this.siteConnector.getCurrencies().pipe(E(o=>new Uf(o)),F(o=>I(new kf(q(o,this.logger)))))))),this.activateCurrency$=W(()=>this.state.select(VC).pipe(Nu(2,1),O(([o])=>!!o),E(([o,a])=>new $f({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go),d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),uq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadLanguages$=W(()=>this.actions$.pipe(k(pI),Xn(()=>this.siteConnector.getLanguages().pipe(E(o=>new Hf(o)),F(o=>I(new Vf(q(o,this.logger)))))))),this.activateLanguage$=W(()=>this.state.select(HC).pipe(Nu(2,1),O(([o])=>!!o),E(([o,a])=>new Gf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go),d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),lq=[uq,cq,aq],dq={entities:null,details:{},activeSite:""};function fq(t=dq,e){switch(e.type){case cI:return T(v({},t),{details:e.payload});case dI:{let i={};return t.entities&&(i=t.entities[e.payload]),T(v({},t),{details:i,activeSite:e.payload})}case lI:{let n=e.payload.reduce((s,o)=>T(v({},s),{[o.uid??""]:o}),v({},t.entities)),r=n[t.activeSite];return T(v({},t),{details:r,entities:n})}}return t}var hq={entities:null,activeCurrency:null};function pq(t=hq,e){switch(e.type){case hI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Qp:{let i=e.payload;return T(v({},t),{activeCurrency:i})}}return t}var gq={entities:null,activeLanguage:null};function mq(t=gq,e){switch(e.type){case gI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Jp:{let i=e.payload;return T(v({},t),{activeLanguage:i})}}return t}function vq(){return{languages:mq,currencies:pq,baseSite:fq}}var fP=new S("SiteContextReducers"),yq={provide:fP,useFactory:vq};function Eq(){return{state:{ssrTransfer:{keys:{[mI]:Ho.TRANSFER_STATE}}}}}var Cq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(Eq),yq],imports:[Ze,dr.forFeature(mI,fP),Vr.forFeature(lq)]});let t=e;return t})();function Sq(t,e){return e.context?.[Kr]?null:t}var Iq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[$o(J4),G4,...sq,...oq,vI(Q4),{provide:tg,useFactory:Sq,deps:[B4,Jr],multi:!0},...nq]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ri,Cq,H4]});let t=e;return t})(),Dq=!1;function bq(t=Dq,e){switch(e.type){case bO:return e.dismissed}return t}var wq=!1;function Tq(t=wq,e){switch(e.type){case wO:return e.updated}return t}var Aq=[];function kx(t,e,i){return t?t.map(n=>(n.templateCode===e&&(n=T(v({},n),{consentState:i})),n)):[]}function Rq(t=Aq,e){switch(e.type){case IO:return kx(t,e.templateCode,Po.GIVEN);case DO:return kx(t,e.templateCode,Po.WITHDRAWN);case SO:return e.payload}return t}function Mq(){return{templates:ct(Mc),consents:Rq,ui:is({bannerDismissed:bq,updated:Tq})}}var hP=new S("AnonymousConsentsReducers"),xq={provide:hP,useFactory:Mq};function Oq(t){return function(e,i){return e!==void 0&&(i.type===yr||i.type===Cn)&&(e=T(v({},e),{templates:{}})),t(e,i)}}var Nq=[Oq],Pq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.store=r,this.anonymousConsentsService=s,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return this.store.select(xc)}onRead(n){let r=n?.templates,s=n?.consents,o=n?.ui;r?.success&&this.store.dispatch(new Tf(r.value??[])),s&&this.anonymousConsentsService.setConsents(s),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(eg),d(fe),d(_c))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Fq(t){return()=>t.initSync()}var _q=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[xq,{provide:bt,useFactory:Fq,deps:[Pq],multi:!0}],imports:[Ze,Ri,dr.forFeature(EO,hP,{metaReducers:Nq}),Vr.forFeature(j4)]});let t=e;return t})(),Iue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...P3,_c,$n(WG)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[_q]});let t=e;return t})(),pP={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},Lq=T(v({},pP),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),vD="cms",dg="[Cms] Navigation Entity",Wc="[Cms] Component Entity",yD="[Cms] Load Component",ED="[Cms] Load Component Fail",CD="[Cms] Load Component Success",SD="[Cms] Get Component from Page",kp=class extends Lt{constructor(e){super(Wc,e.uid),this.payload=e,this.type=yD}},Up=class extends Tt{constructor(e){super(Wc,e.uid,e.error),this.payload=e,this.type=ED}},cS=class extends ft{constructor(e){super(Wc,e.uid||e.component.uid||""),this.payload=e,this.type=CD}},uS=class extends ft{constructor(e){super(Wc,[].concat(e).map(i=>i.component.uid)),this.payload=e,this.type=SD}},gP="[Cms] Load NavigationEntry items",kq="[Cms] Load NavigationEntry items Fail",mP="[Cms] Load NavigationEntry items Success",lS=class extends Lt{constructor(e){super(dg,e.nodeId),this.payload=e,this.type=gP}},jp=class extends Tt{constructor(e,i){super(dg,e,i),this.payload=i,this.type=kq}},dS=class extends ft{constructor(e){super(dg,e.nodeId),this.payload=e,this.type=mP}},vP="[Cms] Load Page Data",yP="[Cms] Load Page Data Fail",ID="[Cms] Load Page Data Success",EP="[Cms] Set Page Success Index",CP="[Cms] Set Page Fail Index",No=class extends Lt{constructor(e){super(e.type??"",e.id),this.payload=e,this.type=vP}},fS=class extends Tt{constructor(e,i){super(e.type??"",e.id,i),this.type=yP}},hS=class extends ft{constructor(e,i){super(e.type??"",e.id,i),this.type=ID}},pS=class extends ft{constructor(e,i){super(e.type??"",e.id,i),this.type=EP}},gS=class extends Tt{constructor(e,i){super(e.type??"",e.id),this.payload=i,this.type=CP}};var DD=Fn(vD),Uq=A(DD,t=>t.components),SP=t=>A(Uq,e=>mO(e,t)),IP=(t,e)=>A(SP(t),i=>i&&i.pageContext&&i.pageContext[e]||Ln),jq=(t,e)=>A(IP(t,e),i=>tt(i)),$q=t=>A(SP(t),e=>e?e.component:void 0),Bq=(t,e)=>A($q(t),jq(t,e),(i,n)=>{switch(n){case!0:return i;case!1:return null;case void 0:return}}),Vq=A(DD,t=>t.navigation),Hq=t=>A(Vq,e=>Gt(e,t)),zq=t=>A(Hq(t),e=>tt(e)),Gq=t=>t.pageData.entities,Wq=(t,e)=>{switch(e){case be.CONTENT_PAGE:return t.content;case be.PRODUCT_PAGE:return t.product;case be.CATEGORY_PAGE:return t.category;case be.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}},qq=t=>{let e=new Set;if(t&&t.slots)for(let i of Object.keys(t.slots))for(let n of t.slots[i].components||[])e.add(n.flexType??"");return Array.from(e)},DP=A(DD,t=>t.page),Yq=A(DP,t=>t.index),Kq=t=>A(Yq,e=>Wq(e,t.type)),bP=t=>A(Kq(t),e=>Gt(e,t.id)),wP=t=>A(bP(t),e=>tt(e)),Zq=A(DP,Gq),$p=t=>A(Zq,wP(t),(e,i)=>e[i]),Qq=t=>A($p(t),e=>qq(e)),Jq=(t,e)=>A($p(t),i=>{if(i)return i.slots?.[e]||{components:[]}});var Xq="current";function qr(t,e){return t?e&&t.type===be.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:Xq}var fg=(()=>{let e=class e{constructor(n,r){this.store=n,this.routingService=r,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(x(n=>this.store.select($p(n))))}getComponentData(n,r){let s=qr(r,!0);this.components[n]||(this.components[n]={});let o=this.components[n];return o[s]||(o[s]=this.createComponentData(n,r)),o[s]}createComponentData(n,r){if(!r)return this.routingService.getPageContext().pipe(O(c=>!!c),x(c=>this.getComponentData(n,c)));let s=qr(r,!0),o=Pe([this.routingService.getNextPageContext(),this.store.pipe(M(IP(n,s)))]).pipe(sn(ii),L(([c,u])=>{let l=u.loading||u.success||u.error,f=c?qr(c,!0)===s:!1;!l&&!f&&this.store.dispatch(new kp({uid:n,pageContext:r}))})),a=this.store.pipe(M(Bq(n,s)),O(En));return _i(()=>o.subscribe(),()=>a).pipe(rt({bufferSize:1,refCount:!0}))}getContentSlot(n){return this.routingService.getPageContext().pipe(x(r=>this.store.pipe(M(Jq(r,n)),O(En))))}getNavigationEntryItems(n){return this.store.pipe(M(zq(n)))}loadNavigationItems(n,r){this.store.dispatch(new lS({nodeId:n,items:r}))}refreshLatestPage(){this.routingService.getPageContext().pipe(ie(1)).subscribe(n=>this.store.dispatch(new No(n)))}refreshPageById(n){let r={id:n};this.store.dispatch(new No(r))}refreshComponent(n,r){this.store.dispatch(new kp({uid:n,pageContext:r}))}getPageState(n){return this.store.pipe(M($p(n)))}getPageComponentTypes(n){return this.store.pipe(M(Qq(n)))}hasPage(n,r=!1){return this.store.pipe(M(bP(n)),L(s=>{let o=s.loading||s.success||s.error,a=r&&!s.loading;(!o||a)&&(this.store.dispatch(new No(n)),r=!1)}),O(s=>s.hasOwnProperty("value")?!!(s.success||s.error&&!s.loading):!1),E(s=>!!s.success),F(()=>I(!1)))}getPage(n,r=!1){return this.hasPage(n,r).pipe(x(s=>s?this.getPageState(n):I(null)))}getPageIndex(n){return this.store.pipe(M(wP(n)))}setPageFailIndex(n,r){this.store.dispatch(new gS(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e6={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},en=class{getScore(e){let i=0;return this.pageType&&(i+=e.type===this.pageType?1:-1),this.pageTemplate&&(i+=e.template===this.pageTemplate?1:-1),this.pageUid&&(i+=e.pageId===this.pageUid?10:-10),i}hasMatch(e){return this.getScore(e)>0}getPriority(e){return this.getScore(e)}},vr=class{},t6=(()=>{let e=class e{constructor(n){this.translation=n}resolveBreadcrumbs({url:n,pageMetaConfig:r}){let s=r?.breadcrumb;return s?typeof s!="string"&&s.raw?I([{link:n,label:s.raw}]):this.translateBreadcrumbLabel(s).pipe(E(o=>[{label:o,link:n}])):I([])}translateBreadcrumbLabel(n){let r=typeof n=="string"?n:n.i18n;return this.getParams().pipe(x(s=>this.translation.translate(r??"",s??{})))}getParams(){return I({})}};e.\u0275fac=function(r){return new(r||e)(d(vr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n6=(()=>{let e=class e{constructor(n,r){this.activatedRoutesService=n,this.injector=r,this.routes$=this.activatedRoutesService.routes$.pipe(E(s=>s=s.slice(1,s.length))),this.routesWithExtras$=this.routes$.pipe(E(s=>s.reduce((o,a)=>{let c=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(t6),url:""},u=this.getResolver(a)??c.resolver,l=this.getUrlPart(a),f=c.url+(l?`/${l}`:"");return o.concat({route:a,resolver:u,url:f})},[])),rt({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(n){return this.routesWithExtras$.pipe(E(r=>n?.includeCurrentRoute?r:this.trimCurrentRoute(r)),x(r=>r.length?Pe(r.map(s=>this.resolveRouteBreadcrumb(s))):I([])),E(r=>r.flat()))}getResolver(n){let r=this.getPageMetaConfig(n);return typeof r!="string"&&r?.resolver?this.injector.get(r.resolver,null):null}resolveRouteBreadcrumb({route:n,resolver:r,url:s}){let o=r;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:n,url:s,pageMetaConfig:this.getPageMetaConfig(n)}):I([])}trimCurrentRoute(n){let r=n.length-1;for(;n[r]?.route?.url.length===0&&r>=0;)r--;return n.slice(0,r)}getUrlPart(n){return n.url.map(r=>r.path).join("/")}getPageMetaConfig(n){return n?.routeConfig?.data?.cxPageMeta}};e.\u0275fac=function(r){return new(r||e)(d(OO),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),AP=(()=>{let e=class e{constructor(n,r){this.pageMetaConfig=n,this.winRef=r}getCanonicalUrl(n,r){let s=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),n);return this.buildCanonicalUrl(r??this.winRef.location.href??"",s)}buildCanonicalUrl(n,r){return r.forceHttps&&(n=n.replace(/^http(?!s):/i,"https:")),r.forceWww&&(n=n.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),r.removeQueryParams&&(n=this.removeQueryParams(n,r)),r.forceTrailingSlash&&(n=n.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),n}removeQueryParams(n,r){let s=n.indexOf("?");if(s>-1){let o=n.substring(0,s),a=new URLSearchParams(n.substring(s));n=o,Array.isArray(r.removeQueryParams)&&(r.removeQueryParams.forEach(c=>{a.delete(c)}),a.toString().length>0&&(n=`${o}?${a.toString()}`))}return n}};e.\u0275fac=function(r){return new(r||e)(d(TP),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hg=(()=>{let e=class e{constructor(n,r,s,o,a){this.cmsService=n,this.translation=r,this.routingPageMetaResolver=s,this.router=o,this.pageLinkService=a,this.page$=qe(()=>this.cmsService.getCurrentPage()).pipe(O(c=>!!c)),this.title$=this.page$.pipe(E(c=>c.title)),this.description$=this.page$.pipe(E(c=>c.description)),this.robots$=this.page$.pipe(E(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(E(c=>[{label:c,link:"/"}])),this.breadcrumb$=Pe([this.homeBreadcrumb$,qe(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(E(c=>c.flat()),rt({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(n){return this.router.events.pipe(O(r=>r instanceof ot),Qn(null),E(()=>this.pageLinkService.getCanonicalUrl(n)))}};e.\u0275fac=function(r){return new(r||e)(d(fg),d(vr),d(n6),d(Oe),d(AP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r6=(()=>{let e=class e extends en{constructor(n){super(),this.basePageMetaResolver=n,this.pageType=be.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(hg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[$n(e6)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:en,useExisting:r6,multi:!0}]});let t=e;return t})();function bD(t=0,e){return i=>{let n=[];return i.pipe(L(r=>n.push(r)),ki(t,e),E(()=>n),L(()=>n=[]))}}function pg(t){return e=>t.pipe(Qn(void 0),x(()=>e))}var s6=(()=>{let e=class e extends lD{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),RP=(()=>{let e=class e{constructor(n){this.cmsDataConfig=n}mergePageStructure(n,r){return this.mergePage(n,r).pipe(x(s=>this.mergeSlots(s)))}shouldIgnoreBackend(n){return this.getPageFromConfig(n).pipe(E(r=>!!r&&!!r.ignoreBackend))}getComponentFromConfig(n){return I(this.getComponentById(n))}getComponentsFromConfig(n){return I(n.map(r=>this.getComponentById(r)))}getPageFromConfig(n){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(r=>r.pageId===n):void 0)}mergePage(n,r){return this.getPageFromConfig(n).pipe(x(s=>s?(r.page||(r.page=v({},s),r.page.slots={}),r.page.slots||(r.page.slots={}),this.mergeSlots(r,s.slots)):I(r)))}mergeSlots(n,r){if(!r&&this.cmsDataConfig.cmsStructure?.slots&&(r=this.cmsDataConfig.cmsStructure.slots),!r)return I(n);for(let s of Object.keys(r))if(n.page?.slots&&!Object.keys(n.page.slots).includes(s)){n.page.slots[s]={};for(let o of this.getComponentsByPosition(r,s))n.page.slots[s].components=n.page.slots[s].components??[],n.page.slots[s].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),n.components=n.components??[],n.components.push(o)}return I(n)}getComponentsByPosition(n,r){let s=[];if(n[r]&&n[r].componentIds){for(let o of n[r].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let a=this.cmsDataConfig.cmsStructure.components[o];a&&s.push(v({uid:o},a))}}return s}getComponentById(n){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[n]:void 0}};e.\u0275fac=function(r){return new(r||e)(d(s6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MP=(()=>{let e=class e{constructor(n,r,s){this.cmsStructureConfigService=n,this.cmsComponentAdapter=r,this.config=s}get(n,r){return this.cmsStructureConfigService.getComponentFromConfig(n).pipe(x(s=>s?I(s):this.cmsComponentAdapter.load(n,r)))}getList(n,r){return this.cmsStructureConfigService.getComponentsFromConfig(n).pipe(x(s=>{let o=s.reduce((a,c,u)=>(c===void 0&&a.push(n[u]),a),[]);if(o.length>0){let a=this.config.componentsLoading?.pageSize||o.length,c=Math.ceil(o.length/a),u=[],l=0;for(;l<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(l*a,(l+1)*a),r)),l++;return Li(...u).pipe(E(f=>[...s.filter(Boolean)].concat(...f)))}else return I(s)}))}};e.\u0275fac=function(r){return new(r||e)(d(RP),d(Sp),d(lD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.cmsComponentConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(k(Cn,yr,Un)),this.loadComponent$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(k(yD),wr(a=>qr(a.payload.pageContext)),G(a=>a.pipe(bD(o,s),G(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),pg(this.contextChange$)))}loadComponentsEffect(n,r){return this.cmsComponentConnector.getList(n,r).pipe(x(s=>{let o=[],a=new Set(n);for(let c of s)o.push(new cS({component:c,uid:c.uid,pageContext:r})),a.delete(c.uid??"");return a.forEach(c=>{o.push(new Up({uid:c,pageContext:r}))}),ge(o)}),F(s=>ge(n.map(o=>new Up({uid:o,error:q(s,this.logger),pageContext:r})))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(MP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),a6="[^/]",c6="[^/]*",u6="(?:.+\\/)?",xP=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:c6}],l6=[...xP,{replace:/\?/g,with:a6}],d6=[...xP,{replace:/\?/g,with:"\\?"}];function f6(t,e=!1){let i=e?d6:l6,n=t.split("/").reverse(),r="";for(;n.length>0;){let s=n.pop();if(s==="**")n.length>0?r+=u6:r+=".*";else{let o=i.reduce((a,c)=>a?.replace(c.replace,c.with),s);r+=o,n.length>0&&(r+="\\/")}}return r}function h6(t){return t.map(e=>{let i=!e.startsWith("!");return e=i?e:e.substring(1),{positive:i,regex:`^${f6(e)}$`}})}var p6=(()=>{let e=class e{getValidator(n){let r=h6(n).map(({positive:a,regex:c})=>({positive:a,regex:new RegExp(c)})),s=r.filter(a=>a.positive),o=r.filter(a=>!a.positive);return a=>s.some(c=>c.regex.test(a))&&!o.some(c=>c.regex.test(a))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wD=(()=>{let e=class e{constructor(n){this.globService=n}getFalsy(){return function(){return null}}getFromPaths(n){let r=n.map(o=>this.getFromPath(o)),s=this.getCombined(r);return me()&&(s._paths=n),s}getCombined(n){let r=function(o,a,c){for(let u=0;u<n.length;u++){let l=n[u](o,a,c);if(l)return l}return null};return me()&&(r._matchers=n),r}getFromPath(n=""){let r=function(u,l,f){if(n==="")return s(u,l,f);let h=n.split("/");if(o(h.length>u.length,a(f.pathMatch==="full",o(l.hasChildren(),h.length<u.length))))return null;let p={};for(let y=0;y<h.length;y++){let b=h[y],w=u[y];if(b.startsWith(":"))p[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:u.slice(0,h.length),posParams:p}};return me()&&(r._path=n),r;function s(c,u,l){return a(l.pathMatch==="full",o(u.hasChildren(),c.length>0))?null:{consumed:[],posParams:{}}}function o(c,u){return c||u}function a(c,u){return c&&u}}getOpposite(n){let r=function(o,a,c){return n(o,a,c)?null:{consumed:o,posParams:{}}};return me()&&(r._originalMatcher=n),r}getFromGlob(n){let r=this.globService.getValidator(n),s=function(a){let c=`/${a.map(u=>u.path).join("/")}`;return r(c)?{consumed:a,posParams:{}}:null};return me()&&(s._globPatterns=n),s}};e.\u0275fac=function(r){return new(r||e)(d(p6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),g6=(()=>{let e=class e{constructor(n,r,s){this.injector=n,this.routingConfigService=r,this.urlMatcherService=s,this.logger=C(Q),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let n=this.injector.get(Oe);n.resetConfig(this.configureRoutes(n.config))}configureRoutes(n){return n.map(r=>{let s=this.configureRoute(r);return r.children&&r.children.length&&(s.children=this.configureRoutes(r.children)),s})}configureRoute(n){let r=this.getRouteName(n);if(r){let s=this.routingConfigService.getRouteConfig(r);return this.validateRouteConfig(s,r,n),s?.disabled?(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFalsy()})):s?.matchers?(delete n.path,T(v({},n),{matcher:this.resolveUrlMatchers(n,s?.matchers)})):s?.paths?.length===1?(delete n.matcher,T(v({},n),{path:s?.paths[0]})):(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFromPaths(s?.paths||[])}))}return n}resolveUrlMatchers(n,r){let s=r?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(n,o))??[];return this.urlMatcherService.getCombined(s)}resolveUrlMatcherFactory(n,r){return this.injector.get(r)(n)}getRouteName(n){return n.data&&n.data.cxRoute}validateRouteConfig(n,r,s){if(me()){if(n===null||n?.paths===null||n?.matchers)return;if(!n?.paths){this.warn(`Could not configure the named route '${r}'`,s,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...n){me()&&this.logger.warn(...n)}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(Zp),d(wD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Due=(()=>{let e=class e{constructor(n){this.urlService=n}transform(n){return this.urlService.transform(n)}};e.\u0275fac=function(r){return new(r||e)(X(Nc,16))},e.\u0275pipe=Kt({name:"cxUrl",type:e,pure:!0});let t=e;return t})(),bue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})(),m6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),v6=(()=>{let e=class e{constructor(n,r){this.winRef=n,this.platformId=r}canActivate(n,r){return Pn(this.platformId)&&this.redirect(n,r),!1}redirect(n,r){let s=this.winRef.nativeWindow;s&&s.location&&(s.location.href=r.url)}};e.\u0275fac=function(r){return new(r||e)(d(Ti),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function y6(t){return()=>{t.addRoutes()}}var E6=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.urlMatcherService=r,this.injector=s}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let n=this.injector.get(Oe),r=this.getRoutes();r.length&&n.resetConfig([...r,...n.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let n=[];return n.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[v6],component:{}}),n}getUrlMatcher(){let n=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(n)}};e.\u0275fac=function(r){return new(r||e)(d(m6),d(wD),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,multi:!0,useFactory:y6,deps:[E6]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),C6=(()=>{let e=class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(n,r){this.config=n,this.urlParsingService=r,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(s=>this.getSegments(s)))}isUrlProtected(n){return this.shouldProtect&&!this.matchAnyPath(n,this.nonProtectedPaths)}matchAnyPath(n,r){return r.some(s=>this.matchPath(n,s))}matchPath(n,r){return this.urlParsingService.matchPath(n,r)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((n,r)=>r.protected===!1&&r.paths&&r.paths.length?n.concat(r?.paths??[]):n,[])}getSegments(n){return(n||"").split("/")}};e.\u0275fac=function(r){return new(r||e)(d(Kp),d(sI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tue=(()=>{let e=class e{constructor(n,r){this.service=n,this.authGuard=r}canActivate(n){let r=n.url.map(s=>s.path);return r=r.length?r:[""],this.service.isUrlProtected(r)?this.authGuard.canActivate():I(!0)}};e.\u0275fac=function(r){return new(r||e)(d(C6),d(O3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),S6=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r,this.scopes=["routing"],this.configFactory=()=>Jn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(x(n=>{let r=n?.context?.[Kr]?.[0];return this.baseSiteService.get(r).pipe(L(s=>{if(!s)throw new Error(`Error: Cannot get base site config for ${r}.`)}),E(s=>this.getRoutingConfig(s)),ie(1))}))}getRoutingConfig(n){return{routing:{protected:n?.requiresAuthentication}}}};e.\u0275fac=function(r){return new(r||e)(d(Is),d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.router=r,this.clearCmsRoutes$=W(()=>this.actions$.pipe(k(Cn,yr,Un),L(()=>{let s=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));s.length!==this.router.config.length&&this.router.resetConfig(s)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Oe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),D6=[I6],b6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function w6(){return{router:T6}}function T6(t=b6,e){switch(e.type){case Xd:return T(v({},t),{nextState:e.payload.routerState,navigationId:e.payload.event.id});case tf:case ef:return T(v({},t),{nextState:void 0});case MO:return t.nextState?T(v({},t),{nextState:T(v({},t.nextState),{context:e.payload})}):t;case nf:return{state:T(v({},e.payload.routerState),{context:t.nextState?.context??e.payload.routerState.context}),navigationId:e.payload.event.id,nextState:void 0};default:return t}}var OP=new S("RouterReducers"),A6={provide:OP,useFactory:w6},R6=(()=>{let e=class e{serialize(n){let r=n.root,s=!1,o,a,c="";for(;r.firstChild;)r=r.firstChild,c+="/"+r.url.map(l=>l.path).join("/"),r.data?.cxRoute&&(a=r.data?.cxRoute),r.data?.cxCmsRouteContext&&(o=r.data?.cxCmsRouteContext),!s&&(o||r.routeConfig?.canActivate?.find(l=>l&&l.guardName==="CmsPageGuard"))&&(s=!0);a=a||this.lookupSemanticRoute(c);let{params:u}=r;return o=this.getPageContext(o,r),{url:n.url,queryParams:n.root.queryParams,params:u,context:o,cmsRequired:s,semanticRoute:a}}getPageContext(n,r){let s=n;if(r.url.length>0&&r.url[0].path==="cx-preview"&&r.queryParams.cmsTicketId!==void 0)s={id:QN,type:be.CONTENT_PAGE};else{let{params:o}=r;o.productCode?s={id:o.productCode,type:be.PRODUCT_PAGE}:o.categoryCode?s={id:o.categoryCode,type:be.CATEGORY_PAGE}:o.brandCode?s={id:o.brandCode,type:be.CATEGORY_PAGE}:r.data.pageLabel!==void 0&&(s={id:r.data.pageLabel,type:be.CONTENT_PAGE})}return s||(r.url.length>0?s={id:"/"+r.url.map(a=>a.path).join("/"),type:be.CONTENT_PAGE}:s={id:ZN,type:be.CONTENT_PAGE}),s}lookupSemanticRoute(n){return this.routingConfig.getRouteName(n.substr(1))}constructor(n){this.routingConfig=n}};e.\u0275fac=function(r){return new(r||e)(d(Zp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function M6(t){return()=>t.init()}function x6(t,e){return e.routing?.protected===void 0?t:null}function O6(){let e=(C(yI,{optional:!0})??[]).map(i=>i());return Promise.all(e)}var Aue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[A6,{provide:yo,useClass:R6},{provide:bt,useFactory:M6,deps:[g6],multi:!0},{provide:tg,useFactory:x6,deps:[S6,Kp],multi:!0},{provide:dd,useFactory:O6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[dr.forFeature(UC,OP),Vr.forFeature(D6),WM.forRoot({routerState:1,stateKey:UC})]});let t=e;return t})();function N6(t,e){return n=>{let r=n.data&&n.data.cxRoute,s=t.getRouteConfig(r),o=s&&s.paths||[];return e.getFromPaths(o)}}var Rue=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>N6(C(Zp),C(wD))}),P6=(()=>{let e=class e{getIdListByItemType(n){let r=[],s=[],o=[];return n.forEach(a=>{a.superType==="AbstractCMSComponent"?s.push(a.id):a.superType==="AbstractPage"?r.push(a.id):a.superType==="AbstractMedia"&&o.push(a.id)}),{pageIds:r,componentIds:s,mediaIds:o}}constructor(n,r,s){this.actions$=n,this.cmsComponentConnector=r,this.routingService=s,this.logger=C(Q),this.loadNavigationItems$=W(()=>this.actions$.pipe(k(gP),E(o=>o.payload),E(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),G(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(O(En),E(a=>a.state.context),ie(1),G(a=>this.cmsComponentConnector.getList(o.ids.componentIds,a).pipe(E(c=>new dS({nodeId:o.nodeId,components:c})),F(c=>I(new jp(o.nodeId,q(c,this.logger))))))):I(new jp(o.nodeId,"navigation nodes are empty")))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(MP),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),F6=(()=>{let e=class e{constructor(n,r){this.cmsPageAdapter=n,this.cmsStructureConfigService=r}get(n){return this.cmsStructureConfigService.shouldIgnoreBackend(n.id).pipe(x(r=>r?I({}):this.cmsPageAdapter.load(n).pipe(F(s=>{if(s instanceof zt&&s.status===400)return I({});throw s}))),x(r=>this.mergeDefaultPageStructure(n,r)))}mergeDefaultPageStructure(n,r){return this.cmsStructureConfigService.mergePageStructure(n.id,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ip),d(RP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_6=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.cmsPageConnector=r,this.routingService=s,this.logger=C(Q),this.refreshPage$=W(()=>this.actions$.pipe(k(Cn,yr,Un),x(()=>this.routingService.getRouterState().pipe(O(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),ie(1),E(o=>o.state.context),G(o=>I(new No(o))))))),this.loadPageData$=W(()=>this.actions$.pipe(k(vP),E(o=>o.payload),wr(o=>qr(o)),G(o=>o.pipe(x(a=>this.cmsPageConnector.get(a).pipe(G(c=>{let u=[new uS((c.components??[]).map(f=>({component:f,pageContext:a}))),new hS(a,c.page??{})],l=c.page?.label;return l&&l!==a.id&&u.unshift(new pS({id:l,type:a.type},c.page??{})),u}),F(c=>I(new fS(a,q(c,this.logger))))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(F6),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),L6=[_6,o6,P6],k6={component:void 0,pageContext:{}};function yf(t,e){switch(e.type){case ED:return!1;case SD:case CD:return!0}return t}function U6(t=k6,e){switch(e.type){case yD:{let i=ct(e.meta.entityType,yf),n=qr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case ED:{let i=ct(e.meta.entityType,yf),n=qr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case CD:{let i=ct(e.meta.entityType,yf),n=qr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case SD:{let i=ct(e.meta.entityType,yf);if(!Array.isArray(e.payload)){let n=qr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}}}return t}var j6=void 0;function $6(t=j6,e){switch(e.type){case mP:if(e.payload.components.length){let n=e.payload.components.reduce((r,s)=>T(v({},r),{[`${s.uid}_AbstractCMSComponent`]:s}),{});return v(v({},t),n)}}return t}var B6={entities:{}};function V6(t=B6,e){switch(e.type){case ID:{let i=e.payload;return T(v({},t),{entities:T(v({},t.entities),{[i.pageId??""]:i})})}}return t}var Ux=void 0;function Ef(t){return(e=Ux,i)=>{if(i.meta&&i.meta.entityType===t)switch(i.type){case ID:return i.payload.pageId;case yP:return Ux;case CP:return i.payload;case EP:return i.payload.pageId}return e}}function H6(){return{page:is({pageData:V6,index:is({content:hs(be.CONTENT_PAGE,Ef(be.CONTENT_PAGE)),product:hs(be.PRODUCT_PAGE,Ef(be.PRODUCT_PAGE)),category:hs(be.CATEGORY_PAGE,Ef(be.CATEGORY_PAGE)),catalog:hs(be.CATALOG_PAGE,Ef(be.CATALOG_PAGE))})}),components:Rc(Wc,U6),navigation:hs(dg,$6)}}var NP=new S("CmsReducers"),z6={provide:NP,useFactory:H6};function G6(t){return function(e,i){return(i.type===Cn||i.type===yr||i.type===Un)&&(e=void 0),t(e,i)}}var W6=[G6];function q6(){return{state:{ssrTransfer:{keys:{[vD]:Ho.TRANSFER_STATE}}}}}var Y6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(q6),z6],imports:[Ze,Ri,dr.forFeature(vD,NP,{metaReducers:W6}),Vr.forFeature(L6)]});let t=e;return t})();function K6(t){let e=!1;return t.find(i=>{let n=i.features?.[wo];n&&(e=n)}),e?Lq:pP}var Z6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[fg,$o(K6,[Ac])]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Y6,i6.forRoot()]});let t=e;return t})(),Q6=(()=>{let e=class e{constructor(){this.logger=C(Q)}handleError(n){this.logger.error(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),J6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:It,useClass:Q6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Xr=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t}(Xr||{}),vt=(()=>{let e=class e{constructor(n,r){this.globalMessageService=n,this.platformId=r}hasMatch(n){return n.status===this.responseStatus}getErrorTranslationKey(n){let r="httpHandlers.badRequest";return n?`${r}.${n.toLowerCase().replace(/ /g,"_")}`:`${r}PleaseLoginAgain`}isSsr(){return this.platformId?!Pn(this.platformId):!1}};e.\u0275fac=function(r){return new(r||e)(d(zo),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X6=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e5="/authorizationserver/oauth/token",t5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.BAD_REQUEST}handleError(n,r){this.handleBadPassword(n,r),this.handleBadLoginResponse(n,r),this.handleValidationError(n,r),this.handleGuestDuplicateEmail(n,r),this.handleUnknownIdentifierError(n,r)}handleBadPassword(n,r){r.url?.includes(e5)&&r.error?.error==="invalid_grant"&&n.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(r.error?.error_description),params:{errorMessage:r.error.error_description||r.message||""}},ke.MSG_TYPE_ERROR),this.globalMessageService.remove(ke.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(n,r){this.getErrors(r).filter(s=>s.type==="PasswordMismatchError").forEach(()=>{let o=new URL(n.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},ke.MSG_TYPE_ERROR)})}handleValidationError(n,r){this.getErrors(r).filter(s=>s.type==="ValidationError").forEach(s=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${s.reason}.${s.subject}`},ke.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(n,r){this.getErrors(r).filter(s=>s.type==="DuplicateUidError").forEach(s=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:s.message||""}},ke.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(n,r){this.getErrors(r).filter(s=>s.type==="UnknownIdentifierError").forEach(s=>{this.globalMessageService.add(s.message?s.message:{key:"httpHandlers.unknownIdentifier"},ke.MSG_TYPE_ERROR)})}getErrors(n){return(n.error?.errors||[]).filter(r=>r.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),r5=(()=>{let e=class e extends vt{handleError(n){n.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(n,r,s){super(n),this.globalMessageService=n,this.authService=r,this.occEndpoints=s,this.responseStatus=Xr.FORBIDDEN}};e.\u0275fac=function(r){return new(r||e)(d(zo),d(Hn),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},ke.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.NOT_FOUND}handleError(){}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a5=(()=>{let e=class e extends vt{constructor(){super(...arguments),this.responseStatus=Xr.UNKNOWN,this.logger=C(Q)}hasMatch(n){return!0}handleError(n,r){(me()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,r.message)}getPriority(){return-50}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TD(t,e=[],i=[]){let n=(t??[]).filter(s=>!s.hasMatch||s.hasMatch(...e));if(n.length<2)return n[0];let r=-1/0;return n.reduce((s,o)=>{let a=o.getPriority?o.getPriority(...i):0;return r>a?s:(r=a,o)},void 0)}var c5=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.handlers$=this.unifiedInjector.getMulti(vt).pipe(rt(1))}intercept(n,r){return r.handle(n).pipe(L({error:s=>{s instanceof zt&&this.handleErrorResponse(n,s)}}))}handleErrorResponse(n,r){let s=this.getResponseHandler(r);s&&s.handleError(n,r)}getResponseHandler(n){return TD(Dp(this.handlers$)??[],[n])}};e.\u0275fac=function(r){return new(r||e)(d(Hc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u5=[{provide:vt,useExisting:a5,multi:!0},{provide:vt,useExisting:X6,multi:!0},{provide:vt,useExisting:t5,multi:!0},{provide:vt,useExisting:n5,multi:!0},{provide:vt,useExisting:r5,multi:!0},{provide:vt,useExisting:i5,multi:!0},{provide:vt,useExisting:s5,multi:!0},{provide:vt,useExisting:o5,multi:!0}],l5=[{provide:gn,useExisting:c5,multi:!0}],d5={entities:{}};function f5(t=d5,e){switch(e.type){case qf:{let i=e.payload;if(t.entities[i.type]===void 0)return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[i.text]})});{let n=t.entities[i.type];return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[...n,i.text]})})}}case KO:{let i=e.payload.type,n=e.payload.index;if(Object.keys(t.entities).length===0||!t.entities[i])return t;let r=[...t.entities[i]];return r.splice(n,1),T(v({},t),{entities:T(v({},t.entities),{[i]:r})})}case ZO:{let i=T(v({},t.entities),{[e.payload]:[]});return T(v({},t),{entities:i})}}return t}function h5(){return f5}var PP=new S("GlobalMessageReducers"),p5={provide:PP,useFactory:h5},g5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[p5],imports:[Ri,dr.forFeature(QO,PP)]});let t=e;return t})(),Tc=class{static shallowEqualObjects(e,i){if(e===i)return!0;if(!e||!i)return!1;let n=Object.keys(e),r=Object.keys(i),s=n.length,o=r.length;if(s!==o)return!1;for(let a=0;a<s;a++){let c=n[a];if(e[c]!==i[c])return!1}return!0}static deepEqualObjects(e,i){return e===i?!0:!(e instanceof Object)||!(i instanceof Object)||e.constructor!==i.constructor?!1:this.compareObjectProperties(e,i)}static compareObjectProperties(e,i){for(let n in e)if(e.hasOwnProperty(n)){if(!i.hasOwnProperty(n))return!1;if(e[n]!==i[n]&&(typeof e[n]!="object"||!this.deepEqualObjects(e[n],i[n])))return!1}for(let n in i)if(i.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(e,i){return i.reduce((n,r)=>(this.deepEqualObjects(e,r)&&n++,n),0)}static indexOfFirstOccurrence(e,i){for(let n=0;n<i.length;n++)if(this.deepEqualObjects(i[n],e))return n}},m5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),v5=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.store=r,this.config=s,this.platformId=o,this.removeDuplicated$=W(()=>this.actions$.pipe(k(qf),E(a=>a.payload),x(a=>I(a.text).pipe(it(this.store.pipe(M(XO(a.type)))),O(([c,u])=>Tc.countOfDeepEqualObjects(c,u)>1),E(([c,u])=>{let l=Tc.indexOfFirstOccurrence(c,u);if(l!==void 0)return new Ic({type:a.type,index:l})}),O(En))))),this.hideAfterDelay$=W(()=>Pn(this.platformId)?this.actions$.pipe(k(qf),E(a=>a.payload),Ue(a=>{let c=this.config.globalMessages?.[a.type];return this.store.pipe(M(I3(a.type)),ie(1),O(u=>(c&&c.timeout!==void 0||a.timeout!==void 0)&&u>0),Zn(a.timeout||c?.timeout),x(()=>I(new Ic({type:a.type,index:0}))))})):()=>pe)}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(fe),d(m5),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),y5={globalMessages:{[ke.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[ke.MSG_TYPE_INFO]:{timeout:3e3},[ke.MSG_TYPE_ERROR]:{timeout:7e3},[ke.MSG_TYPE_WARNING]:{timeout:7e3},[ke.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},E5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...u5,...l5]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$n(y5)],imports:[g5,Vr.forFeature([v5])]});let t=e;return t})(),C5={backend:{timeout:{server:2e4}}},S5=new Ua(()=>{});var I5=(()=>{let e=class e{constructor(n,r){this.windowRef=n,this.config=r,this.logger=C(Q)}intercept(n,r){let s=this.getTimeoutValue(n);return typeof s>"u"?r.handle(n):r.handle(n).pipe(x(o=>o.type===lr.Sent?Fg.pipe(Qn(o),Xo(s)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:n,timeoutValue:s})}))}getTimeoutValue(n){let r=n.context.get(S5),s=this.config?.backend?.timeout,o=r??s??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:n,request:r,timeoutValue:s}){if(n instanceof Ru){let o=this.buildError(r,s);return new zt({url:r.url,error:o})}return n}buildError(n,r){let s=`Request to URL '${n.url}' exceeded expected time of ${r}ms and was aborted.`;return this.logger.warn(s),new Error(s)}};e.\u0275fac=function(r){return new(r||e)(d(Ti),d(Er))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),D5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:gn,useExisting:I5,multi:!0},$n(C5)]});let t=e;return t})(),b5=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[D5]});let t=e;return t})(),w5={i18n:{fallbackLang:void 0,debug:!1}},Wo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(kt),s},providedIn:"root"});let t=e;return t})(),T5=(()=>{let e=class e{constructor(n){this.configInit=n,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>Jn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(E(n=>({i18n:{fallbackLang:n?.context?.language?.[0]}})))}};e.\u0275fac=function(r){return new(r||e)(d(jn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mue=(()=>{let e=class e extends FA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r,s){return super.transform(n,r,s,this.getLang())}getLang(){let n=this.getActiveLang();try{return fd(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){me()&&this.logger.warn(`cxDate pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Mi,16))},e.\u0275pipe=Kt({name:"cxDate",type:e,pure:!0});let t=e;return t})(),mS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),gg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>mt.createInstance()}),A5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let t=C(Le);return(e,i,n,r)=>{t.get(i,{responseType:"text"}).subscribe({next:s=>r(null,{status:200,data:s}),error:s=>r(s,{data:null,status:s.status})})}}}),R5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.i18nextHttpClient=r,this.config=s,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(ux),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(n){return!this.windowRef.isBrowser()&&!n.match(/^http(s)?:\/\//)?(n.startsWith("/")&&(n=n.slice(1)),n.startsWith("./")&&(n=n.slice(2)),`${this.windowRef.location.origin}/${n}`):n}};e.\u0275fac=function(r){return new(r||e)(d(gg),d(A5),d(Wo),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M5=(()=>{let e=class e{constructor(n,r){this.config=n,this.i18next=r}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let n=this.config.i18n?.backend?.loader;if(!n)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(Sx(n)),{backend:{}}}};e.\u0275fac=function(r){return new(r||e)(d(Wo),d(gg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),x5=[{provide:mS,useExisting:R5,multi:!0},{provide:mS,useExisting:M5,multi:!0}],O5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let t=C(Q);return{type:"logger",log:e=>t.log(...e),warn:e=>t.warn(...e),error:e=>t.error(...e)}}}),vS=class{},bo=function(t){return t[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",t}(bo||{}),N5=(()=>{let e=class e{constructor(){this.subscriptions=new Ee}create(n,r){let s=new re,o=new re,a=l=>({next:f=>l.next(f),error:f=>l.error(f),complete:()=>l.complete()}),c;switch(r?.strategy){case bo.CancelPrevious:case bo.ErrorPrevious:c=Li(s,o).pipe(x(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe),Dn(()=>{!f.closed&&!f.hasError&&(r.strategy===bo.ErrorPrevious?f.error(new Error("Canceled by next command")):f.complete())}))));break;case bo.Parallel:c=Li(s,o).pipe(G(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe))));break;case bo.Queue:default:c=Li(s,o).pipe(Ue(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe))));break}return this.subscriptions.add(c.subscribe()),new class extends vS{constructor(){super(...arguments),this.execute=l=>{let f=new rn;return o.next(f),s.next(l),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xue=(()=>{let e=class e{constructor(n){this.eventService=n,this.subscriptions=new Ee}create(n,r){let s={data:void 0,error:!1,loading:!0},o=new Te(s),a=na(()=>o.value.loading,I(void 0),pe),c=this.getTriggersStream([a,...r?.reloadOn??[],...r?.resetOn??[]]),u=this.getTriggersStream(r?.resetOn??[]),l=this.getTriggersStream(r?.reloadOn??[]),f=n().pipe(sa(u)),h=c.pipe(L(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))}),x(()=>f),L(b=>{o.next({loading:!1,error:!1,data:b})}),F((b,w)=>(o.next({loading:!1,error:b,data:void 0}),w)),xs());r?.reloadOn?.length&&this.subscriptions.add(l.subscribe(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))})),r?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(s)}));let p=_i(()=>h.subscribe(),()=>o),y=p.pipe(E(b=>b.data),an());return{get:()=>y,getState:()=>p}}getTriggersStream(n){if(!n.length)return pe;let r=n.map(s=>Fi(s)?s:this.eventService.get(s));return on(...r)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Oue(t){return t.details?.[0]?.type==="JaloObjectNoLongerValidError"}var Nue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Pue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,Fue=/^(?=.*?[A-Z]).*$/,_ue=/^(?=.*?\d).*$/,Lue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,kue=/^.{6,}$/;function Uue(t){let e=t?.shouldRetry??(()=>!0),i=t?.maxTries??3,n=t?.delay??300;return r=>r.pipe($g({delay:(s,o)=>{if(o>i||!e(s))throw s;let a=o*o;return qt(a*n)}}))}function FP(t){return qe(()=>{let e=0,i=new z(n=>{let r=()=>{n.next(),n.complete()};e?Ng.schedule(r):r(),e++});return Pe(t).pipe(ra(()=>i))})}function jue(t){return Fi(t)?t:P5(t)?ge(Promise.resolve(t)):I(t)}function P5(t){return!!t&&typeof t.then=="function"}var yS=function(t){return t.HEAD="head",t.BODY="body",t}(yS||{}),$ue=(()=>{let e=class e{constructor(n,r){this.document=n,this.platformId=r}embedScript(n){let{src:r,params:s,attributes:o,callback:a,errorCallback:c,placement:u=yS.HEAD}=n,l=ts(this.platformId);if((a||c)&&l)return;let f=s?r+this.parseParams(s):r;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(p=>{p.startsWith("data-")?h.setAttribute(p,o[p]):h[p]=o[p]}),a&&h.addEventListener("load",a),c&&h.addEventListener("error",c),u===yS.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(n){return!!this.document.querySelector(`script[src="${n}"]`)}parseParams(n){let r="",s=Object.keys(n);return s.length>0&&(r="?"+s.map(o=>encodeURI(o)+"="+encodeURI(n[o])).join("&")),r}};e.\u0275fac=function(r){return new(r||e)(d(_e),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jx=class t{static getLocalTimezoneOffset(e){let i=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(i/60)).toString().padStart(2,"0"),r=(i%60).toString().padStart(2,"0");return`${i>=0?e?"-":"+":e?"+":"-"}${n}:${r}`}static convertDateToDatetime(e,i){return`${e}T${i?"23:59:59":"00:00:00"}${t.getLocalTimezoneOffset()}`}static convertDatetimeToDate(e){return new Date(`${e.substring(0,19)}${t.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}},F5=(()=>{let e=class e{constructor(n){this.backendInitializers=n}initialize(){return TD(this.backendInitializers??[])?.initialize()??{}}};e.\u0275fac=function(r){return new(r||e)(d(mS,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.config=r,this.languageService=s,this.i18nextBackendService=o,this.loggerPlugin=C(O5)}initialize(){let n=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(n,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let n={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(n=v(v({},n),this.i18nextBackendService.initialize())),n}addTranslationResources(){let n=this.config.i18n?.resources??{};Object.keys(n).forEach(r=>{Object.keys(n[r]).forEach(s=>{this.i18next.addResourceBundle(r,s,n[r][s],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(n=>this.i18next.changeLanguage(n))}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(gg),d(Wo),d(Mi),d(F5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L5=[{provide:bt,useFactory:()=>{let t=C(jn),e=C(_5);return()=>Jn(t.getStable("i18n")).then(()=>e.initialize())},multi:!0},...x5],k5=(()=>{let e=class e{constructor(n){this.config=n,this.duplicates={},this.chunks={},this.logger=C(Q),this.KEY_SEPARATOR=".";let r=n.i18n&&n.i18n.chunks||{};Object.keys(r).forEach(s=>{r[s].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(s)):this.chunks[o]=s})}),Object.keys(this.duplicates).length>0&&me()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(n){let r=(n||"").split(this.KEY_SEPARATOR)[0],s=this.chunks&&this.chunks[r];return s||r}warnDuplicates(n){let r=[];Object.keys(n).forEach(s=>{r.push(`* '${s}' found in chunks: ${n[s].join(", ")}. Used '${this.chunks[s]}.${s}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${r.join(`
`)}`)}};e.\u0275fac=function(r){return new(r||e)(d(Wo))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U5=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.translationChunk=r,this.i18next=s,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=C(Q)}translate(n,r={},s=!1){let o=Array.isArray(n)?n:[n],a=new Map,c=[];return o.forEach(u=>{let l=this.translationChunk.getChunkNameForKey(u),f=this.getNamespacedKey(u,l);c.push(f),a.set(u,l)}),new z(u=>{let l=()=>{if(!this.i18next.isInitialized)return;let f=!1;this.i18next.loadNamespaces(Array.from(a.values()),()=>{f=!0,this.i18next.exists(c,r)?u.next(this.i18next.t(c,r)):(this.reportMissingKey(a),u.next(this.getFallbackValue(c)))}),!f&&s&&u.next(this.NON_BREAKING_SPACE)};return l(),this.i18next.on("languageChanged",l),()=>this.i18next.off("languageChanged",l)})}loadChunks(n){return this.i18next.loadNamespaces(n)}getFallbackValue(n){let r=Array.isArray(n)?n.join(", "):n;return me()?`[${r}]`:this.NON_BREAKING_SPACE}reportMissingKey(n){let r=[...n.keys()];me()&&this.logger.warn(`Translation keys missing [${r.join(", ")}]. Attempted to load ${[...n].map(([s,o])=>`'${s}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(n,r){return r+this.NAMESPACE_SEPARATOR+n}};e.\u0275fac=function(r){return new(r||e)(d(Wo),d(k5),d(gg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bue=(()=>{let e=class e extends _A{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r){return super.transform(n,r,this.getLang())}getLang(){let n=this.getActiveLang();try{return fd(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){me()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Mi,16))},e.\u0275pipe=Kt({name:"cxNumeric",type:e,pure:!0});let t=e;return t})();function gC(t){return t!==null&&typeof t=="object"&&("key"in t||"raw"in t)}var Vue=(()=>{let e=class e{constructor(n,r){this.service=n,this.cd=r,this.logger=C(Q)}transform(n,r={}){if(!n)return me()&&this.logger.error(`The given input for the cxTranslate pipe (${n}) is invalid and cannot be translated`),"";if(gC(n)&&n.raw)return n.raw;gC(n)&&n.params&&(r=v(v({},r),n.params));let s=gC(n)?n.key:n;return this.translate(s,r),this.translatedValue}translate(n,r){(n!==this.lastKey||!Tc.shallowEqualObjects(r,this.lastOptions))&&(this.lastKey=n,this.lastOptions=r,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(n,r,!0).subscribe(s=>this.markForCheck(s)))}markForCheck(n){this.translatedValue=n,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(X(vr,16),X(_r,16))},e.\u0275pipe=Kt({name:"cxTranslate",type:e,pure:!1});let t=e;return t})();function j5(t,e){return e?.i18n?.fallbackLang!==void 0?null:t}var $5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[$n(w5),{provide:vr,useExisting:U5},...L5,{provide:tg,useFactory:j5,deps:[T5,Wo],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function B5(t,e){let i=C(Q);return()=>Promise.all(t.runModuleInitializerFunctions(e)).catch(n=>{throw i.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var V5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:bt,useFactory:B5,deps:[dD,[new ln,qN]],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function H5(){return hs(ae)}var _P=new S("ProcessReducers"),z5={provide:_P,useFactory:H5},G5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[z5],imports:[Ri,dr.forFeature(ae,_P)]});let t=e;return t})(),W5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[G5]});let t=e;return t})(),Hue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ri.forRoot(),YN.forRoot(),G3.forRoot(),q3.forRoot(),$5.forRoot(),Z6.forRoot(),E5.forRoot(),W5.forRoot(),X3.forRoot(),Iq.forRoot(),l4.forRoot(),n4.forRoot(),V5.forRoot(),b5.forRoot(),J6.forRoot()]});let t=e;return t})(),zue=new S("PointOfServiceNormalizer"),q5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Y5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Gue=(()=>{let e=class e{constructor(n,r,s,o){this.cms=n,this.unifiedInjector=r,this.pageMetaConfig=s,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(en).pipe(rt({bufferSize:1,refCount:!0})),this.meta$=qe(()=>this.cms.getCurrentPage()).pipe(O(a=>!!a),x(a=>this.getMetaResolver(a)),x(a=>a?this.resolve(a):I(null)),rt({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(n){let r=this.getResolverMethods(),s=Object.keys(r).filter(o=>n[r[o]]).map(o=>n[r[o]]().pipe(E(a=>({[o]:a}))));return s.length===0?I({}):FP(s).pipe(E(o=>Object.assign({},...o)))}getResolverMethods(){let n={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(r=>!Pn(this.platformId??"")||!r.disabledInCsr||me()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(r=>n[r.property]=r.method),n}getMetaResolver(n){return this.resolvers$.pipe(E(r=>TD(r,[n],[n])))}};e.\u0275fac=function(r){return new(r||e)(d(fg),d(Hc),d(TP),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wue=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.componentDecorators$=this.unifiedInjector.getMulti(q5).pipe(rt(1)),this.slotDecorators$=this.unifiedInjector.getMulti(Y5).pipe(rt(1))}addAttributesToComponent(n,r,s){(Dp(this.componentDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}addAttributesToSlot(n,r,s){(Dp(this.slotDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}};e.\u0275fac=function(r){return new(r||e)(d(Hc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K5=(()=>{let e=class e{constructor(n,r){this.cmsConfig=n,this.lazyModules=r,this.features=new Map}isConfigured(n){return!!this.getFeatureConfig(n)?.module}resolveFeature(n){return n=this.resolveFeatureAlias(n),qe(()=>{if(!this.features.has(n)){if(!this.isConfigured(n))return Mt(()=>new Error("No module defined for Feature Module "+n));let r=this.getFeatureConfig(n);this.features.set(n,this.resolveDependencies(r?.dependencies).pipe(x(s=>this.lazyModules.resolveModuleInstance(r?.module,n,s)),rt()))}return this.features.get(n)??pe})}getFeatureConfig(n){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(n)]}resolveFeatureAlias(n){for(;typeof this.cmsConfig.featureModules?.[n]=="string";)n=this.cmsConfig.featureModules?.[n];return n}resolveDependencies(n=[]){return n?.length?ea(n.map(r=>typeof r=="string"?this.resolveFeature(r):this.lazyModules.resolveDependencyModuleInstance(r))):I(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(lD),d(dD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$x="proxyFacadeInstance",Z5=(()=>{let e=class e{constructor(n,r){this.featureModules=n,this.injector=r}getResolver(n,r,s=!1){if(!this.featureModules.isConfigured(n))return Mt(()=>new Error(`Feature ${n} is not configured properly`));let o=this.featureModules.resolveFeature(n).pipe(E(a=>a.injector),E(a=>a.get(r)));return s&&(o=o.pipe(Zn(0))),o.pipe(rt())}call(n,r,s){let o=Mu(n.pipe(E(a=>a[r](...s))),{connector:()=>new rn,resetOnDisconnect:!1});return o.connect(),o.pipe(x(a=>Fi(a)?a:pe))}get(n,r){return n.pipe(x(s=>s[r]))}create({facade:n,feature:r,methods:s,properties:o,async:a}){let c=this.getResolver(r,n,a),u=new class extends n{};return(s??[]).forEach(l=>{u[l]=(...f)=>this.call(c,l,f)}),(o??[]).forEach(l=>{u[l]=this.get(c,l)}),u[$x]=!0,u}isProxyFacadeInstance(n){return!!n?.[$x]}};e.\u0275fac=function(r){return new(r||e)(d(K5),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function que(t){return C(Z5).create(t)}var Q5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r=""){return this.adapter.load(n,r)}getMany(n){return this.adapter.loadMany?this.adapter.loadMany(n):n.map(r=>T(v({},r),{data$:this.adapter.load(r.code,r.scope)}))}};e.\u0275fac=function(r){return new(r||e)(d(bp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),J5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r,s){return this.adapter.load(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(wp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X5=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r){return this.adapter.load(n,r)}add(n,r){return this.adapter.post(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Tp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LP=(()=>{let e=class e{constructor(n){this.adapter=n}search(n,r,s){return this.adapter.search(n,r,s)}searchByCodes(n,r){return this.adapter.searchByCodes(n,r)}getSuggestions(n,r){return this.adapter.loadSuggestions(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Ap))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bx=(()=>{let e=class e extends Zr{};e.type="FacetChangedEvent";let t=e;return t})(),kP="[Product] Load Product References Data",eY="[Product] Load Product References Data Fail",UP="[Product] Load Product References Data Success",jP="[Product] Clean Product References",ES=class{constructor(e){this.payload=e,this.type=kP}},CS=class{constructor(e){this.payload=e,this.type=eY}},SS=class{constructor(e){this.payload=e,this.type=UP}},IS=class{constructor(){this.type=jP}},$P="[Product] Load Product Reviews Data",tY="[Product] Load Product Reviews Data Fail",BP="[Product] Load Product Reviews Data Success",VP="[Product] Post Product Review",HP="[Product] Post Product Review Fail",zP="[Product] Post Product Review Success",DS=class{constructor(e){this.payload=e,this.type=$P}},bS=class{constructor(e){this.payload=e,this.type=tY}},wS=class{constructor(e){this.payload=e,this.type=BP}},TS=class{constructor(e){this.payload=e,this.type=VP}},AS=class{constructor(e){this.payload=e,this.type=HP}},RS=class{constructor(e){this.payload=e,this.type=zP}},GP="[Product] Search Products",nY="[Product] Search Products Fail",WP="[Product] Search Products Success",qP="[Product] Get Product Suggestions",YP="[Product] Get Product Suggestions Success",rY="[Product] Get Product Suggestions Fail",KP="[Product] Clear Product Search Result",Bp=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=GP}},MS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=nY}},xS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=WP}},OS=class{constructor(e){this.payload=e,this.type=qP}},Vp=class{constructor(e){this.payload=e,this.type=YP}},NS=class{constructor(e){this.payload=e,this.type=rY}},Hp=class{constructor(e={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=e,this.type=KP}},Qr;(function(t){function e(u,l,f){return T(v({},KS(u,l)),{scope:f})}t.entityScopedLoadMeta=e;function i(u,l,f,h){return T(v({},ZS(u,l,h)),{scope:f})}t.entityScopedFailMeta=i;function n(u,l,f){return T(v({},QS(u,l)),{scope:f})}t.entityScopedSuccessMeta=n;function r(u,l,f){return T(v({},JS(u,l)),{scope:f})}t.entityScopedResetMeta=r;class s{constructor(l,f,h){this.type=GS,this.meta=e(l,f,h)}}t.EntityScopedLoadAction=s;class o{constructor(l,f,h,p){this.type=WS,this.meta=i(l,f,h,p)}}t.EntityScopedFailAction=o;class a{constructor(l,f,h,p){this.payload=p,this.type=qS,this.meta=n(l,f,h)}}t.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=YS,this.meta=r(l,f,h)}}t.EntityScopedResetAction=c})(Qr||(Qr={}));var AD="product",qc="[Product] Detail Entity",Yc="[Product] Search Results By Codes Entity",ZP="[Product] Product Search Load By Code",iY="[Product] Product Search Load By Code Success",sY="[Product] Product Search Load By Code Fail",oY="[Product] Clear Product Search By Code State",PS=class extends Qr.EntityScopedLoadAction{constructor(e){super(Yc,e.code,e.scope),this.payload=e,this.type=ZP}},FS=class extends Qr.EntityScopedSuccessAction{constructor(e){super(Yc,e.code,e.scope,e.product),this.type=iY}},_S=class extends Qr.EntityScopedFailAction{constructor(e){super(Yc,e.code,e.scope,e.error),this.type=sY}},LS=class extends Df{constructor(){super(Yc),this.type=oY}},RD="[Product] Load Product Data",QP="[Product] Load Product Data Fail",JP="[Product] Load Product Data Success",aY="[Product] Clear Product PRICE",kS=class extends Qr.EntityScopedLoadAction{constructor(e,i=""){super(qc,e,i),this.payload=e,this.type=RD}},zp=class extends Qr.EntityScopedFailAction{constructor(e,i,n=""){super(qc,e,n,i),this.payload=i,this.type=QP}},US=class extends Qr.EntityScopedSuccessAction{constructor(e,i=""){super(qc,e.code??"",i),this.payload=e,this.type=JP}},jS=class extends Qr.EntityScopedResetAction{constructor(){super(qc,void 0,"price"),this.type=aY}};var Kc=Fn(AD),cY=A(Kc,t=>t.references),uY=(t,e)=>A(cY,i=>i.productCode===t&&i.list?e?i.list.filter(n=>n.referenceType===e):i.list:[]),lY=A(Kc,t=>t.reviews),dY=t=>A(lY,e=>{if(e.productCode===t)return e.list}),fY={results:{},suggestions:[],auxResults:{}};function hY(t=fY,e){switch(e.type){case WP:{let i=e.payload,n=e.auxiliary?{auxResults:i}:{results:i};return v(v({},t),n)}case YP:{let i=e.payload;return T(v({},t),{suggestions:i})}case KP:return T(v({},t),{results:e.payload.clearPageResults?{}:t.results,suggestions:e.payload.clearSearchboxResults?[]:t.suggestions,auxResults:e.payload.clearSearchboxResults?{}:t.auxResults})}return t}var pY=t=>t.results,gY=t=>t.auxResults,mY=t=>t.suggestions,MD=A(Kc,t=>t.search),vY=A(MD,pY),yY=A(MD,gY),EY=A(MD,mY),CY=A(Kc,t=>t.searchByCode),SY=t=>A(CY,e=>Gt(e,t.code)[t.scope]||Ln),XP=A(Kc,t=>t.details),Zc=(t,e="")=>A(XP,i=>Gt(i,t)[e]||Ln),IY=(t,e="")=>A(Zc(t,e),i=>tt(i)),eF=(t,e="")=>A(Zc(t,e),i=>Ut(i)),DY=(t,e="")=>A(Zc(t,e),i=>Bn(i)),bY=(t,e="")=>A(Zc(t,e),i=>Bo(i)),Yue=A(XP,t=>Object.keys(t.entities));var Qc=(()=>{let e=class e{constructor(n){this.store=n}search(n,r){n&&this.store.dispatch(new Bp({queryText:n,searchConfig:r}))}getResults(){return this.store.pipe(M(vY))}clearResults(){this.store.dispatch(new Hp({clearPageResults:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wY=(()=>{let e=class e{constructor(n,r){this.eventService=n,this.productSearchService=r,this.register()}register(){this.eventService.register(Bx,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(ia(),O(([n,r])=>this.compareSearchResults(n,r)),E(([n,r])=>{let s=this.getToggledBreadcrumb(r.breadcrumbs,n.breadcrumbs)||this.getToggledBreadcrumb(n.breadcrumbs,r.breadcrumbs);if(s)return bi(Bx,{code:s.facetCode,name:s.facetName,valueCode:s.facetValueCode,valueName:s.facetValueName,selected:r.breadcrumbs&&n.breadcrumbs&&r.breadcrumbs.length>n.breadcrumbs.length})}))}compareSearchResults(n,r){if(n&&Object.keys(n).length!==0){let s=n.freeTextSearch!==""&&n.freeTextSearch===r.freeTextSearch,o=r.breadcrumbs?.[0]?.facetCode==="allCategories"&&n.breadcrumbs?.[0]?.facetCode===r.breadcrumbs[0]?.facetCode&&n.breadcrumbs[0].facetValueCode===r.breadcrumbs[0].facetValueCode;return s||o}return!1}getToggledBreadcrumb(n,r){if(n&&r&&n.length-r.length===1)return n.find(s=>!r.find(o=>o.facetCode===s.facetCode&&o.facetValueCode===s.facetValueCode))}};e.\u0275fac=function(r){return new(r||e)(d(Ds),d(Qc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(wY))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),AY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productReferencesConnector=r,this.logger=C(Q),this.loadProductReferences$=W(()=>this.actions$.pipe(k(kP),E(s=>s.payload),G(s=>this.productReferencesConnector.get(s.productCode,s.referenceType,s.pageSize).pipe(E(o=>new SS({productCode:s.productCode,list:o})),F(o=>I(new CS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(J5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),RY=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.productReviewsConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadProductReviews$=W(()=>this.actions$.pipe(k($P),E(o=>o.payload),G(o=>this.productReviewsConnector.get(o).pipe(E(a=>new wS({productCode:o,list:a})),F(a=>I(new bS(q(a,this.logger)))))))),this.postProductReview=W(()=>this.actions$.pipe(k(VP),E(o=>o.payload),G(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(E(a=>new RS(a)),F(a=>I(new AS(q(a,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=W(()=>this.actions$.pipe(k(zP),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},ke.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=W(()=>this.actions$.pipe(k(HP),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},ke.MSG_TYPE_ERROR)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(X5),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),MY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productSearchConnector=r,this.logger=C(Q),this.searchProducts$=W(()=>this.actions$.pipe(k(GP),wr(s=>s.auxiliary),G(s=>s.pipe(x(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(E(a=>new xS(a,o.auxiliary)),F(a=>I(new MS(q(a,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=W(()=>this.actions$.pipe(k(qP),E(s=>s.payload),x(s=>this.productSearchConnector.getSuggestions(s.term,s.searchConfig?.pageSize).pipe(E(o=>o===void 0?new Vp([]):new Vp(o)),F(o=>I(new NS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(LP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),xY=(()=>{let e=class e{productLoadEffect(n){return n.data$?.pipe(E(r=>new US(v({code:n.code},r),n.scope)),F(r=>I(new zp(n.code,q(r,this.logger),n.scope))))??I(new zp(n.code,"Scoped product data does not exist",n.scope))}constructor(n,r){this.actions$=n,this.productConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(k(Vo,Cn)),this.loadProduct$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(k(RD),E(a=>({code:a.payload,scope:a.meta.scope})),bD(o,s),G(a=>on(...this.productConnector.getMany(a).map(c=>this.productLoadEffect(c)))),pg(this.contextChange$))),this.clearProductPrice$=W(()=>this.actions$.pipe(k(yr,Un),E(()=>new jS)))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Q5))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),OY=(()=>{let e=class e{constructor(){this.logger=C(Q),this.actions$=C(Ae),this.productSearchConnector=C(LP),this.contextChange$=this.actions$.pipe(k(Vo,Cn)),this.searchByCodes$=W(()=>({scheduler:n,debounce:r=0}={})=>this.actions$.pipe(k(ZP),wr(s=>s.payload.scope),G(s=>{let o=s.key;return s.pipe(E(a=>a.payload),bD(r,n),G(a=>{let c=a.map(u=>u.code);return this.productSearchConnector.searchByCodes(c,o).pipe(x(u=>u.products?.map((l,f)=>new FS(T(v({},a[f]),{product:l})))),F(u=>a.map(l=>new _S(T(v({},l),{error:q(u,this.logger)})))))}))}),pg(this.contextChange$))),this.clearState$=W(()=>this.actions$.pipe(k(yr,Un),E(()=>new LS)))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),NY=[MY,OY,xY,RY,AY],PY={};function FY(t,e){let i=ct(t,e);return(n=PY,r)=>r&&r.meta&&r.meta.entityType===t?T(v({},n),{[r.meta.scope??""]:i(n[r.meta.scope??""],r)}):n}function Vx(t,e){return Rc(t,FY(t,e))}var Hx={productCode:"",list:[]};function _Y(t=Hx,e){switch(e.type){case UP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{list:[...t.list,...n||[]].reduce((r,s)=>(r.some(o=>o.referenceType===s.referenceType&&o.target?.code===s.target?.code)||r.push(s),r),[]),productCode:i})}case jP:return Hx}return t}var LY={productCode:"",list:[]};function kY(t=LY,e){switch(e.type){case BP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{productCode:i,list:n})}}return t}function UY(){return{search:hY,searchByCode:Vx(Yc),details:Vx(qc),reviews:kY,references:_Y}}var tF=new S("ProductReducers"),jY={provide:tF,useFactory:UY};function $Y(t){return function(e,i){return(i.type===Vo||i.type===Cn)&&(e=void 0),t(e,i)}}var BY=[$Y],Kue=(()=>{let e=class e{constructor(n){this.store=n}loadProductReferences(n,r,s){this.store.dispatch(new ES({productCode:n,referenceType:r,pageSize:s}))}getProductReferences(n,r){return this.store.pipe(M(uY(n,r)))}cleanReferences(){this.store.dispatch(new IS)}};e.\u0275fac=function(r){return new(r||e)(d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zue=(()=>{let e=class e{constructor(n){this.store=n}getByProductCode(n){return this.store.pipe(M(dY(n)),L(r=>{r===void 0&&n!==void 0&&this.store.dispatch(new DS(n))}),E(r=>r??[]))}add(n,r){this.store.dispatch(new TS({productCode:n,review:r}))}};e.\u0275fac=function(r){return new(r||e)(d(fe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Que=(()=>{let e=class e{constructor(){this.store=C(fe)}load({code:n,scope:r}){this.store.dispatch(new PS({code:n,scope:r??""}))}get({code:n,scope:r}){let s=this.store.pipe(M(SY({code:n,scope:r??""}))),o=s.pipe(Ou(0),L(c=>{c.loading||c.success||c.error||this.load({code:n,scope:r})})),a=s.pipe(E(c=>c.value));return _i(()=>o.subscribe(),()=>a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),VY=(()=>{let e=class e{constructor(n,r,s,o,a){this.store=n,this.loadingScopes=r,this.actions$=s,this.platformId=o,this.eventService=a,this.products={}}get(n,r){return r=this.loadingScopes.expand("product",r),this.initProductScopes(n,r),this.products[n][this.getScopesIndex(r)]}initProductScopes(n,r){this.products[n]||(this.products[n]={});for(let s of r)this.products[n][s]||(this.products[n][s]=this.getProductForScope(n,s));r.length>1&&(this.products[n][this.getScopesIndex(r)]=FP(r.map(s=>this.products[n][s])).pipe(E(s=>s.every(Boolean)?yt({},...s):void 0),an()))}getScopesIndex(n){return n.join("\u0275")}getProductForScope(n,r){let s=this.store.pipe(M(Zc(n,r)),E(u=>!u.loading&&!u.success&&!u.error),an(),O(u=>u)),o=this.store.pipe(M(eF(n,r))),a=on(s,...this.getProductReloadTriggers(n,r)).pipe(ki(0),it(o),L(([,u])=>{u||this.store.dispatch(new kS(n,r))})),c=this.store.pipe(M(IY(n,r)));return _i(()=>a.subscribe(),()=>c).pipe(rt({bufferSize:1,refCount:!0}))}getProductReloadTriggers(n,r){let s=[],o=this.loadingScopes.getMaxAge("product",r);if(o&&Pn(this.platformId)){let c=this.actions$.pipe(k(JP,QP),O(l=>l.meta.entityId===n&&l.meta.scope===r)),u=this.actions$.pipe(k(RD),O(l=>l.payload===n&&l.meta.scope===r));s.push(this.getMaxAgeTrigger(u,c,o))}let a=this.loadingScopes.getReloadTriggers("product",r).map(c=>this.eventService.get(c));return s.concat(a)}getMaxAgeTrigger(n,r,s,o){let a=0,c=()=>o?o.now():Date.now(),u=r.pipe(L(()=>a=c()));return qe(()=>{let f=c()-a,h=u.pipe(Zn(s,o),E(()=>!0),pg(n));return f>s?on(I(!0),h):f===0?h:on(I(!0).pipe(Zn(s-f,o)),h)})}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(d4),d(Ae),d($e),d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HY=(()=>{let e=class e{constructor(n,r){this.store=n,this.productLoading=r}get(n,r=Ec){return n?this.productLoading.get(n,[].concat(r)):I(void 0)}isLoading(n,r=""){return this.store.pipe(M(eF(n,r)))}isSuccess(n,r=""){return this.store.pipe(M(DY(n,r)))}hasError(n,r=""){return this.store.pipe(M(bY(n,r)))}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(VY))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jue=(()=>{let e=class e extends Qc{search(n,r){this.store.dispatch(new Bp({queryText:n,searchConfig:r},!0))}getResults(){return this.store.pipe(M(yY))}clearResults(){this.store.dispatch(new Hp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(M(EY))}searchSuggestions(n,r){this.store.dispatch(new OS({term:n,searchConfig:r}))}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zY=(()=>{let e=class e extends en{constructor(n,r,s,o){super(),this.productSearchService=n,this.cms=r,this.translation=s,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(O(a=>!!a),x(a=>this.hasProductListComponent(a)?this.productSearchService.getResults().pipe(O(c=>!!c)):I(a))),this.pageType=be.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(O(n=>!!n.pagination),x(n=>this.translation.translate("pageMetaResolver.category.title",{count:n.pagination?.totalResults,query:n.breadcrumbs?.length?n.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return Pe([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>n.breadcrumbs?this.resolveBreadcrumbData(n,r):[]))}resolveBreadcrumbData(n,r){let s=[];s.push({label:r,link:"/"});for(let o of n.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&s.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&s.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return s}hasProductListComponent(n){return!!Object.keys(n.slots||{}).find(r=>!!n.slots?.[r].components?.find(s=>s.typeCode==="CMSProductListComponent"||s.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Qc),d(fg),d(vr),d(hg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),GY=(()=>{let e=class e extends en{constructor(n,r,s,o,a){super(),this.productSearchService=n,this.translation=r,this.authService=s,this.route=o,this.semanticPathService=a,this.total$=this.productSearchService.getResults().pipe(O(c=>!!c?.pagination),E(c=>c.pagination?.totalResults??0)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return Pe([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(E(([n,r,s])=>{let o=[];return o.push({label:n,link:"/"}),s&&o.push({label:r,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(x(n=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:n,coupon:this.couponCode})))}getScore(n){return super.getScore(n)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}};e.\u0275fac=function(r){return new(r||e)(d(Qc),d(vr),d(Hn),d(Hr),d(Nc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WY=(()=>{let e=class e extends en{constructor(n,r,s,o,a){super(),this.routingService=n,this.productService=r,this.translation=s,this.basePageMetaResolver=o,this.pageLinkService=a,this.product$=this.routingService.getRouterState().pipe(E(c=>c.state.params.productCode),O(c=>!!c),x(c=>this.productService.get(c,"details")),O(En)),this.pageType=be.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(x(n=>this.translation.translate("pageMetaResolver.product.heading",{heading:n.name})))}resolveTitle(){return this.product$.pipe(x(n=>{let r=n.name;return r+=this.resolveFirstCategory(n),r+=this.resolveManufacturer(n),this.translation.translate("pageMetaResolver.product.title",{title:r})}))}resolveDescription(){return this.product$.pipe(x(n=>this.translation.translate("pageMetaResolver.product.description",{description:n.summary})))}resolveBreadcrumbs(){return Pe([this.product$.pipe(),this.translation.translate("common.home")]).pipe(E(([n,r])=>{let s=[];s.push({label:r,link:"/"});for(let{name:o,code:a,url:c}of n.categories||[])s.push({label:o||a,link:c});return s}))}resolveImage(){return this.product$.pipe(E(n=>n.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(n){let r=n?.categories?.[0];return r?` | ${r.name||r.code}`:""}resolveManufacturer(n){return n.manufacturer?` | ${n.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(x(n=>this.findBaseProduct(n)),E(n=>{let r=this.routingService.getFullUrl({cxRoute:"product",params:n});return this.pageLinkService.getCanonicalUrl({},r)}))}findBaseProduct(n){return n?.baseProduct?this.productService.get(n.baseProduct,"list").pipe(O(En),x(r=>this.findBaseProduct(r))):I(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(HY),d(vr),d(hg),d(AP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qY=(()=>{let e=class e extends en{constructor(n,r,s,o){super(),this.routingService=n,this.productSearchService=r,this.translation=s,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(O(a=>!!a?.pagination),E(a=>a.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(E(a=>a.state.params.query)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let n=[this.total$,this.query$];return Pe(n).pipe(x(([r,s])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(G(o=>this.translation.translate("pageMetaResolver.search.title",{count:r,query:s||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(Qc),d(vr),d(hg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YY(){return{state:{ssrTransfer:{keys:{[AD]:Ho.TRANSFER_STATE}}}}}var KY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[$o(YY),jY],imports:[Ze,dr.forFeature(AD,tF,{metaReducers:BY}),Vr.forFeature(NY)]});let t=e;return t})(),ZY=[{provide:en,useExisting:WY,multi:!0},{provide:en,useExisting:zY,multi:!0},{provide:en,useExisting:qY,multi:!0},{provide:en,useExisting:GY,multi:!0}],Xue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...ZY]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[KY,TY]});let t=e;return t})(),nF=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}add(n,r){return this.adapter.add(n,r)}update(n,r,s){return this.adapter.update(n,r,s)}verify(n,r){return this.adapter.verify(n,r)}delete(n,r){return this.adapter.delete(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(xp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QY=(()=>{let e=class e{constructor(n){this.adapter=n}loadConsents(n){return this.adapter.loadConsents(n)}giveConsent(n,r,s){return this.adapter.giveConsent(n,r,s)}withdrawConsent(n,r,s){return this.adapter.withdrawConsent(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Op))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JY=(()=>{let e=class e{constructor(n){this.adapter=n}getActiveList(n){return this.adapter.loadActiveList(n)}};e.\u0275fac=function(r){return new(r||e)(d(Np))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XY=(()=>{let e=class e{constructor(n){this.adapter=n}getCustomerCoupons(n,r,s,o){return this.adapter.getCustomerCoupons(n,r,s,o)}turnOnNotification(n,r){return this.adapter.turnOnNotification(n,r)}turnOffNotification(n,r){return this.adapter.turnOffNotification(n,r)}claimCustomerCoupon(n,r){return this.adapter.claimCustomerCoupon(n,r)}disclaimCustomerCoupon(n,r){return this.adapter.disclaimCustomerCoupon(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Pp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e9=(()=>{let e=class e{constructor(n){this.adapter=n}getInterests(n,r,s,o,a,c){return this.adapter.getInterests(n,r,s,o,a,c)}removeInterest(n,r){return this.adapter.removeInterest(n,r)}addInterest(n,r,s){return this.adapter.addInterest(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Fp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t9=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}delete(n,r){return this.adapter.delete(n,r)}setDefault(n,r){return this.adapter.setDefault(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(_p))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Es=class extends Zr{},n9=(()=>{let e=class e extends Es{};e.type="UpdateUserAddressEvent";let t=e;return t})(),r9=(()=>{let e=class e extends Es{};e.type="DeleteUserAddressEvent";let t=e;return t})(),i9=(()=>{let e=class e extends Es{};e.type="AddUserAddressEvent";let t=e;return t})(),ele=(()=>{let e=class e extends Es{};e.type="LoadUserAddressesEvent";let t=e;return t})(),tle=(()=>{let e=class e extends Es{};e.type="LoadUserPaymentMethodsEvent";let t=e;return t})(),rF=(()=>{let e=class e{constructor(n){this.stateEventService=n,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:sg,event:n9})}addUserAddressEvent(){this.stateEventService.register({action:ig,event:i9})}deleteUserAddressEvent(){this.stateEventService.register({action:og,event:r9})}};e.\u0275fac=function(r){return new(r||e)(d(YO))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),s9=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(rF))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();var nle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadCustomerCoupons(n,r,s){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Jf({userId:o,pageSize:n,currentPage:r,sort:s}))})}getCustomerCoupons(n){return Pe([this.store.pipe(M(ug)),this.getClaimCustomerCouponResultLoading()]).pipe(O(([,r])=>!r),L(([r])=>{r.loading||r.success||r.error||this.loadCustomerCoupons(n)}),E(([r])=>r.value),O(En))}getCustomerCouponsLoaded(){return this.store.pipe(M(g4))}getCustomerCouponsLoading(){return this.store.pipe(M(m4))}subscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new th({userId:r,couponCode:n}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ii(ms)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(Wr(ms)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(M(Si(ms)))}unsubscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ih({userId:r,couponCode:n}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ii(vs)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(Wr(vs)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(M(Si(vs)))}claimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ah({userId:r,couponCode:n}))})}disclaimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ch({userId:r,couponCode:n}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new uh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(M(Wr(Oo)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(M(Ii(Oo)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(M(Wr(Lo)))}getClaimCustomerCouponResultError(){return this.store.pipe(M(Si(Oo)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(M(Si(Lo)))}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o9=(()=>{let e=class e{constructor(n,r,s,o){this.store=n,this.userIdService=r,this.userAddressConnector=s,this.command=o,this.userAddressVerificationCommand=this.command.create(a=>this.userIdService.takeUserId(!1).pipe(x(c=>this.userAddressConnector.verify(c,a.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Yh(n))})}addUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Qh({userId:r,address:n}))})}setAddressAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Dc({userId:r,addressId:n,address:{defaultAddress:!0}}))})}updateUserAddress(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Dc({userId:s,addressId:n,address:r}))})}deleteUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new np({userId:r,addressId:n}))})}getAddresses(){return this.store.pipe(M(M4))}getAddressesLoading(){return this.store.pipe(M(x4))}getAddressesLoadedSuccess(){return this.store.pipe(M(O4))}loadDeliveryCountries(){this.store.dispatch(new ph)}getDeliveryCountries(){return this.store.pipe(M(y4))}getCountry(n){return this.store.pipe(M(E4(n)))}loadRegions(n){this.store.dispatch(new zh(n))}clearRegions(){this.store.dispatch(new qh)}getRegions(n){return this.store.pipe(M(R4),E(({regions:r,country:s,loading:o,loaded:a})=>!n&&(o||a)?(this.clearRegions(),[]):o&&!a?[]:!o&&n!==s&&n?(s&&this.clearRegions(),this.loadRegions(n),[]):r))}verifyAddress(n){return this.userAddressVerificationCommand.execute({address:n})}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn),d(nF),d(N5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadProductInterests(n,r,s,o,a){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new Uo({userId:c,pageSize:n,currentPage:r,sort:s,productCode:o,notificationType:a}))})}getProductInterests(){return this.store.pipe(M(T4))}getAndLoadProductInterests(n){return this.store.pipe(M(pD),L(r=>{r.loading||r.success||r.error||this.loadProductInterests(n)}),E(r=>r.value),O(En))}getProdutInterestsLoading(){return this.store.pipe(M(A4))}removeProdutInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new _h({userId:s,item:n,singleDelete:r}))})}getRemoveProdutInterestLoading(){return this.store.pipe(M(Ii(_o)))}getRemoveProdutInterestSuccess(){return this.store.pipe(M(Wr(_o)))}addProductInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Uh({userId:s,productCode:n,notificationType:r}))})}getAddProductInterestSuccess(){return this.store.pipe(M(Wr(Fo)))}getAddProductInterestError(){return this.store.pipe(M(Si(Fo)))}resetAddInterestState(){this.store.dispatch(new Bh)}resetRemoveInterestState(){this.store.dispatch(new Vh)}clearProductInterests(){this.store.dispatch(new Hh)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ile=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}getPreferences(){return this.store.pipe(M(C4))}getEnabledPreferences(){return this.store.pipe(M(S4))}loadPreferences(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new vh(n))})}clearPreferences(){this.store.dispatch(new bh)}getPreferencesLoading(){return this.store.pipe(M(I4))}updatePreferences(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Ch({userId:r,preferences:n}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ii(Lc))}resetNotificationPreferences(){this.store.dispatch(new Dh)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ko(n))})}getPaymentMethods(){return this.store.pipe(M(D4))}getPaymentMethodsLoading(){return this.store.pipe(M(b4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(M(w4))}setPaymentMethodAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Ah({userId:r,paymentMethodId:n}))})}deletePaymentMethod(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new xh({userId:r,paymentMethodId:n}))})}getAllBillingCountries(){return this.store.pipe(M(p4))}loadBillingCountries(){this.store.dispatch(new Kf)}};e.\u0275fac=function(r){return new(r||e)(d(fe),d(Vn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zx=class{},a9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBillingCountries$=W(()=>this.actions$.pipe(k(EI),x(()=>this.siteConnector.getCountries(BS.BILLING).pipe(E(s=>new Qf(s)),F(s=>I(new Zf(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),c9=(()=>{let e=class e{constructor(n){this.actions$=n,this.clearMiscsData$=W(()=>this.actions$.pipe(k(Cn,Vo),E(()=>new Ep)))}};e.\u0275fac=function(r){return new(r||e)(d(Ae))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),u9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.customerCouponConnector=r,this.logger=C(Q),this.loadCustomerCoupons$=W(()=>this.actions$.pipe(k(SI),E(s=>s.payload),G(s=>this.customerCouponConnector.getCustomerCoupons(s.userId,s.pageSize,s.currentPage,s.sort).pipe(E(o=>new eh(o)),F(o=>I(new Xf(q(o,this.logger)))))))),this.subscribeCustomerCoupon$=W(()=>this.actions$.pipe(k(DI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOnNotification(s.userId,s.couponCode).pipe(E(o=>new rh(o)),F(o=>I(new nh(q(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=W(()=>this.actions$.pipe(k(wI),E(s=>s.payload),G(s=>this.customerCouponConnector.turnOffNotification(s.userId,s.couponCode).pipe(E(()=>new oh(s.couponCode)),F(o=>I(new sh(q(o,this.logger)))))))),this.claimCustomerCoupon$=W(()=>this.actions$.pipe(k(AI),E(s=>s.payload),G(s=>this.customerCouponConnector.claimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new hh(o)),F(o=>I(new fh(q(o,this.logger)))))))),this.disclaimCustomerCoupon$=W(()=>this.actions$.pipe(k(RI),E(s=>s.payload),G(s=>this.customerCouponConnector.disclaimCustomerCoupon(s.userId,s.couponCode).pipe(E(o=>new dh(o)),F(o=>I(new lh(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(XY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),l9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadDeliveryCountries$=W(()=>this.actions$.pipe(k(MI),x(()=>this.siteConnector.getCountries(BS.SHIPPING).pipe(E(s=>new mh(s)),F(s=>I(new gh(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),d9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.connector=r,this.logger=C(Q),this.loadPreferences$=W(()=>this.actions$.pipe(k(OI),E(s=>s.payload),x(s=>this.connector.loadAll(s).pipe(E(o=>new Eh(o)),F(o=>I(new yh(q(o,this.logger)))))))),this.updatePreferences$=W(()=>this.actions$.pipe(k(FI),E(s=>s.payload),G(s=>this.connector.update(s.userId,s.preferences).pipe(E(()=>new Ih(s.preferences)),F(o=>I(new Sh(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(WW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),f9=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.userPaymentMethodConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadUserPaymentMethods$=W(()=>this.actions$.pipe(k(LI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.getAll(o).pipe(E(a=>new Th(a)),F(a=>I(new wh(q(a,this.logger)))))))),this.setDefaultUserPaymentMethod$=W(()=>this.actions$.pipe(k(jI),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(x(a=>[new Mh(a),new ko(o.userId)]),F(a=>I(new Rh(q(a,this.logger)))))))),this.deleteUserPaymentMethod$=W(()=>this.actions$.pipe(k($I),E(o=>o.payload),G(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(x(a=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},ke.MSG_TYPE_CONFIRMATION),[new Nh(a),new ko(o.userId)])),F(a=>I(new Oh(q(a,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(t9),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),h9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userInterestsConnector=r,this.logger=C(Q),this.loadProductInteres$=W(()=>this.actions$.pipe(k(BI),E(s=>s.payload),x(s=>this.userInterestsConnector.getInterests(s.userId,s.pageSize,s.currentPage,s.sort,s.productCode,s.notificationType).pipe(E(o=>new Fh(o)),F(o=>I(new Ph(q(o,this.logger)))))))),this.removeProductInterest$=W(()=>this.actions$.pipe(k(zI),E(s=>s.payload),x(s=>this.userInterestsConnector.removeInterest(s.userId,s.item).pipe(x(o=>[new Uo(s.singleDelete?{userId:s.userId,productCode:s.item.product?.code,notificationType:s.item.productInterestEntry?.[0].interestType}:{userId:s.userId}),new Lh(o)]),F(o=>I(new kh(q(o,this.logger)))))))),this.addProductInterest$=W(()=>this.actions$.pipe(k(GI),E(s=>s.payload),x(s=>this.userInterestsConnector.addInterest(s.userId,s.productCode,s.notificationType).pipe(x(o=>[new Uo({userId:s.userId,productCode:s.productCode,notificationType:s.notificationType}),new jh(o)]),F(o=>I(new $h(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(e9))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),p9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadRegions$=W(()=>this.actions$.pipe(k(WI),E(s=>s.payload),x(s=>this.siteConnector.getRegions(s).pipe(E(o=>new Wh({entities:o,country:s})),F(o=>I(new Gh(q(o,this.logger)))))))),this.resetRegions$=W(()=>this.actions$.pipe(k(Vc,YI),E(()=>new Yr(Uc))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Go))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),g9=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.userAddressConnector=r,this.userAddressService=s,this.messageService=o,this.logger=C(Q),this.loadUserAddresses$=W(()=>this.actions$.pipe(k(KI),E(a=>a.payload),x(a=>this.userAddressConnector.getAll(a).pipe(E(c=>new Zh(c)),F(c=>I(new Kh(q(c,this.logger)))))))),this.addUserAddress$=W(()=>this.actions$.pipe(k(ig),E(a=>a.payload),G(a=>this.userAddressConnector.add(a.userId,a.address).pipe(E(c=>new Xh(c)),F(c=>I(new Jh(q(c,this.logger)))))))),this.updateUserAddress$=W(()=>this.actions$.pipe(k(sg),E(a=>a.payload),G(a=>this.userAddressConnector.update(a.userId,a.addressId,a.address).pipe(E(()=>new tp(a)),F(c=>(this.showGlobalMessage("addressForm.invalidAddress",ke.MSG_TYPE_ERROR),I(new ep(q(c,this.logger))))))))),this.deleteUserAddress$=W(()=>this.actions$.pipe(k(og),E(a=>a.payload),G(a=>this.userAddressConnector.delete(a.userId,a.addressId).pipe(E(c=>new ip(c)),F(c=>I(new rp(q(c,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=W(()=>this.actions$.pipe(k(JI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=W(()=>this.actions$.pipe(k(XI),E(a=>a.payload),L(a=>{this.loadAddresses(),(Object.keys(a?.address).length!==1||!a?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=W(()=>this.actions$.pipe(k(eD),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(n,r){this.messageService.add({key:n},r??ke.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(nF),d(o9),d(zo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),m9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userConsentConnector=r,this.logger=C(Q),this.resetConsents$=W(()=>this.actions$.pipe(k(Cn),E(()=>new bc))),this.getConsents$=W(()=>this.actions$.pipe(k(tD),E(s=>s.payload),Ue(s=>this.userConsentConnector.loadConsents(s).pipe(E(o=>new cp(o)),F(o=>I(new ap(q(o,this.logger)))))))),this.giveConsent$=W(()=>this.actions$.pipe(k(rD,sp),Ue(s=>this.userConsentConnector.giveConsent(s.payload.userId,s.payload.consentTemplateId??"",s.payload.consentTemplateVersion??0).pipe(E(o=>new lp(o)),F(o=>{let a=[new up(q(o,this.logger))];return s.type===sp&&o.status===409&&a.push(new Yf(ke.MSG_TYPE_ERROR)),I(...a)}))))),this.withdrawConsent$=W(()=>this.actions$.pipe(k(sD),E(s=>s.payload),Ue(({userId:s,consentCode:o,consentId:a})=>this.userConsentConnector.withdrawConsent(s,o,a).pipe(E(()=>new gp),F(c=>I(new pp(q(c,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(QY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),v9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userCostCenterConnector=r,this.logger=C(Q),this.loadActiveCostCenters$=W(()=>this.actions$.pipe(k(oD),E(s=>s.payload),x(s=>this.userCostCenterConnector.getActiveList(s).pipe(E(o=>new yp(o.values)),F(o=>I(new vp(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(JY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),y9=[c9,l9,p9,g9,f9,a9,m9,u9,d9,h9,v9],Gx={entities:{}};function E9(t=Gx,e){switch(e.type){case CI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Vc:return Gx}return t}var C9={coupons:[],sorts:[],pagination:{}};function S9(t=C9,e){switch(e.type){case II:return e.payload;case bI:{let i=e.payload.coupon,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>i&&r.couponId===i.couponId?n[s]=i:n[s]=r),T(v({},t),{coupons:n})}case TI:{let i=e.payload,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>r.couponId===i?n[s]=T(v({},r),{notificationOn:!1}):n[s]=r),T(v({},t),{coupons:n})}}return t}var Wx={entities:{}};function I9(t=Wx,e){switch(e.type){case xI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Vc:return Wx}return t}var mC=[];function D9(t=mC,e){switch(e.type){case NI:return mC;case PI:case _I:return e.payload?e.payload:mC}return t}var vC=[];function b9(t=vC,e){switch(e.type){case UI:return e.payload?e.payload:vC;case kI:return vC}return t}var yC={results:[],pagination:{},sorts:[]};function w9(t=yC,e){switch(e.type){case HI:return e.payload?e.payload:yC;case VI:return yC}return t}var qx={entities:[],country:null};function T9(t=qx,e){switch(e.type){case qI:{let i=e.payload.entities,n=e.payload.country;return i||n?T(v({},t),{entities:i,country:n}):qx}}return t}var EC=[];function A9(t=EC,e){switch(e.type){case ZI:return EC;case QI:return e.payload?e.payload:EC}return t}var Yx=[];function R9(t=Yx,e){switch(e.type){case nD:{let i=e.payload;return i||Yx}case iD:{let i=e.consentTemplate;return t.map(n=>n.id===i.id?i:n)}}return t}var CC=[];function M9(t=CC,e){switch(e.type){case aD:return CC;case cD:return e.payload?e.payload:CC}return t}function x9(){return{addresses:ct(tn,A9),billingCountries:E9,consents:ct(kc,R9),payments:ct(Cr,b9),countries:I9,regions:ct(Uc,T9),customerCoupons:ct(jc,S9),notificationPreferences:ct($c,D9),productInterests:ct(Bc,w9),costCenters:ct(rg,M9)}}var iF=new S("UserReducers"),O9={provide:iF,useFactory:x9};function N9(t){return function(e,i){return i.type===yr&&(e=void 0),t(e,i)}}var P9=[N9],F9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[O9],imports:[Ze,Ri,dr.forFeature(nN,iF,{metaReducers:P9}),Vr.forFeature(y9),FM]});let t=e;return t})(),ole=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[rF],imports:[F9,s9]});let t=e;return t})();export{v as a,T as b,yg as c,_9 as d,nt as e,Ee as f,z as g,re as h,Te as i,rn as j,Ng as k,ii as l,w_ as m,pe as n,H7 as o,z7 as p,sn as q,ge as r,I as s,Mt as t,Jn as u,E as v,Pe as w,G as x,Yn as y,Kn as z,qe as A,ea as B,ta as C,na as D,qt as E,F_ as F,on as G,Fg as H,O as I,_g as J,_i as K,Ou as L,F as M,Ue as N,m_ as O,ki as P,ie as Q,Cu as R,Zn as S,v_ as T,an as U,E_ as V,ub as W,U_ as X,Dn as Y,Rt as Z,wr as _,ia as $,j_ as aa,Ui as ba,xs as ca,rt as da,Mg as ea,Fu as fa,Qn as ga,x as ha,sa as ia,S_ as ja,L as ka,$_ as la,it as ma,j as na,yw as oa,m as pa,$ as qa,S as ra,d as sa,C as ta,vv as ua,ln as va,cn as wa,Pw as xa,B as ya,Nt as za,Kt as Aa,sr as Ba,di as Ca,nse as Da,rse as Ea,We as Fa,Nv as Ga,Ye as Ha,or as Ia,pt as Ja,$e as Ka,hn as La,ise as Ma,sse as Na,gU as Oa,ose as Pa,ase as Qa,cse as Ra,X as Sa,xn as Ta,$m as Ua,dl as Va,Bl as Wa,Ki as Xa,Xs as Ya,Ce as Za,Vt as _a,w1 as $a,_1 as ab,ry as bb,J1 as cb,N0 as db,X1 as eb,fse as fb,hse as gb,pse as hb,$0 as ib,B0 as jb,oy as kb,V0 as lb,H0 as mb,f$ as nb,gse as ob,p$ as pb,ay as qb,mse as rb,vse as sb,yse as tb,I$ as ub,G0 as vb,W0 as wb,Ese as xb,q0 as yb,Y0 as zb,Cse as Ab,Sse as Bb,w$ as Cb,K0 as Db,T$ as Eb,A$ as Fb,R$ as Gb,Ise as Hb,M$ as Ib,Dse as Jb,bse as Kb,wse as Lb,Tse as Mb,Ase as Nb,Rse as Ob,Mse as Pb,xse as Qb,Ose as Rb,Nse as Sb,Pse as Tb,Fse as Ub,_se as Vb,Lse as Wb,kse as Xb,to as Yb,bt as Zb,no as _b,es as $b,me as ac,_r as bc,hy as cc,Na as dc,gi as ec,_e as fc,ur as gc,wt as hc,fd as ic,cr as jc,noe as kc,roe as lc,PB as mc,ioe as nc,soe as oc,ooe as pc,aoe as qc,PA as rc,coe as sc,uoe as tc,loe as uc,doe as vc,foe as wc,hoe as xc,poe as yc,_A as zc,goe as Ac,Ze as Bc,Pn as Cc,ts as Dc,LA as Ec,le as Fc,Fy as Gc,ze as Hc,so as Ic,ns as Jc,zt as Kc,Le as Lc,gn as Mc,Aoe as Nc,Roe as Oc,Moe as Pc,Boe as Qc,Voe as Rc,qy as Sc,iR as Tc,_V as Uc,mi as Vc,ao as Wc,Br as Xc,oo as Yc,fe as Zc,M as _c,A as $c,Fn as ad,dr as bd,nae as cd,rae as dd,W as ed,Ae as fd,k as gd,Vr as hd,vn as id,ot as jd,yn as kd,Fd as ld,Hr as md,SH as nd,uc as od,Oe as pd,QR as qd,Oae as rd,FM as sd,nf as td,Cf as ud,yt as vd,kt as wd,Ac as xd,jo as yd,Ix as zd,$n as Ad,$o as Bd,be as Cd,qG as Dd,YG as Ed,Po as Fd,If as Gd,KG as Hd,ZG as Id,QG as Jd,Zce as Kd,Ao as Ld,Ro as Md,w8 as Nd,Qce as Od,Jce as Pd,Vn as Qd,A8 as Rd,yc as Sd,Jr as Td,Er as Ud,qp as Vd,Ti as Wd,RO as Xd,Oc as Yd,Q as Zd,Zp as _d,Nc as $d,OO as ae,Ai as be,oI as ce,En as de,Cc as ee,Di as fe,Cs as ge,Ss as he,Kr as ie,L8 as je,eue as ke,Is as le,K8 as me,Hn as ne,_c as oe,zC as pe,nue as qe,rue as re,Sc as se,YC as te,Qe as ue,xo as ve,eg as we,Ri as xe,q as ye,jn as ze,bi as Ae,Zr as Be,xx as Ce,y3 as De,Ds as Ee,YO as Fe,ke as Ge,zo as He,D3 as Ie,iue as Je,O3 as Ke,sue as Le,eN as Me,ae as Ne,oue as Oe,aue as Pe,j3 as Qe,lD as Re,ag as Se,cue as Te,uue as Ue,lue as Ve,qN as We,Hc as Xe,YN as Ye,X3 as Ze,eW as _e,Dp as $e,Je as af,fue as bf,ys as cf,nP as df,hue as ef,pue as ff,Rp as gf,Mi as hf,zc as if,cP as jf,hC as kf,YW as lf,gue as mf,k4 as nf,_x as of,Lx as pf,Lp as qf,mD as rf,Iq as sf,Iue as tf,fg as uf,en as vf,vr as wf,hg as xf,i6 as yf,pg as zf,wD as Af,Due as Bf,bue as Cf,wue as Df,C6 as Ef,Tue as Ff,Aue as Gf,Rue as Hf,Xr as If,vt as Jf,TD as Kf,Tc as Lf,Mue as Mf,bo as Nf,N5 as Of,xue as Pf,Oue as Qf,Nue as Rf,Pue as Sf,Fue as Tf,_ue as Uf,Lue as Vf,kue as Wf,Uue as Xf,jue as Yf,$ue as Zf,jx as _f,k5 as $f,Bue as ag,Vue as bg,$5 as cg,Hue as dg,zue as eg,q5 as fg,Y5 as gg,Gue as hg,Wue as ig,K5 as jg,que as kg,Q5 as lg,LP as mg,Qc as ng,Kue as og,Zue as pg,Que as qg,HY as rg,Jue as sg,Xue as tg,Es as ug,n9 as vg,r9 as wg,ele as xg,tle as yg,nle as zg,o9 as Ag,rle as Bg,ile as Cg,sle as Dg,zx as Eg,ole as Fg};
