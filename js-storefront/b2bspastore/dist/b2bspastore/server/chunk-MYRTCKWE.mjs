import './polyfills.server.mjs';
import{a as Te}from"./chunk-DLXSB2PG.mjs";import{c as kr}from"./chunk-D7WZB62B.mjs";import{b as jr}from"./chunk-FWN422PK.mjs";import{$ as gi,A as $c,Ba as qc,Ca as Ot,D as Bn,Da as Kc,E as Ct,Ea as Nt,F as Vc,Fa as Hc,G as wt,H as Ut,I as zc,Ia as Zc,Ja as Yc,L as qe,M as Ve,O as Lr,Qa as wr,Ra as Mr,S as ui,Wa as Qc,Wb as Ke,Xa as Li,Y as Xi,Ya as Or,_ as mi,a as Br,b as Ft,c as W,d as ut,e as mt,g as ye,gb as wi,h as Pr,hb as Nr,ib as Gr,j as V,jb as Pe,k as Gc,l as Tn,m as Fr,p as It,q as Dn,r as kc,s as yt,ta as Mt,uc as Wc,w as jc,wa as Pn,x as Lt}from"./chunk-L3T7QQFM.mjs";import{$ as Vt,$b as Tr,A as ae,Ab as Oc,Bb as Ar,Ha as pi,J as Pt,K as ai,L as Bc,La as N,Mb as Rr,Nb as Et,Ob as qt,Q as $e,Qb as Nc,R as Pc,Ta as ze,Tc as Dr,Ua as Un,Ub as ve,V as m,Vb as Ie,Xa as li,_ as Ur,ac as Qi,db as _t,dc as Rn,e as ni,eb as lt,f as ri,fb as di,h as j,i as Rc,j as Tc,ka as ci,kb as dt,lb as Pi,m as w,ma as Cn,n as oi,nb as tt,o as M,oa as he,ob as bn,p as Dc,pb as wc,qa as zt,qb as br,ra as Fc,rb as Mc,rc as Wi,uc as G,v as yr,vc as Q,x as Cr,xa as Lc,y as z,yb as Fi,z as si,zb as An}from"./chunk-MYZEKFYU.mjs";import{$a as de,$b as me,$c as Ir,$d as ii,Aa as K,Bc as se,C as xr,Ca as In,Cc as A,Db as Sc,Dc as We,Dd as St,Ed as pe,Fa as C,Ga as B,Ia as Ae,Ib as _c,Jc as c,Ka as h,Kb as Re,Kc as p,L as $,La as Se,Lc as Bt,Md as Z,N as Jt,Oc as _e,Od as Ac,Pb as x,Q as ei,Qb as ct,Ra as D,Rb as a,S as O,Sa as P,Sb as Ec,Ta as yn,Tb as xe,Vb as _r,X as et,Xb as u,Yb as l,Zb as S,_a as le,_b as ue,a as Zi,ab as te,ac as pt,bc as fe,ca as Gt,cb as vc,dc as X,ec as f,f as vr,fb as xc,fc as Ri,g as Yi,gc as xt,h as gc,hc as ie,ia as at,j as De,ja as kt,jc as Er,kb as Sr,kc as Ic,l as Xt,mc as Ti,na as hc,nc as Di,o as Be,oc as Bi,p as ce,pc as J,q as oe,qc as g,rc as y,sc as _,ta as En,tc as $t,uc as yc,wa as jt,wb as s,wc as Cc,x as I,xa as U,xb as R,xc as Uc,y as fc,yc as bc,yd as ti,z as Ce,zc as Y,zd as H}from"./chunk-IDQ3VQP7.mjs";import{a as L,b as je,d as hr}from"./chunk-GHFNAT2I.mjs";var Ji=class{},tp=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}create(t,n){return this.adapter.create(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}getList(t,n){return this.adapter.loadList(t,n)}getApprovers(t,n,r){return this.adapter.loadApprovers(t,n,r)}assignApprover(t,n,r){return this.adapter.assignApprover(t,n,r)}unassignApprover(t,n,r){return this.adapter.unassignApprover(t,n,r)}getPermissions(t,n,r){return this.adapter.loadPermissions(t,n,r)}assignPermission(t,n,r){return this.adapter.assignPermission(t,n,r)}unassignPermission(t,n,r){return this.adapter.unassignPermission(t,n,r)}getUserGroups(t,n,r){return this.adapter.loadUserGroups(t,n,r)}assignUserGroup(t,n,r){return this.adapter.assignUserGroup(t,n,r)}unassignUserGroup(t,n,r){return this.adapter.unassignUserGroup(t,n,r)}};e.\u0275fac=function(n){return new(n||e)(h(Ji))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),en=class{},ip=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}getList(t,n){return this.adapter.loadList(t,n)}create(t,n){return this.adapter.create(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}};e.\u0275fac=function(n){return new(n||e)(h(en))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),tn=class{},np=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}getList(t,n){return this.adapter.loadList(t,n)}create(t,n){return this.adapter.create(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}getBudgets(t,n,r){return this.adapter.loadBudgets(t,n,r)}assignBudget(t,n,r){return this.adapter.assignBudget(t,n,r)}unassignBudget(t,n,r){return this.adapter.unassignBudget(t,n,r)}};e.\u0275fac=function(n){return new(n||e)(h(tn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),nn=class{},rp=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}create(t,n){return this.adapter.create(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}getList(t){return this.adapter.loadList(t)}getApprovalProcesses(t){return this.adapter.loadApprovalProcesses(t)}getTree(t){return this.adapter.loadTree(t)}getUsers(t,n,r,d){return this.adapter.loadUsers(t,n,r,d)}assignRole(t,n,r){return this.adapter.assignRole(t,n,r)}unassignRole(t,n,r){return this.adapter.unassignRole(t,n,r)}assignApprover(t,n,r,d){return this.adapter.assignApprover(t,n,r,d)}unassignApprover(t,n,r,d){return this.adapter.unassignApprover(t,n,r,d)}getAddresses(t,n){return this.adapter.loadAddresses(t,n)}createAddress(t,n,r){return this.adapter.createAddress(t,n,r)}updateAddress(t,n,r,d){return this.adapter.updateAddress(t,n,r,d)}deleteAddress(t,n,r){return this.adapter.deleteAddress(t,n,r)}};e.\u0275fac=function(n){return new(n||e)(h(nn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),rn=class{},op=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}getList(t,n){return this.adapter.loadList(t,n)}create(t,n){return this.adapter.create(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}getTypes(){return this.adapter.loadTypes()}};e.\u0275fac=function(n){return new(n||e)(h(rn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),on=class{},sp=(()=>{let e=class e{constructor(t){this.adapter=t}get(t,n){return this.adapter.load(t,n)}getList(t,n){return this.adapter.loadList(t,n)}getAvailableOrderApprovalPermissions(t,n,r){return this.adapter.loadAvailableOrderApprovalPermissions(t,n,r)}getAvailableOrgCustomers(t,n,r){return this.adapter.loadAvailableOrgCustomers(t,n,r)}create(t,n){return this.adapter.create(t,n)}delete(t,n){return this.adapter.delete(t,n)}update(t,n,r){return this.adapter.update(t,n,r)}assignMember(t,n,r){return this.adapter.assignMember(t,n,r)}assignOrderApprovalPermission(t,n,r){return this.adapter.assignOrderApprovalPermission(t,n,r)}unassignMember(t,n,r){return this.adapter.unassignMember(t,n,r)}unassignAllMembers(t,n){return this.adapter.unassignAllMembers(t,n)}unassignOrderApprovalPermission(t,n,r){return this.adapter.unassignOrderApprovalPermission(t,n,r)}};e.\u0275fac=function(n){return new(n||e)(h(on))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Kt=(()=>{let e=class e{constructor(t,n,r){this.userAccountFacade=t,this.routingService=n,this.globalMessageService=r}canActivate(){return this.userAccountFacade.get().pipe($(t=>!!t&&Object.keys(t).length>0),I(t=>t?.roles),I(t=>{let n=Array.isArray(t)&&t.includes($e.ADMIN);return n||(this.routingService.go({cxRoute:"organization"}),this.globalMessageService.add({key:"organization.notification.noSufficientPermissions"},ze.MSG_TYPE_WARNING)),n}))}};e.\u0275fac=function(n){return new(n||e)(h(kr),h(he),h(Un))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),ap="organization",cp="budget",Oe="budget-entities",On="budget-list",pp="costCenter",bt="costCenter-entities",Nn="costCenter-list",Gn="costCenter-assigned-budgets",lp="permission",Ue="permission-entities",kn="permission-list",jn="permission-types",$n="permission-types-list",dp="orgUnit";var Vn="orgUnitNode-list",At="orgUnit-entities",zn="orgUnit-tree",qn="orgUnit-approval-processes",pn="orgUnit-assigned-users",Kn="tree",Hn="approvalProcesses",Zn="availableOrgUnitNodes",up="b2bUser",ne="b2bUser-entities",Yn="b2bUser-list",Qn="b2bUser-approvers",Wn="b2bUser-permissions",Xn="b2bUser-user-groups",Na="userGroup",be="userGroup-entities",Jn="userGroup-list",er="userGroup-available-order-approval-permissions",tr="userGroup-available-org-customers",ft="addresses-entities",ir="addresses-list",mp="[Budget] Load Budget Data",su="[Budget] Load Budget Data Fail",gp="[Budget] Load Budget Data Success",fp="[Budget] Load Budgets",au="[Budget] Load Budgets Fail",hp="[Budget] Load Budgets Success",vp="[Budget] Create Budget",cu="[Budget] Create Budget Fail",xp="[Budget] Create Budget Success",Sp="[Budget] Update Budget",pu="[Budget] Update Budget Fail",_p="[Budget] Update Budget Success",$r=class extends m.EntityLoadAction{constructor(e){super(Oe,e.budgetCode),this.payload=e,this.type=mp}},Vr=class extends m.EntityFailAction{constructor(e){super(Oe,e.budgetCode,e.error),this.payload=e,this.type=su}},sn=class extends m.EntitySuccessAction{constructor(e){super(Oe,Array.isArray(e)?e.map(o=>o?.code??""):e?.code??""),this.payload=e,this.type=gp}},zr=class extends m.EntityLoadAction{constructor(e){super(On,m.serializeSearchConfig(e.params)),this.payload=e,this.type=fp}},qr=class extends m.EntityFailAction{constructor(e){super(On,m.serializeSearchConfig(e.params),e.error),this.payload=e,this.type=au}},Kr=class extends m.EntitySuccessAction{constructor(e){super(On,m.serializeSearchConfig(e.params)),this.payload=e,this.type=hp}},Hr=class extends m.EntityLoadAction{constructor(e){super(Oe,e.budget.code??null),this.payload=e,this.type=vp}},Zr=class extends m.EntityFailAction{constructor(e){super(Oe,e.budgetCode,e.error),this.payload=e,this.type=cu}},Yr=class extends m.EntitySuccessAction{constructor(e){super(Oe,e.code??null,e),this.payload=e,this.type=xp}},Qr=class extends m.EntityLoadAction{constructor(e){super(Oe,e.budget.code??""),this.payload=e,this.type=Sp}},Wr=class extends m.EntityFailAction{constructor(e){super(Oe,e.budgetCode,e.error),this.payload=e,this.type=pu}},Xr=class extends m.EntitySuccessAction{constructor(e){super(Oe,e.code??"",e),this.payload=e,this.type=_p}};var Ep="[B2BUnit] Load B2BUnit Data",lu="[B2BUnit] Load B2BUnit Data Fail",Ip="[B2BUnit] Load B2BUnit Data Success";var yp="[B2BUnitNode] Load B2BUnitNodes",du="[B2BUnitNode] Load B2BUnitNodes Fail",uu="[B2BUnitNode] Load B2BUnitNodes Success",Cp="[B2BUnit] Create B2BUnitNode",mu="[B2BUnit] Create B2BUnitNode Fail",Up="[B2BUnit] Create B2BUnitNode Success",bp="[B2BUnit] Update B2BUnitNode",gu="[B2BUnit] Update B2BUnitNode Fail",Ap="[B2BUnit] Update B2BUnitNode Success",Rp="[B2BUnitNode] Load Tree",fu="[B2BUnitNode] Load Tree Fail",hu="[B2BUnitNode] Load Tree Success",Tp="[B2BApprovalProcess] Load Approval Processes",vu="[B2BApprovalProcess] Load Approval Processes Fail",xu="[B2BApprovalProcess] Load Approval Processes Success",Dp="[B2BUnit] Load Users",Bp="[B2BUnit] Load Users success",Su="[B2BUnit] Load Users fail",Pp="[B2BUnit] Assign Role",Fp="[B2BUnit] Assign Role success",_u="[B2BUnit] Assign Role fail",Lp="[B2BUnit] Unassign Role",wp="[B2BUnit] Unassign Role success",Eu="[B2BUnit] Unassign Role fail",Mp="[B2BUnit] Assign Approver",Op="[B2BUnit] Assign Approver success",Iu="[B2BUnit] Assign Approver fail",Np="[B2BUnit] Unassign Approver",Gp="[B2BUnit] Unassign Approver success",yu="[B2BUnit] Unassign Approver fail",kp="[B2BUnit] Create address",Cu="[B2BUnit] Create address success",Uu="[B2BUnit] Create address fail",jp="[B2BUnit] Update address",bu="[B2BUnit] Update address success",Au="[B2BUnit] Update address fail",$p="[B2BUnit] Delete address",Ru="[B2BUnit] Delete address success",Tu="[B2BUnit] Delete address fail",Du="[B2BUnit] Load address success",Bu="[B2BUnit] Load addresses",Vp="[B2BUnit] Load addresses success",Pu="[B2BUnit] Load addresses fail",Fu="[B2BUnit] Clear Assigned Users",Fn=class extends m.EntityLoadAction{constructor(e){super(At,e.orgUnitId),this.payload=e,this.type=Ep}},Jr=class extends m.EntityFailAction{constructor(e){super(At,e.orgUnitId,e.error),this.payload=e,this.type=lu}},eo=class extends m.EntitySuccessAction{constructor(e){super(At,Array.isArray(e)?e.map(o=>o?.uid??""):e?.uid??""),this.payload=e,this.type=Ip}},to=class extends m.EntityLoadAction{constructor(e){super(Vn,Zn),this.payload=e,this.type=yp}},io=class extends m.EntityFailAction{constructor(e){super(Vn,Zn,e.error),this.payload=e,this.type=du}},no=class extends m.EntitySuccessAction{constructor(e){super(Vn,Zn),this.payload=e,this.type=uu}},ro=class extends m.EntityLoadAction{constructor(e){super(At,e.unit.uid??null),this.payload=e,this.type=Cp}},oo=class extends m.EntityFailAction{constructor(e){super(At,e.unitCode,e.error),this.payload=e,this.type=mu}},so=class extends m.EntitySuccessAction{constructor(e){super(At,e.uid??null,e),this.payload=e,this.type=Up}},ao=class extends m.EntityLoadAction{constructor(e){super(At,e.unit.uid??""),this.payload=e,this.type=bp}},co=class extends m.EntityFailAction{constructor(e){super(At,e.unitCode,e.error),this.payload=e,this.type=gu}},po=class extends m.EntitySuccessAction{constructor(e){super(At,e.uid??"",e),this.payload=e,this.type=Ap}},lo=class extends m.EntityLoadAction{constructor(e){super(zn,Kn),this.payload=e,this.type=Rp}},uo=class extends m.EntityFailAction{constructor(e){super(zn,Kn,e.error),this.payload=e,this.type=fu}},mo=class extends m.EntitySuccessAction{constructor(e){super(zn,Kn),this.payload=e,this.type=hu}},go=class extends m.EntityLoadAction{constructor(e){super(qn,Hn),this.payload=e,this.type=Tp}},fo=class extends m.EntityFailAction{constructor(e){super(qn,Hn,e.error),this.payload=e,this.type=vu}},ho=class extends m.EntitySuccessAction{constructor(e){super(qn,Hn),this.payload=e,this.type=xu}},vo=class extends m.EntityLoadAction{constructor(e){super(pn,m.serializeSearchConfig(e.params,`${e.orgUnitId},${e.roleId}`)),this.payload=e,this.type=Dp}},xo=class extends m.EntityRemoveAction{constructor(e){super(pn,m.serializeSearchConfig(e.params,`${e.orgUnitId},${e.roleId}`)),this.payload=e,this.type=Fu}},So=class extends m.EntityFailAction{constructor(e){super(pn,m.serializeSearchConfig(e.params,`${e.orgUnitId},${e.roleId}`),e.error),this.payload=e,this.type=Su}},_o=class extends m.EntitySuccessAction{constructor(e){super(pn,m.serializeSearchConfig(e.params,`${e.orgUnitId},${e.roleId}`)),this.payload=e,this.type=Bp}},Eo=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomerId),this.payload=e,this.type=Pp}},Io=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=_u}},yo=class extends m.EntitySuccessAction{constructor(e){super(ne,e.uid,e),this.payload=e,this.type=Fp}},Co=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomerId),this.payload=e,this.type=Lp}},Uo=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=Eu}},bo=class extends m.EntitySuccessAction{constructor(e){super(ne,e.uid,e),this.payload=e,this.type=wp}},an=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomerId),this.payload=e,this.type=Mp}},Ao=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=Iu}},Ro=class extends m.EntitySuccessAction{constructor(e){super(ne,e.uid,e),this.payload=e,this.type=Op}},To=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomerId),this.payload=e,this.type=Np}},Do=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=yu}},Bo=class extends m.EntitySuccessAction{constructor(e){super(ne,e.uid,e),this.payload=e,this.type=Gp}},Po=class extends m.EntityLoadAction{constructor(e){super(ft,e.address.id??null),this.payload=e,this.type=kp}},Fo=class extends m.EntityFailAction{constructor(e){super(ft,e.addressId,e.error),this.payload=e,this.type=Uu}},Ln=class extends m.EntitySuccessAction{constructor(e){super(ft,e.id??null,e),this.payload=e,this.type=Cu}},Lo=class extends m.EntityLoadAction{constructor(e){super(ft,e.address.id??""),this.payload=e,this.type=jp}},wo=class extends m.EntityFailAction{constructor(e){super(ft,e.addressId,e.error),this.payload=e,this.type=Au}},Mo=class extends m.EntitySuccessAction{constructor(e){super(ft,e.id??"",e),this.payload=e,this.type=bu}},Oo=class extends m.EntityLoadAction{constructor(e){super(ft,e.addressId),this.payload=e,this.type=$p}},No=class extends m.EntityFailAction{constructor(e){super(ft,e.addressId,e.error),this.payload=e,this.type=Tu}},Go=class extends m.EntityRemoveAction{constructor(e){super(ft,e.id??""),this.payload=e,this.type=Ru}},ko=class extends m.EntitySuccessAction{constructor(e){super(ft,Array.isArray(e)?e.map(o=>o?.id??""):e?.id??""),this.payload=e,this.type=Du}},Xc=class extends m.EntityLoadAction{constructor(e){super(ir,e.orgUnitId),this.payload=e,this.type=Bu}},Jc=class extends m.EntityFailAction{constructor(e){super(ir,e.orgUnitId,e.error),this.payload=e,this.type=Pu}},jo=class extends m.EntitySuccessAction{constructor(e){super(ir,e.orgUnitId),this.payload=e,this.type=Vp}};var zp="[UserGroup] Load UserGroup Data",Lu="[UserGroup] Load UserGroup Data Fail",qp="[UserGroup] Load UserGroup Data Success",Kp="[UserGroup] Load UserGroups",wu="[UserGroup] Load UserGroups Fail",Hp="[UserGroup] Load UserGroups Success",Zp="[UserGroup] Load Permissions Data",Mu="[UserGroup] Load Permissions Data Fail",Yp="[UserGroup] Load Permissions Data Success",Qp="[UserGroup] Load Customers Data",Ou="[UserGroup] Load Customers Data Fail",Wp="[UserGroup] Load Customers Data Success",Xp="[UserGroup] Create UserGroup",Nu="[UserGroup] Create UserGroup Fail",Jp="[UserGroup] Create UserGroup Success",el="[UserGroup] Assign Member",Gu="[UserGroup] Assign Member Fail",tl="[UserGroup] Assign Member Success",il="[UserGroup] Assign Permissions",ku="[UserGroup] Assign Permissions Fail",nl="[UserGroup] Assign Permissions Success",rl="[UserGroup] Update UserGroup",ju="[UserGroup] Update UserGroup Fail",ol="[UserGroup] Update UserGroup Success",sl="[UserGroup] Delete UserGroup",$u="[UserGroup] Delete UserGroup Fail",Vu="[UserGroup] Delete UserGroup Success",al="[UserGroup] Unassign Members",zu="[UserGroup] Unassign Members Fail",cl="[UserGroup] Unassign Members Success",pl="[UserGroup] Unassign Member",qu="[UserGroup] Unassign Member Fail",ll="[UserGroup] Unassign Member Success",dl="[UserGroup] Unassign Permission",Ku="[UserGroup] Unassign Permission Fail",ul="[UserGroup] Unassign Permission Success",$o=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroupId),this.payload=e,this.type=zp}},Vo=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=Lu}},cn=class extends m.EntitySuccessAction{constructor(e){super(be,Array.isArray(e)?e.map(o=>o?.uid??""):e?.uid??""),this.payload=e,this.type=qp}},zo=class extends m.EntityLoadAction{constructor(e){super(Jn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=Kp}},qo=class extends m.EntityFailAction{constructor(e){super(Jn,m.serializeSearchConfig(e.params),e.error),this.payload=e,this.type=wu}},Ko=class extends m.EntitySuccessAction{constructor(e){super(Jn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=Hp}},Hu=class extends m.EntityLoadAction{constructor(e){super(er,m.serializeSearchConfig(e.params,e.userGroupId)),this.payload=e,this.type=Zp}},Zu=class extends m.EntityFailAction{constructor(e){super(er,m.serializeSearchConfig(e.params,e.userGroupId),e.error),this.payload=e,this.type=Mu}},Yu=class extends m.EntitySuccessAction{constructor(e){super(er,m.serializeSearchConfig(e.params,e.userGroupId)),this.payload=e,this.type=Yp}},Ho=class extends m.EntityLoadAction{constructor(e){super(tr,m.serializeSearchConfig(e.params,e.userGroupId)),this.payload=e,this.type=Qp}},Zo=class extends m.EntityFailAction{constructor(e){super(tr,m.serializeSearchConfig(e.params,e.userGroupId),e.error),this.payload=e,this.type=Ou}},Yo=class extends m.EntitySuccessAction{constructor(e){super(tr,m.serializeSearchConfig(e.params,e.userGroupId)),this.payload=e,this.type=Wp}},Qo=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroup.uid??null),this.payload=e,this.type=Xp}},Wo=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=Nu}},Xo=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid??null,e),this.payload=e,this.type=Jp}},Jo=class extends m.EntityLoadAction{constructor(e){super(ne,e.customerId),this.payload=e,this.type=el}},es=class extends m.EntityFailAction{constructor(e){super(ne,e.customerId,e.error),this.payload=e,this.type=Gu}},ts=class extends m.EntitySuccessAction{constructor(e){super(ne,e.customerId,e),this.payload=e,this.type=tl}},is=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permissionUid),this.payload=e,this.type=il}},ns=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionUid,e.error),this.payload=e,this.type=ku}},rs=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.permissionUid,e),this.payload=e,this.type=nl}},os=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroup.uid??""),this.payload=e,this.type=rl}},ss=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=ju}},as=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid??"",e),this.payload=e,this.type=ol}},cs=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroupId),this.payload=e,this.type=sl}},ps=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=$u}},ls=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid??"",e),this.payload=e,this.type=Vu}},ds=class extends m.EntityLoadAction{constructor(e){super(ne,e.customerId),this.payload=e,this.type=pl}},us=class extends m.EntityFailAction{constructor(e){super(ne,e.customerId,e.error),this.payload=e,this.type=qu}},ms=class extends m.EntitySuccessAction{constructor(e){super(ne,e.customerId,e),this.payload=e,this.type=ll}},gs=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroupId),this.payload=e,this.type=al}},fs=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=zu}},hs=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid??"",e),this.payload=e,this.type=cl}},vs=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permissionUid),this.payload=e,this.type=dl}},xs=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionUid,e.error),this.payload=e,this.type=Ku}},Ss=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.permissionUid,e),this.payload=e,this.type=ul}};var ml="[Permission] Load Permission Data",Qu="[Permission] Load Permission Data Fail",gl="[Permission] Load Permission Data Success",fl="[Permission] Load Permissions",Wu="[Permission] Load Permissions Fail",hl="[Permission] Load Permissions Success",vl="[Permission] Create Permission",Xu="[Permission] Create Permission Fail",xl="[Permission] Create Permission Success",Sl="[Permission] Update Permission",Ju="[Permission] Update Permission Fail",_l="[Permission] Update Permission Success",El="[Permission Types] Load Permission Types",e0="[Permission Types] Load Permission Types Fail",t0="[Permission Types] Load Permission Types Success",_s=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permissionCode),this.payload=e,this.type=ml}},Es=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionCode,e.error),this.payload=e,this.type=Qu}},Mi=class extends m.EntitySuccessAction{constructor(e){super(Ue,Array.isArray(e)?e.map(o=>o?.code??""):e?.code??""),this.payload=e,this.type=gl}},Is=class extends m.EntityLoadAction{constructor(e){super(kn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=fl}},ys=class extends m.EntityFailAction{constructor(e){super(kn,m.serializeSearchConfig(e.params),e.error),this.payload=e,this.type=Wu}},Cs=class extends m.EntitySuccessAction{constructor(e){super(kn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=hl}},Us=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permission.code??null),this.payload=e,this.type=vl}},bs=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionCode,e.error),this.payload=e,this.type=Xu}},As=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.code??null,e),this.payload=e,this.type=xl}},Rs=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permission.code??""),this.payload=e,this.type=Sl}},Ts=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionCode,e.error),this.payload=e,this.type=Ju}},Ds=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.code??"",e),this.payload=e,this.type=_l}},Bs=class extends m.EntityLoadAction{constructor(){super($n,jn),this.type=El}},Ps=class extends m.EntityFailAction{constructor(e){super($n,jn,e.error),this.payload=e,this.type=e0}},Fs=class extends m.EntitySuccessAction{constructor(e){super($n,jn),this.payload=e,this.type=t0}};var Il="[CostCenter] Load CostCenter Data",i0="[CostCenter] Load CostCenter Data Fail",yl="[CostCenter] Load CostCenter Data Success",Cl="[CostCenter] Load CostCenters",n0="[CostCenter] Load CostCenters Fail",Ul="[CostCenter] Load CostCenters Success",bl="[CostCenter] Create CostCenter",r0="[CostCenter] Create CostCenter Fail",Al="[CostCenter] Create CostCenter Success",Rl="[CostCenter] Update CostCenter",o0="[CostCenter] Update CostCenter Fail",Tl="[CostCenter] Update CostCenter Success",Dl="[CostCenter] Load Budgets",Bl="[CostCenter] Load Budgets success",s0="[CostCenter] Load Budgets fail",Pl="[CostCenter] Assign Budget",Fl="[CostCenter] Assign Budget success",a0="[CostCenter] Assign Budget fail",Ll="[CostCenter] Unassign Budget",wl="[CostCenter] Unassign Budget success",c0="[CostCenter] Unassign Budget fail",Ls=class extends m.EntityLoadAction{constructor(e){super(bt,e.costCenterCode),this.payload=e,this.type=Il}},ws=class extends m.EntityFailAction{constructor(e){super(bt,e.costCenterCode,e.error),this.payload=e,this.type=i0}},wn=class extends m.EntitySuccessAction{constructor(e){super(bt,Array.isArray(e)?e.map(o=>o?.code??""):e?.code??""),this.payload=e,this.type=yl}},Ms=class extends m.EntityLoadAction{constructor(e){super(Nn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=Cl}},Os=class extends m.EntityFailAction{constructor(e){super(Nn,m.serializeSearchConfig(e.params),e.error),this.payload=e,this.type=n0}},Ns=class extends m.EntitySuccessAction{constructor(e){super(Nn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=Ul}},Gs=class extends m.EntityLoadAction{constructor(e){super(bt,e.costCenter.code??null),this.payload=e,this.type=bl}},ks=class extends m.EntityFailAction{constructor(e){super(bt,e.costCenterCode,e.error),this.payload=e,this.type=r0}},js=class extends m.EntitySuccessAction{constructor(e){super(bt,e.code??null,e),this.payload=e,this.type=Al}},$s=class extends m.EntityLoadAction{constructor(e){super(bt,e.costCenter.code??""),this.payload=e,this.type=Rl}},Vs=class extends m.EntityFailAction{constructor(e){super(bt,e.costCenterCode,e.error),this.payload=e,this.type=o0}},zs=class extends m.EntitySuccessAction{constructor(e){super(bt,e.code??"",e),this.payload=e,this.type=Tl}},qs=class extends m.EntityLoadAction{constructor(e){super(Gn,m.serializeSearchConfig(e.params,e.costCenterCode)),this.payload=e,this.type=Dl}},Ks=class extends m.EntityFailAction{constructor(e){super(Gn,m.serializeSearchConfig(e.params,e.costCenterCode),e.error),this.payload=e,this.type=s0}},Hs=class extends m.EntitySuccessAction{constructor(e){super(Gn,m.serializeSearchConfig(e.params,e.costCenterCode)),this.payload=e,this.type=Bl}},Zs=class extends m.EntityLoadAction{constructor(e){super(Oe,e.budgetCode),this.payload=e,this.type=Pl}},Ys=class extends m.EntityFailAction{constructor(e){super(Oe,e.budgetCode,e.error),this.payload=e,this.type=a0}},Qs=class extends m.EntitySuccessAction{constructor(e){super(Oe,e.code,e),this.payload=e,this.type=Fl}},Ws=class extends m.EntityLoadAction{constructor(e){super(Oe,e.budgetCode),this.payload=e,this.type=Ll}},Xs=class extends m.EntityFailAction{constructor(e){super(Oe,e.budgetCode,e.error),this.payload=e,this.type=c0}},Js=class extends m.EntitySuccessAction{constructor(e){super(Oe,e.code,e),this.payload=e,this.type=wl}};var Ml="[B2BUser] Load B2BUser Data",p0="[B2BUser] Load B2BUser Data Fail",Ol="[B2BUser] Load B2BUser Data Success",Nl="[B2BUser] Create B2BUser Data",l0="[B2BUser] Create B2BUser Data Fail",Gl="[B2BUser] Create B2BUser Data Success",kl="[B2BUser] Update B2BUser Data",d0="[B2BUser] Update B2BUser Data Fail",Ga="[B2BUser] Update B2BUser Data Success",jl="[B2BUser] Load B2BUsers",u0="[B2BUser] Load B2BUsers Fail",$l="[B2BUser] Load B2BUsers Success",Vl="[B2BUser] Load B2BUser Approvers",m0="[B2BUser] Load B2BUser Approvers Fail",zl="[B2BUser] Load B2BUser Approvers Success",ql="[B2BUser] Assign B2BUser Approver",g0="[B2BUser] Assign B2BUser Approver Fail",Kl="[B2BUser] Assign B2BUser Approver Success",Hl="[B2BUser] Unassign B2BUser Approver",f0="[B2BUser] Unassign B2BUser Approver Fail",Zl="[B2BUser] Unassign B2BUser Approver Success",Yl="[B2BUser] Load B2BUser Permissions",h0="[B2BUser] Load B2BUser Permissions Fail",Ql="[B2BUser] Load B2BUser Permissions Success",Wl="[B2BUser] Assign B2BUser Permission",v0="[B2BUser] Assign B2BUser Permission Fail",Xl="[B2BUser] Assign B2BUser Permission Success",Jl="[B2BUser] Unassign B2BUser Permission",x0="[B2BUser] Unassign B2BUser Permission Fail",ed="[B2BUser] Unassign B2BUser Permission Success",td="[B2BUser] Load B2BUser User Groups",S0="[B2BUser] Load B2BUser User Groups Fail",id="[B2BUser] Load B2BUser User Groups Success",nd="[B2BUser] Assign B2BUser User Group",_0="[B2BUser] Assign B2BUser User Group Fail",rd="[B2BUser] Assign B2BUser User Group Success",od="[B2BUser] Unassign B2BUser User Group",E0="[B2BUser] Unassign B2BUser User Group Fail",sd="[B2BUser] Unassign B2BUser User Group Success",ea=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomerId),this.payload=e,this.type=Ml}},ta=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=p0}},fi=class extends m.EntitySuccessAction{constructor(e){super(ne,Array.isArray(e)?e.map(o=>o?.customerId??""):e?.customerId??""),this.payload=e,this.type=Ol}},ia=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomer.customerId??null),this.payload=e,this.type=Nl}},na=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=l0}},Mn=class extends m.EntitySuccessAction{constructor(e){super(ne,e.customerId??null,e),this.payload=e,this.type=Gl}},ra=class extends m.EntityLoadAction{constructor(e){super(ne,e.orgCustomer.customerId??""),this.payload=e,this.type=kl}},oa=class extends m.EntityFailAction{constructor(e){super(ne,e.orgCustomerId,e.error),this.payload=e,this.type=d0}},sa=class extends m.EntitySuccessAction{constructor(e){super(ne,e.customerId??"",e),this.payload=e,this.type=Ga}},aa=class extends m.EntityLoadAction{constructor(e){super(Yn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=jl}},ca=class extends m.EntityFailAction{constructor(e){super(Yn,m.serializeSearchConfig(e.params),e.error),this.payload=e,this.type=u0}},pa=class extends m.EntitySuccessAction{constructor(e){super(Yn,m.serializeSearchConfig(e.params)),this.payload=e,this.type=$l}},la=class extends m.EntityLoadAction{constructor(e){super(Qn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=Vl}},da=class extends m.EntityFailAction{constructor(e){super(Qn,m.serializeSearchConfig(e.params,e.orgCustomerId),e.error),this.payload=e,this.type=m0}},ua=class extends m.EntitySuccessAction{constructor(e){super(Qn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=zl}},ma=class extends m.EntityLoadAction{constructor(e){super(ne,e.approverId),this.payload=e,this.type=ql}},ga=class extends m.EntityFailAction{constructor(e){super(ne,e.approverId),this.payload=e,this.type=g0}},fa=class extends m.EntitySuccessAction{constructor(e){super(ne,e.approverId,e),this.payload=e,this.type=Kl}},ha=class extends m.EntityLoadAction{constructor(e){super(ne,e.approverId),this.payload=e,this.type=Hl}},va=class extends m.EntityFailAction{constructor(e){super(ne,e.approverId),this.payload=e,this.type=f0}},xa=class extends m.EntitySuccessAction{constructor(e){super(ne,e.approverId,e),this.payload=e,this.type=Zl}},Sa=class extends m.EntityLoadAction{constructor(e){super(Wn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=Yl}},_a=class extends m.EntityFailAction{constructor(e){super(Wn,e.orgCustomerId,e.error),this.payload=e,this.type=h0}},Ea=class extends m.EntitySuccessAction{constructor(e){super(Wn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=Ql}},Ia=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permissionId),this.payload=e,this.type=Wl}},ya=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionId,e.error),this.payload=e,this.type=v0}},Ca=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.permissionId,e),this.payload=e,this.type=Xl}},Ua=class extends m.EntityLoadAction{constructor(e){super(Ue,e.permissionId),this.payload=e,this.type=Jl}},ba=class extends m.EntityFailAction{constructor(e){super(Ue,e.permissionId,e.error),this.payload=e,this.type=x0}},Aa=class extends m.EntitySuccessAction{constructor(e){super(Ue,e.permissionId,e),this.payload=e,this.type=ed}},Ra=class extends m.EntityLoadAction{constructor(e){super(Xn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=td}},Ta=class extends m.EntityFailAction{constructor(e){super(Xn,m.serializeSearchConfig(e.params,e.orgCustomerId),e.error),this.payload=e,this.type=S0}},Da=class extends m.EntitySuccessAction{constructor(e){super(Xn,m.serializeSearchConfig(e.params,e.orgCustomerId)),this.payload=e,this.type=id}},Ba=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroupId),this.payload=e,this.type=nd}},Pa=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=_0}},Fa=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid,e),this.payload=e,this.type=rd}},La=class extends m.EntityLoadAction{constructor(e){super(be,e.userGroupId),this.payload=e,this.type=od}},wa=class extends m.EntityFailAction{constructor(e){super(be,e.userGroupId,e.error),this.payload=e,this.type=E0}},Ma=class extends m.EntitySuccessAction{constructor(e){super(be,e.uid,e),this.payload=e,this.type=sd}};var ad="[Organization] Clear Data",F=class{constructor(){this.type=ad}};var vi=Rc(ap),ka=j(vi,i=>i[lp]),nr=j(ka,i=>i&&i.entities),I0=i=>j(nr,e=>m.entityLoaderStateSelector(e,i)),y0=j(ka,i=>i&&i.permissionTypes),cd=i=>j(nr,e=>m.entityLoaderStateSelector(e,i)),C0=i=>j(cd(i),e=>m.loaderValueSelector(e)),U0=i=>j(ka,e=>m.denormalizeSearch(e,i)),b0=()=>j(y0,i=>m.entityLoaderStateSelector(i,jn));var ln=j(vi,i=>i[up]),rr=j(ln,i=>i&&i.entities),pd=i=>j(rr,e=>m.entityLoaderStateSelector(e,i)),A0=i=>j(pd(i),e=>m.loaderValueSelector(e)),R0=i=>j(ln,e=>m.denormalizeSearch(e,i)),T0=(i,e)=>j(ln,rr,(o,t)=>m.denormalizeCustomB2BSearch(o.approvers,t,e,i)),D0=(i,e)=>j(ln,nr,(o,t)=>m.denormalizeCustomB2BSearch(o.permissions,t,e,i)),B0=j(vi,i=>i[Na].entities),P0=(i,e)=>j(ln,B0,(o,t)=>m.denormalizeCustomB2BSearch(o.userGroups,t,e,i));var gt=function(i){return i[i.SUCCESS=0]="SUCCESS",i[i.ERROR=1]="ERROR",i}(gt||{});function hi(i){return i.pipe(Be(De),hc(),$(([e])=>e.loading??!1),I(([e,o])=>({status:o.success?gt.SUCCESS:o.error?gt.ERROR:null,item:o.value})))}var Fe=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}load(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ea({userId:n,orgCustomerId:t})),error:()=>{}})}loadList(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new aa({userId:n,params:t})),error:()=>{}})}getB2BUserValue(t){return this.store.select(A0(t)).pipe($(n=>!!n))}get(t){let n=this.getB2BUserState(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.load(t)}));return Jt(()=>n.subscribe(),()=>this.getB2BUserValue(t))}getList(t){return this.getUserList(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadList(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}getErrorState(t){return this.getB2BUserState(t).pipe(I(n=>n.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ia({userId:n,orgCustomer:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new ra({userId:r,orgCustomerId:t,orgCustomer:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getB2BUserState(t))}loadApprovers(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new la({userId:r,orgCustomerId:t,params:n})),error:()=>{}})}getApprovers(t,n){return this.getB2BUserApproverList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadApprovers(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}assignApprover(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new ma({userId:r,orgCustomerId:t,approverId:n})),error:()=>{}})}unassignApprover(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new ha({userId:r,orgCustomerId:t,approverId:n})),error:()=>{}})}loadPermissions(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Sa({userId:r,orgCustomerId:t,params:n})),error:()=>{}})}getPermissions(t,n){return this.getB2BUserPermissionList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadPermissions(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}assignPermission(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ia({userId:r,orgCustomerId:t,permissionId:n})),error:()=>{}})}unassignPermission(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ua({userId:r,orgCustomerId:t,permissionId:n})),error:()=>{}})}loadUserGroups(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ra({userId:r,orgCustomerId:t,params:n})),error:()=>{}})}getUserGroups(t,n){return this.getB2BUserUserGroupList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadUserGroups(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}assignUserGroup(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ba({userId:r,orgCustomerId:t,userGroupId:n})),error:()=>{}})}unassignUserGroup(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new La({userId:r,orgCustomerId:t,userGroupId:n})),error:()=>{}})}getAllRoles(){return[$e.CUSTOMER,$e.MANAGER,$e.APPROVER,$e.ADMIN]}getAllRights(){return[Pc.UNITORDERVIEWER]}getB2BUserApproverList(t,n){return this.store.select(T0(t,n))}getB2BUserPermissionList(t,n){return this.store.select(D0(t,n))}getB2BUserUserGroupList(t,n){return this.store.select(P0(t,n))}getB2BUserState(t){return this.store.select(pd(t))}getUserList(t){return this.store.select(R0(t))}isUpdatingUserAllowed(){return!0}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),F0=(()=>{let e=class e{constructor(t,n){this.actions$=t,this.budgetConnector=n,this.logger=Se(ci),this.loadBudget$=w(()=>this.actions$.pipe(M(mp),I(r=>r.payload),U(({userId:r,budgetCode:d})=>this.budgetConnector.get(r,d).pipe(I(E=>new sn([E])),O(E=>oe(new Vr({budgetCode:d,error:N(E,this.logger)}))))))),this.loadBudgets$=w(()=>this.actions$.pipe(M(fp),I(r=>r.payload),U(r=>this.budgetConnector.getList(r.userId,r.params).pipe(U(d=>{let{values:E,page:v}=m.normalizeListPage(d,"code");return[new sn(E),new Kr({page:v,params:r.params})]}),O(d=>oe(new qr({params:r.params,error:N(d,this.logger)}))))))),this.createBudget$=w(()=>this.actions$.pipe(M(vp),I(r=>r.payload),U(r=>this.budgetConnector.create(r.userId,r.budget).pipe(U(d=>[new Yr(d),new F]),O(d=>ce([new Zr({budgetCode:r.budget.code??"",error:N(d,this.logger)}),new F])))))),this.updateBudget$=w(()=>this.actions$.pipe(M(Sp),I(r=>r.payload),U(r=>this.budgetConnector.update(r.userId,r.budgetCode,r.budget).pipe(U(d=>[new Xr(d),new F]),O(d=>ce([new Wr({budgetCode:r.budget.code??"",error:N(d,this.logger)}),new F]))))))}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(ip))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),L0=(()=>{let e=class e{constructor(t,n){this.actions$=t,this.orgUnitConnector=n,this.logger=Se(ci),this.featureConfigService=Se(_t,{optional:!0}),this.loadOrgUnit$=w(()=>this.actions$.pipe(M(Ep),I(r=>r.payload),U(({userId:r,orgUnitId:d})=>this.orgUnitConnector.get(r,d).pipe(U(E=>{let{values:v,page:b}=m.normalizeListPage({values:E.addresses??[]},"id");return[new eo([E]),new ko(v),new jo({page:b,orgUnitId:d})]}),O(E=>oe(new Jr({orgUnitId:d,error:N(E,this.logger)}))))))),this.loadAvailableOrgUnits$=w(()=>this.actions$.pipe(M(yp),I(r=>r.payload),U(r=>this.orgUnitConnector.getList(r.userId).pipe(I(d=>new no(d)),O(d=>oe(new io({error:N(d,this.logger)}))))))),this.createUnit$=w(()=>this.actions$.pipe(M(Cp),I(r=>r.payload),U(r=>this.orgUnitConnector.create(r.userId,r.unit).pipe(U(d=>[new so(d),new F]),O(d=>ce([new oo({unitCode:r.unit.uid??"",error:N(d,this.logger)}),new F])))))),this.updateUnit$=w(()=>this.actions$.pipe(M(bp),I(r=>r.payload),U(r=>this.orgUnitConnector.update(r.userId,r.unitCode,r.unit).pipe(U(d=>[new po(r.unit),new F]),O(d=>ce([new co({unitCode:r.unit.uid??"",error:N(d,this.logger)}),new F])))))),this.loadTree$=w(()=>this.actions$.pipe(M(Rp),I(r=>r.payload),U(({userId:r})=>this.orgUnitConnector.getTree(r).pipe(I(d=>new mo(d)),O(d=>oe(new uo({error:N(d,this.logger)}))))))),this.loadApprovalProcesses$=w(()=>this.actions$.pipe(M(Tp),I(r=>r.payload),U(({userId:r})=>this.orgUnitConnector.getApprovalProcesses(r).pipe(I(d=>new ho(d)),O(d=>oe(new fo({error:N(d,this.logger)}))))))),this.loadUsers$=w(()=>this.actions$.pipe(M(Dp),I(r=>r.payload),kt(({orgUnitId:r,roleId:d,params:E})=>m.serializeParams([r,d],E)),Ce(r=>r.pipe(U(({userId:d,orgUnitId:E,roleId:v,params:b})=>this.orgUnitConnector.getUsers(d,E,v,b).pipe(U(q=>{let{values:Ge,page:ke}=m.normalizeListPage(q,"customerId");return[new fi(Ge),new _o({orgUnitId:E,roleId:v,page:ke,params:b})]}),O(q=>oe(new So({orgUnitId:E,roleId:v,params:b,error:N(q,this.logger)}))))))))),this.assignRoleToUser=w(()=>this.actions$.pipe(M(Pp),I(r=>r.payload),U(({userId:r,orgCustomerId:d,roleId:E})=>this.orgUnitConnector.assignRole(r,d,E).pipe(I(()=>new yo({uid:d,roleId:E,selected:!0})),O(v=>oe(new Io({orgCustomerId:d,error:N(v,this.logger)}))))))),this.unassignRoleToUser$=w(()=>this.actions$.pipe(M(Lp),I(r=>r.payload),U(({userId:r,orgCustomerId:d,roleId:E})=>this.orgUnitConnector.unassignRole(r,d,E).pipe(I(()=>new bo({uid:d,roleId:E,selected:!1})),O(v=>oe(new Uo({orgCustomerId:d,error:N(v,this.logger)}))))))),this.assignApprover=w(()=>this.actions$.pipe(M(Mp),I(r=>r.payload),Ce(({userId:r,orgUnitId:d,orgCustomerId:E,roleId:v})=>this.orgUnitConnector.assignApprover(r,d,E,v).pipe(U(()=>[new Ro({uid:E,roleId:v,selected:!0}),new F]),O(b=>ce([new Ao({orgCustomerId:E,error:N(b,this.logger)}),new F])))))),this.unassignApprover=w(()=>this.actions$.pipe(M(Np),I(r=>r.payload),Ce(({userId:r,orgUnitId:d,orgCustomerId:E,roleId:v})=>this.orgUnitConnector.unassignApprover(r,d,E,v).pipe(U(()=>[new Bo({uid:E,roleId:v,selected:!1}),new F]),O(b=>ce([new Do({orgCustomerId:E,error:N(b,this.logger)}),new F])))))),this.createAddress$=w(()=>this.actions$.pipe(M(kp),I(r=>r.payload),U(r=>this.orgUnitConnector.createAddress(r.userId,r.orgUnitId,r.address).pipe(U(d=>[new Ln(d),new Ln(this.featureConfigService?.isEnabled("fixMyCompanyUnitAddressCreation")?{id:r.address.id}:{id:void 0}),new F]),O(d=>ce([new Fo({addressId:r.address.id??"",error:N(d,this.logger)}),new F])))))),this.updateAddress$=w(()=>this.actions$.pipe(M(jp),I(r=>r.payload),U(({userId:r,orgUnitId:d,addressId:E,address:v})=>this.orgUnitConnector.updateAddress(r,d,E,v).pipe(U(()=>[new Mo(v),new F]),O(b=>ce([new wo({addressId:v.id??"",error:N(b,this.logger)}),new F])))))),this.deleteAddress$=w(()=>this.actions$.pipe(M($p),I(r=>r.payload),U(r=>this.orgUnitConnector.deleteAddress(r.userId,r.orgUnitId,r.addressId).pipe(U(()=>[new Go({id:r.addressId}),new F]),O(d=>ce([new No({addressId:r.addressId,error:N(d,this.logger)}),new F]))))))}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(rp))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),w0=(()=>{let e=class e{constructor(t,n){this.actions$=t,this.permissionConnector=n,this.logger=Se(ci),this.loadPermission$=w(()=>this.actions$.pipe(M(ml),I(r=>r.payload),U(({userId:r,permissionCode:d})=>this.permissionConnector.get(r,d).pipe(I(E=>new Mi([E])),O(E=>oe(new Es({permissionCode:d,error:N(E,this.logger)}))))))),this.loadPermissions$=w(()=>this.actions$.pipe(M(fl),I(r=>r.payload),U(r=>this.permissionConnector.getList(r.userId,r.params).pipe(U(d=>{let{values:E,page:v}=m.normalizeListPage(d,"code");return[new Mi(E),new Cs({page:v,params:r.params})]}),O(d=>oe(new ys({params:r.params,error:N(d,this.logger)}))))))),this.createPermission$=w(()=>this.actions$.pipe(M(vl),I(r=>r.payload),U(r=>this.permissionConnector.create(r.userId,r.permission).pipe(U(d=>[new As(d),new F]),O(d=>ce([new bs({permissionCode:r.permission.code??"",error:N(d,this.logger)}),new F])))))),this.updatePermission$=w(()=>this.actions$.pipe(M(Sl),I(r=>r.payload),U(r=>this.permissionConnector.update(r.userId,r.permissionCode,r.permission).pipe(U(d=>[new Ds(d),new F]),O(d=>ce([new Ts({permissionCode:r.permission.code??"",error:N(d,this.logger)}),new F])))))),this.loadPermissionTypes$=w(()=>this.actions$.pipe(M(El),U(()=>this.permissionConnector.getTypes().pipe(I(r=>new Fs(r)),O(r=>oe(new Ps({error:N(r,this.logger)})))))))}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(op))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),M0=(()=>{let e=class e{constructor(t,n){this.actions$=t,this.costCenterConnector=n,this.logger=Se(ci),this.loadCostCenter$=w(()=>this.actions$.pipe(M(Il),I(r=>r.payload),U(({userId:r,costCenterCode:d})=>this.costCenterConnector.get(r,d).pipe(I(E=>new wn([E])),O(E=>oe(new ws({costCenterCode:d,error:N(E,this.logger)}))))))),this.loadCostCenters$=w(()=>this.actions$.pipe(M(Cl),I(r=>r.payload),U(r=>this.costCenterConnector.getList(r.userId,r.params).pipe(U(d=>{let{values:E,page:v}=m.normalizeListPage(d,"code");return[new wn(E),new Ns({page:v,params:r.params})]}),O(d=>oe(new Os({params:r.params,error:N(d,this.logger)}))))))),this.createCostCenter$=w(()=>this.actions$.pipe(M(bl),I(r=>r.payload),U(r=>this.costCenterConnector.create(r.userId,r.costCenter).pipe(U(d=>[new js(d),new F]),O(d=>ce([new ks({costCenterCode:r.costCenter.code??"",error:N(d,this.logger)}),new F])))))),this.updateCostCenter$=w(()=>this.actions$.pipe(M(Rl),I(r=>r.payload),U(r=>this.costCenterConnector.update(r.userId,r.costCenterCode,r.costCenter).pipe(U(d=>[new zs(d),new F]),O(d=>ce([new Vs({costCenterCode:r.costCenter.code??"",error:N(d,this.logger)}),new F])))))),this.loadAssignedBudgets$=w(()=>this.actions$.pipe(M(Dl),I(r=>r.payload),kt(({costCenterCode:r,params:d})=>m.serializeParams(r,d)),Ce(r=>r.pipe(U(({userId:d,costCenterCode:E,params:v})=>this.costCenterConnector.getBudgets(d,E,v).pipe(U(b=>{let{values:q,page:Ge}=m.normalizeListPage(b,"code");return[new sn(q),new Hs({costCenterCode:E,page:Ge,params:v})]}),O(b=>oe(new Ks({costCenterCode:E,params:v,error:N(b,this.logger)}))))))))),this.assignBudgetToCostCenter$=w(()=>this.actions$.pipe(M(Pl),I(r=>r.payload),Ce(({userId:r,costCenterCode:d,budgetCode:E})=>this.costCenterConnector.assignBudget(r,d,E).pipe(U(()=>[new Qs({code:E,selected:!0}),new F]),O(v=>ce([new Ys({budgetCode:E,error:N(v,this.logger)}),new F])))))),this.unassignBudgetToCostCenter$=w(()=>this.actions$.pipe(M(Ll),I(r=>r.payload),Ce(({userId:r,costCenterCode:d,budgetCode:E})=>this.costCenterConnector.unassignBudget(r,d,E).pipe(U(()=>[new Js({code:E,selected:!1}),new F]),O(v=>ce([new Xs({budgetCode:E,error:N(v,this.logger)}),new F]))))))}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(np))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),O0=(()=>{let e=class e{constructor(t,n,r,d,E){this.actions$=t,this.b2bUserConnector=n,this.routingService=r,this.userAccountFacade=d,this.userIdService=E,this.logger=Se(ci),this.featureConfigService=Se(_t,{optional:!0}),this.loadB2BUser$=w(()=>this.actions$.pipe(M(Ml),I(v=>v.payload),U(({userId:v,orgCustomerId:b})=>this.b2bUserConnector.get(v,b).pipe(I(q=>new fi([q])),O(q=>oe(new ta({orgCustomerId:b,error:N(q,this.logger)}))))))),this.createB2BUser$=w(()=>this.actions$.pipe(M(Nl),I(v=>v.payload),U(({userId:v,orgCustomer:b})=>this.b2bUserConnector.create(v,b).pipe(U(q=>{let Ge=b.isAssignedToApprovers;return this.routingService.getRouterState().pipe(et(1),K(ke=>this.redirectToDetails(ke,q)),U(()=>{let ke=[new Mn(q),new Mn(this.featureConfigService?.isEnabled("fixMyCompanyUnitUserCreation")?{customerId:b.customerId,orgUnit:b.orgUnit}:{customerId:void 0}),new F];return Ge&&ke.splice(1,0,new an({userId:v,orgUnitId:b.orgUnit?.uid??"",orgCustomerId:q.customerId??"",roleId:$e.APPROVER})),ke}))}),O(q=>ce([new na({orgCustomerId:b.customerId??"",error:N(q,this.logger)}),new F])))))),this.updateB2BUser$=w(()=>this.actions$.pipe(M(kl),I(v=>v.payload),U(({userId:v,orgCustomerId:b,orgCustomer:q})=>{let Ge=q.isAssignedToApprovers;return this.b2bUserConnector.update(v,b,q).pipe(U(ke=>{let mc=[new sa(q)];return Ge&&mc.push(new an({userId:v,orgUnitId:q.orgUnit?.uid??"",orgCustomerId:b,roleId:$e.APPROVER})),mc}),O(ke=>ce([new oa({orgCustomerId:q.customerId??"",error:N(ke,this.logger)}),new F])))}))),this.checkSelfEmailUpdate$=w(()=>this.actions$.pipe(M(Ga),I(v=>v.payload),In(this.userAccountFacade.get(),this.userIdService.getUserId()),U(([v,b])=>{let q=v.customerId===b?.customerId&&v.email!==b?.displayUid;return q&&this.routingService.go({cxRoute:"login"}),q?[new Ur.Logout]:[new F]}))),this.loadB2BUsers$=w(()=>this.actions$.pipe(M(jl),I(v=>v.payload),U(v=>this.b2bUserConnector.getList(v.userId,v.params).pipe(U(b=>{let{values:q,page:Ge}=m.normalizeListPage(b,"customerId");return[new fi(q),new pa({page:Ge,params:v.params})]}),O(b=>oe(new ca({params:v.params,error:N(b,this.logger)}))))))),this.loadB2BUserApprovers$=w(()=>this.actions$.pipe(M(Vl),I(v=>v.payload),kt(({orgCustomerId:v,params:b})=>m.serializeParams(v,b)),Ce(v=>v.pipe(U(b=>this.b2bUserConnector.getApprovers(b.userId,b.orgCustomerId,b.params).pipe(U(q=>{let{values:Ge,page:ke}=m.normalizeListPage(q,"customerId");return[new fi(Ge),new ua({orgCustomerId:b.orgCustomerId,page:ke,params:b.params})]}),O(q=>oe(new da({orgCustomerId:b.orgCustomerId,params:b.params,error:N(q,this.logger)}))))))))),this.loadB2BUserPermissions$=w(()=>this.actions$.pipe(M(Yl),I(v=>v.payload),kt(({orgCustomerId:v,params:b})=>m.serializeParams(v,b)),Ce(v=>v.pipe(U(b=>this.b2bUserConnector.getPermissions(b.userId,b.orgCustomerId,b.params).pipe(U(q=>{let{values:Ge,page:ke}=m.normalizeListPage(q,"code");return[new Mi(Ge),new Ea({orgCustomerId:b.orgCustomerId,page:ke,params:b.params})]}),O(q=>oe(new _a({orgCustomerId:b.orgCustomerId,params:b.params,error:N(q,this.logger)}))))))))),this.loadB2BUserUserGroups$=w(()=>this.actions$.pipe(M(td),I(v=>v.payload),kt(({orgCustomerId:v,params:b})=>m.serializeParams(v,b)),Ce(v=>v.pipe(U(b=>this.b2bUserConnector.getUserGroups(b.userId,b.orgCustomerId,b.params).pipe(U(q=>{let{values:Ge,page:ke}=m.normalizeListPage(q,"uid");return[new cn(Ge),new Da({orgCustomerId:b.orgCustomerId,page:ke,params:b.params})]}),O(q=>oe(new Ta({orgCustomerId:b.orgCustomerId,params:b.params,error:N(q,this.logger)}))))))))),this.assignApproverToB2BUser$=w(()=>this.actions$.pipe(M(ql),I(v=>v.payload),Ce(v=>this.b2bUserConnector.assignApprover(v.userId,v.orgCustomerId,v.approverId).pipe(U(b=>[new fa({approverId:v.approverId,selected:b.selected})]),O(b=>ce([new ga({orgCustomerId:v.orgCustomerId,approverId:v.approverId,error:N(b,this.logger)}),new F])))))),this.unassignApproverFromB2BUser$=w(()=>this.actions$.pipe(M(Hl),I(v=>v.payload),Ce(v=>this.b2bUserConnector.unassignApprover(v.userId,v.orgCustomerId,v.approverId).pipe(U(b=>[new xa({approverId:v.approverId,selected:b.selected})]),O(b=>ce([new va({orgCustomerId:v.orgCustomerId,approverId:v.approverId,error:N(b,this.logger)}),new F])))))),this.assignPermissionToB2BUser$=w(()=>this.actions$.pipe(M(Wl),I(v=>v.payload),Ce(v=>this.b2bUserConnector.assignPermission(v.userId,v.orgCustomerId,v.permissionId).pipe(U(b=>[new Ca({permissionId:b.id,selected:b.selected}),new F]),O(b=>ce([new ya({orgCustomerId:v.orgCustomerId,permissionId:v.permissionId,error:N(b,this.logger)}),new F])))))),this.unassignPermissionFromB2BUser$=w(()=>this.actions$.pipe(M(Jl),I(v=>v.payload),Ce(v=>this.b2bUserConnector.unassignPermission(v.userId,v.orgCustomerId,v.permissionId).pipe(U(b=>[new Aa({permissionId:b.id,selected:b.selected}),new F]),O(b=>ce([new ba({orgCustomerId:v.orgCustomerId,permissionId:v.permissionId,error:N(b,this.logger)}),new F])))))),this.assignUserGroupToB2BUser$=w(()=>this.actions$.pipe(M(nd),I(v=>v.payload),Ce(v=>this.b2bUserConnector.assignUserGroup(v.userId,v.orgCustomerId,v.userGroupId).pipe(U(b=>[new Fa({uid:b.id,selected:b.selected}),new F]),O(b=>ce([new Pa({orgCustomerId:v.orgCustomerId,userGroupId:v.userGroupId,error:N(b,this.logger)}),new F])))))),this.unassignUserGroupFromB2BUser$=w(()=>this.actions$.pipe(M(od),I(v=>v.payload),Ce(v=>this.b2bUserConnector.unassignUserGroup(v.userId,v.orgCustomerId,v.userGroupId).pipe(U(()=>[new Ma({uid:v.userGroupId,selected:!1}),new F]),O(b=>ce([new wa({orgCustomerId:v.orgCustomerId,userGroupId:v.userGroupId,error:N(b,this.logger)}),new F]))))))}redirectToDetails(t,n){t?.state?.context?.id!=="/organization/units"&&this.routingService.go({cxRoute:"orgUserDetails",params:n})}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(tp),h(he),h(kr),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),N0=(()=>{let e=class e{constructor(t,n){this.actions$=t,this.userGroupConnector=n,this.logger=Se(ci),this.loadUserGroup$=w(()=>this.actions$.pipe(M(zp),I(r=>r.payload),U(({userId:r,userGroupId:d})=>this.userGroupConnector.get(r,d).pipe(I(E=>new cn([E])),O(E=>oe(new Vo({userGroupId:d,error:N(E,this.logger)}))))))),this.loadUserGroups$=w(()=>this.actions$.pipe(M(Kp),I(r=>r.payload),U(r=>this.userGroupConnector.getList(r.userId,r.params).pipe(U(d=>{let{values:E,page:v}=m.normalizeListPage(d,"uid");return[new cn(E),new Ko({page:v,params:r.params})]}),O(d=>oe(new qo({params:r.params,error:N(d,this.logger)}))))))),this.loadAvailableOrderApprovalPermissions$=w(()=>this.actions$.pipe(M(Zp),I(r=>r.payload),kt(({userGroupId:r,params:d})=>m.serializeParams(r,d)),Ce(r=>r.pipe(U(d=>this.userGroupConnector.getAvailableOrderApprovalPermissions(d.userId,d.userGroupId,d.params).pipe(U(E=>{let{values:v,page:b}=m.normalizeListPage(E,"code");return[new Mi(v),new Yu({userGroupId:d.userGroupId,page:b,params:d.params})]}),O(E=>oe(new Zu({userGroupId:d.userGroupId,params:d.params,error:N(E,this.logger)}))))))))),this.loadAvailableOrgCustomers$=w(()=>this.actions$.pipe(M(Qp),I(r=>r.payload),kt(({userGroupId:r,params:d})=>m.serializeParams(r,d)),Ce(r=>r.pipe(U(d=>this.userGroupConnector.getAvailableOrgCustomers(d.userId,d.userGroupId,d.params).pipe(U(E=>{let{values:v,page:b}=m.normalizeListPage(E,"customerId");return[new fi(v),new Yo({userGroupId:d.userGroupId,page:b,params:d.params})]}),O(E=>oe(new Zo({userGroupId:d.userGroupId,params:d.params,error:N(E,this.logger)}))))))))),this.createUserGroup$=w(()=>this.actions$.pipe(M(Xp),I(r=>r.payload),U(r=>this.userGroupConnector.create(r.userId,r.userGroup).pipe(U(d=>[new Xo(d),new F]),O(d=>ce([new Wo({userGroupId:r.userGroup.uid??"",error:N(d,this.logger)}),new F])))))),this.updateUserGroup$=w(()=>this.actions$.pipe(M(rl),I(r=>r.payload),U(r=>this.userGroupConnector.update(r.userId,r.userGroupId,r.userGroup).pipe(U(()=>[new as(r.userGroup),new F]),O(d=>ce([new ss({userGroupId:r.userGroup.uid??"",error:N(d,this.logger)}),new F])))))),this.deleteUserGroup$=w(()=>this.actions$.pipe(M(sl),I(r=>r.payload),U(r=>this.userGroupConnector.delete(r.userId,r.userGroupId).pipe(U(d=>[new ls(d),new F]),O(d=>ce([new ps({userGroupId:r.userGroupId,error:N(d,this.logger)}),new F])))))),this.assignPermissionToUserGroup$=w(()=>this.actions$.pipe(M(il),I(r=>r.payload),Ce(r=>this.userGroupConnector.assignOrderApprovalPermission(r.userId,r.userGroupId,r.permissionUid).pipe(U(d=>[new rs({permissionUid:d.id,selected:d.selected}),new F]),O(d=>ce([new ns({userGroupId:r.userGroupId,permissionUid:r.permissionUid,error:N(d,this.logger)}),new F])))))),this.assignMemberUnitUserGroup$=w(()=>this.actions$.pipe(M(el),I(r=>r.payload),Ce(r=>this.userGroupConnector.assignMember(r.userId,r.userGroupId,r.customerId).pipe(U(()=>[new ts({customerId:r.customerId,selected:!0}),new F]),O(d=>ce([new es({userGroupId:r.userGroupId,customerId:r.customerId,error:N(d,this.logger)}),new F])))))),this.unassignMemberFromUserGroup$=w(()=>this.actions$.pipe(M(pl),I(r=>r.payload),Ce(r=>this.userGroupConnector.unassignMember(r.userId,r.userGroupId,r.customerId).pipe(U(()=>[new ms({customerId:r.customerId,selected:!1}),new F]),O(d=>ce([new us({userGroupId:r.userGroupId,customerId:r.customerId,error:N(d,this.logger)}),new F])))))),this.unassignPermissionFromUserGroup$=w(()=>this.actions$.pipe(M(dl),I(r=>r.payload),Ce(r=>this.userGroupConnector.unassignOrderApprovalPermission(r.userId,r.userGroupId,r.permissionUid).pipe(U(d=>[new Ss({permissionUid:d.id,selected:d.selected}),new F]),O(d=>ce([new xs({userGroupId:r.userGroupId,permissionUid:r.permissionUid,error:N(d,this.logger)}),new F])))))),this.unassignAllMembersFromUserGroup$=w(()=>this.actions$.pipe(M(al),I(r=>r.payload),U(r=>this.userGroupConnector.unassignAllMembers(r.userId,r.userGroupId).pipe(U(()=>[new hs({selected:!1}),new F]),O(d=>ce([new fs({userGroupId:r.userGroupId,error:N(d,this.logger)}),new F]))))))}};e.\u0275fac=function(n){return new(n||e)(h(oi),h(sp))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),G0=[F0,L0,N0,w0,M0,O0],k0=void 0,or=void 0;function j0(i=k0,e){switch(e.type){case Ol:case Gl:case Ga:return e.payload;case Fp:case Op:return je(L({},i),{selected:e.payload?.selected,roles:[...i?.roles||[],e.payload?.roleId]});case wp:case Gp:return je(L({},i),{selected:e.payload?.selected,roles:[...i?.roles||[]].filter(o=>o!==e.payload?.roleId)});case Kl:case Zl:case tl:case ll:case cl:return L(L({},i),e.payload)}return i}function $0(i=or,e){switch(e.type){case $l:return e.payload.page}return i}function V0(i=or,e){switch(e.type){case zl:return e.payload.page}return i}function z0(i=or,e){switch(e.type){case Ql:return e.payload.page}return i}function q0(i=or,e){switch(e.type){case id:return e.payload.page}return i}var K0=void 0,H0=void 0;function Z0(i=K0,e){switch(e.type){case gp:case xp:case _p:return e.payload;case wl:case Fl:return L(L({},i),e.payload)}return i}function Y0(i=H0,e){switch(e.type){case hp:return e.payload.page}return i}var Q0=void 0,ld=void 0;function W0(i=Q0,e){switch(e.type){case yl:case Al:case Tl:return e.payload}return i}function X0(i=ld,e){switch(e.type){case Ul:return e.payload.page}return i}function J0(i=ld,e){switch(e.type){case Bl:return e.payload.page}return i}var em=void 0,dd=void 0;function tm(i=em,e){switch(e.type){case Ip:case Up:return e.payload;case Ap:return L(L({},i),e.payload)}return i}function im(i=dd,e){switch(e.type){case Bp:return e.payload.page}return i}function nm(i=dd,e){switch(e.type){case Vp:return e.payload.page}return i}var rm=void 0,om=void 0;function sm(i=rm,e){switch(e.type){case gl:case xl:case _l:return e.payload;case nl:case ul:case Xl:case ed:return L(L({},i),e.payload)}return i}function am(i=om,e){switch(e.type){case hl:return e.payload.page}return i}var cm=void 0,ja=void 0;function pm(i=cm,e){switch(e.type){case qp:case Jp:case ol:return e.payload;case rd:case sd:return L(L({},i),e.payload)}return i}function lm(i=ja,e){switch(e.type){case Hp:return e.payload.page}return i}function dm(i=ja,e){switch(e.type){case Yp:return e.payload.page}return i}function um(i=ja,e){switch(e.type){case Wp:return e.payload.page}return i}function mm(){return{[cp]:ni({entities:m.entityLoaderReducer(Oe,Z0),list:m.entityLoaderReducer(On,Y0)}),[lp]:ni({entities:m.entityLoaderReducer(Ue,sm),list:m.entityLoaderReducer(kn,am),permissionTypes:m.entityLoaderReducer($n)}),[dp]:ni({entities:m.entityLoaderReducer(At,tm),availableOrgUnitNodes:m.entityLoaderReducer(Vn),tree:m.entityLoaderReducer(zn),approvalProcesses:m.entityLoaderReducer(qn),users:m.entityLoaderReducer(pn,im),addressList:m.entityLoaderReducer(ir,nm),addressEntities:m.entityLoaderReducer(ft)}),[Na]:ni({entities:m.entityLoaderReducer(be,pm),list:m.entityLoaderReducer(Jn,lm),permissions:m.entityLoaderReducer(er,dm),customers:m.entityLoaderReducer(tr,um)}),[pp]:ni({entities:m.entityLoaderReducer(bt,W0),list:m.entityLoaderReducer(Nn,X0),budgets:m.entityLoaderReducer(Gn,J0)}),[up]:ni({entities:m.entityLoaderReducer(ne,j0),list:m.entityLoaderReducer(Yn,$0),approvers:m.entityLoaderReducer(Qn,V0),permissions:m.entityLoaderReducer(Wn,z0),userGroups:m.entityLoaderReducer(Xn,q0)})}}var ud=new Ae("OrganizationReducers"),gm={provide:ud,useFactory:mm};function fm(i){return function(e,o){return o.type===ad&&(e=void 0),o.type===Ur.LOGOUT&&(e=void 0),o.type===Lc.LANGUAGE_CHANGE&&(e=void 0),i(e,o)}}var hm=[fm],md=j(vi,i=>i[cp]),gd=j(md,i=>i&&i.entities),fd=i=>j(gd,e=>m.entityLoaderStateSelector(e,i)),vm=i=>j(fd(i),e=>m.loaderValueSelector(e)),xm=i=>j(md,e=>m.denormalizeSearch(e,i));var xi=j(vi,i=>i[dp]),Sm=j(xi,i=>i&&i.availableOrgUnitNodes),hd=j(xi,i=>i&&i.entities),_m=j(xi,i=>i&&i.tree),Em=j(xi,i=>i&&i.addressEntities),Im=j(xi,i=>i&&i.approvalProcesses),vd=i=>j(hd,e=>m.entityLoaderStateSelector(e,i)),ym=i=>j(vd(i),e=>m.loaderValueSelector(e)),Cm=i=>j(hd,e=>m.entityLoaderStateSelector(e,i)),Um=()=>j(Sm,i=>m.entityLoaderStateSelector(i,Zn)),bm=()=>j(_m,i=>m.entityLoaderStateSelector(i,Kn)),Am=()=>j(Im,i=>m.entityLoaderStateSelector(i,Hn)),Rm=(i,e,o)=>j(xi,rr,(t,n)=>m.denormalizeCustomB2BSearch(t.users,n,o,`${i},${e}`)),Tm=(i,e)=>j(xi,o=>m.denormalizeCustomB2BSearch(o.addressList,o.addressEntities,e,i)),Dm=i=>j(Em,e=>m.entityLoaderStateSelector(e,i));var sr=j(vi,i=>i[Na]),xd=j(sr,i=>i&&i.entities),Sd=i=>j(xd,e=>m.entityLoaderStateSelector(e,i)),Bm=i=>j(Sd(i),e=>m.loaderValueSelector(e)),Pm=i=>j(sr,e=>m.denormalizeSearch(e,i)),Fm=(i,e)=>j(sr,rr,(o,t)=>m.denormalizeCustomB2BSearch(o.customers,t,e,i)),Lm=(i,e)=>j(sr,nr,(o,t)=>m.denormalizeCustomB2BSearch(o.permissions,t,e,i)),wm=i=>j(xd,e=>m.entityLoaderStateSelector(e,i));var $a=j(vi,i=>i[pp]),_d=j($a,i=>i&&i.entities),Ed=i=>j(_d,e=>m.entityLoaderStateSelector(e,i)),Mm=i=>j(Ed(i),e=>m.loaderValueSelector(e)),Om=i=>j($a,e=>m.denormalizeSearch(e,i)),Nm=(i,e)=>j($a,gd,(o,t)=>m.denormalizeCustomB2BSearch(o.budgets,t,e,i)),Gm=i=>j(_d,e=>m.entityLoaderStateSelector(e,i));var Oi=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}loadBudget(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new $r({userId:n,budgetCode:t})),error:()=>{}})}loadBudgets(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new zr({userId:n,params:t})),error:()=>{}})}getBudgetState(t){return this.store.select(fd(t))}getBudgetValue(t){return this.store.select(vm(t)).pipe($(n=>!!n))}getBudgetList(t){return this.store.select(xm(t))}get(t){let n=this.getBudgetState(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.loadBudget(t)}));return Jt(()=>n.subscribe(),()=>this.getBudgetValue(t))}getList(t){return this.getBudgetList(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadBudgets(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}getCostCenters(t){return this.get(t).pipe(I(n=>({values:n.costCenters??[]})))}getErrorState(t){return this.getBudgetState(t).pipe(I(n=>n.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Hr({userId:n,budget:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Qr({userId:r,budgetCode:t,budget:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getBudgetState(t))}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),dn=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}load(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ls({userId:n,costCenterCode:t})),error:()=>{}})}loadList(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Ms({userId:n,params:t})),error:()=>{}})}getCostCenter(t){return this.store.select(Ed(t))}getCostCenterValue(t){return this.store.select(Mm(t)).pipe($(n=>!!n))}getCostCenterList(t){return this.store.select(Om(t))}getBudgetList(t,n){return this.store.select(Nm(t,n))}get(t){let n=this.getCostCenter(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.load(t)}));return Jt(()=>n.subscribe(),()=>this.getCostCenterValue(t))}getList(t){return this.getCostCenterList(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadList(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}getCostCenterState(t){return this.store.select(Gm(t))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Gs({userId:n,costCenter:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new $s({userId:r,costCenterCode:t,costCenter:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getCostCenter(t))}loadBudgets(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new qs({userId:r,costCenterCode:t,params:n})),error:()=>{}})}getBudgets(t,n){return this.getBudgetList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadBudgets(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}assignBudget(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Zs({userId:r,costCenterCode:t,budgetCode:n})),error:()=>{}})}unassignBudget(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ws({userId:r,costCenterCode:t,budgetCode:n})),error:()=>{}})}getErrorState(t){return this.getCostCenterState(t).pipe(I(n=>n.error??!1))}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ee=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}clearAssignedUsersList(t,n,r){this.store.dispatch(new xo({orgUnitId:t,roleId:n,params:r}))}load(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Fn({userId:n,orgUnitId:t})),error:()=>{}})}loadList(){this.userIdService.takeUserId(!0).subscribe({next:t=>this.store.dispatch(new to({userId:t})),error:()=>{}})}loadTree(){this.userIdService.takeUserId(!0).subscribe({next:t=>this.store.dispatch(new lo({userId:t})),error:()=>{}})}loadApprovalProcesses(){this.userIdService.takeUserId(!0).subscribe({next:t=>this.store.dispatch(new go({userId:t})),error:()=>{}})}loadUsers(t,n,r){this.userIdService.takeUserId(!0).subscribe({next:d=>this.store.dispatch(new vo({userId:d,orgUnitId:t,roleId:n,params:r})),error:()=>{}})}loadAddresses(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Fn({userId:n,orgUnitId:t})),error:()=>{}})}getOrgUnit(t){return this.store.select(vd(t))}getOrgUnitValue(t){return this.store.select(ym(t)).pipe($(n=>!!n))}getTreeState(){return this.store.select(bm())}getOrgUnitsList(){return this.store.select(Um())}getAddressesState(t){return this.store.select(Tm(t))}getAddressState(t){return this.store.select(Dm(t))}getAssignedUsers(t,n,r){return this.store.select(Rm(t,n,r))}getApprovalProcessesList(){return this.store.select(Am())}get(t){let n=this.getOrgUnit(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.load(t)}));return Jt(()=>n.subscribe(),()=>this.getOrgUnitValue(t))}getCostCenters(t){return this.get(t).pipe(I(n=>({values:n.costCenters??[]})))}findUnitChildrenInTree(t,n){return n.id===t?n.children??[]:(n.children??[]).flatMap(r=>this.findUnitChildrenInTree(t,r))}getChildUnits(t){return this.getTree().pipe(I(n=>({values:n?this.findUnitChildrenInTree(t,n):[]})))}getTree(){return this.getTreeState().pipe(Be(De),K(t=>{t.loading||t.success||t.error||this.loadTree()}),$(t=>!!(t.success||t.error)),I(t=>t.value))}getApprovalProcesses(){return this.getApprovalProcessesList().pipe(Be(De),K(t=>{t.loading||t.success||t.error||this.loadApprovalProcesses()}),$(t=>!!(t.success||t.error)),I(t=>t.value))}getList(){return this.getOrgUnitsList().pipe(Be(De),K(t=>{t.loading||t.success||t.error||this.loadList()}),$(t=>!!(t.success||t.error)),I(t=>t.value))}getActiveUnitList(){return this.getList().pipe(I(t=>t?.filter(n=>n.active)),I(t=>t?.sort(this.sortUnitList)))}sortUnitList(t,n){return(t.id??"").toLowerCase()<(n.id??"").toLowerCase()?-1:(t.id??"").toLowerCase()>(n.id??"").toLowerCase()?1:0}getUsers(t,n,r){return this.getAssignedUsers(t,n,r).pipe(Be(De),K(d=>{d.loading||d.success||d.error||this.loadUsers(t,n,r)}),$(d=>!!(d.success||d.error)),I(d=>d.value))}getErrorState(t){return this.getOrgUnitState(t).pipe(I(n=>n.error??!1))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new ro({userId:n,unit:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new ao({userId:r,unitCode:t,unit:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getOrgUnit(t))}assignRole(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Eo({userId:r,orgCustomerId:t,roleId:n})),error:()=>{}})}unassignRole(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Co({userId:r,orgCustomerId:t,roleId:n})),error:()=>{}})}assignApprover(t,n,r){this.userIdService.takeUserId(!0).subscribe({next:d=>this.store.dispatch(new an({orgUnitId:t,userId:d,orgCustomerId:n,roleId:r})),error:()=>{}})}unassignApprover(t,n,r){this.userIdService.takeUserId(!0).subscribe({next:d=>this.store.dispatch(new To({orgUnitId:t,userId:d,orgCustomerId:n,roleId:r})),error:()=>{}})}createAddress(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Po({userId:r,orgUnitId:t,address:n})),error:()=>{}})}getAddresses(t){return this.getAddressesState(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadAddresses(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}getAddress(t,n){return this.getAddressState(n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadAddresses(t)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}updateAddress(t,n,r){this.userIdService.takeUserId(!0).subscribe({next:d=>this.store.dispatch(new Lo({userId:d,orgUnitId:t,addressId:n,address:r})),error:()=>{}})}getAddressLoadingStatus(t){return hi(this.getAddressState(t))}deleteAddress(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Oo({userId:r,orgUnitId:t,addressId:n})),error:()=>{}})}getOrgUnitState(t){return this.store.select(Cm(t))}isUpdatingUnitAllowed(){return!0}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),km=(()=>{let e=class e extends Rr{constructor(t,n,r,d){super(),this.contentPageMetaResolver=t,this.translation=n,this.semanticPath=r,this.routingService=d,this.pageTemplate="CompanyPageTemplate",this.pageType=Bc.CONTENT_PAGE,this.ORGANIZATION_TRANSLATION_KEY="organization.breadcrumb",this.ORGANIZATION_SEMANTIC_ROUTE="organization",this.organizationPageBreadcrumb$=xr(()=>this.routingService.getRouterState()).pipe(I(E=>E?.state?.semanticRoute),Gt(),U(E=>E===this.ORGANIZATION_SEMANTIC_ROUTE?oe([]):this.translation.translate(this.ORGANIZATION_TRANSLATION_KEY).pipe(I(v=>[{label:v,link:this.semanticPath.get(this.ORGANIZATION_SEMANTIC_ROUTE)}])))),this.breadcrumbs$=fc([this.organizationPageBreadcrumb$,xr(()=>this.contentPageMetaResolver.resolveBreadcrumbs())]).pipe(I(([E,v=[]])=>{let[b,...q]=v;return[b,...E,...q]}),En({bufferSize:1,refCount:!0}))}resolveTitle(){return this.contentPageMetaResolver.resolveTitle()}resolveDescription(){return this.contentPageMetaResolver.resolveDescription()}resolveRobots(){return this.contentPageMetaResolver.resolveRobots()}resolveBreadcrumbs(){return this.breadcrumbs$}};e.\u0275fac=function(n){return new(n||e)(h(Nc),h(Et),h(Cn),h(he))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),jm=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[{provide:Rr,useExisting:km,multi:!0}]});let i=e;return i})(),Si=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}loadPermission(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new _s({userId:n,permissionCode:t})),error:()=>{}})}loadPermissions(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Is({userId:n,params:t})),error:()=>{}})}loadPermissionTypes(){this.userIdService.takeUserId(!0).subscribe({next:()=>this.store.dispatch(new Bs),error:()=>{}})}getPermission(t){return this.store.select(cd(t))}getPermissionValue(t){return this.store.select(C0(t)).pipe($(n=>!!n))}getPermissionList(t){return this.store.select(U0(t))}getPermissionTypeList(){return this.store.select(b0())}get(t){let n=this.getPermission(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.loadPermission(t)}));return Jt(()=>n.subscribe(),()=>this.getPermissionValue(t))}getTypes(){return this.getPermissionTypeList().pipe(Be(De),K(t=>{t.loading||t.success||t.error||this.loadPermissionTypes()}),$(t=>!!(t.success||t.error)),I(t=>t.value))}getList(t){return this.getPermissionList(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadPermissions(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Us({userId:n,permission:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Rs({userId:r,permissionCode:t,permission:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getPermission(t))}getPermissionState(t){return this.store.select(I0(t))}getErrorState(t){return this.getPermissionState(t).pipe(I(n=>n.error??!1))}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_i=(()=>{let e=class e{constructor(t,n){this.store=t,this.userIdService=n}load(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new $o({userId:n,userGroupId:t})),error:()=>{}})}loadList(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new zo({userId:n,params:t})),error:()=>{}})}getUserGroup(t){return this.store.select(Sd(t))}getUserGroupValue(t){return this.store.select(Bm(t)).pipe($(n=>!!n))}getUserGroupList(t){return this.store.select(Pm(t))}getAvailableOrgCustomersList(t,n){return this.store.select(Fm(t,n))}getAvailableOrderApprovalPermissionsList(t,n){return this.store.select(Lm(t,n))}get(t){let n=this.getUserGroup(t).pipe(ei(0),K(r=>{r.loading||r.success||r.error||this.load(t)}));return Jt(()=>n.subscribe(),()=>this.getUserGroupValue(t))}getList(t){return this.getUserGroupList(t).pipe(Be(De),K(n=>{n.loading||n.success||n.error||this.loadList(t)}),$(n=>!!(n.success||n.error)),I(n=>n.value))}create(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new Qo({userId:n,userGroup:t})),error:()=>{}})}update(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new os({userId:r,userGroupId:t,userGroup:n})),error:()=>{}})}getLoadingStatus(t){return hi(this.getUserGroup(t))}delete(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new cs({userId:n,userGroupId:t})),error:()=>{}})}loadAvailableOrgCustomers(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Ho({userId:r,userGroupId:t,params:n})),error:()=>{}})}loadAvailableOrderApprovalPermissions(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Hu({userId:r,userGroupId:t,params:n})),error:()=>{}})}getAvailableOrgCustomers(t,n){return this.getAvailableOrgCustomersList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadAvailableOrgCustomers(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}getAvailableOrderApprovalPermissions(t,n){return this.getAvailableOrderApprovalPermissionsList(t,n).pipe(Be(De),K(r=>{r.loading||r.success||r.error||this.loadAvailableOrderApprovalPermissions(t,n)}),$(r=>!!(r.success||r.error)),I(r=>r.value))}assignMember(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new Jo({userId:r,userGroupId:t,customerId:n})),error:()=>{}})}unassignMember(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new ds({userId:r,userGroupId:t,customerId:n})),error:()=>{}})}unassignAllMembers(t){this.userIdService.takeUserId(!0).subscribe({next:n=>this.store.dispatch(new gs({userId:n,userGroupId:t})),error:()=>{}})}assignPermission(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new is({userId:r,userGroupId:t,permissionUid:n})),error:()=>{}})}unassignPermission(t,n){this.userIdService.takeUserId(!0).subscribe({next:r=>this.store.dispatch(new vs({userId:r,userGroupId:t,permissionUid:n})),error:()=>{}})}getUserGroupState(t){return this.store.select(wm(t))}getErrorState(t){return this.getUserGroupState(t).pipe(I(n=>n.error??!1))}};e.\u0275fac=function(n){return new(n||e)(h(ri),h(Vt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),un=(()=>{let e=class e{constructor(t,n,r,d){this.globalMessageService=t,this.orgUnitService=n,this.semanticPathService=r,this.router=d}canActivate(){let t=this.orgUnitService.isUpdatingUnitAllowed();return t||(this.globalMessageService.add({key:"organization.notification.notExist"},ze.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}};e.\u0275fac=function(n){return new(n||e)(h(Un),h(Ee),h(Cn),h(Cr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),Ei=(()=>{let e=class e{constructor(t,n,r,d){this.globalMessageService=t,this.b2bUserService=n,this.semanticPathService=r,this.router=d}canActivate(){let t=this.b2bUserService.isUpdatingUserAllowed();return t||(this.globalMessageService.add({key:"organization.notification.notExist"},ze.MSG_TYPE_WARNING),this.router.parseUrl(this.semanticPathService.get("organization")??""))}};e.\u0275fac=function(n){return new(n||e)(h(Un),h(Fe),h(Cn),h(Cr))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),$m=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Kt,Ei,un]});let i=e;return i})(),Vm=(()=>{let e=class e extends Qi{constructor(){super(...arguments),this.responseStatus=Tr.BAD_REQUEST,this.costCenterMask=/ambiguous unique keys \{code\=(.*)\} for model B2BCostCenterModel/,this.unitMask=/ambiguous unique keys \{uid\=(.*)\} for model B2BUnitModel/,this.permissionMask=/Approval Permission with code\: (.*) already exists\./,this.unknownMask=/Model saving error\./}hasMatch(t){return super.hasMatch(t)&&this.matchMask(t)}handleError(t,n){this.getErrors(n).forEach(({message:r})=>{r&&(this.handleOrganizationConflict(r,this.costCenterMask,"costCenter"),this.handleOrganizationConflict(r,this.unitMask,"unit"),this.handleOrganizationConflict(r,this.permissionMask,"permission"),this.handleOrganizationConflict(r,this.unknownMask,"unknown"))})}matchMask(t){return this.getErrors(t).some(n=>[this.costCenterMask,this.unitMask,this.permissionMask,this.unknownMask].some(r=>r.test(n.message??"")))}handleOrganizationConflict(t,n,r){let d=t.match(n),E={code:d?.[1]};d&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${r}`,params:E},ze.MSG_TYPE_ERROR)}getErrors(t){return(t.error?.errors||[]).filter(n=>n.type==="ModelSavingError"||n.type==="DuplicateUidError")}getPriority(){return 0}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),zm=(()=>{let e=class e extends Qi{constructor(){super(...arguments),this.responseStatus=Tr.CONFLICT,this.budgetMask=/Budget with code \[(.*)\] already exists/,this.userMask=/User already exists/,this.userGroupMask=/Member Permission with the same id already exists/,this.unitMask=/Organizational unit with uid \[(.*)\] already exists/}hasMatch(t){return super.hasMatch(t)&&this.matchMask(t)}handleError(t,n){return this.getErrors(n).forEach(({message:r})=>{r&&(this.handleConflict(r,this.budgetMask,"budget"),this.handleConflict(r,this.userMask,"user",t?.body?.email),this.handleConflict(r,this.userGroupMask,"userGroup",t?.body?.uid),this.handleConflict(r,this.unitMask,"unit"))})}matchMask(t){return this.getErrors(t).some(n=>[this.budgetMask,this.userMask,this.userGroupMask,this.unitMask].some(r=>r.test(n.message??"")))}handleConflict(t,n,r,d){let E=t.match(n),v={code:E?.[1]??d};E&&this.globalMessageService.add({key:`organization.httpHandlers.conflict.${r}`,params:v},ze.MSG_TYPE_ERROR)}getErrors(t){return(t.error?.errors||[]).filter(n=>n.type==="AlreadyExistsError")}getPriority(){return 0}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),qm=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[gm],imports:[Tc.forFeature(ap,ud,{metaReducers:hm}),Dc.forFeature(G0)]});let i=e;return i})(),Id=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[ip,rp,sp,op,np,tp]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[{provide:Qi,useExisting:zm,multi:!0},{provide:Qi,useExisting:Vm,multi:!0}],imports:[jm,qm,$m]});let i=e;return i})(),Ni=new Ae("B2BUserNormalizer"),ar=new Ae("B2BUserSerializer"),Gi=new Ae("UserListNormalizer"),ki=new Ae("BudgetNormalizer"),cr=new Ae("BudgetsListNormalizer"),pr=new Ae("BudgetSerializer"),Va=new Ae("B2BUnitNodeNormalizer"),za=new Ae("B2BUnitNodeListNormalizer"),mn=new Ae("B2BUnitNormalizer"),yd=new Ae("B2BUnitSerializer"),qa=new Ae("B2BUnitApprovalProcessNormalizer"),ji=new Ae("PermissionNormalizer"),gn=new Ae("PermissionsListNormalizer"),Ka=new Ae("PermissionTypeNormalizer"),Ha=new Ae("PermissionTypesListNormalizer"),Za=new Ae("PermissionSerializer"),Ii=new Ae("UserGroupNormalizer"),Ya=new Ae("UserGroupSerializer"),lr=new Ae("UserGroupListNormalizer"),Qa=function(i){return i.DAY="DAY",i.WEEK="WEEK",i.MONTH="MONTH",i.QUARTER="QUARTER",i.YEAR="YEAR",i}(Qa||{});var Hm=()=>({autofocus:!0,focusOnEscape:!0});function Zm(i,e){if(i&1&&S(0,"cx-icon",3),i&2){let o=f();a("type",o.messageIcon)}}var Ym=["vcr"],Qm=[[["","actions",""]],[["","info",""]],[["","main",""]]],Wm=["[actions]","[info]","[main]"],fn=i=>({item:i}),Rd=()=>({placement:"auto",class:"hint-popover",appendToBody:!0,displayCloseButton:!0});function Xm(i,e){if(i&1&&(u(0,"button",11),c(1,"cxTranslate"),S(2,"cx-icon",12),l()),i&2){let o=f(),t=J(24);a("cxPopover",t)("cxPopoverOptions",se(6,Rd)),ct("aria-label",p(1,4,"organization.information")),s(2),a("type",o.iconTypes.INFO)}}function Jm(i,e){if(i&1){let o=fe();u(0,"cx-icon",15),X("click",function(n){le(o);let r=f(2);return de(r.closeView(n))}),l()}}function eg(i,e){if(i&1&&(g(0),c(1,"cxTranslate")),i&2){let o=f(2);y(p(1,1,o.previousLabel))}}function tg(i,e){if(i&1&&(u(0,"button",13),c(1,"cxTranslate"),x(2,Jm,1,0,"cx-icon",14)(3,eg,2,3,"ng-template",null,1,_e),l()),i&2){let o=J(4),t=f();ct("aria-label",p(1,3,"common.close")),s(2),a("ngIf",t.previous===!0)("ngIfElse",o)}}function ig(i,e){if(i&1&&(u(0,"p"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f();s(),_(" ",p(2,1,o.i18nRoot+".hint")," ")}}var ng=[[["","main",""]]],rg=["[main]"],tc=i=>({autofocus:"input",refreshFocus:i});function og(i,e){if(i&1){let o=fe();u(0,"form",2),X("submit",function(){let n=le(o).ngIf,r=f();return de(r.save(n))}),u(1,"cx-org-card",3,0)(3,"button",4),c(4,"async"),g(5),c(6,"cxTranslate"),l(),u(7,"button",5)(8,"span",6),X("click",function(n){le(o);let r=J(2),d=f();return de(d.back(n,r))}),g(9),c(10,"cxTranslate"),l()(),u(11,"section",7),xt(12,0,["ngProjectAs","[main]",5,["","main",""]]),l()()()}if(i&2){let o=e.ngIf,t=f();s(),a("previous",!1)("i18nRoot",t.i18n)("subtitle",t.subtitle)("cxFocus",A(13,tc,o)),s(2),a("disabled",o.disabled||p(4,7,t.disabled$)),s(2),_(" ",p(6,9,"organization.save")," "),s(4),y(p(10,11,"organization.cancel"))}}var sg=[[["","actions",""]]],ag=["[actions]"],Td=i=>({count:i}),cg=()=>({placement:"auto",class:"hint-popover",displayCloseButton:!0}),pg=i=>({title:i}),lg=i=>({cxRoute:i}),Dd=(i,e)=>({property:i,value:e});function dg(i,e){if(i&1&&(u(0,"h2"),g(1),c(2,"cxTranslate"),u(3,"button",16),c(4,"cxTranslate"),S(5,"cx-icon",17),l()()),i&2){let o=f().ngIf,t=f(2),n=J(6);s(),_(" ",Bt(2,5,t.viewType+".header",A(10,Td,t.getListCount(o)))," "),s(2),a("cxPopover",n)("cxPopoverOptions",se(12,Rd)),ct("aria-label",p(4,8,"organization.information")),s(2),a("type",t.iconTypes.INFO)}}function ug(i,e){if(i&1&&(u(0,"h3"),g(1),c(2,"cxTranslate"),u(3,"button",16),c(4,"cxTranslate"),c(5,"cxTranslate"),S(6,"cx-icon",17),l()()),i&2){let o=f().ngIf,t=f(2),n=J(6);s(),_(" ",Bt(2,5,t.viewType+".header",A(13,Td,t.getListCount(o)))," "),s(2),a("cxPopover",n)("cxPopoverOptions",se(15,cg)),ct("aria-label",Bt(5,10,"organization.information",A(16,pg,p(4,8,t.viewType+".groupName")))),s(3),a("type",t.iconTypes.INFO)}}function mg(i,e){if(i&1&&(u(0,"span"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f(2).ngIf;s(),y(p(2,1,o.type+".sortBy"))}}function gg(i,e){if(i&1&&(u(0,"ng-option",20),g(1),c(2,"cxTranslate"),l()),i&2){let o=e.$implicit,t=f(3).ngIf;a("value",o.code),s(),_(" ",p(2,2,t.type+".sort."+o.code)," ")}}function fg(i,e){if(i&1){let o=fe();u(0,"ng-select",18),c(1,"cxTranslate"),X("change",function(){le(o);let n=f().ngIf,r=f(2);return de(r.sort(n.pagination))}),bc("ngModelChange",function(n){le(o);let r=f(3);return Uc(r.sortCode,n)||(r.sortCode=n),de(n)}),x(2,gg,3,4,"ng-option",19),l()}if(i&2){let o=f().ngIf,t=f().ngIf,n=f();a("searchable",!1)("clearable",!1)("tabIndex",0),Cc("ngModel",n.sortCode),ct("aria-label",p(1,6,n.sortCode?t.type+".sort."+n.sortCode:t.type+".sortBy")),s(2),a("ngForOf",o.sorts)}}function hg(i,e){if(i&1&&(u(0,"a",22),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f(3).ngIf,t=f();a("routerLink",p(1,2,A(6,lg,o.type+"Create"))),s(2),_(" ",p(3,4,t.getCreateButtonLabel())," ")}}function vg(i,e){if(i&1&&(ue(0),x(1,hg,4,8,"a",21),me()),i&2){let o=f(3);s(),a("ngIf",!o.hideAddButton)}}function xg(i,e){if(i&1){let o=fe();u(0,"cx-table",23),c(1,"async"),X("launch",function(n){le(o);let r=f(3);return de(r.launchItem(n))}),l()}if(i&2){let o=f().ngIf,t=f().ngIf,n=f();a("structure",t)("data",o.values)("i18nRoot",n.domainType)("currentItem",We(6,Dd,n.key,p(1,4,n.currentKey$)))}}function Sg(i,e){if(i&1){let o=fe();u(0,"cx-view",6)(1,"div",7)(2,"div",8),x(3,dg,6,13,"h2",9)(4,ug,7,18,"h3",9),l(),u(5,"div",10)(6,"label"),x(7,mg,3,3,"span",4)(8,fg,3,8,"ng-select",11),l(),xt(9),x(10,vg,2,1,"ng-container",12),l()(),x(11,xg,2,9,"cx-table",13),u(12,"div",14)(13,"cx-pagination",15),X("viewPageEvent",function(n){let r=le(o).ngIf,d=f(2);return de(d.browse(r.pagination,n))}),l()()()}if(i&2){let o=e.ngIf,t=f(2),n=J(4),r=J(8);s(3),a("cxFeature","a11yOrganizationListHeadingOrder"),s(),a("cxFeature","!a11yOrganizationListHeadingOrder"),s(3),a("ngIf",o.pagination==null?null:o.pagination.sort),s(),a("ngIf",o.pagination==null?null:o.pagination.sort),s(2),a("ngIf",t.createButtonType===t.createButtonAllTypes.LINK)("ngIfElse",r),s(),a("ngIf",o.values&&o.values.length>0)("ngIfElse",n),s(2),a("pagination",o.pagination)}}function _g(i,e){if(i&1&&(ue(0),x(1,Sg,14,9,"cx-view",5),c(2,"async"),S(3,"router-outlet"),me()),i&2){let o=f();s(),a("ngIf",p(2,1,o.listData$))}}function Eg(i,e){i&1&&(u(0,"p",24),g(1),c(2,"cxTranslate"),l()),i&2&&(s(),_(" ",p(2,1,"organization.messages.emptyList")," "))}function Ig(i,e){if(i&1&&(u(0,"p"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f();s(),_(" ",p(2,1,o.viewType+".hint")," ")}}function yg(i,e){if(i&1){let o=fe();u(0,"button",26),X("click",function(){le(o);let n=f(2);return de(n.onCreateButtonClick())}),g(1),c(2,"cxTranslate"),l()}if(i&2){let o=f(2);s(),_(" ",p(2,1,o.getCreateButtonLabel())," ")}}function Cg(i,e){if(i&1&&x(0,yg,3,3,"button",25),i&2){let o=f();a("ngIf",!o.hideAddButton)}}var Rt=(i,e)=>({cxRoute:i,params:e});function Ug(i,e){i&1&&pt(0)}function bg(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,Ug,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabIndex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function Ag(i,e){if(i&1&&(u(0,"span",4),g(1),l()),i&2){let o=f();ie("title",o.property),s(),y(o.property)}}function Rg(i,e){if(i&1){let o=fe();u(0,"button",1),X("click",function(){le(o);let n=f();return de(n.toggleAssign())}),g(1),l()}if(i&2){let o=f();s(),_(" ",o.isAssigned?"unassign":"assign"," ")}}var Tg=[[["","actions",""]],[["","main",""]],[["","info",""]]],Dg=["[actions]","[main]","[info]"],Bg=()=>({autofocus:!0});function Pg(i,e){if(i&1&&(S(0,"cx-table",7),c(1,"async")),i&2){let o=f().ngIf,t=f().ngIf,n=f();a("structure",t)("data",o.values)("i18nRoot",n.domainType)("currentItem",We(6,Dd,n.key,p(1,4,n.subKey$)))}}function Fg(i,e){if(i&1){let o=fe();u(0,"div",8)(1,"cx-pagination",9),X("viewPageEvent",function(n){le(o);let r=f().ngIf,d=f(2);return de(d.browse(r.pagination,n))}),l()()}if(i&2){let o=f().ngIf;s(),a("pagination",o.pagination)}}function Lg(i,e){if(i&1&&(ue(0),u(1,"section"),x(2,Pg,2,9,"cx-table",5),l(),x(3,Fg,2,1,"div",6),me()),i&2){let o=e.ngIf;f(2);let t=J(7);s(2),a("ngIf",o.values&&o.values.length>0)("ngIfElse",t),s(),a("ngIf",o.pagination&&o.pagination.totalPages!==void 0&&o.pagination.totalPages>1)}}function wg(i,e){if(i&1&&(ue(0,3),x(1,Lg,4,3,"ng-container",4),c(2,"async"),me()),i&2){let o=f();s(),a("ngIf",p(2,1,o.listData$))}}function Mg(i,e){i&1&&(u(0,"p",10),g(1),c(2,"cxTranslate"),l()),i&2&&(s(),y(p(2,1,"organization.messages.emptyList")))}var Og=()=>({focusOnEscape:!0}),Ng=()=>({autofocus:"button.primary"});function Gg(i,e){if(i&1&&(u(0,"p",7),g(1),c(2,"cxTranslate"),l()),i&2){let o=f();s(),_(" ",p(2,1,o.messageTitle)," ")}}function kg(i,e){if(i&1&&S(0,"cx-icon",8),i&2){let o=f();a("type",o.messageIcon)}}function jg(i,e){if(i&1){let o=fe();u(0,"button",1),c(1,"async"),X("click",function(){let n=le(o).ngIf,r=f();return de(r.toggle(n))}),g(2),c(3,"cxTranslate"),l()}if(i&2){let o=e.ngIf,t=f();a("disabled",t.isDisabled(o)||p(1,2,t.isInEditMode$)&&o.active&&t.disabled!==!0),s(2),_(" ",p(3,4,"organization."+(o.active?"disable":"enable")),`
`)}}function $g(i,e){if(i&1){let o=fe();u(0,"button",1),c(1,"async"),X("click",function(){let n=le(o).ngIf,r=f();return de(r.delete(n))}),g(2),c(3,"cxTranslate"),l()}if(i&2){let o=f();a("disabled",p(1,2,o.isInEditMode$)),s(2),_(" ",p(3,4,"organization.delete"),`
`)}}var Vg=["*"];function zg(i,e){if(i&1&&(u(0,"li"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f(3);s(),_(" ",p(2,1,o.i18nRoot+".info.disabledEnable")," ")}}function qg(i,e){if(i&1&&(u(0,"li"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f(3);s(),_(" ",p(2,1,o.i18nRoot+".info.disabledCreate")," ")}}function Kg(i,e){if(i&1&&(u(0,"li"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f(3);s(),_(" ",p(2,1,o.i18nRoot+".info.disabledEdit")," ")}}function Hg(i,e){if(i&1&&(u(0,"li"),g(1),c(2,"cxTranslate"),l()),i&2){let o=f(3);s(),_(" ",p(2,1,o.i18nRoot+".info.disabledDisable")," ")}}function Zg(i,e){if(i&1&&(u(0,"section"),S(1,"cx-icon",1),u(2,"ul"),x(3,zg,3,3,"li",0)(4,qg,3,3,"li",0)(5,Kg,3,3,"li",0)(6,Hg,3,3,"li",0),xt(7),l()()),i&2){let o=f().ngIf,t=f();s(),a("type",t.iconTypes.INFO),s(2),a("ngIf",t.displayDisabledEnable(o)),s(),a("ngIf",t.displayDisabledCreate(o)),s(),a("ngIf",t.displayDisabledEdit(o)),s(),a("ngIf",t.displayDisabledDisable(o))}}function Yg(i,e){if(i&1&&(ue(0),x(1,Zg,8,5,"section",0),me()),i&2){let o=e.ngIf,t=f();s(),a("ngIf",t.displayDisabledCreate(o)||t.displayDisabledEdit(o)||t.displayDisabledEnable(o)||t.displayDisabledDisable(o)||t.displayCustomInfo)}}function Qg(i,e){i&1&&pt(0)}function Wg(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,Qg,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabIndex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function Xg(i,e){if(i&1&&(u(0,"span",4),g(1),l()),i&2){let o=f();ie("title",o.property),s(),y(o.property)}}function Jg(i,e){i&1&&pt(0)}function ef(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,Jg,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabIndex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function tf(i,e){if(i&1&&(u(0,"span",4),g(1),l()),i&2){let o=f();ie("title",o.property),s(),y(o.property)}}function nf(i,e){i&1&&pt(0)}function rf(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,nf,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabindex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function of(i,e){if(i&1&&(u(0,"span",5),c(1,"cxDate"),c(2,"cxDate"),g(3),c(4,"cxDate"),c(5,"cxDate"),l()),i&2){let o=f(2);Er("title","",p(1,5,o.model.startDate)," - ",p(2,7,o.model.endDate),""),s(3),$t(" ",p(4,9,o.model.startDate)," - ",p(5,11,o.model.endDate)," ")}}function sf(i,e){if(i&1&&x(0,of,6,13,"span",4),i&2){let o=f();a("ngIf",o.hasRange)}}function af(i,e){i&1&&pt(0)}function cf(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,af,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabindex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function pf(i,e){if(i&1&&(u(0,"span",5),c(1,"cxTranslate"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f(2);Ic("title","",o.model.threshold," ",o.model.currency==null?null:o.model.currency.symbol," ",p(1,7,"orgPurchaseLimit.per."+o.model.periodRange),""),s(2),yc(" ",o.model.threshold," ",o.model.currency==null?null:o.model.currency.symbol," ",p(3,9,"orgPurchaseLimit.per."+o.model.periodRange)," ")}}function lf(i,e){if(i&1&&(u(0,"span",5),g(1),l()),i&2){let o=f(2);Er("title","",o.model.threshold," ",o.model.currency==null?null:o.model.currency.symbol,""),s(),$t(" ",o.model.threshold," ",o.model.currency==null?null:o.model.currency.symbol," ")}}function df(i,e){if(i&1&&(u(0,"span",5),g(1),l()),i&2){let o=f(2);ie("title",o.model.orderApprovalPermissionType.name),s(),_(" ",o.model.orderApprovalPermissionType.name," ")}}function uf(i,e){if(i&1&&x(0,pf,4,11,"span",4)(1,lf,2,5,"span",4)(2,df,2,2,"span",4),i&2){let o=f();a("ngIf",o.isTimeSpanThreshold),s(),a("ngIf",o.isOrderThreshold),s(),a("ngIf",o.isExceedPermission)}}function mf(i,e){i&1&&pt(0)}function gf(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,mf,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabindex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function ff(i,e){if(i&1&&(S(0,"li",7),c(1,"cxTranslate")),i&2){let o=e.$implicit;a("innerText",p(1,1,"organization.userRoles."+o))}}function hf(i,e){i&1&&(u(0,"li"),g(1,"-"),l())}function vf(i,e){if(i&1&&(u(0,"ul",4),x(1,ff,2,3,"li",5)(2,hf,2,0,"li",6),l()),i&2){let o=f();s(),a("ngForOf",o.model.roles),s(),a("ngIf",(o.model.roles==null?null:o.model.roles.length)===0)}}function xf(i,e){i&1&&pt(0)}function Sf(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,xf,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabindex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function _f(i,e){if(i&1&&(u(0,"span",5),c(1,"cxTranslate"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f(2);xe("is-active",o.isActive),ie("title",p(1,4,o.label)),s(2),_(" ",p(3,6,o.label),"")}}function Ef(i,e){if(i&1&&x(0,_f,4,8,"span",4),i&2){let o=f();a("ngIf",o.label)}}function If(i,e){i&1&&pt(0)}function yf(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),x(2,If,1,0,"ng-container",3),l()),i&2){let o=f(),t=J(2);a("routerLink",p(1,3,We(5,Rt,o.route,o.routeModel)))("tabIndex",o.tabIndex),s(2),a("ngTemplateOutlet",t)}}function Cf(i,e){if(i&1&&(u(0,"span",4),g(1),l()),i&2){let o=f();ie("title",o.property),s(),y(o.property)}}var Vi=()=>({placement:"auto",class:"my-company-popover",appendToBody:!0,displayCloseButton:!0}),Uf=i=>({cxRoute:"orgCostCenterDetails",params:i}),Xe=i=>({cxRoute:"orgUnitDetails",params:i});function bf(i,e){if(i&1&&(u(0,"div",3)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"a",4),c(5,"cxUrl"),g(6),l()()),i&2){let o=f(2);s(2),y(p(3,3,"orgCostCenter.unit")),s(2),a("routerLink",p(5,5,A(7,Xe,o.model.unit))),s(2),_(" ",o.model.unit==null?null:o.model.unit.name," ")}}function Af(i,e){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",4),c(6,"cxUrl"),g(7),l()(),u(8,"div",3)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",5),g(13),l()(),u(14,"div",3)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"span",5),g(19),c(20,"cxTranslate"),l()(),u(21,"div",3)(22,"label"),g(23),c(24,"cxTranslate"),l(),u(25,"span",5),g(26),l()(),x(27,bf,7,9,"div",6),l()),i&2){let o=f();s(3),y(p(4,14,"orgCostCenter.name")),s(2),a("routerLink",p(6,16,A(26,Uf,o.model))),s(2),_(" ",o.model.name," "),s(3),y(p(11,18,"orgCostCenter.code")),s(3),_(" ",o.model.code," "),s(3),y(p(17,20,"orgCostCenter.active")),s(2),xe("is-active",o.model.active)("is-inactive",!o.model.active),s(),_(" ",p(20,22,o.model.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(24,24,"orgCostCenter.currency")),s(3),_(" ",o.model.currency==null?null:o.model.currency.isocode," "),s(),a("ngIf",o.model.unit)}}var Ci=i=>({refreshFocus:i}),Rf=i=>({cxRoute:"orgBudgetEdit",params:i}),Tf=i=>({cxRoute:"orgBudgetCostCenters",params:i});function Df(i,e){if(i&1&&(u(0,"a",11),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f().ngIf;a("routerLink",p(1,2,A(6,Tf,o))),s(2),_(" ",p(3,4,"orgBudget.links.costCenters")," ")}}function Bf(i,e){if(i&1&&(u(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),g(4),c(5,"cxTranslate"),l(),S(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),u(8,"section",5)(9,"div",6)(10,"label"),g(11),c(12,"cxTranslate"),l(),u(13,"span",7),g(14),l()(),u(15,"div",6)(16,"label"),g(17),c(18,"cxTranslate"),l(),u(19,"span",7),g(20),l()(),u(21,"div",6)(22,"label"),g(23),c(24,"cxTranslate"),l(),u(25,"span",7),g(26),c(27,"cxDate"),l()(),u(28,"div",6)(29,"label"),g(30),c(31,"cxTranslate"),l(),u(32,"span",7),g(33),c(34,"cxDate"),l()(),u(35,"div",6)(36,"label"),g(37),c(38,"cxTranslate"),l(),u(39,"span",7),g(40),c(41,"cxTranslate"),l()(),u(42,"div",6)(43,"label"),g(44),c(45,"cxTranslate"),l(),u(46,"span",7),g(47),l()(),u(48,"div",6)(49,"label"),g(50),c(51,"cxTranslate"),l(),u(52,"a",8),c(53,"cxUrl"),g(54),l()()(),u(55,"section",9),x(56,Df,4,8,"a",10),l()()),i&2){let o=e.ngIf,t=f();a("cxFocus",A(52,Ci,o)),s(),xe("disabled",!o.active||p(2,24,t.isInEditMode$)),a("routerLink",p(3,26,A(54,Rf,o))),s(3),_(" ",p(5,28,"organization.edit")," "),s(7),y(p(12,30,"orgBudget.name")),s(3),_(" ",o.name," "),s(3),y(p(18,32,"orgBudget.code")),s(3),_(" ",o.code," "),s(3),y(p(24,34,"orgBudget.startDate")),s(3),_(" ",p(27,36,o.startDate)," "),s(4),y(p(31,38,"orgBudget.endDate")),s(3),_(" ",p(34,40,o.endDate)," "),s(4),y(p(38,42,"orgBudget.active")),s(2),xe("is-active",o.active),s(),_(" ",p(41,44,o.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(45,46,"orgBudget.amount")),s(3),$t(" ",o.budget," ",o.currency==null?null:o.currency.isocode," "),s(3),y(p(51,48,"orgBudget.unit")),s(2),a("routerLink",p(53,50,A(56,Xe,o.orgUnit))),s(2),_(" ",o.orgUnit==null?null:o.orgUnit.name," "),s(2),a("ngIf",o.code)}}var Ze=()=>({required:"true"}),ee=i=>({label:i});function Pf(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgBudget.name")))("control",o.form.get("name"))}}function Ff(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("name"))}}function Lf(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgBudget.code")))("control",o.form.get("code"))}}function wf(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("code"))}}function Mf(i,e){if(i&1){let o=fe();u(0,"cx-date-picker",18),X("update",function(){let n;le(o);let r=f(2);return de((n=r.form.get("startDate"))==null?null:n.updateValueAndValidity())}),l()}if(i&2){let o,t=f(2);a("control",t.form.get("endDate"))("min",(o=t.form.get("startDate"))==null?null:o.value)("required",!0)}}function Of(i,e){if(i&1){let o=fe();u(0,"cx-date-picker",19),X("update",function(){let n;le(o);let r=f(2);return de((n=r.form.get("startDate"))==null?null:n.updateValueAndValidity())}),l()}if(i&2){let o,t=f(2);a("control",t.form.get("endDate"))("min",(o=t.form.get("startDate"))==null?null:o.value)("required",!0)}}function Nf(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgBudget.currency")))("control",o.form.get("currency.isocode"))}}function Gf(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("currency.isocode"))}}function kf(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgBudget.amount")))("control",o.form.get("budget"))}}function jf(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("budget"))}}function $f(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgBudget.businessUnits")))("control",o.form.get("orgUnit.uid"))}}function Vf(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(3);a("control",o.form.get("orgUnit.uid"))}}function zf(i,e){if(i&1&&(u(0,"label",12)(1,"span",3),g(2),c(3,"cxTranslate"),l(),S(4,"ng-select",20),c(5,"cxTranslate"),x(6,$f,2,6,"cx-form-errors",5)(7,Vf,1,1,"cx-form-errors",6),l()),i&2){let o,t=e.ngIf,n=f(2);a("formGroup",n.form.get("orgUnit")),s(2),y(p(3,10,"orgBudget.businessUnits")),s(2),a("inputAttrs",se(14,Ze))("searchable",!0)("clearable",!1)("items",t)("readonly",(o=(o=n.form.get("orgUnit.uid"))==null?null:o.disabled)!==null&&o!==void 0?o:!1)("placeholder",p(5,12,"orgBudget.businessUnits")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function qf(i,e){if(i&1){let o=fe();ue(0,2),u(1,"label")(2,"span",3),g(3),c(4,"cxTranslate"),l(),u(5,"input",4),c(6,"cxTranslate"),X("blur",function(){le(o);let n=f();return de(n.createCodeWithName(n.form.get("name"),n.form.get("code")))}),l(),x(7,Pf,2,6,"cx-form-errors",5)(8,Ff,1,1,"cx-form-errors",6),l(),u(9,"label")(10,"span",3),g(11),c(12,"cxTranslate"),l(),S(13,"input",7),c(14,"cxTranslate"),x(15,Lf,2,6,"cx-form-errors",5)(16,wf,1,1,"cx-form-errors",6),l(),u(17,"label")(18,"span",8),g(19),c(20,"cxTranslate"),l(),u(21,"cx-date-picker",9),X("update",function(){let n;le(o);let r=f();return de((n=r.form.get("endDate"))==null?null:n.updateValueAndValidity())}),l()(),u(22,"label")(23,"span",8),g(24),c(25,"cxTranslate"),l(),x(26,Mf,1,3,"cx-date-picker",10)(27,Of,1,3,"cx-date-picker",11),l(),u(28,"label",12)(29,"span",3),g(30),c(31,"cxTranslate"),l(),S(32,"ng-select",13),c(33,"async"),c(34,"cxTranslate"),x(35,Nf,2,6,"cx-form-errors",5)(36,Gf,1,1,"cx-form-errors",6),l(),u(37,"label")(38,"span",8),g(39),c(40,"cxTranslate"),l(),S(41,"input",14),c(42,"cxTranslate"),x(43,kf,2,6,"cx-form-errors",5)(44,jf,1,1,"cx-form-errors",6),l(),x(45,zf,8,15,"label",15),c(46,"async"),me()}if(i&2){let o,t,n=f();a("formGroup",n.form),s(3),y(p(4,32,"orgBudget.name")),s(2),ie("placeholder",p(6,34,"orgBudget.name")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(12,36,"orgBudget.code")),s(2),ie("placeholder",p(14,38,"orgBudget.code")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(20,40,"orgBudget.startDate")),s(2),a("control",n.form.get("startDate"))("max",(o=n.form.get("endDate"))==null?null:o.value)("required",!0),s(3),y(p(25,42,"orgBudget.endDate")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("formGroup",n.form.get("currency")),s(2),y(p(31,44,"orgBudget.currency")),s(2),xe("invalid",(t=(t=n.form.get("currency.isocode"))==null?null:t.invalid)!==null&&t!==void 0?t:!1),a("inputAttrs",se(56,Ze))("searchable",!1)("clearable",!1)("items",p(33,46,n.currencies$))("placeholder",p(34,48,"orgBudget.currency")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(40,50,"orgBudget.amount")),s(2),ie("placeholder",p(42,52,"orgBudget.amount")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("ngIf",p(46,54,n.units$))}}var Kf=i=>({cxRoute:"orgBudgetDetails",params:i});function Hf(i,e){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",4),c(6,"cxUrl"),g(7),l()(),u(8,"div",3)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",5),g(13),l()(),u(14,"div",3)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"span",5),g(19),c(20,"cxDate"),l()(),u(21,"div",3)(22,"label"),g(23),c(24,"cxTranslate"),l(),u(25,"span",5),g(26),c(27,"cxDate"),l()(),u(28,"div",3)(29,"label"),g(30),c(31,"cxTranslate"),l(),u(32,"span",5),g(33),c(34,"cxTranslate"),l()(),u(35,"div",3)(36,"label"),g(37),c(38,"cxTranslate"),l(),u(39,"span",5),g(40),l()(),u(41,"div",3)(42,"label"),g(43),c(44,"cxTranslate"),l(),u(45,"a",4),c(46,"cxUrl"),g(47),l()()()),i&2){let o=f();s(3),y(p(4,19,"orgBudget.name")),s(2),a("routerLink",p(6,21,A(43,Kf,o.model))),s(2),_(" ",o.model.name," "),s(3),y(p(11,23,"orgBudget.code")),s(3),_(" ",o.model.code," "),s(3),y(p(17,25,"orgBudget.startDate")),s(3),_(" ",p(20,27,o.model.startDate)," "),s(4),y(p(24,29,"orgBudget.endDate")),s(3),_(" ",p(27,31,o.model.endDate)," "),s(4),y(p(31,33,"orgBudget.active")),s(2),xe("is-active",o.model.active),s(),_(" ",p(34,35,o.model.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(38,37,"orgBudget.amount")),s(3),$t(" ",o.model.budget," ",o.model.currency==null?null:o.model.currency.isocode," "),s(3),y(p(44,39,"orgBudget.unit")),s(2),a("routerLink",p(46,41,A(45,Xe,o.model.orgUnit))),s(2),_(" ",o.model.orgUnit==null?null:o.model.orgUnit.name," ")}}var Zf=i=>({cxRoute:"orgCostCenterEdit",params:i}),Yf=i=>({cxRoute:"orgCostCenterBudgets",params:i});function Qf(i,e){if(i&1&&(u(0,"a",11),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f().ngIf;a("routerLink",p(1,2,A(6,Yf,o))),s(2),_(" ",p(3,4,"orgCostCenter.budget.link")," ")}}function Wf(i,e){if(i&1&&(u(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),g(4),c(5,"cxTranslate"),l(),S(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),u(8,"section",5)(9,"div",6)(10,"label"),g(11),c(12,"cxTranslate"),l(),u(13,"span",7),g(14),l()(),u(15,"div",6)(16,"label"),g(17),c(18,"cxTranslate"),l(),u(19,"span",7),g(20),l()(),u(21,"div",6)(22,"label"),g(23),c(24,"cxTranslate"),l(),u(25,"span",7),g(26),c(27,"cxTranslate"),l()(),u(28,"div",6)(29,"label"),g(30),c(31,"cxTranslate"),l(),u(32,"span",7),g(33),l()(),u(34,"div",6)(35,"label"),g(36),c(37,"cxTranslate"),l(),u(38,"a",8),c(39,"cxUrl"),g(40),l()()(),u(41,"section",9),x(42,Qf,4,8,"a",10),l()()),i&2){let o=e.ngIf,t=f();a("cxFocus",A(41,Ci,o)),s(),xe("disabled",!o.active||p(2,21,t.isInEditMode$)),a("routerLink",p(3,23,A(43,Zf,o))),s(3),_(" ",p(5,25,"organization.edit")," "),s(7),y(p(12,27,"orgCostCenter.name")),s(3),_(" ",o.name," "),s(3),y(p(18,29,"orgCostCenter.code")),s(3),_(" ",o.code," "),s(3),y(p(24,31,"orgCostCenter.active")),s(2),xe("is-active",o.active)("is-inactive",!o.active),s(),_(" ",p(27,33,o.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(31,35,"orgCostCenter.currency")),s(3),_(" ",o.currency==null?null:o.currency.isocode," "),s(3),y(p(37,37,"orgCostCenter.unit")),s(2),a("routerLink",p(39,39,A(45,Xe,o.unit))),s(2),_(" ",o.unit==null?null:o.unit.name," "),s(2),a("ngIf",o.code)}}function Xf(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgCostCenter.name")))("control",o.form.get("name"))}}function Jf(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("name"))}}function eh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgCostCenter.code")))("control",o.form.get("code"))}}function th(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("code"))}}function ih(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgCostCenter.currency")))("control",o.form.get("currency.isocode"))}}function nh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("currency.isocode"))}}function rh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgCostCenter.unit")))("control",o.form.get("unit.uid"))}}function oh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("unit.uid"))}}function sh(i,e){if(i&1){let o=fe();ue(0,2),u(1,"label")(2,"span",3),g(3),c(4,"cxTranslate"),l(),u(5,"input",4),c(6,"cxTranslate"),X("blur",function(){le(o);let n=f();return de(n.createCodeWithName(n.form.get("name"),n.form.get("code")))}),l(),x(7,Xf,2,6,"cx-form-errors",5)(8,Jf,1,1,"cx-form-errors",6),l(),u(9,"label")(10,"span",3),g(11),c(12,"cxTranslate"),l(),S(13,"input",7),c(14,"cxTranslate"),x(15,eh,2,6,"cx-form-errors",5)(16,th,1,1,"cx-form-errors",6),l(),u(17,"label",8)(18,"span",3),g(19),c(20,"cxTranslate"),l(),S(21,"ng-select",9),c(22,"async"),c(23,"cxTranslate"),x(24,ih,2,6,"cx-form-errors",5)(25,nh,1,1,"cx-form-errors",6),l(),u(26,"label",10)(27,"span",3),g(28),c(29,"cxTranslate"),l(),S(30,"ng-select",11),c(31,"async"),c(32,"cxTranslate"),x(33,rh,2,6,"cx-form-errors",5)(34,oh,1,1,"cx-form-errors",6),l(),me()}if(i&2){let o,t,n,r=f();a("formGroup",r.form),s(3),y(p(4,29,"orgCostCenter.name")),s(2),ie("placeholder",p(6,31,"orgCostCenter.name")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(12,33,"orgCostCenter.code")),s(2),ie("placeholder",p(14,35,"orgCostCenter.code")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(20,37,"orgCostCenter.currency")),s(2),xe("invalid",(o=(o=r.form.get("currency.isocode"))==null?null:o.invalid)!==null&&o!==void 0?o:!1),a("inputAttrs",se(49,Ze))("searchable",!1)("clearable",!1)("items",p(22,39,r.currencies$))("placeholder",p(23,41,"orgCostCenter.currency")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("formGroup",r.form.get("unit")),s(2),y(p(29,43,"orgCostCenter.unit")),s(2),a("inputAttrs",se(50,Ze))("searchable",!0)("clearable",!1)("items",(t=p(31,45,r.units$))!==null&&t!==void 0?t:null)("readonly",(n=(n=r.form.get("unit.uid"))==null?null:n.disabled)!==null&&n!==void 0?n:!1)("placeholder",p(32,47,"orgCostCenter.unit")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}var ah=i=>({cxRoute:"orgPurchaseLimitEdit",params:i}),ch=()=>({disabledEnable:!1});function ph(i,e){if(i&1&&(u(0,"div",6)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",7),g(5),l()()),i&2){let o=f().ngIf;s(2),y(p(3,3,"orgPurchaseLimit.threshold")),s(3),$t(" ",o.threshold," ",o.currency==null?null:o.currency.symbol," ")}}function lh(i,e){if(i&1&&(u(0,"div",6)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",7),g(5),l()()),i&2){let o=f().ngIf;s(2),y(p(3,2,"orgPurchaseLimit.periodRange")),s(3),_(" ",o.periodRange," ")}}function dh(i,e){if(i&1&&(u(0,"a",10),c(1,"cxUrl"),g(2),l()),i&2){let o=f().ngIf;a("routerLink",p(1,2,A(4,Xe,o.orgUnit))),s(2),_(" ",o.orgUnit==null?null:o.orgUnit.name," ")}}function uh(i,e){if(i&1&&(u(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),g(4),c(5,"cxTranslate"),l(),S(6,"cx-org-toggle-status",3)(7,"cx-org-disable-info",4),u(8,"section",5)(9,"div",6)(10,"label"),g(11),c(12,"cxTranslate"),l(),u(13,"span",7),g(14),l()(),u(15,"div",6)(16,"label"),g(17),c(18,"cxTranslate"),l(),u(19,"span",7),g(20),c(21,"cxTranslate"),l()(),u(22,"div",6)(23,"label"),g(24),c(25,"cxTranslate"),l(),u(26,"span",7),g(27),l()(),x(28,ph,6,5,"div",8)(29,lh,6,4,"div",8),u(30,"div",6)(31,"label"),g(32),c(33,"cxTranslate"),l(),x(34,dh,3,6,"a",9),l()()()),i&2){let o=e.ngIf,t=f();a("cxFocus",A(35,Ci,o)),s(),xe("disabled",!o.active||p(2,19,t.isInEditMode$)),a("routerLink",p(3,21,A(37,ah,o))),s(3),_(" ",p(5,23,"organization.edit")," "),s(2),a("disabled",!1),s(),a("displayInfoConfig",se(39,ch)),s(4),y(p(12,25,"orgPurchaseLimit.code")),s(3),_(" ",o.code," "),s(3),y(p(18,27,"orgPurchaseLimit.active")),s(2),xe("is-active",o.active),s(),_(" ",p(21,29,o.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(25,31,"orgPurchaseLimit.orderApprovalPermissionType")),s(3),_(" ",o.orderApprovalPermissionType==null?null:o.orderApprovalPermissionType.name," "),s(),a("ngIf",o.threshold||o.threshold===0),s(),a("ngIf",o.periodRange),s(3),y(p(33,33,"orgPurchaseLimit.unit")),s(2),a("ngIf",o.code)}}function mh(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.code")))("control",o.form.get("code"))}}function gh(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(2);a("control",o.form.get("code"))}}function fh(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.orderApprovalPermissionType")))("control",o.form.get("orderApprovalPermissionType.code"))}}function hh(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(3);a("control",o.form.get("orderApprovalPermissionType.code"))}}function vh(i,e){if(i&1&&(u(0,"label",9)(1,"span",3),g(2),c(3,"cxTranslate"),l(),S(4,"ng-select",13),c(5,"async"),c(6,"cxTranslate"),x(7,fh,2,6,"cx-form-errors",5)(8,hh,1,1,"cx-form-errors",6),l()),i&2){let o,t=f(2);a("formGroup",t.form.get("orderApprovalPermissionType")),s(2),y(p(3,10,"orgPurchaseLimit.orderApprovalPermissionType")),s(2),a("inputAttrs",se(16,Ze))("searchable",!1)("clearable",!1)("items",(o=p(5,12,t.types$))!==null&&o!==void 0?o:null)("readonly",t.form.disabled)("placeholder",p(6,14,"orgPurchaseLimit.orderApprovalPermissionType")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function xh(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.periodRange")))("control",o.form.get("periodRange"))}}function Sh(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(3);a("control",o.form.get("periodRange"))}}function _h(i,e){if(i&1&&(u(0,"label")(1,"span",3),g(2),c(3,"cxTranslate"),l(),S(4,"ng-select",14),c(5,"cxTranslate"),x(6,xh,2,6,"cx-form-errors",5)(7,Sh,1,1,"cx-form-errors",6),l()),i&2){let o=f(2);s(2),y(p(3,8,"orgPurchaseLimit.periodRange")),s(2),a("inputAttrs",se(12,Ze))("searchable",!1)("clearable",!1)("items",o.periods)("placeholder",p(5,10,"orgPurchaseLimit.periodRange")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function Eh(i,e){if(i&1&&(S(0,"ng-select",16),c(1,"cxTranslate")),i&2){let o=e.ngIf;a("inputAttrs",se(7,Ze))("searchable",!1)("clearable",!1)("items",o)("placeholder",p(1,5,"orgPurchaseLimit.currency"))}}function Ih(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.currency")))("control",o.form.get("currency.isocode"))}}function yh(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(3);a("control",o.form.get("currency.isocode"))}}function Ch(i,e){if(i&1&&(u(0,"label",9)(1,"span",3),g(2),c(3,"cxTranslate"),l(),x(4,Eh,2,8,"ng-select",15),c(5,"async"),x(6,Ih,2,6,"cx-form-errors",5)(7,yh,1,1,"cx-form-errors",6),l()),i&2){let o=f(2);a("formGroup",o.form.get("currency")),s(2),y(p(3,5,"orgPurchaseLimit.currency")),s(2),a("ngIf",p(5,7,o.currencies$)),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function Uh(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.threshold")))("control",o.form.get("threshold"))}}function bh(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(3);a("control",o.form.get("threshold"))}}function Ah(i,e){i&1&&(u(0,"label")(1,"span",3),g(2),c(3,"cxTranslate"),l(),S(4,"input",17),c(5,"cxTranslate"),x(6,Uh,2,6,"cx-form-errors",5)(7,bh,1,1,"cx-form-errors",6),l()),i&2&&(s(2),y(p(3,4,"orgPurchaseLimit.threshold")),s(2),ie("placeholder",p(5,6,"orgPurchaseLimit.threshold")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"))}function Rh(i,e){if(i&1&&(S(0,"cx-form-errors",11),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgPurchaseLimit.orgUnit")))("control",o.form.get("orgUnit.uid"))}}function Th(i,e){if(i&1&&S(0,"cx-form-errors",12),i&2){let o=f(2);a("control",o.form.get("orgUnit.uid"))}}function Dh(i,e){if(i&1&&(ue(0,2),u(1,"label")(2,"span",3),g(3),c(4,"cxTranslate"),l(),S(5,"input",4),c(6,"cxTranslate"),x(7,mh,2,6,"cx-form-errors",5)(8,gh,1,1,"cx-form-errors",6),l(),x(9,vh,9,17,"label",7),c(10,"async"),x(11,_h,8,13,"label",8)(12,Ch,8,9,"label",7)(13,Ah,8,8,"label",8),u(14,"label",9)(15,"span",3),g(16),c(17,"cxTranslate"),l(),S(18,"ng-select",10),c(19,"async"),c(20,"cxTranslate"),x(21,Rh,2,6,"cx-form-errors",5)(22,Th,1,1,"cx-form-errors",6),l(),me()),i&2){let o,t,n,r=f();a("formGroup",r.form),s(3),y(p(4,19,"orgPurchaseLimit.code")),s(2),ie("placeholder",p(6,21,"orgPurchaseLimit.code")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("ngIf",(o=p(10,23,r.types$))==null?null:o.length),s(2),a("ngIf",r.form.get("periodRange")),s(),a("ngIf",r.form.get("currency")),s(),a("ngIf",r.form.get("threshold")),s(),a("formGroup",r.form.get("orgUnit")),s(2),y(p(17,25,"orgPurchaseLimit.orgUnit")),s(2),a("inputAttrs",se(31,Ze))("searchable",!0)("clearable",!1)("items",(t=p(19,27,r.units$))!==null&&t!==void 0?t:null)("readonly",(n=(n=r.form.get("orgUnit"))==null?null:n.disabled)!==null&&n!==void 0?n:!1)("placeholder",p(20,29,"orgPurchaseLimit.orgUnit")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}var Bh=()=>({disabledDisable:!0}),Ph=i=>({cxRoute:"orgUnitEdit",params:i}),Fh=i=>({cxRoute:"orgUnitUserList",params:i}),Lh=i=>({cxRoute:"orgUnitApprovers",params:i}),wh=i=>({cxRoute:"orgUnitAddressList",params:i}),Mh=i=>({cxRoute:"orgUnitCostCenters",params:i}),Oh=i=>({cxRoute:"orgUnitChildren",params:i});function Nh(i,e){if(i&1&&(u(0,"a",11),c(1,"async"),c(2,"cxUrl"),g(3),c(4,"cxTranslate"),l()),i&2){let o=f().ngIf,t=f();xe("disabled",!o.active||p(1,4,t.isInEditMode$)),a("routerLink",p(2,6,A(10,Ph,o))),s(3),_(" ",p(4,8,"organization.edit")," ")}}function Gh(i,e){i&1&&S(0,"cx-org-toggle-status",12)}function kh(i,e){if(i&1&&(u(0,"div",6)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",7),g(5),l()()),i&2){let o=f().ngIf;s(2),y(p(3,2,"orgUnit.approvalProcess")),s(3),_(" ",o.approvalProcess==null?null:o.approvalProcess.name," ")}}function jh(i,e){if(i&1&&(u(0,"div",6)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"a",13),c(5,"cxUrl"),g(6),l()()),i&2){let o=f().ngIf;s(2),y(p(3,3,"orgUnit.parentUnit")),s(2),a("routerLink",p(5,5,A(7,Xe,o.parentOrgUnit))),s(2),_(" ",o.parentOrgUnit==null?null:o.parentOrgUnit.name," ")}}function $h(i,e){if(i&1&&(u(0,"a",15),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f(2).ngIf;a("routerLink",p(1,2,A(6,Oh,o))),s(2),_(" ",p(3,4,"orgUnit.links.units")," ")}}function Vh(i,e){if(i&1&&(ue(0),x(1,$h,4,8,"a",14),u(2,"a",15),c(3,"cxUrl"),g(4),c(5,"cxTranslate"),l(),u(6,"a",15),c(7,"cxUrl"),g(8),c(9,"cxTranslate"),l(),u(10,"a",15),c(11,"cxUrl"),g(12),c(13,"cxTranslate"),l(),u(14,"a",15),c(15,"cxUrl"),g(16),c(17,"cxTranslate"),l(),me()),i&2){let o=f().ngIf,t=f();s(),a("ngIf",t.isUpdatingUnitAllowed),s(),a("routerLink",p(3,9,A(25,Fh,o))),s(2),_(" ",p(5,11,"orgUnit.links.users")," "),s(2),a("routerLink",p(7,13,A(27,Lh,o))),s(2),_(" ",p(9,15,"orgUnit.links.approvers")," "),s(2),a("routerLink",p(11,17,A(29,wh,o))),s(2),_(" ",p(13,19,"orgUnit.links.shippingAddresses")," "),s(2),a("routerLink",p(15,21,A(31,Mh,o))),s(2),_(" ",p(17,23,"orgUnit.links.costCenters")," ")}}function zh(i,e){if(i&1&&(u(0,"cx-org-card",1),x(1,Nh,5,12,"a",2)(2,Gh,1,0,"cx-org-toggle-status",3),S(3,"cx-org-disable-info",4),u(4,"section",5)(5,"div",6)(6,"label"),g(7),c(8,"cxTranslate"),l(),u(9,"span",7),g(10),l()(),u(11,"div",6)(12,"label"),g(13),c(14,"cxTranslate"),l(),u(15,"span",7),g(16),l()(),u(17,"div",6)(18,"label"),g(19),c(20,"cxTranslate"),l(),u(21,"span",7),g(22),c(23,"cxTranslate"),l()(),x(24,kh,6,4,"div",8)(25,jh,7,9,"div",8),l(),u(26,"section",9),x(27,Vh,18,33,"ng-container",10),l()()),i&2){let o=e.ngIf,t=f();a("cxFocus",A(24,Ci,o))("showHint",!0),s(),a("ngIf",t.isUpdatingUnitAllowed),s(),a("ngIf",t.isUpdatingUnitAllowed),s(),a("displayInfoConfig",se(26,Bh)),s(4),y(p(8,16,"orgUnit.name")),s(3),_(" ",o.name," "),s(3),y(p(14,18,"orgUnit.uid")),s(3),_(" ",o.uid," "),s(3),y(p(20,20,"orgUnit.active")),s(2),xe("is-active",o.active),s(),_(" ",p(23,22,o.active?"organization.enabled":"organization.disabled")," "),s(2),a("ngIf",o.approvalProcess==null?null:o.approvalProcess.name),s(),a("ngIf",o.parentOrgUnit),s(2),a("ngIf",o.uid)}}function qh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnit.name")))("control",o.form.get("name"))}}function Kh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("name"))}}function Hh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnit.uid")))("control",o.form.get("uid"))}}function Zh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("uid"))}}function Yh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnit.approvalProcess")))("control",o.form.get("approvalProcess.code"))}}function Qh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(2);a("control",o.form.get("approvalProcess.code"))}}function Wh(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f(3);a("translationParams",A(4,ee,p(1,2,"orgUnit.form.parentOrgUnit")))("control",o.form.get("parentOrgUnit.uid"))}}function Xh(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f(3);a("control",o.form.get("parentOrgUnit.uid"))}}function Jh(i,e){if(i&1&&(ue(0),u(1,"label",14)(2,"span",4),g(3),c(4,"cxTranslate"),l(),S(5,"ng-select",15),c(6,"async"),c(7,"cxTranslate"),x(8,Wh,2,6,"cx-form-errors",6)(9,Xh,1,1,"cx-form-errors",7),l(),me()),i&2){let o,t=f(2);s(3),y(p(4,8,"orgUnit.form.parentOrgUnit")),s(2),a("inputAttrs",se(14,Ze))("searchable",!0)("clearable",!1)("items",(o=p(6,10,t.units$))!==null&&o!==void 0?o:null)("placeholder",p(7,12,"orgUnit.form.parentOrgUnit")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function ev(i,e){i&1&&(u(0,"span",16),g(1),c(2,"cxTranslate"),l()),i&2&&(s(),y(p(2,1,"orgUnit.form.parentOrgUnitNotes")))}function tv(i,e){if(i&1){let o=fe();ue(0,3),u(1,"label")(2,"span",4),g(3),c(4,"cxTranslate"),l(),u(5,"input",5),c(6,"cxTranslate"),X("blur",function(){le(o);let n=f();return de(n.createUidWithName(n.form.get("name"),n.form.get("uid")))}),l(),x(7,qh,2,6,"cx-form-errors",6)(8,Kh,1,1,"cx-form-errors",7),l(),u(9,"label")(10,"span",4),g(11),c(12,"cxTranslate"),l(),S(13,"input",8),c(14,"cxTranslate"),x(15,Hh,2,6,"cx-form-errors",6)(16,Zh,1,1,"cx-form-errors",7),l(),u(17,"label",9)(18,"span",4),g(19),c(20,"cxTranslate"),l(),S(21,"ng-select",10),c(22,"async"),c(23,"cxTranslate"),x(24,Yh,2,6,"cx-form-errors",6)(25,Qh,1,1,"cx-form-errors",7),l(),x(26,Jh,10,15,"ng-container",11)(27,ev,3,3,"ng-template",null,0,_e),me()}if(i&2){let o=J(28),t=f();a("formGroup",t.form),s(3),y(p(4,18,"orgUnit.name")),s(2),ie("placeholder",p(6,20,"orgUnit.name")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(12,22,"orgUnit.uid")),s(2),ie("placeholder",p(14,24,"orgUnit.uid")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(20,26,"orgUnit.approvalProcess")),s(2),a("inputAttrs",se(32,Ze))("searchable",!1)("items",p(22,28,t.approvalProcess$))("placeholder",p(23,30,"orgUnit.approvalProcess")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("ngIf",t.form.get("parentOrgUnit"))("ngIfElse",o)}}function iv(i,e){if(i&1&&(u(0,"cx-org-card",2),c(1,"cxTranslate"),u(2,"a",3),g(3),c(4,"cxTranslate"),l(),S(5,"cx-org-delete-item",4),u(6,"section",5)(7,"div",6)(8,"label"),g(9),c(10,"cxTranslate"),l(),u(11,"span",7),g(12),l()(),u(13,"div",6)(14,"label"),g(15),c(16,"cxTranslate"),l(),u(17,"span",7)(18,"a",8),c(19,"cxUrl"),g(20),l()()(),u(21,"div",9)(22,"label"),g(23),c(24,"cxTranslate"),l(),u(25,"span",7),g(26),l()(),u(27,"div",6)(28,"label"),g(29),c(30,"cxTranslate"),l(),u(31,"span",7),g(32),c(33,"async"),l()()()()),i&2){let o,t=e.ngIf,n=f().ngIf,r=f();a("subtitle",Bt(1,14,"orgUnitAddress.details.subtitle",A(31,fn,n)))("cxFocus",A(33,Ci,t)),s(3),_(" ",p(4,17,"organization.edit")," "),s(2),a("additionalParam",n.uid),s(4),y(p(10,19,"orgUnit.name")),s(3),$t(" ",t.firstName," ",t.lastName," "),s(3),y(p(16,21,"orgUnit.unit")),s(3),a("routerLink",p(19,23,A(35,Xe,n))),s(2),_(" ",n.name," "),s(3),y(p(24,25,"orgUnitAddress.formattedAddress")),s(3),_(" ",t.formattedAddress," "),s(3),y(p(30,27,"orgUnitAddress.country")),s(3),_(" ",(o=p(33,29,r.getCountry(t.country==null?null:t.country.isocode)))==null?null:o.name," ")}}function nv(i,e){if(i&1&&(ue(0),x(1,iv,34,37,"cx-org-card",1),c(2,"async"),me()),i&2){let o=f();s(),a("ngIf",p(2,1,o.model$))}}function rv(i,e){i&1&&pt(0)}function ov(i,e){if(i&1&&(u(0,"a",3),c(1,"cxUrl"),x(2,rv,1,0,"ng-container",4),l()),i&2){let o=f().ngIf,t=f(),n=J(3);a("routerLink",p(1,3,We(5,Rt,t.route,t.getRouterModel(o))))("tabIndex",t.tabIndex),s(2),a("ngTemplateOutlet",n)}}function sv(i,e){if(i&1&&(ue(0),x(1,ov,3,8,"a",2),me()),i&2){let o=f(),t=J(3);s(),a("ngIf",o.linkable)("ngIfElse",t)}}function av(i,e){if(i&1&&(u(0,"span",5),g(1),l()),i&2){let o=f();ie("title",o.property),s(),y(o.property)}}function cv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.country")))("control",o.form.get("country.isocode"))}}function pv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("country.isocode"))}}function lv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.firstName")))("control",o.form.get("firstName"))}}function dv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("firstName"))}}function uv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.lastName")))("control",o.form.get("lastName"))}}function mv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("lastName"))}}function gv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.address1")))("control",o.form.get("line1"))}}function fv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("line1"))}}function hv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.city")))("control",o.form.get("town"))}}function vv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("town"))}}function xv(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.zipCode")))("control",o.form.get("postalCode"))}}function Sv(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(2);a("control",o.form.get("postalCode"))}}function _v(i,e){if(i&1&&(S(0,"cx-form-errors",19),c(1,"cxTranslate")),i&2){let o=f(4);a("translationParams",A(4,ee,p(1,2,"orgUnitAddress.state")))("control",o.form.get("region.isocode"))}}function Ev(i,e){if(i&1&&S(0,"cx-form-errors",20),i&2){let o=f(4);a("control",o.form.get("region.isocode"))}}function Iv(i,e){if(i&1&&(u(0,"label",22)(1,"span",4),g(2),c(3,"cxTranslate"),l(),S(4,"ng-select",23),c(5,"cxTranslate"),x(6,_v,2,6,"cx-form-errors",6)(7,Ev,1,1,"cx-form-errors",7),l()),i&2){let o=f().ngIf;s(2),y(p(3,8,"orgUnitAddress.state")),s(2),ie("placeholder",p(5,10,"orgUnitAddress.selectOne")),a("inputAttrs",se(12,Ze))("searchable",!0)("clearable",!1)("items",o),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}function yv(i,e){if(i&1&&(ue(0),x(1,Iv,8,13,"label",21),me()),i&2){let o=e.ngIf;s(),a("ngIf",o.length>0)}}function Cv(i,e){if(i&1&&(ue(0,2),u(1,"label",3)(2,"span",4),g(3),c(4,"cxTranslate"),l(),S(5,"ng-select",5),c(6,"cxTranslate"),c(7,"async"),x(8,cv,2,6,"cx-form-errors",6)(9,pv,1,1,"cx-form-errors",7),l(),u(10,"label")(11,"span",4),g(12),c(13,"cxTranslate"),l(),S(14,"ng-select",8),c(15,"cxTranslate"),c(16,"async"),l(),u(17,"label")(18,"span",4),g(19),c(20,"cxTranslate"),l(),S(21,"input",9),c(22,"cxTranslate"),x(23,lv,2,6,"cx-form-errors",6)(24,dv,1,1,"cx-form-errors",7),l(),u(25,"label")(26,"span",4),g(27),c(28,"cxTranslate"),l(),S(29,"input",10),c(30,"cxTranslate"),x(31,uv,2,6,"cx-form-errors",6)(32,mv,1,1,"cx-form-errors",7),l(),u(33,"label",11)(34,"span",4),g(35),c(36,"cxTranslate"),l(),S(37,"input",12),c(38,"cxTranslate"),x(39,gv,2,6,"cx-form-errors",6)(40,fv,1,1,"cx-form-errors",7),l(),u(41,"label",11)(42,"span",13),g(43),c(44,"cxTranslate"),l(),S(45,"input",14),c(46,"cxTranslate"),l(),u(47,"label",11)(48,"span",13),g(49),c(50,"cxTranslate"),l(),S(51,"input",15),c(52,"cxTranslate"),l(),u(53,"label")(54,"span",4),g(55),c(56,"cxTranslate"),l(),S(57,"input",16),c(58,"cxTranslate"),x(59,hv,2,6,"cx-form-errors",6)(60,vv,1,1,"cx-form-errors",7),l(),u(61,"label")(62,"span",4),g(63),c(64,"cxTranslate"),l(),S(65,"input",17),c(66,"cxTranslate"),x(67,xv,2,6,"cx-form-errors",6)(68,Sv,1,1,"cx-form-errors",7),l(),S(69,"label"),x(70,yv,2,1,"ng-container",18),c(71,"async"),me()),i&2){let o=f();a("formGroup",o.form),s(3),y(p(4,39,"orgUnitAddress.country")),s(2),ie("placeholder",p(6,41,"orgUnitAddress.selectOne")),a("inputAttrs",se(81,Ze))("searchable",!0)("clearable",!1)("items",p(7,43,o.countries$)),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(13,45,"orgUnitAddress.titles")),s(2),ie("placeholder",p(15,47,"orgUnitAddress.selectOne")),a("searchable",!1)("clearable",!1)("items",p(16,49,o.titles$)),s(5),y(p(20,51,"orgUnitAddress.firstName")),s(2),ie("placeholder",p(22,53,"orgUnitAddress.firstName")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(28,55,"orgUnitAddress.lastName")),s(2),ie("placeholder",p(30,57,"orgUnitAddress.lastName")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(36,59,"orgUnitAddress.address1")),s(2),ie("placeholder",p(38,61,"orgUnitAddress.streetAddress")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(44,63,"orgUnitAddress.address2")),s(2),ie("placeholder",p(46,65,"orgUnitAddress.aptSuite")),s(4),y(p(50,67,"orgUnitAddress.phoneNumber")),s(2),ie("placeholder",p(52,69,"orgUnitAddress.phoneNumber")),s(4),y(p(56,71,"orgUnitAddress.city")),s(2),ie("placeholder",p(58,73,"orgUnitAddress.city")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(64,75,"orgUnitAddress.zipCode")),s(2),ie("placeholder",p(66,77,"orgUnitAddress.zipCode")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(2),a("ngIf",p(71,79,o.regions$))}}var ic=()=>({disabledCreate:!0,disabledEnable:!1,disabledEdit:!1}),Bd=i=>({cxRoute:"orgUnitUserRoles",params:i});function Uv(i,e){if(i&1&&(u(0,"a",2),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=e.ngIf,t=f(2);a("routerLink",p(1,2,A(6,Bd,t.getRouterModel(o)))),s(2),_(" ",p(3,4,"orgUser.links.rolesAndRights")," ")}}function bv(i,e){if(i&1&&(ue(0),x(1,Uv,4,8,"a",1),c(2,"async"),me()),i&2){let o=f();s(),a("ngIf",o.isUpdatingUserAllowed&&o.hasItem&&p(2,1,o.unitKey$))}}function Av(i,e){if(i&1&&(u(0,"a",4),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=e.ngIf,t=f(2);a("routerLink",p(1,2,A(6,Bd,t.getRouterModel(o)))),s(2),_(" ",p(3,4,"orgUser.links.rolesAndRights")," ")}}function Rv(i,e){if(i&1&&(ue(0),x(1,Av,4,8,"a",3),c(2,"async"),me()),i&2){let o=f();s(),a("ngIf",o.isUpdatingUserAllowed&&o.hasItem&&p(2,1,o.unitKey$))}}function Tv(i,e){if(i&1&&(u(0,"a",3),c(1,"async"),g(2),c(3,"cxTranslate"),l()),i&2){let o,t=f();xe("disabled",!((o=p(1,3,t.unit$))!=null&&o.active)),s(2),_(" ",p(3,5,"organization.create")," ")}}function Dv(i,e){if(i&1){let o=fe();u(0,"label",10)(1,"input",11),X("change",function(){le(o);let n=f().ngIf,r=f();return de(r.save(n))}),l(),u(2,"span",12),g(3),c(4,"cxTranslate"),l()()}if(i&2){let o=e.$implicit;s(),a("formControlName",o),s(2),_(" ",p(4,2,"organization.userRoles."+o)," ")}}function Bv(i,e){if(i&1){let o=fe();u(0,"label",10)(1,"input",11),X("change",function(){le(o);let n=f().ngIf,r=f();return de(r.save(n))}),l(),u(2,"span",12),g(3),c(4,"cxTranslate"),l()()}if(i&2){let o=e.$implicit;s(),a("formControlName",o),s(2),_(" ",p(4,2,"organization.userRights."+o)," ")}}function Pv(i,e){if(i&1){let o=fe();u(0,"form",2),X("submit",function(){let n=le(o).ngIf,r=f();return de(r.save(n))}),u(1,"cx-org-card",3,0)(3,"a",4)(4,"span",5),X("click",function(n){le(o);let r=J(2);return de(r.closeView(n))}),g(5),c(6,"cxTranslate"),l()(),u(7,"section",6)(8,"fieldset",7)(9,"legend",8),g(10),c(11,"cxTranslate"),l(),x(12,Dv,5,4,"label",9),l(),u(13,"fieldset",7)(14,"legend",8),g(15),c(16,"cxTranslate"),l(),x(17,Bv,5,4,"label",9),l()()()()}if(i&2){let o=e.ngIf,t=f();s(),a("previous",!1)("cxFocus",A(14,tc,o)),s(4),_(" ",p(6,8,"organization.done")," "),s(2),a("formGroup",o),s(3),_(" ",p(11,10,"orgUser.roles")," "),s(2),a("ngForOf",t.availableRoles),s(3),_(" ",p(16,12,"orgUser.rights")," "),s(2),a("ngForOf",t.availableRights)}}function Fv(i,e){if(i&1){let o=fe();u(0,"button",4),c(1,"cxTranslate"),X("click",function(n){le(o);let r=f(2);return de(r.toggleItem(n))}),S(2,"cx-icon",5),l()}if(i&2){let o=f(2);ct("aria-expanded",o.expanded)("aria-label",p(1,3,"orgUnit.tree.explore")),s(2),a("type",o.expanded?"CARET_DOWN":"CARET_RIGHT")}}function Lv(i,e){if(i&1){let o=fe();u(0,"a",1),c(1,"cxUrl"),X("keydown",function(n){le(o);let r=f();return de(r.onKeydown(n))}),x(2,Fv,3,5,"button",2),u(3,"span",3),g(4),l()()}if(i&2){let o=f();a("id",o.model.uid)("routerLink",p(1,7,We(9,Rt,o.route,o.routeModel))),ct("aria-haspopup",o.isSwitchable)("data-depth",o.model.depthLevel),s(2),a("ngIf",o.isSwitchable),s(),ie("title",o.combinedName),s(),y(o.combinedName)}}var wv=i=>({cxRoute:"orgUserDetails",params:i});function Mv(i,e){if(i&1&&(S(0,"li",11),c(1,"cxTranslate")),i&2){let o=f().$implicit;a("innerText",p(1,1,"organization.userRoles."+o))}}function Ov(i,e){if(i&1&&(ue(0),x(1,Mv,2,3,"li",10),me()),i&2){let o=e.$implicit,t=f(3);s(),a("ngIf",t.availableRoles.includes(o))}}function Nv(i,e){i&1&&(u(0,"li"),g(1,"-"),l())}function Gv(i,e){if(i&1&&(S(0,"li",11),c(1,"cxTranslate")),i&2){let o=f().$implicit;a("innerText",p(1,1,"organization.userRights."+o))}}function kv(i,e){if(i&1&&(ue(0),x(1,Gv,2,3,"li",10),me()),i&2){let o=e.$implicit,t=f(4);s(),a("ngIf",t.availableRights.includes(o))}}function jv(i,e){i&1&&(u(0,"li"),g(1,"-"),l())}function $v(i,e){if(i&1&&(u(0,"div",4)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"ul",7),x(5,kv,2,1,"ng-container",8)(6,jv,2,0,"li",1),l()()),i&2){let o=f(2).ngIf;s(2),y(p(3,3,"orgUser.rights")),s(3),a("ngForOf",o.roles),s(),a("ngIf",(o.roles==null?null:o.roles.length)===0)}}function Vv(i,e){if(i&1&&(u(0,"div",3)(1,"div",4)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",5),c(6,"cxUrl"),g(7),l()(),u(8,"div",6)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",7),g(13),l()(),u(14,"div",4)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"ul",7),x(19,Ov,2,1,"ng-container",8)(20,Nv,2,0,"li",1),l()(),x(21,$v,7,5,"div",9),u(22,"div",4)(23,"label"),g(24),c(25,"cxTranslate"),l(),u(26,"a",5),c(27,"cxUrl"),g(28),l()()()),i&2){let o=f().ngIf,t=f();s(3),y(p(4,12,"orgUser.name")),s(2),a("routerLink",p(6,14,A(24,wv,o))),s(2),y(o.name),s(3),y(p(11,16,"orgUser.uid")),s(3),_(" ",o.uid," "),s(3),y(p(17,18,"orgUser.roles")),s(3),a("ngForOf",o.roles),s(),a("ngIf",(o.roles==null?null:o.roles.length)===0),s(),a("ngIf",t.hasRight(o)),s(3),y(p(25,20,"orgUser.orgUnit")),s(2),a("routerLink",p(27,22,A(26,Xe,o.orgUnit))),s(2),_(" ",o.orgUnit==null?null:o.orgUnit.name," ")}}function zv(i,e){if(i&1&&(ue(0),x(1,Vv,29,28,"ng-template",null,0,_e),u(3,"button",2),g(4),l(),me()),i&2){let o=e.ngIf,t=J(2);s(3),a("cxPopover",t)("cxPopoverOptions",se(3,Vi)),s(),_(" ",o==null?null:o.name," ")}}var qv=i=>({uid:i});function Kv(i,e){if(i&1&&(u(0,"div",3)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",5),g(5),l()()),i&2){let o=f(2);s(2),y(p(3,2,"orgUnit.approvalProcess")),s(3),_(" ",o.model.approvalProcess==null?null:o.model.approvalProcess.name," ")}}function Hv(i,e){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",4),c(6,"cxUrl"),g(7),l()(),u(8,"div",3)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",5),g(13),l()(),u(14,"div",3)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"span",5),g(19),c(20,"cxTranslate"),l()(),x(21,Kv,6,4,"div",6),l()),i&2){let o=f();s(3),y(p(4,10,"orgUnit.name")),s(2),a("routerLink",p(6,12,A(22,Xe,A(20,qv,o.model.id)))),s(2),_(" ",o.model.name," "),s(3),y(p(11,14,"orgUnit.uid")),s(3),_(" ",o.model.id," "),s(3),y(p(17,16,"orgUnit.active")),s(2),xe("is-active",o.model.active),s(),_(" ",p(20,18,o.model.active?"organization.enabled":"organization.disabled")," "),s(2),a("ngIf",o.model.approvalProcess==null?null:o.model.approvalProcess.name)}}function Zv(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUser.title")))("control",o.form.get("titleCode"))}}function Yv(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("titleCode"))}}function Qv(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUser.firstName")))("control",o.form.get("firstName"))}}function Wv(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("firstName"))}}function Xv(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUser.lastName")))("control",o.form.get("lastName"))}}function Jv(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("lastName"))}}function e1(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUser.email")))("control",o.form.get("email"))}}function t1(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("email"))}}function i1(i,e){if(i&1){let o=fe();u(0,"label",18)(1,"input",19),X("change",function(n){le(o);let r=f(2);return de(r.updateRoles(n))}),l(),u(2,"span",20),g(3),c(4,"cxTranslate"),l()()}if(i&2){let o=e.$implicit,t=f(2);s(),a("value",o)("checked",t.roles==null||t.roles.value==null?null:t.roles.value.includes(o))("disabled",(t.form==null?null:t.form.status)==="DISABLED"),s(2),_(" ",p(4,4,"organization.userRoles."+o)," ")}}function n1(i,e){if(i&1){let o=fe();u(0,"label",18)(1,"input",19),X("change",function(n){le(o);let r=f(2);return de(r.updateRoles(n))}),l(),u(2,"span",20),g(3),c(4,"cxTranslate"),l()()}if(i&2){let o=e.$implicit,t=f(2);s(),a("value",o)("checked",t.roles==null||t.roles.value==null?null:t.roles.value.includes(o))("disabled",(t.form==null?null:t.form.status)==="DISABLED"),s(2),_(" ",p(4,4,"organization.userRights."+o)," ")}}function r1(i,e){if(i&1&&(S(0,"cx-form-errors",16),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUser.orgUnit")))("control",o.form.get("orgUnit.uid"))}}function o1(i,e){if(i&1&&S(0,"cx-form-errors",17),i&2){let o=f(2);a("control",o.form.get("orgUnit.uid"))}}function s1(i,e){i&1&&(u(0,"div",21)(1,"label",18),S(2,"input",22),u(3,"span",20),g(4),c(5,"cxTranslate"),l()()()),i&2&&(s(4),y(p(5,1,"orgUser.assignApprover")))}function a1(i,e){if(i&1&&(ue(0,2),u(1,"label")(2,"span",3),g(3),c(4,"cxTranslate"),l(),S(5,"ng-select",4),c(6,"async"),c(7,"cxTranslate"),x(8,Zv,2,6,"cx-form-errors",5)(9,Yv,1,1,"cx-form-errors",6),l(),u(10,"label")(11,"span",3),g(12),c(13,"cxTranslate"),l(),S(14,"input",7),c(15,"cxTranslate"),x(16,Qv,2,6,"cx-form-errors",5)(17,Wv,1,1,"cx-form-errors",6),l(),u(18,"label")(19,"span",3),g(20),c(21,"cxTranslate"),l(),S(22,"input",8),c(23,"cxTranslate"),x(24,Xv,2,6,"cx-form-errors",5)(25,Jv,1,1,"cx-form-errors",6),l(),u(26,"label")(27,"span",3),g(28),c(29,"cxTranslate"),l(),S(30,"input",9),c(31,"cxTranslate"),x(32,e1,2,6,"cx-form-errors",5)(33,t1,1,1,"cx-form-errors",6),l(),u(34,"fieldset",10)(35,"legend",3),g(36),c(37,"cxTranslate"),l(),x(38,i1,5,6,"label",11),l(),u(39,"fieldset",12)(40,"legend",3),g(41),c(42,"cxTranslate"),l(),x(43,n1,5,6,"label",11),l(),u(44,"label",13)(45,"span",3),g(46),c(47,"cxTranslate"),l(),S(48,"ng-select",14),c(49,"async"),c(50,"cxTranslate"),x(51,r1,2,6,"cx-form-errors",5)(52,o1,1,1,"cx-form-errors",6),l(),x(53,s1,6,3,"div",15),me()),i&2){let o,t=f();a("formGroup",t.form),s(3),y(p(4,34,"orgUser.title")),s(2),a("searchable",!1)("clearable",!1)("items",p(6,36,t.titles$))("placeholder",p(7,38,"orgUser.title")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(13,40,"orgUser.firstName")),s(2),ie("placeholder",p(15,42,"orgUser.firstName")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(21,44,"orgUser.lastName")),s(2),ie("placeholder",p(23,46,"orgUser.lastName")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(29,48,"orgUser.email")),s(2),ie("placeholder",p(31,50,"orgUser.email")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),_(" ",p(37,52,"orgUser.roles")," "),s(2),a("ngForOf",t.availableRoles),s(3),_(" ",p(42,54,"orgUser.rights")," "),s(2),a("ngForOf",t.availableRights),s(),a("formGroup",t.form.get("orgUnit")),s(2),y(p(47,56,"orgUser.orgUnit")),s(2),a("inputAttrs",se(62,Ze))("searchable",!0)("clearable",!1)("items",(o=p(49,58,t.units$))!==null&&o!==void 0?o:null)("placeholder",p(50,60,"orgUser.orgUnit")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("ngIf",t.isAssignedToApprovers)}}var c1=i=>({cxRoute:"orgUserGroupEdit",params:i}),p1=i=>({cxRoute:"orgUserGroupUsers",params:i}),l1=i=>({cxRoute:"orgUserGroupPermissions",params:i});function d1(i,e){if(i&1&&(ue(0),u(1,"a",10),c(2,"cxUrl"),g(3),c(4,"cxTranslate"),l(),u(5,"a",10),c(6,"cxUrl"),g(7),c(8,"cxTranslate"),l(),me()),i&2){let o=f().ngIf;s(),a("routerLink",p(2,4,A(12,p1,o))),s(2),_(" ",p(4,6,"orgUserGroup.links.user")," "),s(2),a("routerLink",p(6,8,A(14,l1,o))),s(2),_(" ",p(8,10,"orgUserGroup.links.permission")," ")}}function u1(i,e){if(i&1&&(u(0,"cx-org-card",1)(1,"a",2),c(2,"async"),c(3,"cxUrl"),g(4),c(5,"cxTranslate"),l(),S(6,"cx-org-delete-item",3),u(7,"section",4)(8,"div",5)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",6),g(13),l()(),u(14,"div",5)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"span",6),g(19),l()(),u(20,"div",5)(21,"label"),g(22),c(23,"cxTranslate"),l(),u(24,"a",7),c(25,"cxUrl"),g(26),l()()(),u(27,"section",8),x(28,d1,9,16,"ng-container",9),l()()),i&2){let o=e.ngIf,t=f();a("cxFocus",A(27,Ci,o)),s(),xe("disabled",p(2,13,t.isInEditMode$)),a("routerLink",p(3,15,A(29,c1,o))),s(3),_(" ",p(5,17,"organization.edit")," "),s(6),y(p(11,19,"orgUserGroup.name")),s(3),_(" ",o.name," "),s(3),y(p(17,21,"orgUserGroup.uid")),s(3),_(" ",o.uid," "),s(3),y(p(23,23,"orgUserGroup.orgUnit")),s(2),a("routerLink",p(25,25,A(31,Xe,o.orgUnit))),s(2),_(" ",o.orgUnit==null?null:o.orgUnit.name," "),s(2),a("ngIf",o.uid)}}function m1(i,e){if(i&1&&(S(0,"cx-form-errors",10),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUserGroup.name")))("control",o.form.get("name"))}}function g1(i,e){if(i&1&&S(0,"cx-form-errors",11),i&2){let o=f(2);a("control",o.form.get("name"))}}function f1(i,e){if(i&1&&(S(0,"cx-form-errors",10),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUserGroup.uid")))("control",o.form.get("uid"))}}function h1(i,e){if(i&1&&S(0,"cx-form-errors",11),i&2){let o=f(2);a("control",o.form.get("uid"))}}function v1(i,e){if(i&1&&(S(0,"cx-form-errors",10),c(1,"cxTranslate")),i&2){let o=f(2);a("translationParams",A(4,ee,p(1,2,"orgUserGroup.orgUnit")))("control",o.form.get("orgUnit.uid"))}}function x1(i,e){if(i&1&&S(0,"cx-form-errors",11),i&2){let o=f(2);a("control",o.form.get("orgUnit.uid"))}}function S1(i,e){if(i&1){let o=fe();ue(0,2),u(1,"label")(2,"span",3),g(3),c(4,"cxTranslate"),l(),u(5,"input",4),c(6,"cxTranslate"),X("blur",function(){le(o);let n=f();return de(n.createUidWithName(n.form.get("name"),n.form.get("uid")))}),l(),x(7,m1,2,6,"cx-form-errors",5)(8,g1,1,1,"cx-form-errors",6),l(),u(9,"label")(10,"span",3),g(11),c(12,"cxTranslate"),l(),S(13,"input",7),c(14,"cxTranslate"),x(15,f1,2,6,"cx-form-errors",5)(16,h1,1,1,"cx-form-errors",6),l(),u(17,"label",8)(18,"span",3),g(19),c(20,"cxTranslate"),l(),S(21,"ng-select",9),c(22,"async"),c(23,"cxTranslate"),x(24,v1,2,6,"cx-form-errors",5)(25,x1,1,1,"cx-form-errors",6),l(),me()}if(i&2){let o,t,n=f();a("formGroup",n.form),s(3),y(p(4,19,"orgUserGroup.name")),s(2),ie("placeholder",p(6,21,"orgUserGroup.name")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(12,23,"orgUserGroup.uid")),s(2),ie("placeholder",p(14,25,"orgUserGroup.uid")),s(2),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(),a("formGroup",n.form.get("orgUnit")),s(2),y(p(20,27,"orgUserGroup.orgUnit")),s(2),a("inputAttrs",se(33,Ze))("searchable",!0)("clearable",!1)("items",(o=p(22,29,n.units$))!==null&&o!==void 0?o:null)("readonly",(t=(t=n.form.get("orgUnit.uid"))==null?null:t.disabled)!==null&&t!==void 0?t:!1)("placeholder",p(23,31,"orgUserGroup.orgUnit")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}var _1=i=>({cxRoute:"orgPurchaseLimitDetails",params:i});function E1(i,e){if(i&1&&(u(0,"div",3)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",5),g(5),l()()),i&2){let o=f(2);s(2),y(p(3,3,"orgPurchaseLimit.threshold")),s(3),$t(" ",o.model.threshold," ",o.model.currency==null?null:o.model.currency.symbol," ")}}function I1(i,e){if(i&1&&(u(0,"div",3)(1,"label"),g(2),c(3,"cxTranslate"),l(),u(4,"span",5),g(5),l()()),i&2){let o=f(2);s(2),y(p(3,2,"orgPurchaseLimit.periodRange")),s(3),_(" ",o.model.periodRange," ")}}function y1(i,e){if(i&1&&(u(0,"a",4),c(1,"cxUrl"),g(2),l()),i&2){let o=f(2);a("routerLink",p(1,2,A(4,Xe,o.model.orgUnit))),s(2),_(" ",o.model.orgUnit==null?null:o.model.orgUnit.name," ")}}function C1(i,e){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",4),c(6,"cxUrl"),g(7),l()(),u(8,"div",3)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",5),g(13),c(14,"cxTranslate"),l()(),u(15,"div",3)(16,"label"),g(17),c(18,"cxTranslate"),l(),u(19,"span",5),g(20),l()(),x(21,E1,6,5,"div",6)(22,I1,6,4,"div",6),u(23,"div",3)(24,"label"),g(25),c(26,"cxTranslate"),l(),x(27,y1,3,6,"a",7),l()()),i&2){let o=f();s(3),y(p(4,13,"orgPurchaseLimit.code")),s(2),a("routerLink",p(6,15,A(25,_1,o.model))),s(2),_(" ",o.model.code," "),s(3),y(p(11,17,"orgPurchaseLimit.active")),s(2),xe("is-active",o.model.active),s(),_(" ",p(14,19,o.model.active?"organization.enabled":"organization.disabled")," "),s(4),y(p(18,21,"orgPurchaseLimit.orderApprovalPermissionType")),s(3),_(" ",o.model.orderApprovalPermissionType==null?null:o.model.orderApprovalPermissionType.name," "),s(),a("ngIf",o.model.threshold||o.model.threshold===0),s(),a("ngIf",o.model.periodRange),s(3),y(p(26,23,"orgPurchaseLimit.unit")),s(2),a("ngIf",o.model.code)}}var U1=["subList"];function b1(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f().ngIf;a("translationParams",A(4,ee,p(1,2,"orgUser.password.newPassword")))("control",o.get("password"))}}function A1(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f().ngIf;a("control",o.get("password"))}}function R1(i,e){if(i&1&&(S(0,"cx-form-errors",12),c(1,"cxTranslate")),i&2){let o=f().ngIf;a("translationParams",A(4,ee,p(1,2,"orgUser.password.confirmPassword")))("control",o.get("confirmPassword"))}}function T1(i,e){if(i&1&&S(0,"cx-form-errors",13),i&2){let o=f().ngIf;a("control",o.get("confirmPassword"))}}function D1(i,e){if(i&1){let o=fe();u(0,"form",1),X("submit",function(){let n=le(o).ngIf,r=f();return de(r.save(n))}),u(1,"cx-org-card",2)(2,"button",3),g(3),c(4,"cxTranslate"),l(),u(5,"button",4),g(6),c(7,"cxTranslate"),l(),u(8,"section",5)(9,"label",6)(10,"span",7),g(11),c(12,"cxTranslate"),l(),S(13,"input",8),c(14,"cxTranslate"),c(15,"cxTranslate"),x(16,b1,2,6,"cx-form-errors",9)(17,A1,1,1,"cx-form-errors",10),l(),u(18,"label")(19,"span",7),g(20),c(21,"cxTranslate"),l(),S(22,"input",11),c(23,"cxTranslate"),c(24,"cxTranslate"),x(25,R1,2,6,"cx-form-errors",9)(26,T1,1,1,"cx-form-errors",10),l()()()()}if(i&2){let o=e.ngIf;a("formGroup",o),s(),a("previous",!1)("cxFocus",A(31,tc,o)),s(2),_(" ",p(4,15,"organization.save")," "),s(3),_(" ",p(7,17,"organization.cancel")," "),s(5),y(p(12,19,"orgUser.password.newPassword")),s(2),ie("placeholder",p(14,21,"orgUser.password.newPassword")),ct("aria-label",p(15,23,"orgUser.password.newPassword")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages"),s(3),y(p(21,25,"orgUser.password.confirmPassword")),s(2),ie("placeholder",p(23,27,"orgUser.password.confirmPassword")),ct("aria-label",p(24,29,"orgUser.password.confirmPassword")),s(3),a("cxFeature","formErrorsDescriptiveMessages"),s(),a("cxFeature","!formErrorsDescriptiveMessages")}}var B1=i=>({cxRoute:"orgUserEdit",params:i}),P1=i=>({cxRoute:"orgUserChangePassword",params:i}),F1=i=>({cxRoute:"orgUserApprovers",params:i}),L1=i=>({cxRoute:"orgUserUserGroups",params:i}),w1=i=>({cxRoute:"orgUserPermissions",params:i});function M1(i,e){if(i&1&&(u(0,"a",15),c(1,"async"),c(2,"cxUrl"),g(3),c(4,"cxTranslate"),l()),i&2){let o=f().ngIf,t=f();xe("disabled",!o.active||p(1,4,t.isInEditMode$)),a("routerLink",p(2,6,A(10,B1,o))),s(3),_(" ",p(4,8,"organization.edit")," ")}}function O1(i,e){i&1&&S(0,"cx-org-toggle-status",16)}function N1(i,e){if(i&1&&(S(0,"li",18),c(1,"cxTranslate")),i&2){let o=f().$implicit;a("innerText",p(1,1,"organization.userRoles."+o))}}function G1(i,e){if(i&1&&(ue(0),x(1,N1,2,3,"li",17),me()),i&2){let o=e.$implicit,t=f(2);s(),a("ngIf",t.availableRoles.includes(o))}}function k1(i,e){i&1&&(u(0,"li"),g(1,"-"),l())}function j1(i,e){if(i&1&&(S(0,"li",18),c(1,"cxTranslate")),i&2){let o=f().$implicit;a("innerText",p(1,1,"organization.userRights."+o))}}function $1(i,e){if(i&1&&(ue(0),x(1,j1,2,3,"li",17),me()),i&2){let o=e.$implicit,t=f(3);s(),a("ngIf",t.availableRights.includes(o))}}function V1(i,e){i&1&&(u(0,"li"),g(1,"-"),l())}function z1(i,e){if(i&1&&(ue(0),u(1,"div",7)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"ul",8),x(6,$1,2,1,"ng-container",10)(7,V1,2,0,"li",11),l()(),me()),i&2){let o=f().ngIf;s(3),y(p(4,3,"orgUser.rights")),s(3),a("ngForOf",o.roles),s(),a("ngIf",(o.roles==null?null:o.roles.length)===0)}}function q1(i,e){if(i&1&&(u(0,"a",19),c(1,"cxUrl"),g(2),l()),i&2){let o=f().ngIf;a("routerLink",p(1,2,A(4,Xe,o.orgUnit))),s(2),_(" ",o.orgUnit==null?null:o.orgUnit.name," ")}}function K1(i,e){if(i&1&&(u(0,"div",20),g(1),l()),i&2){let o=f().ngIf;s(),y(o.orgUnit==null?null:o.orgUnit.name)}}function H1(i,e){if(i&1&&(u(0,"a",21),c(1,"cxUrl"),g(2),c(3,"cxTranslate"),l()),i&2){let o=f().ngIf;xe("disabled",!o.active),a("routerLink",p(1,4,A(8,P1,o))),s(2),_(" ",p(3,6,"orgUser.links.password")," ")}}function Z1(i,e){if(i&1&&(ue(0),u(1,"a",22),c(2,"cxUrl"),g(3),c(4,"cxTranslate"),l(),u(5,"a",22),c(6,"cxUrl"),g(7),c(8,"cxTranslate"),l(),u(9,"a",22),c(10,"cxUrl"),g(11),c(12,"cxTranslate"),l(),me()),i&2){let o=f().ngIf;s(),a("routerLink",p(2,6,A(18,F1,o))),s(2),_(" ",p(4,8,"orgUser.links.approvers")," "),s(2),a("routerLink",p(6,10,A(20,L1,o))),s(2),_(" ",p(8,12,"orgUser.links.userGroup")," "),s(2),a("routerLink",p(10,14,A(22,w1,o))),s(2),_(" ",p(12,16,"orgUser.links.permission")," ")}}function Y1(i,e){if(i&1&&(u(0,"cx-org-card",2),x(1,M1,5,12,"a",3)(2,O1,1,0,"cx-org-toggle-status",4),S(3,"cx-org-disable-info",5),u(4,"section",6)(5,"div",7)(6,"label"),g(7),c(8,"cxTranslate"),l(),u(9,"span",8),g(10),l()(),u(11,"div",9)(12,"label"),g(13),c(14,"cxTranslate"),l(),u(15,"span",8),g(16),l()(),u(17,"div",7)(18,"label"),g(19),c(20,"cxTranslate"),l(),u(21,"ul",8),x(22,G1,2,1,"ng-container",10)(23,k1,2,0,"li",11),l()(),x(24,z1,8,5,"ng-container",11),u(25,"div",7)(26,"label"),g(27),c(28,"cxTranslate"),l(),x(29,q1,3,6,"a",12)(30,K1,2,1,"ng-template",null,0,_e),l(),u(32,"div",9),x(33,H1,4,10,"a",13),l()(),u(34,"section",14),x(35,Z1,13,24,"ng-container",11),l()()),i&2){let o=e.ngIf,t=J(31),n=f();a("cxFocus",A(24,Ci,o)),s(),a("ngIf",n.isUpdatingUserAllowed),s(),a("ngIf",n.isUpdatingUserAllowed),s(5),y(p(8,16,"orgUser.name")),s(3),_(" ",o.name," "),s(3),y(p(14,18,"orgUser.uid")),s(3),_(" ",o.displayUid," "),s(3),y(p(20,20,"orgUser.roles")),s(3),a("ngForOf",o.roles),s(),a("ngIf",(o.roles==null?null:o.roles.length)===0),s(),a("ngIf",n.hasRight(o)),s(3),y(p(28,22,"orgUser.orgUnit")),s(2),a("ngIf",n.isUpdatingUserAllowed)("ngIfElse",t),s(4),a("ngIf",o.customerId&&n.isUpdatingUserAllowed),s(2),a("ngIf",o.customerId)}}var Q1=i=>({cxRoute:"orgUserGroupDetails",params:i});function W1(i,e){if(i&1&&(u(0,"div",2)(1,"div",3)(2,"label"),g(3),c(4,"cxTranslate"),l(),u(5,"a",4),c(6,"cxUrl"),g(7),l()(),u(8,"div",3)(9,"label"),g(10),c(11,"cxTranslate"),l(),u(12,"span",5),g(13),l()(),u(14,"div",3)(15,"label"),g(16),c(17,"cxTranslate"),l(),u(18,"a",4),c(19,"cxUrl"),g(20),l()()()),i&2){let o=f();s(3),y(p(4,8,"orgUserGroup.name")),s(2),a("routerLink",p(6,10,A(18,Q1,o.model))),s(2),y(o.model.name),s(3),y(p(11,12,"orgUserGroup.uid")),s(3),_(" ",o.model.uid," "),s(3),y(p(17,14,"orgUserGroup.orgUnit")),s(2),a("routerLink",p(19,16,A(20,Xe,o.model.orgUnit))),s(2),_(" ",o.model.orgUnit==null?null:o.model.orgUnit.name," ")}}var Qe=(()=>{let e=class e{constructor(t){this.routingService=t,this.key$=this.routingService.getParams().pipe(I(n=>n[this.getParamKey()]),Gt()),this.item$=this.key$.pipe(U(n=>n?this.getItem(n):oe(void 0))),this.b2bUnit$=this.routingService.getParams().pipe(I(n=>n[Te.unitCode]),Gt())}getRouterParam(t){return this.routingService.getParams().pipe(I(n=>n[t]))}};e.\u0275fac=function(n){return new(n||e)(h(he))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),Tt=(()=>{let e=class e{getForm(t){return this.form&&t?(this.patchData(t),this.form):(this.form||this.build(t),this.form?.reset(),this.form?.enable(),this.patchData(t),this.form)}patchData(t){this.toggleFreeze(t),this.form?.patchValue(L(L({},this.defaultValue),t))}toggleFreeze(t){this.form?.enabled&&t?.active===!1&&this.form.disable(),this.form?.disabled&&t?.active===!0&&this.form.enable()}get defaultValue(){return{}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),k=(()=>{let e=class e{constructor(t,n,r){this.currentItemService=t,this.routingService=n,this.formService=r,this.key$=this.currentItemService.key$,this.current$=this.currentItemService.item$,this.isInEditMode$=new Yi(!1),this.unit$=this.currentItemService.b2bUnit$,this.error$=this.key$.pipe(U(d=>this.currentItemService.getError(d)))}save(t,n){if(t.invalid)return t.markAllAsTouched(),Wc.deepUpdateValueAndValidity(t),Xt;{let r=t.value;return t.disable(),n?this.update(n,r):this.create(r)}}getForm(t){return this.formService.getForm(t)}launchDetails(t){let n=this.getDetailsRoute(),r=this.buildRouteParams(t);n&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:n,params:r})}buildRouteParams(t){return t}getRouterParam(t){return this.currentItemService.getRouterParam(t)}setEditMode(t){this.isInEditMode$.next(t)}};e.\u0275fac=function(n){return new(n||e)(h(Qe),h(he),h(Tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),X1=3e3,Ne=(()=>{let e=class e{constructor(){this.data$=new gc}get(){return this.data$}add(t){return t=L(L({},this.getDefaultMessage(t)),t),t.events=new vr,this.data$.next(t),t.events}close(t){t?.next({close:!0})}getDefaultMessage(t){let n={type:ze.MSG_TYPE_INFO};return(!t.type||t.type===ze.MSG_TYPE_INFO&&!t.timeout)&&(n.timeout=X1),n}clear(){this.data$.next(void 0)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),J1=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.messageService=n}ngOnInit(){this.subscription=this.itemService.current$.pipe(Gt((t,n)=>t?.active===n?.active),$(Fc),$(t=>t.active===!1)).subscribe(t=>this.handleDisabledItems(t))}handleDisabledItems(t){this.messageService.add({message:{key:"organization.notification.disabled",params:{item:t}},type:ze.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne))},e.\u0275dir=yn({type:e,selectors:[["","cxOrgItemActive",""]]});let i=e;return i})(),vn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z]});let i=e;return i})(),hn=class{},Pd=(()=>{let e=class e{constructor(t,n){this.messageData=t,this.platformId=n,this.terminated=!1}ngOnInit(){this.message=this.messageData.message??{},this.messageTitle=this.messageData.messageTitle,this.type=this.resolveType(),this.messageIcon=this.messageData.messageIcon,this.messageData.timeout&&this.handleAutoHide()}close(){this.messageData.events?.next({close:!0})}resolveType(){if(!this.messageData.type||this.messageData.type===ze.MSG_TYPE_INFO)return"info";if(this.messageData.type===ze.MSG_TYPE_ERROR)return"error";if(this.messageData.type===ze.MSG_TYPE_WARNING)return"warning"}handleAutoHide(){Ac(this.platformId)&&setTimeout(()=>{this.close()},this.messageData.timeout)}};e.\u0275fac=function(n){return new(n||e)(R(hn),R(Sr))},e.\u0275dir=yn({type:e,hostVars:4,hostBindings:function(n,r){n&2&&(_r(r.type),xe("terminated",r.terminated))}});let i=e;return i})(),ex=(()=>{let e=class e extends Pd{constructor(){super(...arguments),this.closeIcon=Xi.CLOSE}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-notification"]],features:[Re],decls:9,vars:13,consts:[[1,"inner",3,"esc","cxFocus"],[3,"type",4,"ngIf"],["type","button",1,"close",3,"click"],[3,"type"]],template:function(n,r){n&1&&(u(0,"div",0),X("esc",function(){return r.close()}),x(1,Zm,1,1,"cx-icon",1),u(2,"p"),g(3),c(4,"cxTranslate"),l(),u(5,"button",2),c(6,"cxTranslate"),c(7,"cxTranslate"),X("click",function(){return r.close()}),S(8,"cx-icon",3),l()()),n&2&&(a("cxFocus",se(12,Hm)),s(),a("ngIf",r.messageIcon),s(2),y(p(4,6,r.message)),s(2),ct("aria-label",p(6,8,"common.close"))("title",p(7,10,"common.close")),s(3),a("type",r.closeIcon))},dependencies:[H,mi,qe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),tx=(()=>{let e=class e{constructor(t){this.componentFactoryResolver=t}getComponent(t){return this.componentFactoryResolver.resolveComponentFactory(t.component||ex)}getInjector(t,n){return vc.create({providers:[{provide:hn,useValue:t}],parent:n})}};e.\u0275fac=function(n){return new(n||e)(h(Sc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ix=(()=>{let e=class e{constructor(t,n){this.messageService=t,this.renderService=n,this.subscription=new Zi}ngAfterViewInit(){this.subscription.add(this.messageService.get().subscribe(t=>{t?this.render(t):this.vcr?.clear()}))}render(t){let n=this.vcr.createComponent(this.renderService.getComponent(t),0,this.renderService.getInjector(t,this.vcr.injector));n.injector.get(Ir).markForCheck(),this.subscription.add(t.events?.pipe($(r=>!!r.close)).subscribe(()=>this.terminate(n)))}terminate(t){t.instance.terminated=!0,t.injector.get(Ir).markForCheck(),setTimeout(()=>{t.destroy()},500)}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(R(Ne),R(tx))},e.\u0275cmp=D({type:e,selectors:[["cx-org-message"]],viewQuery:function(n,r){if(n&1&&Ti(Ym,5,_c),n&2){let d;Di(d=Bi())&&(r.vcr=d.first)}},decls:2,vars:0,consts:[["vcr",""]],template:function(n,r){n&1&&pt(0,null,0)},encapsulation:2,changeDetection:0});let i=e;return i})(),nx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,gi,Ve]});let i=e;return i})(),zi=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,nx]});let i=e;return i})(),ht=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.messageService=n,this.previous=!0,this.showHint=!1,this.iconTypes=Xi,this.item$=this.itemService.current$.pipe(K(r=>this.refreshMessages(r)))}closeView(t){return t.stopPropagation(),this.view.toggle(!0),setTimeout(()=>{t.target?.parentElement?.click()},500),!1}get previousLabel(){return this.previous}refreshMessages(t){this.itemKey!==void 0&&t?.code!==this.itemKey&&t?.uid!==this.itemKey&&t?.customerId!==this.itemKey&&this.messageService.clear(),this.itemKey=t?.code??t?.uid??t?.customerId}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne))},e.\u0275cmp=D({type:e,selectors:[["cx-org-card"]],viewQuery:function(n,r){if(n&1&&Ti(Li,5,Li),n&2){let d;Di(d=Bi())&&(r.view=d.first)}},hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",previous:"previous",subtitle:"subtitle",showHint:"showHint"},features:[Y([Ne])],ngContentSelectors:Wm,decls:25,vars:26,consts:[["detailHint",""],["prevLabel",""],["role","tabpanel",1,"card",3,"viewTitle"],[1,"header"],[1,"title-bar"],[1,"title"],[3,"cxPopover","cxPopoverOptions",4,"ngIf"],[1,"actions"],["class","link close","routerLink","../",4,"ngIf"],[1,"main"],["aria-aromic","true","aria-live","assertive"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["routerLink","../",1,"link","close"],["type","CLOSE",3,"click",4,"ngIf","ngIfElse"],["type","CLOSE",3,"click"]],template:function(n,r){n&1&&(Ri(Qm),u(0,"cx-view",2),c(1,"async"),c(2,"cxTranslate"),u(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3"),g(7),c(8,"async"),c(9,"cxTranslate"),x(10,Xm,3,7,"button",6),l(),u(11,"h4"),g(12),c(13,"async"),c(14,"cxTranslate"),l()(),u(15,"div",7),xt(16),l()(),x(17,tg,5,5,"button",8),l(),u(18,"div",9),S(19,"cx-org-message",10),xt(20,1),xt(21,2),l()(),S(22,"router-outlet"),x(23,ig,3,3,"ng-template",null,0,_e)),n&2&&(a("viewTitle",Bt(2,7,r.i18nRoot+".title",A(20,fn,p(1,5,r.item$)))),s(7),_(" ",Bt(9,12,r.i18nRoot+".title",A(22,fn,p(8,10,r.item$)))," "),s(3),a("ngIf",r.showHint),s(2),_(" ",r.subtitle||Bt(14,17,r.i18nRoot+".subtitle",A(24,fn,p(13,15,r.item$)))," "),s(5),a("ngIf",!!r.previous))},dependencies:[H,Li,yr,z,mi,ix,Mt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),vt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Or,ae,Q,gi,Ie,zi,Pn]});let i=e;return i})(),rx="DISABLED",Ui=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.messageService=n,this.animateBack=!0,this.form$=this.itemService.current$.pipe(I(r=>(this.setI18nRoot(r),r||(r={}),this.itemService.getForm(r)))),this.disabled$=this.form$.pipe(U(r=>r?.statusChanges??Xt),I(r=>r===rx))}save(t){this.itemService.key$.pipe(at(),U(n=>this.itemService.save(t,n).pipe(et(1),I(r=>({item:r.item,status:r.status,action:n?"update":"create"}))))).subscribe(({item:n,action:r,status:d})=>{d===gt.SUCCESS&&(this.itemService.launchDetails(n),this.notify(n,r)),t.enable()})}notify(t,n){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${n}`,params:{item:t}}})}setI18nRoot(t){this.i18n=this.i18nRoot+(t?".edit":".create")}back(t,n){this.animateBack&&n.closeView(t)}ngOnInit(){this.itemService.setEditMode(!0)}ngOnDestroy(){this.itemService.setEditMode(!1)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne))},e.\u0275cmp=D({type:e,selectors:[["cx-org-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",animateBack:"animateBack",subtitle:"subtitle"},ngContentSelectors:rg,decls:2,vars:3,consts:[["card",""],[3,"submit",4,"ngIf"],[3,"submit"],["cxOrgItemActive","",3,"previous","i18nRoot","subtitle","cxFocus"],["actions","",1,"button","primary",3,"disabled"],["actions","","routerLink","../","type","button",1,"link"],[3,"click"],["main","",1,"details"]],template:function(n,r){n&1&&(Ri(ng),x(0,og,13,15,"form",1),c(1,"async")),n&2&&a("ngIf",p(1,1,r.form$))},dependencies:[H,Tn,mt,Pr,z,ht,J1,qe,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Zt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Ne],imports:[Z,Bn,Q,ae,vt,zi,vn,Ve]});let i=e;return i})(),nc=function(i){return i.LINK="LINK",i.BUTTON="BUTTON",i}(nc||{}),re=(()=>{let e=class e{get viewType(){return this.tableType}get domainType(){return this._domainType??this.viewType}constructor(t){this.tableService=t,this.defaultTableStructure={options:{layout:wi.VERTICAL_STACKED},lg:{options:{layout:wi.VERTICAL}}},this.ghostData={values:new Array(10)},this.notification$=new vr,this.pagination$=new Yi({pageSize:10})}key(){return"code"}getData(...t){return this.pagination$.pipe(U(n=>this.getStructure().pipe(I(r=>L(L({},n),r.options?.pagination)))),U(n=>this.load(n,...t)),jt(this.ghostData))}getStructure(){return this.tableService.buildStructure(this.viewType,this.defaultTableStructure)}view(t,n){this.pagination$.next(je(L({},t),{currentPage:n}))}sort(t,n){this.view(t,0)}hasGhostData(t){return t===this.ghostData}getCreateButtonType(){return nc.LINK}onCreateButtonClick(){}getCreateButtonLabel(){return{key:"organization.add"}}};e.\u0275fac=function(n){return new(n||e)(h(Pe))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),bi=(()=>{let e=class e{constructor(t,n){this.service=t,this.organizationItemService=n,this.trapFocus=zc,this.hasGhostData=!1,this.viewType=this.service.viewType,this.domainType=this.service.domainType,this.iconTypes=Xi,this.createButtonAllTypes=nc,this.createButtonType=this.service.getCreateButtonType(),this.currentKey$=this.organizationItemService.key$,this.structure$=this.service.getStructure(),this.listData$=this.service.getData().pipe(K(r=>{this.sortCode=r?.pagination?.sort,this.hasGhostData=this.service.hasGhostData(r)})),this.key=this.service.key(),this.hideAddButton=!1,Pi("a11yOrganizationListHeadingOrder"),Pi("a11yListOversizedFocus"),Pi("a11yOrganizationLinkableCells")}getListCount(t){return t.pagination?.totalResults}browse(t,n){t&&this.service.view(t,n)}launchItem(t){this.organizationItemService.launchDetails(t)}sort(t){t&&this.service.sort(je(L({},t),{sort:this.sortCode}))}onCreateButtonClick(){this.service.onCreateButtonClick()}getCreateButtonLabel(){return this.service.getCreateButtonLabel()}};e.\u0275fac=function(n){return new(n||e)(R(re),R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-list"]],hostVars:4,hostBindings:function(n,r){n&2&&(_r(r.viewType),xe("ghost",r.hasGhostData))},inputs:{key:"key",hideAddButton:"hideAddButton"},ngContentSelectors:ag,decls:9,vars:4,consts:[["emptyList",""],["listHint",""],["showButton",""],[3,"hideMode"],[4,"ngIf"],["class","list",4,"ngIf"],[1,"list"],[1,"header"],["aria-live","polite",1,"title"],[4,"cxFeature"],[1,"actions"],["name","sort","class","sort",3,"searchable","clearable","tabIndex","ngModel","change","ngModelChange",4,"ngIf"],[4,"ngIf","ngIfElse"],["role","tree",3,"structure","data","i18nRoot","currentItem","launch",4,"ngIf","ngIfElse"],[1,"footer"],[3,"viewPageEvent","pagination"],[3,"cxPopover","cxPopoverOptions"],[3,"type"],["name","sort",1,"sort",3,"change","ngModelChange","searchable","clearable","tabIndex","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["class","button primary create","routerLinkActive","disabled",3,"routerLink",4,"ngIf"],["routerLinkActive","disabled",1,"button","primary","create",3,"routerLink"],["role","tree",3,"launch","structure","data","i18nRoot","currentItem"],[1,"instruction","is-empty"],["class","button primary create",3,"click",4,"ngIf"],[1,"button","primary","create",3,"click"]],template:function(n,r){n&1&&(Ri(sg),u(0,"cx-split-view",3),x(1,_g,4,3,"ng-container",4),c(2,"async"),l(),x(3,Eg,3,3,"ng-template",null,0,_e)(5,Ig,3,3,"ng-template",null,1,_e)(7,Cg,1,1,"ng-template",null,2,_e)),n&2&&(a("hideMode",!1),s(),a("ngIf",p(2,2,r.structure$)))},dependencies:[ti,H,yr,z,si,Qc,Li,Nr,mi,wr,wt,Vc,ut,Gc,Mt,lt,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Yt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Or,Gr,gi,Ie,Q,Mr,Ut,Bn,zi,Ve,Pn,dt]});let i=e;return i})(),ge=(()=>{let e=class e{constructor(t){this.outlet=t,this.featuteConfigService=Se(_t,{optional:!0})}get tabIndex(){return-1}get model(){return this.outlet.context}get property(){return this.model?.[this.outlet?.context?._field]}get linkable(){return this.featuteConfigService?.isEnabled("a11yOrganizationLinkableCells")?this.property!==void 0&&(this.cellOptions.linkable??!1):this.property!==void 0&&(this.cellOptions.linkable??!0)}get cellOptions(){return this.outlet.context?._options?.cells?.[this.outlet.context?._field]??{}}get route(){return this.outlet.context._type+"Details"}get routeModel(){return this.outlet.context}get type(){return this.model._type}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;let v=this.outlet.context,{_field:t,_options:n,_type:r,_i18nRoot:d}=v;return hr(v,["_field","_options","_type","_i18nRoot"])}};e.\u0275fac=function(n){return new(n||e)(R(ui))},e.\u0275cmp=D({type:e,selectors:[["cx-org-cell"]],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,bg,3,8,"a",1)(1,Ag,2,2,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Me=(()=>{let e=class e extends ge{constructor(t,n,r,d){super(t),this.outlet=t,this.organizationItemService=n,this.messageService=r,this.organizationSubListService=d}get isAssigned(){return this.item?.selected}toggleAssign(){let t=this.isAssigned;this.organizationItemService.key$.pipe(at(),U(n=>t?this.unassign?.(n,this.link):this.assign(n,this.link)),et(1),$(n=>n.status===gt.SUCCESS)).subscribe(n=>this.notify(n.item,t?"unassigned":"assigned"))}assign(t,n){return this.organizationSubListService.assign?.(t,n)??Xt}unassign(t,n){return this.organizationSubListService.unassign?.(t,n)??Xt}get link(){return this.outlet.context.code??this.outlet.context.customerId??this.outlet.context.uid}notify(t,n){this.messageService.add({message:{key:`${this.organizationSubListService.viewType}.${n}`,params:{item:t}}})}};e.\u0275fac=function(n){return new(n||e)(R(ui),R(k),R(Ne),R(re))},e.\u0275cmp=D({type:e,selectors:[["cx-org-assign-cell"]],features:[Re],decls:1,vars:1,consts:[["type","button","class","link",3,"click",4,"ngIf"],["type","button",1,"link",3,"click"]],template:function(n,r){n&1&&x(0,Rg,2,1,"button",0),n&2&&a("ngIf",r.hasItem)},dependencies:[H],encapsulation:2,changeDetection:0});let i=e;return i})(),we=(()=>{let e=class e extends bi{constructor(){super(...arguments),this.hostClass="",this.previous=!0,this.key=this.service.key(),this.showHint=!1,this.hasGhostData=!1,this.listData$=this.currentKey$.pipe(U(t=>this.service.getData(t)),K(t=>{this.hasGhostData=this.service.hasGhostData(t)})),this.dataStructure$=this.service.getStructure()}set routerKey(t){this.subKey$=this.organizationItemService.getRouterParam(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-sub-list"]],viewQuery:function(n,r){if(n&1&&Ti(Ne,5,Ne),n&2){let d;Di(d=Bi())&&(r.messageService=d.first)}},hostAttrs:[1,"content-wrapper"],hostVars:2,hostBindings:function(n,r){n&2&&xe("ghost",r.hasGhostData)},inputs:{previous:"previous",key:"key",showHint:"showHint",routerKey:"routerKey"},features:[Re],ngContentSelectors:Dg,decls:8,vars:8,consts:[["emptyList",""],[3,"previous","i18nRoot","showHint","cxFocus"],["main","",4,"ngIf"],["main",""],[4,"ngIf"],[3,"structure","data","i18nRoot","currentItem",4,"ngIf","ngIfElse"],["class","footer",4,"ngIf"],[3,"structure","data","i18nRoot","currentItem"],[1,"footer"],[3,"viewPageEvent","pagination"],[1,"is-empty"]],template:function(n,r){n&1&&(Ri(Tg),u(0,"cx-org-card",1),xt(1,0,["ngProjectAs","[actions]",5,["","actions",""]]),xt(2,1,["ngProjectAs","[main]",5,["","main",""]]),xt(3,2,["ngProjectAs","[info]",5,["","info",""]]),x(4,wg,3,3,"ng-container",2),c(5,"async"),l(),x(6,Mg,3,3,"ng-template",null,0,_e)),n&2&&(a("previous",r.previous)("i18nRoot",r.viewType)("showHint",r.showHint)("cxFocus",se(7,Bg)),s(4),a("ngIf",p(5,5,r.dataStructure$)))},dependencies:[H,ht,Nr,wr,qe,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Je=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,vt,Gr,Mr,zi,Ve]});let i=e;return i})(),mr=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Je,Zt]});let i=e;return i})(),Le=2147483647,qi=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.messageService=n}ngOnInit(){this.subscription=this.itemService.error$.pipe($(t=>t)).subscribe(()=>this.handleErrorMessage())}handleErrorMessage(){this.messageService.add({message:{key:"organization.notification.notExist"},type:ze.MSG_TYPE_ERROR})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne))},e.\u0275dir=yn({type:e,selectors:[["","cxOrgItemExists",""]]});let i=e;return i})(),Fd=(()=>{let e=class e extends Pd{constructor(t,n,r){super(t,n),this.data=t,this.platformId=n,this.messageService=r,this.cancelText={key:"organization.confirmation.cancel"},this.confirmText={key:"organization.confirmation.confirm"}}ngOnInit(){super.ngOnInit(),this.cancelText=this.messageData.cancel??this.cancelText,this.confirmText=this.messageData.confirm??this.confirmText}confirm(){this.data.events?.next({confirm:!0})}};e.\u0275fac=function(n){return new(n||e)(R(hn),R(Sr),R(Ne))},e.\u0275cmp=D({type:e,selectors:[["cx-org-confirmation"]],features:[Re],decls:14,vars:15,consts:[[1,"inner",3,"esc","cxFocus"],["class","messageTitle",4,"ngIf"],[1,"message"],[3,"type",4,"ngIf"],[1,"actions",3,"cxFocus"],[1,"button","cancel",3,"click"],[1,"button","primary","confirm",3,"click"],[1,"messageTitle"],[3,"type"]],template:function(n,r){n&1&&(u(0,"div",0),X("esc",function(){return r.close()}),x(1,Gg,3,3,"p",1),u(2,"div",2),x(3,kg,1,1,"cx-icon",3),u(4,"p"),g(5),c(6,"cxTranslate"),l()(),u(7,"div",4)(8,"button",5),X("click",function(){return r.close()}),g(9),c(10,"cxTranslate"),l(),u(11,"button",6),X("click",function(){return r.confirm()}),g(12),c(13,"cxTranslate"),l()()()),n&2&&(a("cxFocus",se(13,Og)),s(),a("ngIf",r.messageTitle),s(2),a("ngIf",r.messageIcon),s(2),_(" ",p(6,7,r.message)," "),s(2),a("cxFocus",se(14,Ng)),s(2),_(" ",p(10,9,r.cancelText)," "),s(3),_(" ",p(13,11,r.confirmText)," "))},dependencies:[H,mi,qe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Ld=(()=>{let e=class e{isItemDisabled(t){return t?.active===!1}isParentDisabled(t){return(t.orgUnit||t.unit||t.parentOrgUnit)?.active===!1&&!this.isRootUnit(t)}isRootUnit(t){return!!(t?.uid&&t?.name&&!t?.orgUnit&&!t?.unit&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xn=(()=>{let e=class e{constructor(t,n,r){this.itemService=t,this.messageService=n,this.disableInfoService=r,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Zi}toggle(t){t.active?this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.deactivate",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deactivateTitle",params:{item:t}},confirm:{key:"organization.confirmation.disable"},component:Fd}),this.subscription.add(this.confirmation.pipe(at()).subscribe(n=>{n.close&&(this.confirmation=null),n.confirm&&(this.messageService.close(this.confirmation),this.update(t),this.confirmation=null)}))):this.update(t)}isDisabled(t){return this.disabled??(this.disableInfoService.isParentDisabled(t)||this.disableInfoService.isRootUnit(t))}update(t){this.itemService.update(t[this.key],this.getPatchedItem(t)).pipe(et(1),$(n=>n.status===gt.SUCCESS)).subscribe(n=>this.notify(L(L({},t),n.item)))}getPatchedItem(t){let n={};return Object.assign(n,{[this.key]:t[this.key]}),n.active=!t.active,n}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.${t.active?"confirmEnabled":"confirmDisabled"}`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne),R(Ld))},e.\u0275cmp=D({type:e,selectors:[["cx-org-toggle-status"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",disabled:"disabled"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"click","disabled"]],template:function(n,r){n&1&&(x(0,jg,4,6,"button",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.current$))},dependencies:[H,pe,G],encapsulation:2});let i=e;return i})(),wd=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,gi,Ve]});let i=e;return i})(),Sn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,zi,wd]});let i=e;return i})(),Md=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.messageService=n,this.key="code",this.current$=this.itemService.current$,this.isInEditMode$=this.itemService.isInEditMode$,this.subscription=new Zi}delete(t){this.confirmation||(this.confirmation=this.messageService.add({message:{key:this.i18nRoot+".messages.delete",params:{item:t}},messageTitle:{key:this.i18nRoot+".messages.deleteTitle",params:{item:t}},component:Fd}),this.subscription.add(this.confirmation.pipe(at()).subscribe(n=>{n.close&&(this.confirmation=null),n.confirm&&(this.messageService.close(this.confirmation),this.confirmDelete(t),this.confirmation=null)})))}confirmDelete(t){this.itemService.delete?.(t[this.key],this.additionalParam).pipe(et(1),$(n=>n.status===gt.SUCCESS)).subscribe(n=>this.notify(L(L({},t),n.item)))}notify(t){this.messageService.add({message:{key:`${this.i18nRoot}.messages.deleted`,params:{item:t}}})}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ne))},e.\u0275cmp=D({type:e,selectors:[["cx-org-delete-item"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",key:"key",additionalParam:"additionalParam"},decls:2,vars:3,consts:[["class","button active",3,"disabled","click",4,"ngIf"],[1,"button","active",3,"click","disabled"]],template:function(n,r){n&1&&(x(0,$g,4,6,"button",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.current$))},dependencies:[H,pe,G],encapsulation:2});let i=e;return i})(),Od=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,zi,wd]});let i=e;return i})(),Qt=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.disableInfoService=n,this.displayCustomInfo=!1,this.current$=this.itemService.current$,this.iconTypes=Xi}get defaultInfoConfig(){return{disabledCreate:!1,disabledEdit:!0,disabledEnable:!0,disabledDisable:!1}}ngOnInit(){this.displayInfoConfig=L(L({},this.defaultInfoConfig),this.displayInfoConfig)}displayDisabledCreate(t){return this.displayInfoConfig?.disabledCreate&&this.disableInfoService.isItemDisabled(t)}displayDisabledEdit(t){return this.displayInfoConfig?.disabledEdit&&this.disableInfoService.isItemDisabled(t)}displayDisabledEnable(t){return this.displayInfoConfig?.disabledEnable&&this.disableInfoService.isParentDisabled(t)}displayDisabledDisable(t){return this.displayInfoConfig?.disabledDisable&&this.disableInfoService.isRootUnit(t)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ld))},e.\u0275cmp=D({type:e,selectors:[["cx-org-disable-info"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",displayInfoConfig:"displayInfoConfig",displayCustomInfo:"displayCustomInfo"},ngContentSelectors:Vg,decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"]],template:function(n,r){n&1&&(Ri(),x(0,Yg,2,1,"ng-container",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.current$))},dependencies:[H,mi,pe,G],encapsulation:2});let i=e;return i})(),Wt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,gi,Q]});let i=e;return i})(),ot=(()=>{let e=class e extends re{constructor(){super(...arguments),this.defaultTableStructure={options:{layout:wi.VERTICAL}},this.ghostData={values:new Array(3)}}assign(t,...n){return Xt}unassign(t,...n){return Xt}filterSelected(t){if(!t)return t;let{pagination:n,sorts:r,values:d}=t;return{pagination:n,sorts:r,values:d.filter(E=>E.selected)}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),Dt=(()=>{let e=class e extends ge{get tabIndex(){return 0}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-active-link-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,Wg,3,8,"a",1)(1,Xg,2,2,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Nd=(()=>{let e=class e extends ge{get property(){if(this.budget&&this.currency)return this.budget+" "+this.currency}get budget(){return this.model.budget}get currency(){return this.model.currency?.isocode||this.model.currency}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-amount-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,ef,3,8,"a",1)(1,tf,2,2,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Gd=(()=>{let e=class e extends ge{constructor(){super(...arguments),this.featuteConfigService=Se(_t,{optional:!0})}get linkable(){return this.featuteConfigService?.isEnabled("a11yOrganizationLinkableCells")?this.hasRange&&(this.cellOptions.linkable??!1):this.hasRange&&(this.cellOptions.linkable??!0)}get hasRange(){return!!this.model.startDate&&!!this.model.endDate}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-date-range-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,rf,3,8,"a",1)(1,sf,1,1,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve,Rn],encapsulation:2,changeDetection:0});let i=e;return i})(),kd=(()=>{let e=class e extends ge{get isTimeSpanThreshold(){return this.model.orderApprovalPermissionType?.code==="B2BOrderThresholdTimespanPermission"}get isOrderThreshold(){return this.model.orderApprovalPermissionType?.code==="B2BOrderThresholdPermission"}get isExceedPermission(){return this.model.orderApprovalPermissionType?.code==="B2BBudgetExceededPermission"}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-limit-cell"]],features:[Re],decls:3,vars:2,consts:[["threshold",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title",4,"ngIf"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,cf,3,8,"a",1)(1,uf,3,3,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),jd=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-roles-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],[1,"text"],["class","li",3,"innerText",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"li",3,"innerText"]],template:function(n,r){if(n&1&&x(0,gf,3,8,"a",1)(1,vf,3,2,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[ti,H,St,z,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),rt=(()=>{let e=class e extends ge{get label(){if(this.isActive!==void 0)return this.isActive?"organization.enabled":"organization.disabled"}get isActive(){return this.model.active}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-status-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabindex",4,"ngIf","ngIfElse"],[3,"routerLink","tabindex"],[4,"ngTemplateOutlet"],["class","text",3,"title","is-active",4,"ngIf"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,Sf,3,8,"a",1)(1,Ef,1,1,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Ye=(()=>{let e=class e extends ge{get property(){return this.model.unit?.name??this.model.orgUnit?.name}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-cell"]],features:[Re],decls:3,vars:2,consts:[["text",""],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(n,r){if(n&1&&x(0,yf,3,8,"a",1)(1,Cf,2,2,"ng-template",null,0,_e),n&2){let d=J(2);a("ngIf",r.linkable)("ngIfElse",d)}},dependencies:[H,St,z,ve],encapsulation:2,changeDetection:0});let i=e;return i})();var T=function(i){return i.BUDGET="orgBudget",i.BUDGET_ASSIGNED_COST_CENTERS="orgBudgetAssignedCostCenters",i.COST_CENTER="orgCostCenter",i.COST_CENTER_BUDGETS="orgCostCenterBudgets",i.COST_CENTER_ASSIGNED_BUDGETS="orgCostCenterAssignedBudgets",i.UNIT="orgUnit",i.UNIT_USERS="orgUnitUsers",i.UNIT_CHILDREN="orgUnitChildren",i.UNIT_APPROVERS="orgUnitApprovers",i.UNIT_ASSIGNED_APPROVERS="orgUnitAssignedApprovers",i.UNIT_ADDRESS="orgUnitAddress",i.UNIT_COST_CENTERS="orgUnitCostCenters",i.USER_GROUP="orgUserGroup",i.USER_GROUP_USERS="orgUserGroupUsers",i.USER_GROUP_ASSIGNED_USERS="orgUserGroupAssignedUsers",i.USER_GROUP_PERMISSIONS="orgUserGroupPermissions",i.USER_GROUP_ASSIGNED_PERMISSIONS="orgUserGroupAssignedPermissions",i.USER="orgUser",i.USER_APPROVERS="orgUserApprovers",i.USER_ASSIGNED_APPROVERS="orgUserAssignedApprovers",i.USER_PERMISSIONS="orgUserPermissions",i.USER_ASSIGNED_PERMISSIONS="orgUserAssignedPermissions",i.USER_USER_GROUPS="orgUserUserGroups",i.USER_ASSIGNED_USER_GROUPS="orgUserAssignedUserGroups",i.PERMISSION="orgPurchaseLimit",i}(T||{}),gr=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-cost-center-details-cell"]],features:[Re],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(n,r){if(n&1&&(x(0,Af,28,28,"ng-template",null,0,_e),u(2,"button",1),g(3),l()),n&2){let d=J(1);s(2),a("cxPopover",d)("cxPopoverOptions",se(3,Vi)),s(),_(" ",r.model.name,`
`)}},dependencies:[H,Mt,z,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),ox=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.budgetService=n,this.tableType=T.BUDGET_ASSIGNED_COST_CENTERS,this._domainType=T.COST_CENTER}load(t,n){return this.budgetService.getCostCenters(n).pipe($(r=>!!r),I(r=>this.filterSelected(r)))}filterSelected({pagination:t,sorts:n,values:r}){return{pagination:t,sorts:n,values:r.filter(d=>d.active)}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),sx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-budget-cost-center-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:ox}])],decls:1,vars:0,template:function(n,r){n&1&&S(0,"cx-org-sub-list")},dependencies:[we],encapsulation:2,changeDetection:0});let i=e;return i})(),rc=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.budgetService=n}getDetailsRoute(){return"orgBudgetDetails"}getParamKey(){return Te.budgetCode}getItem(t){return this.budgetService.get(t)}getError(t){return this.budgetService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ax=(()=>{let e=class e extends Tt{constructor(t){super(),this.datePickerService=t}build(){let t=new ye({});t.setControl("code",new V("",[W.required,Ke.noSpecialCharacters])),t.setControl("name",new V("",W.required)),t.setControl("startDate",new V("",[W.required,Ke.patternValidation(n=>this.datePickerService.isValidFormat(n))])),t.setControl("endDate",new V("",[W.required,Ke.patternValidation(n=>this.datePickerService.isValidFormat(n))])),t.setControl("budget",new V("",[W.required,Ke.mustBePositive])),t.setControl("currency",new ye({isocode:new V(void 0,W.required)})),t.setControl("orgUnit",new ye({uid:new V(void 0,W.required)})),t.setValidators(Ke.dateRange("startDate","endDate",n=>this.datePickerService.getDate(n))),this.form=t}};e.\u0275fac=function(n){return new(n||e)(h(qc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),oc=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.budgetService=d}load(t){return this.budgetService.loadBudget(t),this.budgetService.get(t)}update(t,n){return this.budgetService.update(t,n),this.budgetService.getLoadingStatus(n.code??"")}create(t){return this.budgetService.create(t),this.budgetService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgBudgetDetails"}};e.\u0275fac=function(n){return new(n||e)(h(rc),h(he),h(ax),h(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),cx=(()=>{let e=class e{ngOnInit(){this.model$=this.itemService.key$.pipe(U(t=>this.itemService.load(t)),jt({}))}constructor(t){this.itemService=t,this.isInEditMode$=this.itemService.isInEditMode$}};e.\u0275fac=function(n){return new(n||e)(R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-budget-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:oc}])],decls:2,vars:3,consts:[["i18nRoot","orgBudget.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgBudget.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgBudget"],["info","","i18nRoot","orgBudget"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(n,r){n&1&&(x(0,Bf,57,58,"cx-org-card",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[H,ht,z,si,xn,qi,Qt,qe,pe,ve,G,Rn],encapsulation:2,changeDetection:0});let i=e;return i})();function fr(i,e){if(!e?.value){let o=i?.value?.replace(/\s+/g,"-").toLowerCase();e?.patchValue(o)}}var Cd=(()=>{let e=class e{constructor(t,n,r){this.itemService=t,this.unitService=n,this.currencyService=r,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(K(d=>{d&&d.length===1&&this.form?.get("orgUnit.uid")?.setValue(d[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe(K(d=>{d.length===1&&this.form?.get("currency.isocode")?.setValue(d[0]?.isocode)}))}ngOnInit(){this.unitService.loadList()}createCodeWithName(t,n){fr(t,n)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee),R(Fi))},e.\u0275cmp=D({type:e,selectors:[["cx-org-budget-form"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:oc},{provide:Qe,useExisting:rc}])],decls:2,vars:1,consts:[["i18nRoot","orgBudget"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[1,"label-content"],["label","orgBudget.startDate",3,"update","control","max","required"],["label","orgBudget.endDate",3,"control","min","required","update",4,"cxFeature"],[3,"control","min","required","update",4,"cxFeature"],[3,"formGroup"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["required","true","type","number","formControlName","budget","min","0",1,"form-control",3,"placeholder"],[3,"formGroup",4,"ngIf"],[3,"translationParams","control"],[3,"control"],["label","orgBudget.endDate",3,"update","control","min","required"],[3,"update","control","min","required"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),x(1,qf,47,57,"ng-container",1),l()),n&2&&(s(),a("ngIf",r.form))},dependencies:[H,Ui,wt,Ft,Fr,ut,mt,Lt,jc,It,yt,Ot,Kc,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),px=(()=>{let e=class e extends re{constructor(t,n){super(t),this.tableService=t,this.budgetService=n,this.tableType=T.BUDGET}load(t){return this.budgetService.getList(t).pipe($(zt),I(n=>this.convertBudgets(n)))}convertBudgets({pagination:t,sorts:n,values:r}){return{pagination:t,sorts:n,values:r.map(E=>je(L({},E),{currency:E.currency?.isocode,unit:E.orgUnit}))}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),lx=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(rc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),dx={cmsComponents:{ManageBudgetsListComponent:{component:bi,providers:[{provide:re,useExisting:px},{provide:k,useExisting:oc}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.list",resolver:lx}}},children:[{path:"create",component:Cd},{path:`:${Te.budgetCode}`,component:cx,data:{cxPageMeta:{breadcrumb:"orgBudget.breadcrumbs.details"}},children:[{path:"edit",component:Cd},{path:"cost-centers",component:sx}]}]},guards:[li,Kt]}}};function ux(){return Se(di).a11yOrganizationLinkableCells?gx:mx}var mx={table:{[T.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:Dt},active:{dataComponent:rt},amount:{dataComponent:Nd},dateRange:{dataComponent:Gd},unit:{dataComponent:Ye}}}},[T.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:gr}},pagination:{pageSize:Le}}}}},gx={table:{[T.BUDGET]:{cells:["name","active","amount","dateRange","unit"],options:{cells:{name:{dataComponent:Dt,linkable:!0},active:{dataComponent:rt},amount:{dataComponent:Nd},dateRange:{dataComponent:Gd},unit:{dataComponent:Ye}}}},[T.BUDGET_ASSIGNED_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:gr}},pagination:{pageSize:Le}}}}},fx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Je]});let i=e;return i})(),Ki=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z]});let i=e;return i})(),hx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Sn,Ki,Wt,Ve]});let i=e;return i})(),vx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Zt,Ut,Ie,Q,Ct,Nt,vn,Hc,dt]});let i=e;return i})(),xx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(dx),ai(ux)],imports:[mr,hx,vx,fx]});let i=e;return i})(),dr=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-budget-details-cell"]],features:[Re],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(n,r){if(n&1&&(x(0,Hf,48,47,"ng-template",null,0,_e),u(2,"button",1),g(3),l()),n&2){let d=J(1);s(2),a("cxPopover",d)("cxPopoverOptions",se(3,Vi)),s(),_(" ",r.model.name,`
`)}},dependencies:[Mt,z,G,Rn,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Sx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Pn,ae,Q,Ie]});let i=e;return i})(),$d=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.costCenterService=n,this.budgetService=r,this.tableType=T.COST_CENTER_BUDGETS,this._domainType=T.BUDGET}load(t,n){return this.costCenterService.getBudgets(n,t)}assign(t,n){return this.costCenterService.assignBudget(t,n),this.budgetService.getLoadingStatus(n)}unassign(t,n){return this.costCenterService.unassignBudget(t,n),this.budgetService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(dn),h(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_x=(()=>{let e=class e extends $d{constructor(){super(...arguments),this.tableType=T.COST_CENTER_ASSIGNED_BUDGETS}load(t,n){return super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ex=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-cost-center-assigned-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:_x}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Ix=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-cost-center-budget-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:$d}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),yx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Q,ae,Je]});let i=e;return i})(),sc=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.costCenterService=n}getParamKey(){return Te.costCenterCode}getItem(t){return this.costCenterService.get(t)}getError(t){return this.costCenterService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(dn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Cx=(()=>{let e=class e extends Tt{build(){let t=new ye({});t.setControl("code",new V("",[W.required,Ke.noSpecialCharacters])),t.setControl("name",new V("",W.required)),t.setControl("currency",new ye({isocode:new V(void 0,W.required)})),t.setControl("unit",new ye({uid:new V(void 0,W.required)})),this.form=t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),_n=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.costCenterService=d}load(t){return this.costCenterService.load(t),this.costCenterService.get(t)}update(t,n){return this.costCenterService.update(t,n),this.costCenterService.getLoadingStatus(n.code??"")}create(t){return this.costCenterService.create(t),this.costCenterService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgCostCenterDetails"}};e.\u0275fac=function(n){return new(n||e)(h(sc),h(he),h(Cx),h(dn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ux=(()=>{let e=class e{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe(U(n=>this.itemService.load(n)),jt({})),this.isInEditMode$=this.itemService.isInEditMode$}};e.\u0275fac=function(n){return new(n||e)(R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-cost-center-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:_n}])],decls:2,vars:3,consts:[["i18nRoot","orgCostCenter.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgCostCenter.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgCostCenter"],["info","","i18nRoot","orgCostCenter"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(n,r){n&1&&(x(0,Wf,43,47,"cx-org-card",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[H,ht,z,si,xn,qi,Qt,qe,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Wa=(()=>{let e=class e{set unitKey(t){t&&(this.form?.get("unit.uid")?.setValue(t),this.form?.get("unit")?.disable())}constructor(t,n,r){this.itemService=t,this.unitService=n,this.currencyService=r,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(K(d=>{d&&d.length===1&&this.form?.get("unit.uid")?.setValue(d[0]?.id)})),this.currencies$=this.currencyService.getAll().pipe(K(d=>{d.length===1&&this.form?.get("currency.isocode")?.setValue(d[0]?.isocode)}))}createCodeWithName(t,n){fr(t,n)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee),R(Fi))},e.\u0275cmp=D({type:e,selectors:[["cx-org-cost-center-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[Y([{provide:k,useExisting:_n},{provide:Qe,useExisting:sc}])],decls:2,vars:1,consts:[["i18nRoot","orgCostCenter"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],["formGroupName","currency"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),x(1,sh,35,51,"ng-container",1),l()),n&2&&(s(),a("ngIf",r.form))},dependencies:[H,Ui,wt,Ft,ut,mt,Lt,It,yt,Dn,Ot,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),bx=(()=>{let e=class e extends re{constructor(t,n){super(t),this.tableService=t,this.costCenterService=n,this.tableType=T.COST_CENTER}load(t){return this.costCenterService.getList(t).pipe($(zt),I(n=>this.convertCostCenters(n)))}convertCostCenters({pagination:t,sorts:n,values:r}){return{pagination:t,sorts:n,values:r.map(E=>je(L({},E),{currency:E.currency?.isocode}))}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(dn))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ax=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(sc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Rx={cmsComponents:{ManageCostCentersListComponent:{component:bi,providers:[{provide:re,useExisting:bx},{provide:k,useExisting:_n}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.list",resolver:Ax}}},children:[{path:"create",component:Wa},{path:`:${Te.costCenterCode}`,component:Ux,data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.details"}},children:[{path:"edit",component:Wa},{path:"budgets",data:{cxPageMeta:{breadcrumb:"orgCostCenter.breadcrumbs.budgets"}},children:[{path:"",component:Ex},{path:"assign",component:Ix}]}]}]},guards:[li,Kt]}}};function Tx(){return Se(di).a11yOrganizationLinkableCells?Dx:Bx}var Dx={table:{[T.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:Dt,linkable:!0},active:{dataComponent:rt},currency:{dataComponent:ge},unit:{dataComponent:Ye}}}},[T.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:{dataComponent:Me}},pagination:{pageSize:Le}}},[T.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:{dataComponent:Me}}}}}},Bx={table:{[T.COST_CENTER]:{cells:["name","active","currency","unit"],options:{cells:{name:{dataComponent:Dt},active:{dataComponent:rt},currency:{dataComponent:ge},unit:{dataComponent:Ye}}}},[T.COST_CENTER_ASSIGNED_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:{dataComponent:Me}},pagination:{pageSize:Le}}},[T.COST_CENTER_BUDGETS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:dr},actions:{dataComponent:Me}}}}}},Px=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Sn,Ki,Wt,Ve]});let i=e;return i})(),Fx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Fi,Ee],imports:[Z,ae,Zt,Ut,Ie,Q,Ct,Nt,vn,dt]});let i=e;return i})(),Lx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(Rx),ai(Tx)],imports:[mr,Px,Fx,yx,Sx]});let i=e;return i})(),ac=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.permissionService=n}getParamKey(){return Te.permissionCode}getItem(t){return this.permissionService.get(t)}getError(t){return this.permissionService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Si))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),yi=function(i){return i.ORDER="B2BOrderThresholdPermission",i.TIME_SPAN="B2BOrderThresholdTimespanPermission",i.EXCEEDED="B2BBudgetExceededPermission",i}(yi||{}),wx=(()=>{let e=class e extends Tt{constructor(){super(...arguments),this.subscription=new Zi}build(){let t=new ye({});t.setControl("code",new V("",[W.required,Ke.noSpecialCharacters])),t.setControl("orgUnit",new ye({uid:new V(void 0,W.required)})),t.setControl("orderApprovalPermissionType",new ye({code:new V(void 0,W.required)})),this.subscription.add(t.get("orderApprovalPermissionType")?.get("code")?.valueChanges.pipe(Gt(),$(n=>!!n)).subscribe(n=>this.amend(t,n))),this.form=t}get defaultValue(){return{orderApprovalPermissionType:{code:yi.EXCEEDED}}}amend(t,n){n===yi.EXCEEDED&&(t.removeControl("periodRange"),t.removeControl("currency"),t.removeControl("threshold")),(n===yi.TIME_SPAN||n===yi.ORDER)&&(t.get("currency")||t.setControl("currency",new ye({isocode:new V(void 0,W.required)})),t.get("threshold")||t.setControl("threshold",new V("",W.required))),n===yi.ORDER&&t.removeControl("periodRange"),n===yi.TIME_SPAN&&(t.get("periodRange")||t.setControl("periodRange",new V("",W.required)))}ngOnDestroy(){this.subscription.unsubscribe()}patchData(t){super.patchData(t),t?.code!==void 0&&this.form?.get("orderApprovalPermissionType")?.disable()}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),cc=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.permissionService=d}load(t){return this.permissionService.loadPermission(t),this.permissionService.get(t)}update(t,n){return this.permissionService.update(t,n),this.permissionService.getLoadingStatus(n.code??"")}create(t){return this.permissionService.create(t),this.permissionService.getLoadingStatus(t.code??"")}getDetailsRoute(){return"orgPurchaseLimitDetails"}};e.\u0275fac=function(n){return new(n||e)(h(ac),h(he),h(wx),h(Si))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Mx=(()=>{let e=class e{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe(U(n=>this.itemService.load(n)),jt({})),this.isInEditMode$=this.itemService.isInEditMode$}};e.\u0275fac=function(n){return new(n||e)(R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-permission-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:cc}])],decls:2,vars:3,consts:[["i18nRoot","orgPurchaseLimit.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgPurchaseLimit.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","i18nRoot","orgPurchaseLimit",3,"disabled"],["info","","i18nRoot","orgPurchaseLimit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"],[1,"value",3,"routerLink"]],template:function(n,r){n&1&&(x(0,uh,35,40,"cx-org-card",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[H,ht,z,xn,qi,Qt,qe,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Ox=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Sn,Ki,Wt,Ve]});let i=e;return i})(),Ud=(()=>{let e=class e{constructor(t,n,r,d){this.itemService=t,this.unitService=n,this.currencyService=r,this.permissionService=d,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(K(E=>{E&&E.length===1&&this.form?.get("orgUnit.uid")?.setValue(E[0].id)})),this.currencies$=this.currencyService.getAll().pipe(K(E=>{E.length===1&&this.form?.get("currency.isocode")?.setValue(E[0]?.isocode)})),this.types$=this.permissionService.getTypes(),this.periods=Object.keys(Qa)}ngOnInit(){this.unitService.loadList()}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee),R(Fi),R(Si))},e.\u0275cmp=D({type:e,selectors:[["cx-org-permission-form"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:cc},{provide:Qe,useExisting:ac}])],decls:2,vars:1,consts:[["i18nRoot","orgPurchaseLimit"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","code",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],[3,"formGroup",4,"ngIf"],[4,"ngIf"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],["formControlName","periodRange","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder",4,"ngIf"],["formControlName","isocode","bindLabel","name","bindValue","isocode",3,"inputAttrs","searchable","clearable","items","placeholder"],["type","number","required","","formControlName","threshold",1,"form-control",3,"placeholder"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),x(1,Dh,23,32,"ng-container",1),l()),n&2&&(s(),a("ngIf",r.form))},dependencies:[H,wt,Ft,Fr,ut,mt,Lt,It,yt,Ot,Ui,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Nx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Ut,Ie,Q,Ct,Nt,Zt,vn,dt]});let i=e;return i})(),Gx=(()=>{let e=class e extends re{constructor(t,n){super(t),this.tableService=t,this.permissionsService=n,this.tableType=T.PERMISSION}load(t){return this.permissionsService.getList(t).pipe($(zt),I(n=>this.convertPermissions(n)))}convertPermissions({pagination:t,sorts:n,values:r}){return{pagination:t,sorts:n,values:r.map(E=>je(L({},E),{unit:E.orgUnit}))}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Si))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),kx=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(ac))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),jx={cmsComponents:{ManagePermissionsListComponent:{component:bi,providers:[{provide:re,useExisting:Gx},{provide:k,useExisting:cc}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.list",resolver:kx}}},children:[{path:"create",component:Ud},{path:`:${Te.permissionCode}`,component:Mx,data:{cxPageMeta:{breadcrumb:"orgPurchaseLimit.breadcrumbs.details"}},children:[{path:"edit",component:Ud}]}]},guards:[li,Kt]}}};function $x(){return Se(di).a11yOrganizationLinkableCells?Vx:zx}var Vx={table:{[T.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:Dt,linkable:!0},active:{dataComponent:rt},unit:{dataComponent:Ye},limit:{dataComponent:kd}}}}}},zx={table:{[T.PERMISSION]:{cells:["code","active","limit","unit"],options:{cells:{code:{dataComponent:Dt},active:{dataComponent:rt},unit:{dataComponent:Ye},limit:{dataComponent:kd}}}}}},qx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(jx),ai($x)],imports:[mr,Ox,Nx]});let i=e;return i})(),st=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.orgUnitService=n}getParamKey(){return Te.unitCode}getItem(t){return this.orgUnitService.get(t)}getError(t){return this.orgUnitService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Vd=(()=>{let e=class e extends Tt{patchData(t){this.toggleParentUnit(t),super.patchData(t)}build(){let t=new ye({});t.setControl("uid",new V("",[W.required,Ke.noSpecialCharacters])),t.setControl("name",new V("",W.required)),t.setControl("approvalProcess",new ye({code:new V(null)})),this.form=t,this.toggleParentUnit()}toggleParentUnit(t){this.isRootUnit(t)?this.form?.removeControl("parentOrgUnit"):this.form?.get("parentOrgUnit")||this.form?.setControl("parentOrgUnit",new ye({uid:new V(null,W.required)}))}isRootUnit(t){return!!(t?.uid&&t?.name&&(!t?.parentOrgUnit||t?.uid===t?.parentOrgUnit))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Hi=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.unitService=d}load(t){return this.unitService.load(t),this.unitService.get(t)}update(t,n){return this.unitService.update(t,n),this.unitService.getLoadingStatus(n.uid??"")}create(t){return this.unitService.create(t),this.unitService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUnitDetails"}};e.\u0275fac=function(n){return new(n||e)(h(st),h(he),h(Vd),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Kx=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.orgUnitService=n,this.model$=this.itemService.key$.pipe(U(r=>this.itemService.load(r)),jt({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUnitAllowed=this.orgUnitService?this.orgUnitService.isUpdatingUnitAllowed():!0}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:Hi}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.details",3,"cxFocus","showHint",4,"ngIf"],["i18nRoot","orgUnit.details",3,"cxFocus","showHint"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","uid","i18nRoot","orgUnit",4,"ngIf"],["info","","i18nRoot","orgUnit",3,"displayInfoConfig"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],["class","property",4,"ngIf"],["main","",1,"link-list"],[4,"ngIf"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUnit"],[1,"value",3,"routerLink"],["class","link","routerLinkActive","is-current",3,"routerLink",4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(n,r){n&1&&(x(0,zh,28,27,"cx-org-card",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[H,ht,z,si,xn,qi,qe,Qt,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Hx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Sn,Ki,Ve,Wt]});let i=e;return i})(),Xa=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.unitService=n,this.i18nRoot="orgUnit",this.createChildUnit=!1,this.form=this.itemService.getForm(),this.units$=this.itemService.unit$.pipe(K(r=>{this.form?.get("parentOrgUnit.uid")?.setValue(r),this.createChildUnit&&this.form?.get("parentOrgUnit")?.disable()}),U(()=>this.unitService.getActiveUnitList().pipe(I(r=>r?.filter(d=>d.id!==this.form?.value.uid)),K(r=>{r&&r.length===1&&this.form?.get("parentOrgUnit.uid")?.setValue(r[0]?.id)})))),this.approvalProcess$=this.unitService.getApprovalProcesses().pipe($(zt),$(r=>r.length>0))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,n){fr(t,n)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-form"]],hostAttrs:[1,"content-wrapper"],inputs:{i18nRoot:"i18nRoot",createChildUnit:"createChildUnit"},features:[Y([{provide:k,useExisting:Hi},{provide:Qe,useExisting:st}])],decls:2,vars:2,consts:[["parentOrgUnitNotes",""],[3,"i18nRoot"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],["formGroupName","approvalProcess",1,"full-width"],["formControlName","code","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"inputAttrs","searchable","items","placeholder"],[4,"ngIf","ngIfElse"],[3,"translationParams","control"],[3,"control"],["formGroupName","parentOrgUnit"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],[1,"notes-content"]],template:function(n,r){n&1&&(u(0,"cx-org-form",1),x(1,tv,29,33,"ng-container",2),l()),n&2&&(a("i18nRoot",r.i18nRoot),s(),a("ngIf",r.form))},dependencies:[H,Ui,wt,Ft,ut,mt,Lt,It,yt,Dn,Ot,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Zx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Zt,Ut,Ie,Q,Ct,Nt,vn,dt]});let i=e;return i})(),zd=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.unitService=n,this.item$=this.b2bUnit$.pipe($(r=>!!r),U(r=>this.key$.pipe(U(d=>this.getItem(r,d)))))}getDetailsRoute(){return"orgUnitAddressDetails"}getParamKey(){return Te.addressCode}getItem(t,n){return n?this.unitService.getAddress(t,n):oe(void 0)}getError(t){return this.unitService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),qd=(()=>{let e=class e extends Tt{constructor(t,n){super(),this.userAddressService=t,this.userProfileFacade=n}build(){let t=new ye({});t.setControl("id",new V("")),t.setControl("titleCode",new V("")),t.setControl("firstName",new V("",W.required)),t.setControl("lastName",new V("",W.required)),t.setControl("line1",new V("",W.required)),t.setControl("line2",new V("")),t.setControl("town",new V("",W.required)),t.setControl("country",new ye({isocode:new V(null,W.required)})),t.setControl("region",new ye({isocode:new V(null,W.required)})),t.setControl("postalCode",new V("",W.required)),t.setControl("phone",new V("")),t.setControl("cellphone",new V("")),this.form=t}getCountries(){return this.userAddressService.getDeliveryCountries().pipe(K(t=>{Object.keys(t).length===0&&this.userAddressService.loadDeliveryCountries()}))}getTitles(){return this.userProfileFacade.getTitles()}getRegions(){let t=this.form?.get("country.isocode")?.value,n;return this.getForm()?.get("country.isocode")?.valueChanges.pipe($(r=>!!r),U(r=>(n=r,this.userAddressService.getRegions(r))),K(r=>{let d=this.form?.get("region.isocode");!r||r.length===0?d?.disable():d?.enable(),t&&n!==t&&d?.reset(),t=n}))??oe([])}};e.\u0275fac=function(n){return new(n||e)(h(Dr),h(jr))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Kd=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.unitService=d,this.featureConfigService=Se(_t,{optional:!0}),this.unitRouteParam$=this.routingService.getParams().pipe(I(E=>E[Te.unitCode]),Gt())}load(t,n){return this.unitService.getAddress(t,n).pipe($(zt))}update(t,n){return this.unitRouteParam$.pipe(at()).subscribe(r=>{this.unitService.updateAddress(r,t,n)}),this.unitService.getAddressLoadingStatus(t)}create(t){return this.featureConfigService?.isEnabled("fixMyCompanyUnitAddressCreation")&&(t.id="new"),this.unitRouteParam$.pipe(at()).subscribe(n=>this.unitService.createAddress(n,t)),this.unitService.getAddressLoadingStatus(t.id??"")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}delete(t,n){return this.launchList(),this.unitService.deleteAddress(n,t),this.unitService.getAddressLoadingStatus(t)}launchDetails(t){t.id?this.unitRouteParam$.pipe(at()).subscribe(n=>{this.routingService.go({cxRoute:this.getDetailsRoute(),params:je(L({},t),{uid:n})})}):this.launchList()}launchList(){this.unitRouteParam$.pipe(at()).subscribe(t=>{this.routingService.go({cxRoute:"orgUnitAddressList",params:{uid:t}})})}};e.\u0275fac=function(n){return new(n||e)(h(zd),h(he),h(qd),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Yx=(()=>{let e=class e{getCountry(t){return this.userAddressService.getDeliveryCountries().pipe(K(n=>{Object.keys(n).length===0&&this.userAddressService.loadDeliveryCountries()}),I(n=>n.find(r=>r.isocode===t)))}constructor(t,n,r){this.itemService=t,this.currentUnitService=n,this.userAddressService=r,this.unit$=this.currentUnitService.item$,this.model$=this.itemService.key$.pipe(In(this.unit$),U(([d,E])=>this.itemService.load(E?.uid,d)),En({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(n){return new(n||e)(R(k),R(st),R(Dr))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-address-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:Kd}])],decls:2,vars:3,consts:[[4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus",4,"ngIf"],["i18nRoot","orgUnitAddress.details",3,"subtitle","cxFocus"],["actions","","routerLink","edit",1,"link"],["actions","","key","id","i18nRoot","orgUnitAddress",3,"additionalParam"],["main","",1,"details"],[1,"property"],[1,"value"],[3,"routerLink"],[1,"property","full-width"]],template:function(n,r){n&1&&(x(0,nv,3,3,"ng-container",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.unit$))},dependencies:[H,ht,z,Md,qe,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Qx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Od,Ve]});let i=e;return i})(),Hd=(()=>{let e=class e extends ge{constructor(t,n){super(t),this.outlet=t,this.itemService=n,this.unitKey$=this.itemService.key$}get tabIndex(){return 0}getRouterModel(t){return je(L({},this.outlet.context),{uid:t})}};e.\u0275fac=function(n){return new(n||e)(R(ui),R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-link-cell"]],features:[Re],decls:4,vars:3,consts:[["text",""],[4,"ngIf"],[3,"routerLink","tabIndex",4,"ngIf","ngIfElse"],[3,"routerLink","tabIndex"],[4,"ngTemplateOutlet"],[1,"text",3,"title"]],template:function(n,r){n&1&&(x(0,sv,2,2,"ng-container",1),c(1,"async"),x(2,av,2,2,"ng-template",null,0,_e)),n&2&&a("ngIf",p(1,1,r.unitKey$))},dependencies:[H,St,z,pe,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Wx=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.orgUnitService=n,this.tableType=T.UNIT_ADDRESS,this._domainType=T.UNIT_ADDRESS}load(t,n){return this.orgUnitService.getAddresses(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Xx=(()=>{let e=class e{constructor(){this.routerKey=Te.addressCode}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-address-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:Wx}])],decls:4,vars:5,consts:[["key","id",1,"has-nested-view",3,"routerKey","showHint"],["actions","","routerLink","create",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("routerKey",r.routerKey)("showHint",!0),s(2),_(" ",p(3,3,"organization.create")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Jx=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,ae,Ie,Je]});let i=e;return i})(),bd=(()=>{let e=class e{constructor(t,n,r){this.itemService=t,this.formService=n,this.currentUnitService=r,this.form=this.itemService.getForm(),this.key$=this.itemService.key$,this.countries$=this.formService.getCountries(),this.titles$=this.formService.getTitles(),this.regions$=this.formService.getRegions(),this.unit$=this.currentUnitService.item$}ngOnInit(){}};e.\u0275fac=function(n){return new(n||e)(R(k),R(qd),R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-address-form"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:Kd}])],decls:5,vars:12,consts:[["i18nRoot","orgUnitAddress",3,"animateBack","subtitle"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],["formGroupName","country"],[1,"label-content","required"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"country-select",3,"inputAttrs","searchable","clearable","items","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],["required","true","type","text","formControlName","firstName",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","lastName",1,"form-control",3,"placeholder"],[1,"full-width"],["required","true","type","text","formControlName","line1",1,"form-control",3,"placeholder"],[1,"label-content"],["type","text","formControlName","line2",1,"form-control",3,"placeholder"],["type","text","formControlName","phone",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","town",1,"form-control",3,"placeholder"],["required","true","type","text","formControlName","postalCode",1,"form-control",3,"placeholder"],[4,"ngIf"],[3,"translationParams","control"],[3,"control"],["class","full-width","formGroupName","region",4,"ngIf"],["formGroupName","region",1,"full-width"],["formControlName","isocode","bindLabel","name","bindValue","isocode","appendTo","cx-org-list",1,"region-select",3,"inputAttrs","searchable","clearable","items","placeholder"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),c(1,"async"),c(2,"async"),c(3,"cxTranslate"),x(4,Cv,72,82,"ng-container",1),l()),n&2&&(a("animateBack",!p(1,3,r.key$))("subtitle",Bt(3,7,"orgUnitAddress.details.subtitle",A(10,fn,p(2,5,r.unit$)))),s(4),a("ngIf",r.form))},dependencies:[H,Ui,wt,Ft,ut,mt,Lt,It,yt,Dn,Ot,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),eS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Zt,Ut,Ie,Q,Ct,Nt,dt]});let i=e;return i})(),tS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Jx,Qx,eS]});let i=e;return i})(),Zd=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.unitService=n,this.userService=r,this.tableType=T.UNIT_APPROVERS,this._domainType=T.USER}load(t,n){return this.unitService.getUsers(n,$e.APPROVER,t)}assign(t,n){return this.unitService.assignApprover(t,n,$e.APPROVER),this.userService.getLoadingStatus(n)}unassign(t,n){return this.unitService.unassignApprover(t,n,$e.APPROVER),this.userService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),iS=(()=>{let e=class e extends Zd{constructor(){super(...arguments),this.tableType=T.UNIT_ASSIGNED_APPROVERS}load(t,n){return this.unitService.clearAssignedUsersList(n,$e.APPROVER,t),super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),nS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:iS}])],decls:4,vars:4,consts:[[3,"showHint"],["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("showHint",!0),s(2),_(" ",p(3,2,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),rS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:Zd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),oS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Q,ae,Je]});let i=e;return i})(),sS=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.orgUnitService=n,this.tableType=T.UNIT_CHILDREN,this._domainType=T.UNIT}load(t,n){return this.orgUnitService.getChildUnits(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),aS=(()=>{let e=class e{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:oe({active:!0})}};e.\u0275fac=function(n){return new(n||e)(R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-children"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:sS}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitChildren",3,"displayInfoConfig"]],template:function(n,r){if(n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),c(2,"async"),g(3),c(4,"cxTranslate"),l(),S(5,"cx-org-disable-info",2),l()),n&2){let d;a("showHint",!0),s(),xe("disabled",!((d=p(2,5,r.unit$))!=null&&d.active)),s(2),_(" ",p(4,7,"organization.create")," "),s(2),a("displayInfoConfig",se(9,ic))}},dependencies:[z,we,Qt,G,pe],encapsulation:2,changeDetection:0});let i=e;return i})(),cS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Q,ae,Je,Z,Wt]});let i=e;return i})(),pS=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.unitService=n,this.tableType=T.UNIT_COST_CENTERS,this._domainType=T.COST_CENTER}load(t,n){return this.unitService.getCostCenters(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),lS=(()=>{let e=class e{constructor(t){this.currentUnitService=t,this.unit$=this.currentUnitService?this.currentUnitService.item$:oe({active:!0})}};e.\u0275fac=function(n){return new(n||e)(R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-cost-centers"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:pS}])],decls:6,vars:10,consts:[[3,"showHint"],["actions","","routerLink","create",1,"link"],["info","","i18nRoot","orgUnitCostCenters",3,"displayInfoConfig"]],template:function(n,r){if(n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),c(2,"async"),g(3),c(4,"cxTranslate"),l(),S(5,"cx-org-disable-info",2),l()),n&2){let d;a("showHint",!0),s(),xe("disabled",!((d=p(2,5,r.unit$))!=null&&d.active)),s(2),_(" ",p(4,7,"organization.create")," "),s(2),a("displayInfoConfig",se(9,ic))}},dependencies:[z,we,Qt,G,pe],encapsulation:2,changeDetection:0});let i=e;return i})(),dS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Q,ae,Je,Z,Wt]});let i=e;return i})(),Yd=(()=>{let e=class e extends ge{constructor(t,n,r){super(t),this.outlet=t,this.itemService=n,this.b2bUserService=r,this.unitKey$=this.itemService.key$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed(),Pi("a11yListOversizedFocus")}getRouterModel(t){return je(L({},this.outlet.context),{uid:t})}};e.\u0275fac=function(n){return new(n||e)(R(ui),R(k),R(Fe))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-user-link-cell"]],features:[Re],decls:2,vars:2,consts:[[4,"cxFeature"],["class","button",3,"routerLink",4,"ngIf"],[1,"button",3,"routerLink"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(n,r){n&1&&x(0,bv,3,3,"ng-container",0)(1,Rv,3,3,"ng-container",0),n&2&&(a("cxFeature","a11yListOversizedFocus"),s(),a("cxFeature","!a11yListOversizedFocus"))},dependencies:[H,z,lt,pe,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),uS=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.unitService=n,this.tableType=T.UNIT_USERS,this._domainType=T.USER}load(t,n){return this.unitService.getUsers(n,$e.CUSTOMER,t)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),mS=(()=>{let e=class e{constructor(t,n){this.currentUnitService=t,this.b2bUserService=n,this.routerKey=Te.userCode,this.unit$=this.currentUnitService?this.currentUnitService.item$:oe({active:!0}),this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed()}};e.\u0275fac=function(n){return new(n||e)(R(st),R(Fe))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-user-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:uS}])],decls:3,vars:5,consts:[["key","customerId",3,"routerKey","showHint"],["actions","","class","link","routerLink","create",3,"disabled",4,"ngIf"],["info","","i18nRoot","orgUnitUsers",3,"displayInfoConfig"],["actions","","routerLink","create",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0),x(1,Tv,4,7,"a",1),S(2,"cx-org-disable-info",2),l()),n&2&&(a("routerKey",r.routerKey)("showHint",!0),s(),a("ngIf",r.isUpdatingUserAllowed),s(),a("displayInfoConfig",se(4,ic)))},dependencies:[H,z,we,Qt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),gS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,ae,Ie,Je,Wt,dt]});let i=e;return i})(),fS=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.b2bUserService=n}getDetailsRoute(){return"orgUnitUserList"}getParamKey(){return Te.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Qd=(()=>{let e=class e extends Tt{constructor(t){super(),this.userService=t,this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}getForm(t){return this.form=null,super.getForm(t)}build(){let t=new ye({});this.availableRoles.forEach(n=>t.addControl(n,new V)),this.availableRights.forEach(n=>t.addControl(n,new V)),this.form=t}patchData(t){super.patchData(t),t&&t.roles?.forEach(n=>{this.form?.get(n)?.setValue(!0)})}};e.\u0275fac=function(n){return new(n||e)(h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),hS=(()=>{let e=class e extends k{constructor(t,n,r,d,E){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.unitService=d,this.b2bUserService=E}save(t,n){return t.get("orgUnit")?.enable(),super.save(t,n)}load(t){return this.b2bUserService.get(t)}update(t,n){return this.b2bUserService.getLoadingStatus(t)}create(t){return this.b2bUserService.getLoadingStatus("")}getDetailsRoute(){return this.currentItemService.getDetailsRoute()}};e.\u0275fac=function(n){return new(n||e)(h(fS),h(he),h(Qd),h(Ee),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),pc=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.b2bUserService=n,this.name$=this.item$.pipe(I(r=>r?.name))}getParamKey(){return Te.userCode}getItem(t){return this.b2bUserService.get(t)}getError(t){return this.b2bUserService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),vS=(()=>{let e=class e extends Tt{build(){let t=new ye({});t.setControl("customerId",new V("")),t.setControl("titleCode",new V("")),t.setControl("firstName",new V("",W.required)),t.setControl("lastName",new V("",W.required)),t.setControl("email",new V("",[W.required,Ke.emailValidator])),t.setControl("orgUnit",new ye({uid:new V(void 0,W.required)})),t.setControl("roles",new $c([])),t.setControl("isAssignedToApprovers",new V(!1)),t.get("roles")?.valueChanges.subscribe(n=>{n.includes($e.APPROVER)?t.get("isAssignedToApprovers")?.enable():(t.get("isAssignedToApprovers")?.disable(),t.get("isAssignedToApprovers")?.reset())}),this.form=t}patchData(t){if(super.patchData(t),t){let n=this.form?.get("roles"),r=this.form?.get("email");t.roles?.forEach(d=>{n.value.includes(d)||n.push(new V(d))}),t.displayUid&&r&&r.setValue(t.displayUid)}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ai=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.userService=d}load(t){return this.userService.load(t),this.userService.get(t)}update(t,n){return delete n.approvers,this.userService.update(t,n),this.userService.getLoadingStatus(t)}create(t){return this.userService.create(t),this.userService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserDetails"}launchDetails(t){t.customerId!==null&&super.launchDetails(t)}};e.\u0275fac=function(n){return new(n||e)(h(pc),h(he),h(vS),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),xS=(()=>{let e=class e{constructor(t,n,r,d){this.itemService=t,this.formService=n,this.userService=r,this.userItemService=d,this.form$=this.itemService.current$.pipe(K(E=>{this.item||(this.item=E),this.item?.roles?.join()!==E?.roles?.join()&&(this.item=L(L({},this.item),E))}),I(E=>this.formService.getForm(E))),this.availableRoles=this.userService.getAllRoles(),this.availableRights=this.userService.getAllRights()}save(t){t.disable();let n=[...this.availableRoles,...this.availableRights].filter(r=>!!t.get(r)?.value);this.userItemService.update(this.item?.customerId??"",{roles:n}).pipe(et(1),$(r=>r.status===gt.SUCCESS)).subscribe(r=>{this.notify(L(L({},this.item),r.item)),t.enable()})}notify(t){this.messageService.add({message:{key:"orgUnitUserRoles.messages.rolesUpdated",params:{item:t}}})}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Qd),R(Fe),R(Ai))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-user-roles"]],viewQuery:function(n,r){if(n&1&&Ti(Ne,5,Ne),n&2){let d;Di(d=Bi())&&(r.messageService=d.first)}},hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:hS}])],decls:2,vars:3,consts:[["card",""],[3,"submit",4,"ngIf"],[3,"submit"],["i18nRoot","orgUnitUserRoles",3,"previous","cxFocus"],["actions","","routerLink","../../"],[3,"click"],["main","",1,"details",3,"formGroup"],[1,"full-width"],[1,"label-content","required"],["class","form-check",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox",3,"change","formControlName"],[1,"form-check-label"]],template:function(n,r){n&1&&(x(0,Pv,18,16,"form",1),c(1,"async")),n&2&&a("ngIf",p(1,1,r.form$))},dependencies:[ti,H,ht,Tn,Br,ut,mt,Pr,z,It,yt,qe,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),SS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,Bn,ae,Ie,Q,Ct,Ve]});let i=e;return i})(),_S=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[gS,SS]});let i=e;return i})(),it=function(i){return i[i.EXPANDED=0]="EXPANDED",i[i.COLLAPSED=1]="COLLAPSED",i}(it||{}),lc=(()=>{let e=class e{constructor(){this.minimalExpanded=1,this.globalToggle$=new Yi(void 0),this.treeToggle$=new Yi(new Map)}initialize(t,n){n&&this.expandUntilActiveNode(t,n)}collapseAll(){this.globalToggle$.next(it.COLLAPSED),this.treeToggle$.next(new Map)}expandAll(){this.globalToggle$.next(it.EXPANDED),this.treeToggle$.next(new Map)}isExpanded(t,n){let r=this.treeToggle$.value?.get(t);return this.globalToggle$.value===it.COLLAPSED&&r!==it.EXPANDED?!1:r===it.EXPANDED||(this.globalToggle$.value===it.EXPANDED||n<this.minimalExpanded)&&r!==it.COLLAPSED}toggle(t){let n=this.treeToggle$.value;n.set(t.id??"",this.isExpanded(t.id??"",t.depthLevel)?it.COLLAPSED:it.EXPANDED),this.treeToggle$.next(n)}expandUntilActiveNode(t,n){let r=(v,b)=>!!v.children?.find(q=>q.id===b||r(q,b)),d=(v,b=[])=>(r(v,n)&&b.push(v.id??""),v.children?.forEach(q=>{d(q,b)}),b),E=this.treeToggle$.value;d(t).forEach(v=>{E.get(v)!==it.EXPANDED&&E.set(v,it.EXPANDED)}),E!==this.treeToggle$.value&&this.treeToggle$.next(E)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ES=(()=>{let e=class e{constructor(t,n){this.unitTreeService=t,this.orgUnitService=n,this.isUpdatingUnitAllowed=this.orgUnitService?this.orgUnitService.isUpdatingUnitAllowed():!0}expandAll(){this.unitTreeService.expandAll()}collapseAll(){this.unitTreeService.collapseAll()}};e.\u0275fac=function(n){return new(n||e)(R(lc),R(Ee))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-list"]],decls:8,vars:7,consts:[[3,"hideAddButton"],["actions",""],[1,"link",3,"click"]],template:function(n,r){n&1&&(u(0,"cx-org-list",0),ue(1,1),u(2,"button",2),X("click",function(){return r.expandAll()}),g(3),c(4,"cxTranslate"),l(),u(5,"button",2),X("click",function(){return r.collapseAll()}),g(6),c(7,"cxTranslate"),l(),me(),l()),n&2&&(a("hideAddButton",!r.isUpdatingUnitAllowed),s(3),_(" ",p(4,3,"orgUnit.tree.expandAll")," "),s(3),_(" ",p(7,5,"orgUnit.tree.collapseAll")," "))},dependencies:[bi,G],encapsulation:2,changeDetection:0});let i=e;return i})(),Wd=(()=>{let e=class e extends ge{get depthLevel(){return this.model.depthLevel}constructor(t,n){super(t),this.outlet=t,this.unitTreeService=n,this.elementRef=Se(xc,{optional:!0}),this.routingService=Se(he,{optional:!0}),this.featureConfigService=Se(_t,{optional:!0}),Pi("a11yUnitsListKeyboardControls")}get combinedName(){return this.property?`${this.property} (${this.count})`:""}get expanded(){return this.model.expanded}get count(){return this.model.count}toggleItem(t){t.preventDefault(),t.stopPropagation(),this.unitTreeService.toggle(this.model)}get isSwitchable(){return this.count>0}get hasItem(){return!!this.item&&Object.keys(this.item).length>0}get item(){if(!this.outlet.context)return null;let v=this.outlet.context,{_field:t,_options:n,_type:r,_i18nRoot:d}=v;return hr(v,["_field","_options","_type","_i18nRoot"])}onKeydown(t){if(!this.featureConfigService?.isEnabled("a11yUnitsListKeyboardControls"))return;let r=(this.elementRef?.nativeElement.closest("table")).querySelectorAll("cx-org-toggle-link-cell a"),d=Array.from(r).findIndex(E=>E===t.target);switch(t.key){case"ArrowDown":this.onArrowDown(t,d,r);break;case"ArrowUp":this.onArrowUp(t,d,r);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case" ":case"Enter":this.onSpace(t,r);break}}onSpace(t,n){t.preventDefault(),n.forEach(r=>{r.tabIndex=-1}),t.target.tabIndex=0,this.routingService?.go({cxRoute:this.route,params:this.routeModel}).then(()=>{this.restoreFocus()})}onArrowDown(t,n,r){t.preventDefault(),r[n+1]?.focus()}onArrowUp(t,n,r){t.preventDefault(),r[n+-1]?.focus()}onArrowRight(t){!this.expanded&&this.isSwitchable&&(this.toggleItem(t),this.restoreFocus())}onArrowLeft(t){this.expanded&&this.isSwitchable&&(this.toggleItem(t),this.restoreFocus())}restoreFocus(){let t=document.activeElement?.id||"";this.unitTreeService.treeToggle$.pipe(et(1)).subscribe(()=>{setTimeout(()=>{document.getElementById(t)?.focus()},0)})}};e.\u0275fac=function(n){return new(n||e)(R(ui),R(lc))},e.\u0275cmp=D({type:e,selectors:[["cx-org-toggle-link-cell"]],hostVars:2,hostBindings:function(n,r){n&2&&Ec("--cx-depth-level",r.depthLevel)},features:[Re],decls:1,vars:1,consts:[["class","hide-focus-border","role","treeitem",3,"id","routerLink","keydown",4,"ngIf"],["role","treeitem",1,"hide-focus-border",3,"keydown","id","routerLink"],["class","button tree-item-toggle","type","button","tabindex","-1",3,"click",4,"ngIf"],[1,"text",3,"title"],["type","button","tabindex","-1",1,"button","tree-item-toggle",3,"click"],[3,"type"]],template:function(n,r){n&1&&x(0,Lv,5,12,"a",0),n&2&&a("ngIf",r.hasItem)},dependencies:[H,z,mi,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),IS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Ie,Q,gi,Yt]});let i=e;return i})(),He=(()=>{let e=class e extends ge{constructor(t,n){super(n),this.b2bUserService=t,this.outlet=n,this.availableRoles=this.b2bUserService.getAllRoles().map(r=>r.toString()),this.availableRights=this.b2bUserService.getAllRights().map(r=>r.toString()),this.b2bUserModel=super.model}hasRight(t){return(t.roles??[]).some(n=>this.availableRights.includes(n))}};e.\u0275fac=function(n){return new(n||e)(R(Fe),R(ui))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-details-cell"]],features:[Re],decls:1,vars:1,consts:[["details",""],[4,"ngIf"],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"property","full-width"],[1,"value"],[4,"ngFor","ngForOf"],["class","property",4,"ngIf"],[3,"innerText",4,"ngIf"],[3,"innerText"]],template:function(n,r){n&1&&x(0,zv,5,4,"ng-container",1),n&2&&a("ngIf",r.b2bUserModel)},dependencies:[ti,H,Mt,z,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),Xd=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-details-cell"]],features:[Re],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"]],template:function(n,r){if(n&1&&(x(0,Hv,22,24,"ng-template",null,0,_e),u(2,"button",1),g(3),l()),n&2){let d=J(1);s(2),a("cxPopover",d)("cxPopoverOptions",se(3,Vi)),s(),_(" ",r.model.name,`
`)}},dependencies:[H,Mt,z,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),yS=(()=>{let e=class e extends st{getParamKey(){return"childUnitCode"}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),CS=(()=>{let e=class e extends Hi{constructor(t,n,r,d){super(t,n,r,d),this.currentItemService=t,this.routingService=n,this.formService=r,this.unitService=d}save(t,n){return t.get("parentOrgUnit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitChildren"}buildRouteParams(t){return{uid:t.parentOrgUnit?.uid}}};e.\u0275fac=function(n){return new(n||e)(h(yS),h(he),h(Vd),h(Ee))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),US=(()=>{let e=class e{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}};e.\u0275fac=function(n){return new(n||e)(R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-child-create"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:Hi,useExisting:CS}])],decls:1,vars:1,consts:[["i18nRoot","orgUnit.children",3,"createChildUnit"]],template:function(n,r){n&1&&S(0,"cx-org-unit-form",0),n&2&&a("createChildUnit",!0)},dependencies:[Xa],encapsulation:2,changeDetection:0});let i=e;return i})();var bS=(()=>{let e=class e extends _n{save(t,n){return t.get("unit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitCostCenters"}buildRouteParams(t){return{uid:t.unit?.uid}}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),AS=(()=>{let e=class e{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}};e.\u0275fac=function(n){return new(n||e)(R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-cost-center-create"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:_n,useExisting:bS}])],decls:2,vars:3,consts:[[3,"unitKey"]],template:function(n,r){n&1&&(S(0,"cx-org-cost-center-form",0),c(1,"async")),n&2&&a("unitKey",p(1,1,r.unitKey$))},dependencies:[Wa,pe],encapsulation:2,changeDetection:0});let i=e;return i})();var RS=(()=>{let e=class e extends Ai{constructor(){super(...arguments),this.featureConfigService=Se(_t,{optional:!0})}save(t,n){return t.get("orgUnit")?.enable(),super.save(t,n)}getDetailsRoute(){return"orgUnitUserList"}buildRouteParams(t){return{uid:t.orgUnit?.uid}}launchDetails(t){let n=this.getDetailsRoute(),r=this.buildRouteParams(t);n&&t&&Object.keys(t).length>0&&this.routingService.go({cxRoute:n,params:r})}create(t){return this.featureConfigService?.isEnabled("fixMyCompanyUnitUserCreation")?(t.customerId="new",this.userService.create(t),this.userService.getLoadingStatus(t.customerId??"")):super.create(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ja=(()=>{let e=class e{set unitKey(t){t&&(this.form?.get("orgUnit.uid")?.setValue(t),this.form?.get("orgUnit")?.disable())}constructor(t,n,r,d){this.itemService=t,this.unitService=n,this.userProfileFacade=r,this.b2bUserService=d,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(K(E=>{E&&E.length===1&&this.form?.get("orgUnit.uid")?.setValue(E[0]?.id)})),this.titles$=this.userProfileFacade.getTitles(),this.availableRoles=this.b2bUserService.getAllRoles(),this.availableRights=this.b2bUserService.getAllRights()}ngOnInit(){this.unitService.loadList()}updateRoles(t){let{checked:n,value:r}=t.target;n?this.roles.push(new V(r)):this.roles.removeAt(this.roles.value.indexOf(r))}get roles(){return this.form?.get("roles")}get isAssignedToApprovers(){return this.form?.get("isAssignedToApprovers")}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee),R(jr),R(Fe))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-form"]],hostAttrs:[1,"content-wrapper"],inputs:{unitKey:"unitKey"},features:[Y([{provide:k,useExisting:Ai},{provide:Qe,useExisting:pc}])],decls:2,vars:1,consts:[["i18nRoot","orgUser"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["formControlName","titleCode","bindLabel","name","bindValue","code","appendTo","cx-org-list",3,"searchable","clearable","items","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","firstName",1,"form-control",3,"placeholder"],["type","text","required","","formControlName","lastName",1,"form-control",3,"placeholder"],["type","email","required","","formControlName","email",1,"form-control",3,"placeholder"],["required","true","formArrayName","roles",1,"full-width"],["class","form-check",4,"ngFor","ngForOf"],["required","true",1,"full-width"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","placeholder"],["class","full-width",4,"ngIf"],[3,"translationParams","control"],[3,"control"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"change","value","checked","disabled"],[1,"form-check-label"],[1,"full-width"],["type","checkbox","formControlName","isAssignedToApprovers",1,"form-check-input"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),x(1,a1,54,63,"ng-container",1),l()),n&2&&(s(),a("ngIf",r.form))},dependencies:[ti,H,Ui,wt,Ft,Br,ut,mt,Lt,It,yt,kc,Ot,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),TS=(()=>{let e=class e{constructor(t){this.unitService=t,this.unitKey$=this.unitService.key$}};e.\u0275fac=function(n){return new(n||e)(R(st))},e.\u0275cmp=D({type:e,selectors:[["cx-org-unit-user-create"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:Ai,useExisting:RS}])],decls:2,vars:3,consts:[["i18nRoot","orgUnit.users",3,"unitKey"]],template:function(n,r){n&1&&(S(0,"cx-org-user-form",0),c(1,"async")),n&2&&a("unitKey",p(1,1,r.unitKey$))},dependencies:[Ja,pe],encapsulation:2,changeDetection:0});let i=e;return i})(),DS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Zt,Ut,Ie,Q,Ct,Nt,dt]});let i=e;return i})();var BS=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(zd))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),PS=(()=>{let e=class e extends re{constructor(t,n,r,d){super(t),this.tableService=t,this.unitService=n,this.unitItemService=r,this.unitTreeService=d,this.tableType=T.UNIT}load(){return this.unitService.getTree().pipe(U(t=>this.unitItemService.key$.pipe(I(n=>(t&&this.unitTreeService.initialize(t,n),t)))),U(t=>this.unitTreeService.treeToggle$.pipe(I(()=>t))),I(t=>this.convertListItem(t)))}convertListItem(t,n=0,r={totalResults:0}){let d=[];if(!t)return;let E=je(L({},t),{count:t.children?.length??0,expanded:this.unitTreeService.isExpanded(t.id??"",n),depthLevel:n,uid:t.id??"",children:[...t.children??[]].sort((v,b)=>(v.name??"").localeCompare(b.name??""))});return d.push(E),r.totalResults++,E.children?.forEach(v=>{let b=this.convertListItem(v,n+1,r)?.values;E.expanded&&b&&b.length>0&&(d=d.concat(b))}),{values:d,pagination:r}}key(){return"uid"}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Ee),h(Hi),h(lc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),FS=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(st))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),LS={cmsComponents:{ManageUnitsListComponent:{component:ES,providers:[{provide:re,useExisting:PS},{provide:k,useExisting:Hi}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.list",resolver:FS}}},children:[{path:"create",component:Xa,canActivate:[un]},{path:`:${Te.unitCode}`,component:Kx,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.details"}},children:[{path:"edit",component:Xa,canActivate:[un]},{path:"children",component:aS,canActivate:[un],data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.children"}},children:[{path:"create",component:US}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.approvers"}},children:[{path:"",component:nS},{path:"assign",component:rS}]},{path:"users",component:mS,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.users"}},children:[{path:"create",component:TS,canActivate:[Ei]},{path:`:${Te.userCode}/roles`,component:xS,canActivate:[Ei]}]},{path:"cost-centers",component:lS,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.costCenters"}},children:[{path:"create",component:AS}]},{path:"addresses",component:Xx,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addresses",resolver:BS}},children:[{path:"create",component:bd},{path:`:${Te.addressCode}`,data:{cxPageMeta:{breadcrumb:"orgUnit.breadcrumbs.addressDetails"}},children:[{path:"",component:Yx},{path:"edit",component:bd}]}]}]}]},guards:[li,Kt]}}};function wS(){return Se(di).a11yOrganizationLinkableCells?MS:OS}var MS={table:{[T.UNIT]:{cells:["name"],options:{layout:wi.VERTICAL,cells:{name:{dataComponent:Wd,linkable:!0},active:{dataComponent:rt},uid:{dataComponent:ge}}},[Lr.lg]:{cells:["name","active","uid"]}},[T.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:He},roles:{dataComponent:Yd}}}},[T.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Xd},active:{dataComponent:rt}}}},[T.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me},orgUnit:{dataComponent:Ye}}}},[T.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:He},actions:{dataComponent:Me},orgUnit:{dataComponent:Ye}}}},[T.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:gr}},pagination:{pageSize:Le}}},[T.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:Le},cells:{formattedAddress:{dataComponent:Hd,linkable:!0}}}}}},OS={table:{[T.UNIT]:{cells:["name"],options:{layout:wi.VERTICAL,cells:{name:{dataComponent:Wd},active:{dataComponent:rt},uid:{dataComponent:ge}}},[Lr.lg]:{cells:["name","active","uid"]}},[T.UNIT_USERS]:{cells:["name","roles"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:He},roles:{dataComponent:Yd}}}},[T.UNIT_CHILDREN]:{cells:["name","active"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:Xd},active:{dataComponent:rt,linkable:!1}}}},[T.UNIT_APPROVERS]:{cells:["name","orgUnit","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me},orgUnit:{dataComponent:Ye,linkable:!1}}}},[T.UNIT_ASSIGNED_APPROVERS]:{cells:["name","orgUnit","actions"],options:{pagination:{pageSize:Le},cells:{name:{dataComponent:He},actions:{dataComponent:Me},orgUnit:{dataComponent:Ye,linkable:!1}}}},[T.UNIT_COST_CENTERS]:{cells:["name"],options:{cells:{name:{dataComponent:gr}},pagination:{pageSize:Le}}},[T.UNIT_ADDRESS]:{cells:["formattedAddress"],options:{pagination:{pageSize:Le},cells:{formattedAddress:{dataComponent:Hd}}}}}},NS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(LS),ai(wS)],imports:[ae,IS,Hx,Zx,cS,oS,_S,dS,tS]});let i=e;return i})(),dc=(()=>{let e=class e extends Qe{constructor(t,n){super(t),this.routingService=t,this.userGroupService=n}getParamKey(){return Te.userGroupCode}getItem(t){return this.userGroupService.get(t)}getError(t){return this.userGroupService.getErrorState(t)}};e.\u0275fac=function(n){return new(n||e)(h(he),h(_i))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),GS=(()=>{let e=class e extends Tt{build(){let t=new ye({});t.setControl("uid",new V("",[W.required,Ke.noSpecialCharacters])),t.setControl("name",new V("",W.required)),t.setControl("orgUnit",new ye({uid:new V(void 0,W.required)})),this.form=t}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),uc=(()=>{let e=class e extends k{constructor(t,n,r,d){super(t,n,r),this.currentItemService=t,this.routingService=n,this.formService=r,this.userGroupService=d}load(t){return this.userGroupService.load(t),this.userGroupService.get(t)}update(t,n){return this.userGroupService.update(t,n),this.userGroupService.getLoadingStatus(n.uid??"")}delete(t){return this.launchList(),this.userGroupService.delete(t),this.userGroupService.getLoadingStatus(t)}create(t){return this.userGroupService.create(t),this.userGroupService.getLoadingStatus(t.uid??"")}getDetailsRoute(){return"orgUserGroupDetails"}launchList(){this.routingService.go({cxRoute:"orgUserGroup"})}};e.\u0275fac=function(n){return new(n||e)(h(dc),h(he),h(GS),h(_i))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),kS=(()=>{let e=class e{constructor(t){this.itemService=t,this.model$=this.itemService.key$.pipe(U(n=>this.itemService.load(n)),jt({})),this.isInEditMode$=this.itemService.isInEditMode$}};e.\u0275fac=function(n){return new(n||e)(R(k))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:uc}])],decls:2,vars:3,consts:[["i18nRoot","orgUserGroup.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUserGroup.details",3,"cxFocus"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","uid","i18nRoot","orgUserGroup"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"value",3,"routerLink"],["main","",1,"link-list"],[4,"ngIf"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(n,r){n&1&&(x(0,u1,29,33,"cx-org-card",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[H,ht,z,si,Md,qi,qe,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),jS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Od,Ki,Ve]});let i=e;return i})(),Ad=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.unitService=n,this.form=this.itemService.getForm(),this.units$=this.unitService.getActiveUnitList().pipe(K(r=>{r&&r.length===1&&this.form?.get("orgUnit.uid")?.setValue(r[0]?.id)}))}ngOnInit(){this.unitService.loadList()}createUidWithName(t,n){fr(t,n)}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Ee))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-form"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:uc}])],decls:2,vars:1,consts:[["i18nRoot","orgUserGroup"],["main","",3,"formGroup",4,"ngIf"],["main","",3,"formGroup"],[1,"label-content","required"],["type","text","required","","formControlName","name",1,"form-control",3,"blur","placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["type","text","required","","formControlName","uid",1,"form-control",3,"placeholder"],[3,"formGroup"],["formControlName","uid","bindLabel","name","bindValue","id","appendTo","cx-org-list",3,"inputAttrs","searchable","clearable","items","readonly","placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(n,r){n&1&&(u(0,"cx-org-form",0),x(1,S1,26,34,"ng-container",1),l()),n&2&&(s(),a("ngIf",r.form))},dependencies:[H,wt,Ft,ut,mt,Lt,It,yt,Ot,Ui,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),$S=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Ut,Ie,Q,Ct,Nt,Zt,dt]});let i=e;return i})(),Jd=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.userGroupService=n,this.permissionService=r,this.tableType=T.USER_GROUP_PERMISSIONS,this._domainType=T.PERMISSION}load(t,n){return this.userGroupService.getAvailableOrderApprovalPermissions(n,t)}assign(t,n){return this.userGroupService.assignPermission(t,n),this.permissionService.getLoadingStatus(n)}unassign(t,n){return this.userGroupService.unassignPermission(t,n),this.permissionService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(_i),h(Si))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),VS=(()=>{let e=class e extends Jd{constructor(){super(...arguments),this.tableType=T.USER_GROUP_ASSIGNED_PERMISSIONS}load(t,n){return super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),zS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:VS}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),qS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:Jd}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"a",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),KS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,ae,Je]});let i=e;return i})(),Ht=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-permission-details-cell"]],features:[Re],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"],["class","property",4,"ngIf"],["class","value",3,"routerLink",4,"ngIf"]],template:function(n,r){if(n&1&&(x(0,C1,28,27,"ng-template",null,0,_e),u(2,"button",1),g(3),l()),n&2){let d=J(1);s(2),a("cxPopover",d)("cxPopoverOptions",se(3,Vi)),s(),_(" ",r.model.code,`
`)}},dependencies:[H,Mt,z,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),HS=(()=>{let e=class e extends re{constructor(t,n){super(t),this.tableService=t,this.userGroupService=n,this.tableType=T.USER_GROUP}key(){return"uid"}load(t){return this.userGroupService.getList(t).pipe($(zt),I(n=>this.convertUserGroups(n)))}convertUserGroups({pagination:t,sorts:n,values:r}){return{pagination:t,sorts:n,values:r.map(E=>je(L({},E),{unit:E.orgUnit}))}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(_i))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ZS=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(dc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ec=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.userGroupService=n,this.userService=r,this.tableType=T.USER_GROUP_USERS,this._domainType=T.USER}load(t,n){return this.userGroupService.getAvailableOrgCustomers(n,t)}assign(t,n){return this.userGroupService.assignMember(t,n),this.userService.getLoadingStatus(n)}unassign(t,n){return this.userGroupService.unassignMember(t,n),this.userService.getLoadingStatus(n)}unassignAllMembers(t){return this.userGroupService.unassignAllMembers(t),this.userGroupService.getLoadingStatus(t)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(_i),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),YS=(()=>{let e=class e extends ec{constructor(){super(...arguments),this.tableType=T.USER_GROUP_ASSIGNED_USERS}load(t,n){return super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),QS=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-assigned-user-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:YS}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),WS=(()=>{let e=class e{constructor(t,n){this.currentUserGroupService=t,this.userGroupUserListService=n}unassignAll(){this.currentUserGroupService.key$.pipe(at(),U(t=>this.userGroupUserListService.unassignAllMembers(t).pipe(et(1),$(n=>n.status===gt.SUCCESS)))).subscribe(t=>{this.notify(t.item)})}notify(t){this.subList.messageService.add({message:{key:"orgUserGroupUsers.unassignAllConfirmation",params:{item:t}}})}};e.\u0275fac=function(n){return new(n||e)(R(dc),R(ec))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-user-list"]],viewQuery:function(n,r){if(n&1&&Ti(U1,5),n&2){let d;Di(d=Bi())&&(r.subList=d.first)}},hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:ec}])],decls:8,vars:7,consts:[["subList",""],[3,"previous"],["actions","",1,"link",3,"click"],["actions","","routerLink","../",1,"link"]],template:function(n,r){if(n&1){let d=fe();u(0,"cx-org-sub-list",1,0)(2,"button",2),X("click",function(){return le(d),de(r.unassignAll())}),g(3),c(4,"cxTranslate"),l(),u(5,"a",3),g(6),c(7,"cxTranslate"),l()()}n&2&&(a("previous",!1),s(3),_(" ",p(4,3,"orgUserGroupUsers.unassignAll")," "),s(3),_(" ",p(7,5,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),XS={cmsComponents:{ManageUserGroupsListComponent:{component:bi,providers:[{provide:re,useExisting:HS},{provide:k,useExisting:uc}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.list",resolver:ZS}}},children:[{path:"create",component:Ad},{path:`:${Te.userGroupCode}`,component:kS,data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.details"}},children:[{path:"edit",component:Ad},{path:"users",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.users"}},children:[{path:"",component:QS},{path:"assign",component:WS}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUserGroup.breadcrumbs.permissions"}},children:[{path:"",component:zS},{path:"assign",component:qS}]}]}]},guards:[li,Kt]}}};function JS(){return Se(di).a11yOrganizationLinkableCells?e_:t_}var e_={table:{[T.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:ge,cells:{name:{dataComponent:Dt,linkable:!0},uid:{dataComponent:ge},unit:{dataComponent:Ye}}}},[T.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me}},pagination:{pageSize:Le}}},[T.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me}}}},[T.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:{dataComponent:Me}}}},[T.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:{dataComponent:Me}},pagination:{pageSize:Le}}}}},t_={table:{[T.USER_GROUP]:{cells:["name","uid","unit"],options:{dataComponent:ge,cells:{name:{dataComponent:Dt},uid:{dataComponent:ge},unit:{dataComponent:Ye}}}},[T.USER_GROUP_ASSIGNED_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me}},pagination:{pageSize:Le}}},[T.USER_GROUP_USERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:{dataComponent:Me}}}},[T.USER_GROUP_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:{dataComponent:Me}}}},[T.USER_GROUP_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:{dataComponent:Me}},pagination:{pageSize:Le}}}}},i_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,Q,ae,Je]});let i=e;return i})(),n_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(XS),ai(JS)],imports:[mr,jS,$S,KS,i_]});let i=e;return i})(),eu=(()=>{let e=class e extends ot{constructor(t,n){super(t),this.tableService=t,this.userService=n,this.tableType=T.USER_APPROVERS,this._domainType=T.USER_GROUP}load(t,n){return this.userService.getApprovers(n,t)}assign(t,n){return this.userService.assignApprover(t,n),this.userService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignApprover(t,n),this.userService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),r_=(()=>{let e=class e extends eu{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_APPROVERS}load(t,n){return super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),o_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-assigned-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:r_}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),s_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-approver-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:eu}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"button",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),a_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Q,ae,Je]});let i=e;return i})(),c_=(()=>{let e=class e extends Tt{constructor(){super(...arguments),this.featureConfigService=Se(_t)}build(){let t=this.featureConfigService?.isEnabled("formErrorsDescriptiveMessages")?[Ke.passwordValidator]:Ke.passwordValidators,n=new ye({});n.setControl("customerId",new V("")),n.setControl("password",new V("",[W.required,...t])),n.setControl("confirmPassword",new V("",[W.required,...t])),n.setValidators(Ke.passwordsMustMatch("password","confirmPassword")),this.form=n}getForm(t){return this.form=null,super.getForm(t)}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),p_=(()=>{let e=class e{constructor(t,n,r){this.itemService=t,this.formService=n,this.messageService=r,this.form$=this.itemService.current$.pipe(I(d=>this.formService.getForm(d)))}save(t){this.itemService.current$.pipe(at(),U(n=>this.itemService.save(t,t.value.customerId).pipe(et(1),$(r=>r.status===gt.SUCCESS),I(r=>L(L({},n),r.item))))).subscribe(n=>{this.notify(n),this.itemService.launchDetails(n)})}notify(t){this.messageService.add({message:{key:"orgUser.messages.updatePassword",params:{item:t}}})}};e.\u0275fac=function(n){return new(n||e)(R(Ai),R(c_),R(Ne))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-change-password-form"]],hostAttrs:[1,"content-wrapper"],decls:2,vars:3,consts:[[3,"formGroup","submit",4,"ngIf"],[3,"submit","formGroup"],["i18nRoot","orgUser.password",3,"previous","cxFocus"],["actions","",1,"button","primary"],["actions","","routerLink","../","type","button",1,"link"],["main","",1,"details"],[1,"full-width"],[1,"label-content"],["required","true","type","password","name","password","formControlName","password","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control",4,"cxFeature"],[3,"control",4,"cxFeature"],["required","true","type","password","name","confirmPassword","formControlName","confirmPassword","cxPasswordVisibilitySwitch","",1,"form-control",3,"placeholder"],[3,"translationParams","control"],[3,"control"]],template:function(n,r){n&1&&(x(0,D1,27,33,"form",0),c(1,"async")),n&2&&a("ngIf",p(1,1,r.form$))},dependencies:[H,z,Tn,Ft,ut,mt,Lt,It,yt,Ot,ht,qe,Zc,lt,pe,G],encapsulation:2,changeDetection:0});let i=e;return i})(),l_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,ae,Ut,Ie,Q,Ct,Nt,vt,Ve,Yc,dt]});let i=e;return i})(),d_=(()=>{let e=class e{constructor(t,n){this.itemService=t,this.b2bUserService=n,this.model$=this.itemService.key$.pipe(U(r=>this.itemService.load(r)),jt({})),this.isInEditMode$=this.itemService.isInEditMode$,this.isUpdatingUserAllowed=this.b2bUserService.isUpdatingUserAllowed(),this.availableRoles=this.b2bUserService.getAllRoles().map(r=>r.toString()),this.availableRights=this.b2bUserService.getAllRights().map(r=>r.toString())}hasRight(t){return(t.roles??[]).some(n=>this.availableRights.includes(n))}};e.\u0275fac=function(n){return new(n||e)(R(k),R(Fe))},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-details"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:k,useExisting:Ai}])],decls:2,vars:3,consts:[["showOrgUnitValueWithoutNavigation",""],["i18nRoot","orgUser.details",3,"cxFocus",4,"ngIf"],["i18nRoot","orgUser.details",3,"cxFocus"],["actions","","class","link edit",3,"disabled","routerLink",4,"ngIf"],["actions","","key","customerId","i18nRoot","orgUser",4,"ngIf"],["info","","i18nRoot","orgUser"],["main","","cxOrgItemExists","",1,"details"],[1,"property"],[1,"value"],[1,"property","full-width"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","value",3,"routerLink",4,"ngIf","ngIfElse"],["class","link",3,"disabled","routerLink",4,"ngIf"],["main","",1,"link-list"],["actions","",1,"link","edit",3,"routerLink"],["actions","","key","customerId","i18nRoot","orgUser"],[3,"innerText",4,"ngIf"],[3,"innerText"],[1,"value",3,"routerLink"],[1,"orgUnit"],[1,"link",3,"routerLink"],["routerLinkActive","is-current",1,"link",3,"routerLink"]],template:function(n,r){n&1&&(x(0,Y1,36,26,"cx-org-card",1),c(1,"async")),n&2&&a("ngIf",p(1,1,r.model$))},dependencies:[ti,H,ht,z,si,xn,qi,Qt,qe,pe,ve,G],encapsulation:2,changeDetection:0});let i=e;return i})(),u_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Z,vt,ae,Ie,Q,Sn,Ki,Wt,Ve]});let i=e;return i})(),tu=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.userService=n,this.permissionService=r,this.tableType=T.USER_PERMISSIONS,this._domainType=T.PERMISSION}load(t,n){return this.userService.getPermissions(n,t)}assign(t,n){return this.userService.assignPermission(t,n),this.permissionService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignPermission(t,n),this.permissionService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Fe),h(Si))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),m_=(()=>{let e=class e extends tu{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_PERMISSIONS}load(t,n){return super.load(t,n).pipe(I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),g_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-assigned-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:m_}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),f_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-permission-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:tu}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"button",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),h_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Q,ae,Je]});let i=e;return i})(),iu=(()=>{let e=class e extends ot{constructor(t,n,r){super(t),this.tableService=t,this.userService=n,this.userGroupService=r,this.tableType=T.USER_USER_GROUPS,this._domainType=T.USER_GROUP}load(t,n){return this.userService.getUserGroups(n,t)}assign(t,n){return this.userService.assignUserGroup(t,n),this.userGroupService.getLoadingStatus(n)}unassign(t,n){return this.userService.unassignUserGroup(t,n),this.userGroupService.getLoadingStatus(n)}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Fe),h(_i))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),v_=(()=>{let e=class e extends iu{constructor(){super(...arguments),this.tableType=T.USER_ASSIGNED_USER_GROUPS}load(t,n){return super.load(t,n).pipe($(r=>!!r),I(r=>this.filterSelected(r)))}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),x_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-assigned-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:v_}])],decls:4,vars:3,consts:[["actions","","routerLink","assign",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list")(1,"a",0),g(2),c(3,"cxTranslate"),l()()),n&2&&(s(2),_(" ",p(3,1,"organization.assign")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),S_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=D({type:e,selectors:[["cx-org-user-user-group-list"]],hostAttrs:[1,"content-wrapper"],features:[Y([{provide:re,useExisting:iu}])],decls:4,vars:4,consts:[[3,"previous"],["actions","","routerLink","../",1,"link"]],template:function(n,r){n&1&&(u(0,"cx-org-sub-list",0)(1,"button",1),g(2),c(3,"cxTranslate"),l()()),n&2&&(a("previous",!1),s(2),_(" ",p(3,2,"organization.done")," "))},dependencies:[z,we,G],encapsulation:2,changeDetection:0});let i=e;return i})(),__=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Yt,Q,ae,Je]});let i=e;return i})(),ur=(()=>{let e=class e extends ge{};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=te(e)))(r||e)}})(),e.\u0275cmp=D({type:e,selectors:[["cx-org-user-group-details-cell"]],features:[Re],decls:4,vars:4,consts:[["details",""],[1,"button","text",3,"cxPopover","cxPopoverOptions"],[1,"popover-details"],[1,"property"],[1,"value",3,"routerLink"],[1,"value"]],template:function(n,r){if(n&1&&(x(0,W1,21,22,"ng-template",null,0,_e),u(2,"button",1),g(3),l()),n&2){let d=J(1);s(2),a("cxPopover",d)("cxPopoverOptions",se(3,Vi)),s(),_(" ",r.model==null?null:r.model.name,`
`)}},dependencies:[Mt,z,G,ve],encapsulation:2,changeDetection:0});let i=e;return i})(),E_=(()=>{let e=class e extends re{constructor(t,n){super(t),this.tableService=t,this.userService=n,this.tableType=T.USER}key(){return"customerId"}load(t){return this.userService.getList(t).pipe($(zt),I(n=>this.convertUsers(n)))}convertUsers({pagination:t,sorts:n,values:r}){let d=this.userService.getAllRoles();return{pagination:t,sorts:n,values:r.map(v=>je(L({},v),{unit:v.orgUnit,roles:v.roles?.filter(b=>d.includes(b))}))}}};e.\u0275fac=function(n){return new(n||e)(h(Pe),h(Fe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),I_=(()=>{let e=class e extends qt{constructor(t,n){super(t),this.currentItemService=n}getParams(){return this.currentItemService.item$}};e.\u0275fac=function(n){return new(n||e)(h(Et),h(pc))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),y_={cmsComponents:{ManageUsersListComponent:{component:bi,providers:[{provide:re,useExisting:E_},{provide:k,useExisting:Ai}],childRoutes:{parent:{data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.list",resolver:I_}}},children:[{path:"create",component:Ja,canActivate:[Ei]},{path:`:${Te.userCode}`,component:d_,data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.details"}},children:[{path:"edit",component:Ja,canActivate:[Ei]},{path:"change-password",component:p_,canActivate:[Ei]},{path:"user-groups",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.userGroups"}},children:[{path:"",component:x_},{path:"assign",component:S_}]},{path:"approvers",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.approvers"}},children:[{path:"",component:o_},{path:"assign",component:s_}]},{path:"purchase-limits",data:{cxPageMeta:{breadcrumb:"orgUser.breadcrumbs.permissions"}},children:[{path:"",component:g_},{path:"assign",component:f_}]}]}]},guards:[li,Kt]}}};function C_(){return Se(di).a11yOrganizationLinkableCells?U_:b_}var nt={dataComponent:Me},$i={pageSize:Le},U_={table:{[T.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:Dt,linkable:!0},active:{dataComponent:rt},uid:{dataComponent:ge},roles:{dataComponent:jd},unit:{dataComponent:Ye}}}},[T.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:nt}}},[T.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:nt},pagination:$i}},[T.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ur},actions:nt}}},[T.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ur},actions:nt},pagination:$i}},[T.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:nt}}},[T.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:nt},pagination:$i}}}},b_={table:{[T.USER]:{cells:["name","active","uid","roles","unit"],options:{cells:{name:{dataComponent:Dt},active:{dataComponent:rt},uid:{dataComponent:ge},roles:{dataComponent:jd},unit:{dataComponent:Ye}}}},[T.USER_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:nt}}},[T.USER_ASSIGNED_APPROVERS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:He},actions:nt},pagination:$i}},[T.USER_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ur},actions:nt}}},[T.USER_ASSIGNED_USER_GROUPS]:{cells:["name","actions"],options:{cells:{name:{dataComponent:ur},actions:nt},pagination:$i}},[T.USER_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:nt}}},[T.USER_ASSIGNED_PERMISSIONS]:{cells:["code","actions"],options:{cells:{code:{dataComponent:Ht},actions:nt},pagination:$i}}}},A_=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(y_),ai(C_)],imports:[Yt,l_,u_,DS,h_,__,a_]});let i=e;return i})(),nu=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[xx,Lx,NS,n_,A_,qx]});let i=e;return i})();var R_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getBudgetEndpoint(t,n)).pipe(this.converter.pipeable(ki))}loadList(t,n){return this.http.get(this.getBudgetsEndpoint(t,n)).pipe(this.converter.pipeable(cr))}create(t,n){let r=this.converter.convert(n,pr);return this.http.post(this.getBudgetsEndpoint(t),r).pipe(this.converter.pipeable(ki))}update(t,n,r){let d=this.converter.convert(r,pr);return this.http.patch(this.getBudgetEndpoint(t,n),d).pipe(this.converter.pipeable(ki))}getBudgetEndpoint(t,n){return this.occEndpoints.buildUrl("budget",{urlParams:{userId:t,budgetCode:n}})}getBudgetsEndpoint(t,n){return this.occEndpoints.buildUrl("budgets",{urlParams:{userId:t},queryParams:n})}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),T_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getCostCenterEndpoint(t,n)).pipe(this.converter.pipeable(bn))}loadList(t,n){return this.http.get(this.getAllCostCentersEndpoint(t,n)).pipe(this.converter.pipeable(wc))}create(t,n){return n=this.converter.convert(n,br),this.http.post(this.getCostCentersEndpoint(t),n).pipe(this.converter.pipeable(bn))}update(t,n,r){return r=this.converter.convert(r,br),this.http.patch(this.getCostCenterEndpoint(t,n),r).pipe(this.converter.pipeable(bn))}loadBudgets(t,n,r){return this.http.get(this.getBudgetsEndpoint(t,n,r)).pipe(this.converter.pipeable(cr))}assignBudget(t,n,r){return this.http.post(this.getBudgetsEndpoint(t,n,{budgetCode:r}),null)}unassignBudget(t,n,r){return this.http.delete(this.getBudgetEndpoint(t,n,r))}getCostCenterEndpoint(t,n){return this.occEndpoints.buildUrl("costCenter",{urlParams:{userId:t,costCenterCode:n}})}getCostCentersEndpoint(t,n){return this.occEndpoints.buildUrl("costCenters",{urlParams:{userId:t},queryParams:n})}getAllCostCentersEndpoint(t,n){return this.occEndpoints.buildUrl("costCentersAll",{urlParams:{userId:t},queryParams:n})}getBudgetsEndpoint(t,n,r){return this.occEndpoints.buildUrl("costCenterBudgets",{urlParams:{userId:t,costCenterCode:n},queryParams:r})}getBudgetEndpoint(t,n,r){return this.occEndpoints.buildUrl("costCenterBudget",{urlParams:{userId:t,costCenterCode:n,budgetCode:r}})}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),D_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getOrgUnitEndpoint(t,n)).pipe(this.converter.pipeable(mn))}create(t,n){return this.http.post(this.getOrgUnitsEndpoint(t),n).pipe(this.converter.pipeable(mn))}update(t,n,r){return r=this.converter.convert(r,yd),this.http.patch(this.getOrgUnitEndpoint(t,n),r).pipe(this.converter.pipeable(mn))}loadTree(t){return this.http.get(this.getOrgUnitsTreeEndpoint(t)).pipe(this.converter.pipeable(Va))}loadList(t){return this.http.get(this.getAvailableOrgUnitsEndpoint(t)).pipe(this.converter.pipeable(za))}loadApprovalProcesses(t){return this.http.get(this.getOrgUnitsApprovalProcessesEndpoint(t)).pipe(this.converter.pipeable(qa))}loadUsers(t,n,r,d){return this.http.get(this.getUsersEndpoint(t,n,r,d)).pipe(this.converter.pipeable(Gi))}assignRole(t,n,r){return this.http.post(this.getRolesEndpoint(t,n,{roleId:r}),null)}unassignRole(t,n,r){return this.http.delete(this.getRoleEndpoint(t,n,r))}assignApprover(t,n,r,d){return this.http.post(this.getApproversEndpoint(t,n,r,{roleId:d}),null)}unassignApprover(t,n,r,d){return this.http.delete(this.getApproverEndpoint(t,n,r,d))}loadAddresses(t,n){return this.http.get(this.getAddressesEndpoint(t,n)).pipe(this.converter.pipeable(Oc))}createAddress(t,n,r){return r=this.converter.convert(r,Ar),this.http.post(this.getAddressesEndpoint(t,n),r).pipe(this.converter.pipeable(An))}updateAddress(t,n,r,d){return d=this.converter.convert(d,Ar),this.http.patch(this.getAddressEndpoint(t,n,r),d).pipe(this.converter.pipeable(An))}deleteAddress(t,n,r){return this.http.delete(this.getAddressEndpoint(t,n,r)).pipe(this.converter.pipeable(An))}getOrgUnitEndpoint(t,n){return this.occEndpoints.buildUrl("orgUnit",{urlParams:{userId:t,orgUnitId:n}})}getOrgUnitsEndpoint(t){return this.occEndpoints.buildUrl("orgUnits",{urlParams:{userId:t}})}getAvailableOrgUnitsEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsAvailable",{urlParams:{userId:t}})}getOrgUnitsTreeEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsTree",{urlParams:{userId:t}})}getOrgUnitsApprovalProcessesEndpoint(t){return this.occEndpoints.buildUrl("orgUnitsApprovalProcesses",{urlParams:{userId:t}})}getUsersEndpoint(t,n,r,d){return this.occEndpoints.buildUrl("orgUnitUsers",{urlParams:{userId:t,orgUnitId:n,roleId:r},queryParams:d})}getRolesEndpoint(t,n,r){return this.occEndpoints.buildUrl("orgUnitUserRoles",{urlParams:{userId:t,orgCustomerId:n},queryParams:r})}getRoleEndpoint(t,n,r){return this.occEndpoints.buildUrl("orgUnitUserRole",{urlParams:{userId:t,orgCustomerId:n,roleId:r}})}getApproversEndpoint(t,n,r,d){return this.occEndpoints.buildUrl("orgUnitApprovers",{urlParams:{userId:t,orgUnitId:n,orgCustomerId:r},queryParams:d})}getApproverEndpoint(t,n,r,d){return this.occEndpoints.buildUrl("orgUnitApprover",{urlParams:{userId:t,orgUnitId:n,orgCustomerId:r,roleId:d}})}getAddressesEndpoint(t,n){return this.occEndpoints.buildUrl("orgUnitsAddresses",{urlParams:{userId:t,orgUnitId:n}})}getAddressEndpoint(t,n,r){return this.occEndpoints.buildUrl("orgUnitsAddress",{urlParams:{userId:t,orgUnitId:n,addressId:r}})}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),B_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getUserGroupEndpoint(t,n)).pipe(this.converter.pipeable(Ii))}loadList(t,n){return this.http.get(this.getUserGroupsEndpoint(t,n)).pipe(this.converter.pipeable(lr))}loadAvailableOrderApprovalPermissions(t,n,r){return this.http.get(this.getPermissionsEndpoint(t,n,r)).pipe(this.converter.pipeable(gn))}loadAvailableOrgCustomers(t,n,r){return this.http.get(this.getAvailableCustomersEndpoint(t,n,r)).pipe(this.converter.pipeable(Gi))}create(t,n){return n=this.converter.convert(n,Ya),this.http.post(this.getUserGroupsEndpoint(t),n).pipe(this.converter.pipeable(Ii))}delete(t,n){return this.http.delete(this.getUserGroupEndpoint(t,n)).pipe(this.converter.pipeable(Ii))}update(t,n,r){return r=this.converter.convert(r,Ya),this.http.patch(this.getUserGroupEndpoint(t,n),r).pipe(this.converter.pipeable(Ii))}assignMember(t,n,r){return this.http.post(this.getMembersEndpoint(t,n,{orgCustomerId:r}),null)}assignOrderApprovalPermission(t,n,r){return this.http.post(this.getOrderApprovalPermissionsEndpoint(t,n,{orderApprovalPermissionCode:r}),null)}unassignMember(t,n,r){return this.http.delete(this.getMemberEndpoint(t,n,r))}unassignAllMembers(t,n){return this.http.delete(this.getMembersEndpoint(t,n))}unassignOrderApprovalPermission(t,n,r){return this.http.delete(this.getOrderApprovalPermissionEndpoint(t,n,r))}getUserGroupEndpoint(t,n){return this.occEndpoints.buildUrl("userGroup",{urlParams:{userId:t,userGroupId:n}})}getUserGroupsEndpoint(t,n){return this.occEndpoints.buildUrl("userGroups",{urlParams:{userId:t},queryParams:n})}getAvailableCustomersEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupAvailableOrgCustomers",{urlParams:{userId:t,userGroupId:n},queryParams:r})}getPermissionsEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupAvailableOrderApprovalPermissions",{urlParams:{userId:t,userGroupId:n},queryParams:r})}getMemberEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupMember",{urlParams:{userId:t,userGroupId:n,orgCustomerId:r}})}getMembersEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupMembers",{urlParams:{userId:t,userGroupId:n},queryParams:r})}getOrderApprovalPermissionsEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermissions",{urlParams:{userId:t,userGroupId:n},queryParams:r})}getOrderApprovalPermissionEndpoint(t,n,r){return this.occEndpoints.buildUrl("userGroupOrderApprovalPermission",{urlParams:{userId:t,userGroupId:n,orderApprovalPermissionCode:r}})}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),P_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getPermissionEndpoint(t,n)).pipe(this.converter.pipeable(ji))}loadList(t,n){return this.http.get(this.getPermissionsEndpoint(t,n)).pipe(this.converter.pipeable(gn))}create(t,n){return n=this.converter.convert(n,Za),this.http.post(this.getPermissionsEndpoint(t),n).pipe(this.converter.pipeable(ji))}update(t,n,r){return r=this.converter.convert(r,Za),this.http.patch(this.getPermissionEndpoint(t,n),r).pipe(this.converter.pipeable(ji))}loadTypes(){return this.http.get(this.getPermissionTypesEndpoint()).pipe(this.converter.pipeable(Ha))}getPermissionEndpoint(t,n){return this.occEndpoints.buildUrl("permission",{urlParams:{userId:t,orderApprovalPermissionCode:n}})}getPermissionsEndpoint(t,n){return this.occEndpoints.buildUrl("permissions",{urlParams:{userId:t},queryParams:n})}getPermissionTypesEndpoint(){return this.occEndpoints.buildUrl("orderApprovalPermissionTypes")}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),F_=(()=>{let e=class e{constructor(t,n,r){this.http=t,this.occEndpoints=n,this.converter=r}load(t,n){return this.http.get(this.getB2BUserEndpoint(t,n)).pipe(this.converter.pipeable(Ni))}loadList(t,n){return this.http.get(this.getB2BUsersEndpoint(t,n)).pipe(this.converter.pipeable(Gi))}create(t,n){return n=this.converter.convert(n,ar),this.http.post(this.getB2BUsersEndpoint(t),n).pipe(this.converter.pipeable(Ni))}update(t,n,r){return r=this.converter.convert(r,ar),this.http.patch(this.getB2BUserEndpoint(t,n),r).pipe(this.converter.pipeable(Ni))}loadApprovers(t,n,r){return this.http.get(this.getApproversEndpoint(t,n,r)).pipe(this.converter.pipeable(Gi))}assignApprover(t,n,r){return this.http.post(this.getApproverEndpoint(t,n,r),null)}unassignApprover(t,n,r){return this.http.delete(this.getApproverEndpoint(t,n,r))}loadPermissions(t,n,r){return this.http.get(this.getPermissionsEndpoint(t,n,r)).pipe(this.converter.pipeable(gn))}assignPermission(t,n,r){return this.http.post(this.getPermissionEndpoint(t,n,r),null)}unassignPermission(t,n,r){return this.http.delete(this.getPermissionEndpoint(t,n,r))}loadUserGroups(t,n,r){return this.http.get(this.getUserGroupsEndpoint(t,n,r)).pipe(this.converter.pipeable(lr))}assignUserGroup(t,n,r){return this.http.post(this.getUserGroupEndpoint(t,n,r),null)}unassignUserGroup(t,n,r){return this.http.delete(this.getUserGroupEndpoint(t,n,r))}getB2BUserEndpoint(t,n){return this.occEndpoints.buildUrl("b2bUser",{urlParams:{userId:t,orgCustomerId:n}})}getB2BUsersEndpoint(t,n){return this.occEndpoints.buildUrl("b2bUsers",{urlParams:{userId:t},queryParams:n})}getApproverEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserApprover",{urlParams:{userId:t,orgCustomerId:n,approverId:r}})}getApproversEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserApprovers",{urlParams:{userId:t,orgCustomerId:n},queryParams:r})}getPermissionEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserPermission",{urlParams:{userId:t,orgCustomerId:n,premissionId:r}})}getPermissionsEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserPermissions",{urlParams:{userId:t,orgCustomerId:n},queryParams:r})}getUserGroupEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserUserGroup",{urlParams:{userId:t,orgCustomerId:n,userGroupId:r}})}getUserGroupsEndpoint(t,n,r){return this.occEndpoints.buildUrl("b2bUserUserGroups",{urlParams:{userId:t,orgCustomerId:n},queryParams:r})}};e.\u0275fac=function(n){return new(n||e)(h(ii),h(pi),h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let i=e;return i})(),L_={backend:{occ:{endpoints:{budgets:"/users/${userId}/budgets",budget:"/users/${userId}/budgets/${budgetCode}",orgUnitsAvailable:"/users/${userId}/availableOrgUnitNodes",orgUnitsTree:"/users/${userId}/orgUnitsRootNodeTree",orgUnitsApprovalProcesses:"/users/${userId}/orgUnitsAvailableApprovalProcesses",orgUnits:"/users/${userId}/orgUnits",orgUnit:"/users/${userId}/orgUnits/${orgUnitId}",orgUnitUsers:"/users/${userId}/orgUnits/${orgUnitId}/availableUsers/${roleId}",orgUnitApprovers:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles",orgUnitApprover:"/users/${userId}/orgUnits/${orgUnitId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitUserRoles:"/users/${userId}/orgCustomers/${orgCustomerId}/roles",orgUnitUserRole:"/users/${userId}/orgCustomers/${orgCustomerId}/roles/${roleId}",orgUnitsAddresses:"/users/${userId}/orgUnits/${orgUnitId}/addresses",orgUnitsAddress:"/users/${userId}/orgUnits/${orgUnitId}/addresses/${addressId}",userGroups:"/users/${userId}/orgUnitUserGroups",userGroup:"/users/${userId}/orgUnitUserGroups/${userGroupId}",userGroupAvailableOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrderApprovalPermissions",userGroupAvailableOrgCustomers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/availableOrgCustomers",userGroupMembers:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members",userGroupMember:"/users/${userId}/orgUnitUserGroups/${userGroupId}/members/${orgCustomerId}",userGroupOrderApprovalPermissions:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions",userGroupOrderApprovalPermission:"/users/${userId}/orgUnitUserGroups/${userGroupId}/orderApprovalPermissions/${orderApprovalPermissionCode}",costCenters:"/costcenters",costCenter:"/costcenters/${costCenterCode}",costCentersAll:"/costcentersall",costCenterBudgets:"/costcenters/${costCenterCode}/budgets",costCenterBudget:"/costcenters/${costCenterCode}/budgets/${budgetCode}",permissions:"/users/${userId}/orderApprovalPermissions",permission:"/users/${userId}/orderApprovalPermissions/${orderApprovalPermissionCode}",orderApprovalPermissionTypes:"/orderApprovalPermissionTypes",b2bUsers:"/users/${userId}/orgCustomers",b2bUser:"/users/${userId}/orgCustomers/${orgCustomerId}",b2bUserApprovers:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers",b2bUserApprover:"/users/${userId}/orgCustomers/${orgCustomerId}/approvers/${approverId}",b2bUserUserGroups:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups",b2bUserUserGroup:"/users/${userId}/orgCustomers/${orgCustomerId}/orgUserGroups/${userGroupId}",b2bUserPermissions:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions",b2bUserPermission:"/users/${userId}/orgCustomers/${orgCustomerId}/permissions/${premissionId}"}}}},w_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=L({},t)),t.startDate&&(n.startDate=Wi.convertDateToDatetime(t.startDate)),t.endDate&&(n.endDate=Wi.convertDateToDatetime(t.endDate,!0)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),M_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=L({},t)),n.email=t?.uid,n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),O_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=L({},t)),delete n.isAssignedToApprovers,n.active===!1&&(n.roles=[]),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),N_=(()=>{let e=class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=L({},t)),n.values=t.budgets?.map(r=>L({},this.converter.convert(r,ki)))??[],n}};e.\u0275fac=function(n){return new(n||e)(h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),G_=(()=>{let e=class e{convert(t,n){return n===void 0&&(n=L({},t)),t.startDate&&(n.startDate=Wi.convertDatetimeToDate(t.startDate)),t.endDate&&(n.endDate=Wi.convertDatetimeToDate(t.endDate)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),k_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=[...t.approvalProcesses]),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),j_=(()=>{let e=class e{convert(t,n){return n===void 0&&(n=[...t.unitNodes]),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$_=(()=>{let e=class e{convert(t,n){return n===void 0&&(n=L({},t)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),V_=(()=>{let e=class e{convert(t,n){return n===void 0&&(n=L({},t)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),z_=(()=>{let e=class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=L({},t)),n.values=t.orderApprovalPermissions?.map(r=>L({},this.converter.convert(r,ji)))??[],n}};e.\u0275fac=function(n){return new(n||e)(h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),q_=(()=>{let e=class e{convert(t,n){return n===void 0&&(n=L({},t)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),K_=(()=>{let e=class e{constructor(t){this.converter=t}convert(t,n){return n=t.orderApprovalPermissionTypes?.map(r=>this.converter.convert(r,Ka)),n??[]}};e.\u0275fac=function(n){return new(n||e)(h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),H_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=L({},t)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Z_=(()=>{let e=class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=L({},t)),n.values=t.orgUnitUserGroups.map(r=>L({},this.converter.convert(r,Ii))),n}};e.\u0275fac=function(n){return new(n||e)(h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Y_=(()=>{let e=class e{constructor(){}convert(t,n){return n===void 0&&(n=L({},t)),n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Q_=(()=>{let e=class e{constructor(t){this.converter=t}convert(t,n){return n===void 0&&(n=L({},t)),n.values=t.users.map(r=>L({},this.converter.convert(r,Ni))),n}};e.\u0275fac=function(n){return new(n||e)(h(tt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ru=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({providers:[Pt(L_),{provide:en,useClass:R_},{provide:ki,useExisting:G_,multi:!0},{provide:pr,useExisting:w_,multi:!0},{provide:cr,useExisting:N_,multi:!0},{provide:nn,useClass:D_},{provide:mn,useExisting:V_,multi:!0},{provide:Va,useExisting:$_,multi:!0},{provide:za,useExisting:j_,multi:!0},{provide:qa,useExisting:k_,multi:!0},{provide:on,useClass:B_},{provide:Ii,useExisting:Y_,multi:!0},{provide:lr,useExisting:Z_,multi:!0},{provide:rn,useClass:P_},{provide:ji,useExisting:q_,multi:!0},{provide:gn,useExisting:z_,multi:!0},{provide:Ka,useExisting:H_,multi:!0},{provide:Ha,useExisting:K_,multi:!0},{provide:tn,useClass:T_},{provide:Ji,useClass:F_},{provide:Ni,useExisting:M_,multi:!0},{provide:ar,useExisting:O_,multi:!0},{provide:Gi,useExisting:Q_,multi:!0}],imports:[Z,Mc]});let i=e;return i})();var YE=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=P({type:e}),e.\u0275inj=B({imports:[Id.forRoot(),ru,nu]});let i=e;return i})();export{Kt as a,km as b,k as c,re as d,bi as e,Yt as f,T as g,ES as h,Wd as i,PS as j,YE as k};
