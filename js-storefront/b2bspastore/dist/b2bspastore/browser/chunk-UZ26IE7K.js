var GF=Object.create;var yg=Object.defineProperty,WF=Object.defineProperties,qF=Object.getOwnPropertyDescriptor,YF=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertyNames,nu=Object.getOwnPropertySymbols,ND=Object.getPrototypeOf,Eg=Object.prototype.hasOwnProperty,PD=Object.prototype.propertyIsEnumerable,ZF=Reflect.get;var OD=(t,e,i)=>e in t?yg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,v=(t,e)=>{for(var i in e||={})Eg.call(e,i)&&OD(t,i,e[i]);if(nu)for(var i of nu(e))PD.call(e,i)&&OD(t,i,e[i]);return t},T=(t,e)=>WF(t,YF(e));var FD=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,i)=>(typeof require<"u"?require:e)[i]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Cg=(t,e)=>{var i={};for(var n in t)Eg.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&nu)for(var n of nu(t))e.indexOf(n)<0&&PD.call(t,n)&&(i[n]=t[n]);return i};var _D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var QF=(t,e,i,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of KF(e))!Eg.call(t,r)&&r!==i&&yg(t,r,{get:()=>e[r],enumerable:!(n=qF(e,r))||n.enumerable});return t};var JF=(t,e,i)=>(i=t!=null?GF(ND(t)):{},QF(e||!t||!t.__esModule?yg(i,"default",{value:t,enumerable:!0}):i,t));var V9=(t,e,i)=>ZF(ND(t),i,e);var rt=(t,e,i)=>new Promise((n,r)=>{var s=c=>{try{a(i.next(c))}catch(u){r(u)}},o=c=>{try{a(i.throw(c))}catch(u){r(u)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(s,o);a((i=i.apply(t,e)).next())});var JM=_D((Ci,QM)=>{"use strict";var sf=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global,of=function(){function t(){this.fetch=!1,this.DOMException=sf.DOMException}return t.prototype=sf,new t}();(function(t){var e=function(i){var n=typeof t<"u"&&t||typeof self<"u"&&self||typeof n<"u"&&n,r={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function s(D){return D&&DataView.prototype.isPrototypeOf(D)}if(r.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(D){return D&&o.indexOf(Object.prototype.toString.call(D))>-1};function c(D){if(typeof D!="string"&&(D=String(D)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(D)||D==="")throw new TypeError('Invalid character in header field name: "'+D+'"');return D.toLowerCase()}function u(D){return typeof D!="string"&&(D=String(D)),D}function l(D){var N={next:function(){var ne=D.shift();return{done:ne===void 0,value:ne}}};return r.iterable&&(N[Symbol.iterator]=function(){return N}),N}function f(D){this.map={},D instanceof f?D.forEach(function(N,ne){this.append(ne,N)},this):Array.isArray(D)?D.forEach(function(N){this.append(N[0],N[1])},this):D&&Object.getOwnPropertyNames(D).forEach(function(N){this.append(N,D[N])},this)}f.prototype.append=function(D,N){D=c(D),N=u(N);var ne=this.map[D];this.map[D]=ne?ne+", "+N:N},f.prototype.delete=function(D){delete this.map[c(D)]},f.prototype.get=function(D){return D=c(D),this.has(D)?this.map[D]:null},f.prototype.has=function(D){return this.map.hasOwnProperty(c(D))},f.prototype.set=function(D,N){this.map[c(D)]=u(N)},f.prototype.forEach=function(D,N){for(var ne in this.map)this.map.hasOwnProperty(ne)&&D.call(N,this.map[ne],ne,this)},f.prototype.keys=function(){var D=[];return this.forEach(function(N,ne){D.push(ne)}),l(D)},f.prototype.values=function(){var D=[];return this.forEach(function(N){D.push(N)}),l(D)},f.prototype.entries=function(){var D=[];return this.forEach(function(N,ne){D.push([ne,N])}),l(D)},r.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function h(D){if(D.bodyUsed)return Promise.reject(new TypeError("Already read"));D.bodyUsed=!0}function p(D){return new Promise(function(N,ne){D.onload=function(){N(D.result)},D.onerror=function(){ne(D.error)}})}function E(D){var N=new FileReader,ne=p(N);return N.readAsArrayBuffer(D),ne}function b(D){var N=new FileReader,ne=p(N);return N.readAsText(D),ne}function w(D){for(var N=new Uint8Array(D),ne=new Array(N.length),ye=0;ye<N.length;ye++)ne[ye]=String.fromCharCode(N[ye]);return ne.join("")}function R(D){if(D.slice)return D.slice(0);var N=new Uint8Array(D.byteLength);return N.set(new Uint8Array(D)),N.buffer}function V(){return this.bodyUsed=!1,this._initBody=function(D){this.bodyUsed=this.bodyUsed,this._bodyInit=D,D?typeof D=="string"?this._bodyText=D:r.blob&&Blob.prototype.isPrototypeOf(D)?this._bodyBlob=D:r.formData&&FormData.prototype.isPrototypeOf(D)?this._bodyFormData=D:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)?this._bodyText=D.toString():r.arrayBuffer&&r.blob&&s(D)?(this._bodyArrayBuffer=R(D.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(D)||a(D))?this._bodyArrayBuffer=R(D):this._bodyText=D=Object.prototype.toString.call(D):this._bodyText="",this.headers.get("content-type")||(typeof D=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(D)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var D=h(this);return D||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(E)}),this.text=function(){var D=h(this);if(D)return D;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(ue)}),this.json=function(){return this.text().then(JSON.parse)},this}var U=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function H(D){var N=D.toUpperCase();return U.indexOf(N)>-1?N:D}function te(D,N){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var ne=N.body;if(D instanceof te){if(D.bodyUsed)throw new TypeError("Already read");this.url=D.url,this.credentials=D.credentials,N.headers||(this.headers=new f(D.headers)),this.method=D.method,this.mode=D.mode,this.signal=D.signal,!ne&&D._bodyInit!=null&&(ne=D._bodyInit,D.bodyUsed=!0)}else this.url=String(D);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new f(N.headers)),this.method=H(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ne)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ne),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var ye=/([?&])_=[^&]*/;if(ye.test(this.url))this.url=this.url.replace(ye,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})};function ue(D){var N=new FormData;return D.trim().split("&").forEach(function(ne){if(ne){var ye=ne.split("="),we=ye.shift().replace(/\+/g," "),fe=ye.join("=").replace(/\+/g," ");N.append(decodeURIComponent(we),decodeURIComponent(fe))}}),N}function he(D){var N=new f,ne=D.replace(/\r?\n[\t ]+/g," ");return ne.split("\r").map(function(ye){return ye.indexOf(`
`)===0?ye.substr(1,ye.length):ye}).forEach(function(ye){var we=ye.split(":"),fe=we.shift().trim();if(fe){var Dr=we.join(":").trim();N.append(fe,Dr)}}),N}V.call(te.prototype);function Pe(D,N){if(!(this instanceof Pe))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new f(N.headers),this.url=N.url||"",this._initBody(D)}V.call(Pe.prototype),Pe.prototype.clone=function(){return new Pe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},Pe.error=function(){var D=new Pe(null,{status:0,statusText:""});return D.type="error",D};var xi=[301,302,303,307,308];Pe.redirect=function(D,N){if(xi.indexOf(N)===-1)throw new RangeError("Invalid status code");return new Pe(null,{status:N,headers:{location:D}})},i.DOMException=n.DOMException;try{new i.DOMException}catch{i.DOMException=function(N,ne){this.message=N,this.name=ne;var ye=Error(N);this.stack=ye.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function zn(D,N){return new Promise(function(ne,ye){var we=new te(D,N);if(we.signal&&we.signal.aborted)return ye(new i.DOMException("Aborted","AbortError"));var fe=new XMLHttpRequest;function Dr(){fe.abort()}fe.onload=function(){var He={status:fe.status,statusText:fe.statusText,headers:he(fe.getAllResponseHeaders()||"")};He.url="responseURL"in fe?fe.responseURL:He.headers.get("X-Request-URL");var sn="response"in fe?fe.response:fe.responseText;setTimeout(function(){ne(new Pe(sn,He))},0)},fe.onerror=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},fe.ontimeout=function(){setTimeout(function(){ye(new TypeError("Network request failed"))},0)},fe.onabort=function(){setTimeout(function(){ye(new i.DOMException("Aborted","AbortError"))},0)};function pt(He){try{return He===""&&n.location.href?n.location.href:He}catch{return He}}fe.open(we.method,pt(we.url),!0),we.credentials==="include"?fe.withCredentials=!0:we.credentials==="omit"&&(fe.withCredentials=!1),"responseType"in fe&&(r.blob?fe.responseType="blob":r.arrayBuffer&&we.headers.get("Content-Type")&&we.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(fe.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof f)?Object.getOwnPropertyNames(N.headers).forEach(function(He){fe.setRequestHeader(He,u(N.headers[He]))}):we.headers.forEach(function(He,sn){fe.setRequestHeader(sn,He)}),we.signal&&(we.signal.addEventListener("abort",Dr),fe.onreadystatechange=function(){fe.readyState===4&&we.signal.removeEventListener("abort",Dr)}),fe.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return zn.polyfill=!0,n.fetch||(n.fetch=zn,n.Headers=f,n.Request=te,n.Response=Pe),i.Headers=f,i.Request=te,i.Response=Pe,i.fetch=zn,i}({})})(of);of.fetch.ponyfill=!0;delete of.fetch.polyfill;var Io=sf.fetch?sf:of;Ci=Io.fetch;Ci.default=Io.fetch;Ci.fetch=Io.fetch;Ci.Headers=Io.Headers;Ci.Request=Io.Request;Ci.Response=Io.Response;QM.exports=Ci});var ex=_D((nC,XM)=>{"use strict";var af;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?af=global.fetch:typeof window<"u"&&window.fetch?af=window.fetch:af=fetch);typeof FD<"u"&&typeof window>"u"&&(mc=af||JM(),mc.default&&(mc=mc.default),nC.default=mc,XM.exports=nC.default);var mc});function K(t){return typeof t=="function"}function ti(t){let i=t(n=>{Error.call(n),n.stack=new Error().stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}var ru=ti(t=>function(i){t(this),this.message=i?`${i.length} errors occurred during unsubscription:
${i.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=i});function br(t,e){if(t){let i=t.indexOf(e);0<=i&&t.splice(i,1)}}var Ee=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(let s of i)s.remove(this);else i.remove(this);let{initialTeardown:n}=this;if(K(n))try{n()}catch(s){e=s instanceof ru?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{LD(s)}catch(o){e=e??[],o instanceof ru?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ru(e)}}add(e){var i;if(e&&e!==this)if(this.closed)LD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(i=this._finalizers)!==null&&i!==void 0?i:[]).push(e)}}_hasParent(e){let{_parentage:i}=this;return i===e||Array.isArray(i)&&i.includes(e)}_addParent(e){let{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(e),i):i?[i,e]:e}_removeParent(e){let{_parentage:i}=this;i===e?this._parentage=null:Array.isArray(i)&&br(i,e)}remove(e){let{_finalizers:i}=this;i&&br(i,e),e instanceof t&&e._removeParent(this)}};Ee.EMPTY=(()=>{let t=new Ee;return t.closed=!0,t})();var Sg=Ee.EMPTY;function iu(t){return t instanceof Ee||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function LD(t){K(t)?t():t.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ws={setTimeout(t,e,...i){let{delegate:n}=ws;return n?.setTimeout?n.setTimeout(t,e,...i):setTimeout(t,e,...i)},clearTimeout(t){let{delegate:e}=ws;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function su(t){ws.setTimeout(()=>{let{onUnhandledError:e}=Dn;if(e)e(t);else throw t})}function Rt(){}var kD=Ig("C",void 0,void 0);function UD(t){return Ig("E",void 0,t)}function jD(t){return Ig("N",t,void 0)}function Ig(t,e,i){return{kind:t,value:e,error:i}}var Oi=null;function Ts(t){if(Dn.useDeprecatedSynchronousErrorHandling){let e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:i,error:n}=Oi;if(Oi=null,i)throw n}}else t()}function $D(t){Dn.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=t)}var Ni=class extends Ee{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,iu(e)&&e.add(this)):this.destination=t_}static create(e,i,n){return new wr(e,i,n)}next(e){this.isStopped?bg(jD(e),this):this._next(e)}error(e){this.isStopped?bg(UD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?bg(kD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},XF=Function.prototype.bind;function Dg(t,e){return XF.call(t,e)}var wg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:i}=this;if(i.next)try{i.next(e)}catch(n){ou(n)}}error(e){let{partialObserver:i}=this;if(i.error)try{i.error(e)}catch(n){ou(n)}else ou(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(i){ou(i)}}},wr=class extends Ni{constructor(e,i,n){super();let r;if(K(e)||!e)r={next:e??void 0,error:i??void 0,complete:n??void 0};else{let s;this&&Dn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Dg(e.next,s),error:e.error&&Dg(e.error,s),complete:e.complete&&Dg(e.complete,s)}):r=e}this.destination=new wg(r)}};function ou(t){Dn.useDeprecatedSynchronousErrorHandling?$D(t):su(t)}function e_(t){throw t}function bg(t,e){let{onStoppedNotification:i}=Dn;i&&ws.setTimeout(()=>i(t,e))}var t_={closed:!0,next:Rt,error:e_,complete:Rt};var As=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function Tg(...t){return Ag(t)}function Ag(t){return t.length===0?Xe:t.length===1?t[0]:function(i){return t.reduce((n,r)=>r(n),i)}}var z=(()=>{class t{constructor(i){i&&(this._subscribe=i)}lift(i){let n=new t;return n.source=this,n.operator=i,n}subscribe(i,n,r){let s=r_(i)?i:new wr(i,n,r);return Ts(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(i){try{return this._subscribe(i)}catch(n){i.error(n)}}forEach(i,n){return n=BD(n),new n((r,s)=>{let o=new wr({next:a=>{try{i(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(i){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(i)}[As](){return this}pipe(...i){return Ag(i)(this)}toPromise(i){return i=BD(i),new i((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function BD(t){var e;return(e=t??Dn.Promise)!==null&&e!==void 0?e:Promise}function n_(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function r_(t){return t&&t instanceof Ni||n_(t)&&iu(t)}var VD=ti(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class t extends z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){let n=new au(this,this);return n.operator=i,n}_throwIfClosed(){if(this.closed)throw new VD}next(i){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(i)}})}error(i){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;let{observers:n}=this;for(;n.length;)n.shift().error(i)}})}complete(){Ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return((i=this.observers)===null||i===void 0?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){let{hasError:n,isStopped:r,observers:s}=this;return n||r?Sg:(this.currentObservers=null,s.push(i),new Ee(()=>{this.currentObservers=null,br(s,i)}))}_checkFinalizedStatuses(i){let{hasError:n,thrownError:r,isStopped:s}=this;n?i.error(r):s&&i.complete()}asObservable(){let i=new z;return i.source=this,i}}return t.create=(e,i)=>new au(e,i),t})(),au=class extends re{constructor(e,i){super(),this.destination=e,this.source=i}next(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.next)===null||n===void 0||n.call(i,e)}error(e){var i,n;(n=(i=this.destination)===null||i===void 0?void 0:i.error)===null||n===void 0||n.call(i,e)}complete(){var e,i;(i=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||i===void 0||i.call(e)}_subscribe(e){var i,n;return(n=(i=this.source)===null||i===void 0?void 0:i.subscribe(e))!==null&&n!==void 0?n:Sg}};var Te=class extends re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let i=super._subscribe(e);return!i.closed&&e.next(this._value),i}getValue(){let{hasError:e,thrownError:i,_value:n}=this;if(e)throw i;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Zo={now(){return(Zo.delegate||Date).now()},delegate:void 0};var on=class extends re{constructor(e=1/0,i=1/0,n=Zo){super(),this._bufferSize=e,this._windowTime=i,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,i)}next(e){let{isStopped:i,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;i||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let i=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=n?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),i}_trimBuffer(){let{_bufferSize:e,_timestampProvider:i,_buffer:n,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<n.length&&n.splice(0,n.length-s),!r){let o=i.now(),a=0;for(let c=1;c<n.length&&n[c]<=o;c+=2)a=c;a&&n.splice(0,a+1)}}};var cu=class extends Ee{constructor(e,i){super()}schedule(e,i=0){return this}};var Qo={setInterval(t,e,...i){let{delegate:n}=Qo;return n?.setInterval?n.setInterval(t,e,...i):setInterval(t,e,...i)},clearInterval(t){let{delegate:e}=Qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Gn=class extends cu{constructor(e,i){super(e,i),this.scheduler=e,this.work=i,this.pending=!1}schedule(e,i=0){var n;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,i)),this.pending=!0,this.delay=i,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,i),this}requestAsyncId(e,i,n=0){return Qo.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,i,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return i;i!=null&&Qo.clearInterval(i)}execute(e,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,i);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,i){let n=!1,r;try{this.work(e)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:i}=this,{actions:n}=i;this.work=this.state=this.scheduler=null,this.pending=!1,br(n,this),e!=null&&(this.id=this.recycleAsyncId(i,e,null)),this.delay=null,super.unsubscribe()}}};var uu=class extends Gn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}schedule(e,i=0){return i>0?super.schedule(e,i):(this.delay=i,this.state=e,this.scheduler.flush(this),this)}execute(e,i){return i>0||this.closed?super.execute(e,i):this._execute(e,i)}requestAsyncId(e,i,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,i,n):(e.flush(this),0)}};var Rs=class t{constructor(e,i=t.now){this.schedulerActionCtor=e,this.now=i}schedule(e,i=0,n){return new this.schedulerActionCtor(this,e).schedule(n,i)}};Rs.now=Zo.now;var Wn=class extends Rs{constructor(e,i=Rs.now){super(e,i),this.actions=[],this._active=!1}flush(e){let{actions:i}=this;if(this._active){i.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=i.shift());if(this._active=!1,n){for(;e=i.shift();)e.unsubscribe();throw n}}};var lu=class extends Wn{};var Tr=new lu(uu);var pe=new z(t=>t.complete());function Ct(t,e,i,n=0,r=!1){let s=e.schedule(function(){i(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function Rg(t){return K(t?.lift)}function _(t){return e=>{if(Rg(e))return e.lift(function(i){try{return t(i,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(t,e,i,n,r){return new Jo(t,e,i,n,r)}var Jo=class extends Ni{constructor(e,i,n,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=i?function(a){try{i(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:i}=this;super.unsubscribe(),!i&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yt(t,e=0){return _((i,n)=>{i.subscribe(P(n,r=>Ct(n,t,()=>n.next(r),e),()=>Ct(n,t,()=>n.complete(),e),r=>Ct(n,t,()=>n.error(r),e)))})}function du(t){return t&&K(t.schedule)}function Mg(t){return t[t.length-1]}function ni(t){return K(Mg(t))?t.pop():void 0}function qn(t){return du(Mg(t))?t.pop():void 0}function HD(t,e){return typeof Mg(t)=="number"?t.pop():e}function DK(t,e,i,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}function bK(t,e){return function(i,n){e(i,n,t)}}function GD(t,e,i,n){function r(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(l){try{u(n.next(l))}catch(f){o(f)}}function c(l){try{u(n.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):r(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function zD(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function WD(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(E){return Promise.resolve(E).then(p,f)}}function a(p,E){n[p]&&(r[p]=function(b){return new Promise(function(w,R){s.push([p,b,w,R])>1||c(p,b)})},E&&(r[p]=E(r[p])))}function c(p,E){try{u(n[p](E))}catch(b){h(s[0][3],b)}}function u(p){p.value instanceof Pi?Promise.resolve(p.value.v).then(l,f):h(s[0][2],p)}function l(p){c("next",p)}function f(p){c("throw",p)}function h(p,E){p(E),s.shift(),s.length&&c(s[0][0],s[0][1])}}function qD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof zD=="function"?zD(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(s){i[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Ms=t=>t&&typeof t.length=="number"&&typeof t!="function";function fu(t){return K(t?.then)}function hu(t){return K(t[As])}function pu(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function gu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function i_(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var mu=i_();function vu(t){return K(t?.[mu])}function yu(t){return WD(this,arguments,function*(){let i=t.getReader();try{for(;;){let{value:n,done:r}=yield Pi(i.read());if(r)return yield Pi(void 0);yield yield Pi(n)}}finally{i.releaseLock()}})}function Eu(t){return K(t?.getReader)}function Y(t){if(t instanceof z)return t;if(t!=null){if(hu(t))return s_(t);if(Ms(t))return o_(t);if(fu(t))return a_(t);if(pu(t))return YD(t);if(vu(t))return c_(t);if(Eu(t))return u_(t)}throw gu(t)}function s_(t){return new z(e=>{let i=t[As]();if(K(i.subscribe))return i.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function o_(t){return new z(e=>{for(let i=0;i<t.length&&!e.closed;i++)e.next(t[i]);e.complete()})}function a_(t){return new z(e=>{t.then(i=>{e.closed||(e.next(i),e.complete())},i=>e.error(i)).then(null,su)})}function c_(t){return new z(e=>{for(let i of t)if(e.next(i),e.closed)return;e.complete()})}function YD(t){return new z(e=>{l_(t,e).catch(i=>e.error(i))})}function u_(t){return YD(yu(t))}function l_(t,e){var i,n,r,s;return GD(this,void 0,void 0,function*(){try{for(i=qD(t);n=yield i.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=i.return)&&(yield s.call(i))}finally{if(r)throw r.error}}e.complete()})}function Cu(t,e=0){return _((i,n)=>{n.add(t.schedule(()=>i.subscribe(n),e))})}function KD(t,e){return Y(t).pipe(Cu(e),Yt(e))}function ZD(t,e){return Y(t).pipe(Cu(e),Yt(e))}function QD(t,e){return new z(i=>{let n=0;return e.schedule(function(){n===t.length?i.complete():(i.next(t[n++]),i.closed||this.schedule())})})}function JD(t,e){return new z(i=>{let n;return Ct(i,e,()=>{n=t[mu](),Ct(i,e,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){i.error(o);return}s?i.complete():i.next(r)},0,!0)}),()=>K(n?.return)&&n.return()})}function Su(t,e){if(!t)throw new Error("Iterable cannot be null");return new z(i=>{Ct(i,e,()=>{let n=t[Symbol.asyncIterator]();Ct(i,e,()=>{n.next().then(r=>{r.done?i.complete():i.next(r.value)})},0,!0)})})}function XD(t,e){return Su(yu(t),e)}function eb(t,e){if(t!=null){if(hu(t))return KD(t,e);if(Ms(t))return QD(t,e);if(fu(t))return ZD(t,e);if(pu(t))return Su(t,e);if(vu(t))return JD(t,e);if(Eu(t))return XD(t,e)}throw gu(t)}function ge(t,e){return e?eb(t,e):Y(t)}function I(...t){let e=qn(t);return ge(t,e)}function y(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{n.next(t.call(e,s,r++))}))})}var{isArray:d_}=Array,{getPrototypeOf:f_,prototype:h_,keys:p_}=Object;function Iu(t){if(t.length===1){let e=t[0];if(d_(e))return{args:e,keys:null};if(g_(e)){let i=p_(e);return{args:i.map(n=>e[n]),keys:i}}}return{args:t,keys:null}}function g_(t){return t&&typeof t=="object"&&f_(t)===h_}var{isArray:m_}=Array;function v_(t,e){return m_(e)?t(...e):t(e)}function xs(t){return y(e=>v_(t,e))}function Du(t,e){return t.reduce((i,n,r)=>(i[n]=e[r],i),{})}function _e(...t){let e=qn(t),i=ni(t),{args:n,keys:r}=Iu(t);if(n.length===0)return ge([],e);let s=new z(y_(n,e,r?o=>Du(r,o):Xe));return i?s.pipe(xs(i)):s}function y_(t,e,i=Xe){return n=>{tb(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)tb(e,()=>{let u=ge(t[c],e),l=!1;u.subscribe(P(n,f=>{s[c]=f,l||(l=!0,a--),a||n.next(i(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function tb(t,e,i){t?Ct(i,t,e):e()}function nb(t,e,i,n,r,s,o,a){let c=[],u=0,l=0,f=!1,h=()=>{f&&!c.length&&!u&&e.complete()},p=b=>u<n?E(b):c.push(b),E=b=>{s&&e.next(b),u++;let w=!1;Y(i(b,l++)).subscribe(P(e,R=>{r?.(R),s?p(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<n;){let R=c.shift();o?Ct(e,o,()=>E(R)):E(R)}h()}catch(R){e.error(R)}}))};return t.subscribe(P(e,p,()=>{f=!0,h()})),()=>{a?.()}}function G(t,e,i=1/0){return K(e)?G((n,r)=>y((s,o)=>e(n,s,r,o))(Y(t(n,r))),i):(typeof e=="number"&&(i=e),_((n,r)=>nb(n,r,t,i)))}var Kt=new Wn(Gn),rb=Kt;function bu(t){return t instanceof Date&&!isNaN(t)}function Zt(t=0,e,i=rb){let n=-1;return e!=null&&(du(e)?i=e:n=e),new z(r=>{let s=bu(t)?+t-i.now():t;s<0&&(s=0);let o=0;return i.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}function Yn(t=1/0){return G(Xe,t)}function an(...t){let e=qn(t),i=HD(t,1/0),n=t;return n.length?n.length===1?Y(n[0]):Yn(i)(ge(n,e)):pe}function x(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>t.call(e,s,r++)&&n.next(s)))})}function F(t){return _((e,i)=>{let n=null,r=!1,s;n=e.subscribe(P(i,void 0,void 0,o=>{s=Y(t(o,F(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(i)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(i))})}function E_(t){return _((e,i)=>{let n=!1,r=null,s=null,o=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let a=r;r=null,i.next(a)}};e.subscribe(P(i,a=>{s?.unsubscribe(),n=!0,r=a,s=P(i,o,Rt),Y(t(a)).subscribe(s)},()=>{o(),i.complete()},void 0,()=>{r=s=null}))})}function ie(t){return t<=0?()=>pe:_((e,i)=>{let n=0;e.subscribe(P(i,r=>{++n<=t&&(i.next(r),t<=n&&i.complete())}))})}function ib(){return Yn(1)}function Kn(...t){return ib()(ge(t,qn(t)))}function Xo(){return _((t,e)=>{t.subscribe(P(e,Rt))})}function ea(t){return y(()=>t)}function wu(t,e){return e?i=>Kn(e.pipe(ie(1),Xo()),i.pipe(wu(t))):G((i,n)=>Y(t(i,n)).pipe(ie(1),ea(i)))}function Zn(t,e=Kt){let i=Zt(t,e);return wu(()=>i)}function C_(t,e){return _((i,n)=>{let r=new Set;i.subscribe(P(n,s=>{let o=t?t(s):s;r.has(o)||(r.add(o),n.next(s))})),e&&Y(e).subscribe(P(n,()=>r.clear(),Rt))})}function cn(t,e=Xe){return t=t??S_,_((i,n)=>{let r,s=!0;i.subscribe(P(n,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,n.next(o))}))})}function S_(t,e){return t===e}function I_(t,e){return cn((i,n)=>e?e(i[t],n[t]):i[t]===n[t])}var bn=ti(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ri(t){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>{n||i.next(t),i.complete()}))})}function Tu(t=D_){return _((e,i)=>{let n=!1;e.subscribe(P(i,r=>{n=!0,i.next(r)},()=>n?i.complete():i.error(t())))})}function D_(){return new bn}function Mt(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,ie(1),i?ri(e):Tu(()=>new bn))}function Os(t={}){let{connector:e=()=>new re,resetOnError:i=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,c,u=0,l=!1,f=!1,h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=c=void 0,l=f=!1},E=()=>{let b=o;p(),b?.unsubscribe()};return _((b,w)=>{u++,!f&&!l&&h();let R=c=c??e();w.add(()=>{u--,u===0&&!f&&!l&&(a=xg(E,r))}),R.subscribe(w),!o&&u>0&&(o=new wr({next:V=>R.next(V),error:V=>{f=!0,h(),a=xg(p,i,V),R.error(V)},complete:()=>{l=!0,h(),a=xg(p,n),R.complete()}}),Y(b).subscribe(o))})(s)}}function xg(t,e,...i){if(e===!0){t();return}if(e===!1)return;let n=new wr({next:()=>{n.unsubscribe(),t()}});return Y(e(...i)).subscribe(n)}function it(t,e,i){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:i}=t:n=t??1/0,Os({connector:()=>new on(n,e,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Og(t){return x((e,i)=>t<=i)}function Qn(...t){let e=qn(t);return _((i,n)=>{(e?Kn(t,i,e):Kn(t,i)).subscribe(n)})}function O(t,e){return _((i,n)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&n.complete();i.subscribe(P(n,c=>{r?.unsubscribe();let u=0,l=s++;Y(t(c,l)).subscribe(r=P(n,f=>n.next(e?e(c,f,l,u++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function b_(t,e=!1){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{let o=t(s,r++);(o||e)&&n.next(s),!o&&n.complete()}))})}function L(t,e,i){let n=K(t)||e||i?{next:t,error:e,complete:i}:t;return n?_((r,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;r.subscribe(P(s,c=>{var u;(u=n.next)===null||u===void 0||u.call(n,c),s.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),s.complete()},c=>{var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),s.error(c)},()=>{var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Xe}function Ns(){return _((t,e)=>{let i=null;t._refCount++;let n=P(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){i=null;return}let r=t._connection,s=i;i=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(i=t.connect())})}var ii=class extends z{constructor(e,i){super(),this.source=e,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Rg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ee;let i=this.getSubject();e.add(this.source.subscribe(P(i,void 0,()=>{this._teardown(),i.complete()},n=>{this._teardown(),i.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ee.EMPTY)}return e}refCount(){return Ns()(this)}};var Ps={schedule(t){let e=requestAnimationFrame,i=cancelAnimationFrame,{delegate:n}=Ps;n&&(e=n.requestAnimationFrame,i=n.cancelAnimationFrame);let r=e(s=>{i=void 0,t(s)});return new Ee(()=>i?.(r))},requestAnimationFrame(...t){let{delegate:e}=Ps;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ps;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var w_=1,Ng,Pg={};function sb(t){return t in Pg?(delete Pg[t],!0):!1}var ob={setImmediate(t){let e=w_++;return Pg[e]=!0,Ng||(Ng=Promise.resolve()),Ng.then(()=>sb(e)&&t()),e},clearImmediate(t){sb(t)}};var{setImmediate:T_,clearImmediate:A_}=ob,ta={setImmediate(...t){let{delegate:e}=ta;return(e?.setImmediate||T_)(...t)},clearImmediate(t){let{delegate:e}=ta;return(e?.clearImmediate||A_)(t)},delegate:void 0};var Au=class extends Gn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=ta.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(ta.clearImmediate(i),e._scheduled===i&&(e._scheduled=void 0))}};var Ru=class extends Wn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var Fg=new Ru(Au);var Mu=class extends Gn{constructor(e,i){super(e,i),this.scheduler=e,this.work=i}requestAsyncId(e,i,n=0){return n!==null&&n>0?super.requestAsyncId(e,i,n):(e.actions.push(this),e._scheduled||(e._scheduled=Ps.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,i,n=0){var r;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,i,n);let{actions:s}=e;i!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==i&&(Ps.cancelAnimationFrame(i),e._scheduled=void 0)}};var xu=class extends Wn{flush(e){this._active=!0;let i=this._scheduled;this._scheduled=void 0;let{actions:n}=this,r;e=e||n.shift();do if(r=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===i&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===i&&n.shift();)e.unsubscribe();throw r}}};var R_=new xu(Mu);function xt(t,e){let i=K(t)?t:()=>t,n=r=>r.error(i());return new z(e?r=>e.schedule(n,0,r):n)}var si=class t{constructor(e,i,n){this.kind=e,this.value=i,this.error=n,this.hasValue=e==="N"}observe(e){return _g(this,e)}do(e,i,n){let{kind:r,value:s,error:o}=this;return r==="N"?e?.(s):r==="E"?i?.(o):n?.()}accept(e,i,n){var r;return K((r=e)===null||r===void 0?void 0:r.next)?this.observe(e):this.do(e,i,n)}toObservable(){let{kind:e,value:i,error:n}=this,r=e==="N"?I(i):e==="E"?xt(()=>n):e==="C"?pe:0;if(!r)throw new TypeError(`Unexpected notification kind ${e}`);return r}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};si.completeNotification=new si("C");function _g(t,e){var i,n,r;let{kind:s,value:o,error:a}=t;if(typeof s!="string")throw new TypeError('Invalid notification, missing "kind"');s==="N"?(i=e.next)===null||i===void 0||i.call(e,o):s==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(r=e.complete)===null||r===void 0||r.call(e)}function Fi(t){return!!t&&(t instanceof z||K(t.lift)&&K(t.subscribe))}function Jn(t,e){let i=typeof e=="object";return new Promise((n,r)=>{let s=!1,o;t.subscribe({next:a=>{o=a,s=!0},error:r,complete:()=>{s?n(o):i?n(e.defaultValue):r(new bn)}})})}var Ou=ti(t=>function(i=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=i});function na(t,e){let{first:i,each:n,with:r=M_,scheduler:s=e??Kt,meta:o=null}=bu(t)?{first:t}:typeof t=="number"?{each:t}:t;if(i==null&&n==null)throw new TypeError("No timeout provided.");return _((a,c)=>{let u,l,f=null,h=0,p=E=>{l=Ct(c,s,()=>{try{u.unsubscribe(),Y(r({meta:o,lastValue:f,seen:h})).subscribe(c)}catch(b){c.error(b)}},E)};u=a.subscribe(P(c,E=>{l?.unsubscribe(),h++,c.next(f=E),n>0&&p(n)},void 0,void 0,()=>{l?.closed||l?.unsubscribe(),f=null})),!h&&p(i!=null?typeof i=="number"?i:+i-s.now():n)})}function M_(t){throw new Ou(t)}function qe(t){return new z(e=>{Y(t()).subscribe(e)})}var x_={connector:()=>new re,resetOnDisconnect:!0};function Nu(t,e=x_){let i=null,{connector:n,resetOnDisconnect:r=!0}=e,s=n(),o=new z(a=>s.subscribe(a));return o.connect=()=>((!i||i.closed)&&(i=qe(()=>t).subscribe(s),r&&i.add(()=>s=n())),i),o}function ra(...t){let e=ni(t),{args:i,keys:n}=Iu(t),r=new z(s=>{let{length:o}=i;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let f=!1;Y(i[l]).subscribe(P(s,h=>{f||(f=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(n?Du(n,a):a),s.complete())}))}});return e?r.pipe(xs(e)):r}var O_=["addListener","removeListener"],N_=["addEventListener","removeEventListener"],P_=["on","off"];function ia(t,e,i,n){if(K(i)&&(n=i,i=void 0),n)return ia(t,e,i).pipe(xs(n));let[r,s]=L_(t)?N_.map(o=>a=>t[o](e,a,i)):F_(t)?O_.map(ab(t,e)):__(t)?P_.map(ab(t,e)):[];if(!r&&Ms(t))return G(o=>ia(o,e,i))(Y(t));if(!r)throw new TypeError("Invalid event target");return new z(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function ab(t,e){return i=>n=>t[i](e,n)}function F_(t){return K(t.addListener)&&K(t.removeListener)}function __(t){return K(t.on)&&K(t.off)}function L_(t){return K(t.addEventListener)&&K(t.removeEventListener)}function sa(t,e,i){return qe(()=>t()?e:i)}function k_(t=0,e=Kt){return t<0&&(t=0),Zt(t,t,e)}var Lg=new z(Rt);var{isArray:U_}=Array;function Pu(t){return t.length===1&&U_(t[0])?t[0]:t}function kg(...t){return t=Pu(t),t.length===1?Y(t[0]):new z(j_(t))}function j_(t){return e=>{let i=[];for(let n=0;i&&!e.closed&&n<t.length;n++)i.push(Y(t[n]).subscribe(P(e,r=>{if(i){for(let s=0;s<i.length;s++)s!==n&&i[s].unsubscribe();i=null}e.next(r)})))}}function _i(t,e){return new z(i=>{let n=t(),r=e(n);return(r?Y(r):pe).subscribe(i),()=>{n&&n.unsubscribe()}})}function Li(...t){let e=ni(t),i=Pu(t);return i.length?new z(n=>{let r=i.map(()=>[]),s=i.map(()=>!1);n.add(()=>{r=s=null});for(let o=0;!n.closed&&o<i.length;o++)Y(i[o]).subscribe(P(n,a=>{if(r[o].push(a),r.every(c=>c.length)){let c=r.map(u=>u.shift());n.next(e?e(...c):c),r.some((u,l)=>!u.length&&s[l])&&n.complete()}},()=>{s[o]=!0,!r[o].length&&n.complete()}));return()=>{r=s=null}}):pe}function oa(t){return _((e,i)=>{let n=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;let u=r;r=null,i.next(u)}o&&i.complete()},c=()=>{s=null,o&&i.complete()};e.subscribe(P(i,u=>{n=!0,r=u,s||Y(t(u)).subscribe(s=P(i,a,c))},()=>{o=!0,(!n||!s||s.closed)&&i.complete()}))})}function Fu(t,e=Kt){return oa(()=>Zt(t,e))}function _u(t,e=null){return e=e??t,_((i,n)=>{let r=[],s=0;i.subscribe(P(n,o=>{let a=null;s++%e===0&&r.push([]);for(let c of r)c.push(o),t<=c.length&&(a=a??[],a.push(c));if(a)for(let c of a)br(r,c),n.next(c)},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function cb(t,e,i,n,r){return(s,o)=>{let a=i,c=e,u=0;s.subscribe(P(o,l=>{let f=u++;c=a?t(c,l,f):(a=!0,l),n&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function je(t,e){return K(e)?G(t,e,1):G(t,1)}function ub(t){return new z(e=>t.subscribe(e))}var $_={connector:()=>new re};function Lu(t,e=$_){let{connector:i}=e;return _((n,r)=>{let s=i();Y(t(ub(s))).subscribe(r),r.add(n.subscribe(s))})}function ki(t,e=Kt){return _((i,n)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let u=s;s=null,n.next(u)}};function c(){let u=o+t,l=e.now();if(l<u){r=this.schedule(void 0,u-l),n.add(r);return}a()}i.subscribe(P(n,u=>{s=u,o=e.now(),r||(r=e.schedule(c,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}function Ug(){return _((t,e)=>{t.subscribe(P(e,i=>_g(i,e)))})}function lb(...t){return e=>Kn(e,I(...t))}function B_(t,e){return _((i,n)=>{let r=0;i.subscribe(P(n,s=>{t.call(e,s,r++,i)||(n.next(!1),n.complete())},()=>{n.next(!0),n.complete()}))})}function Xn(t,e){return e?i=>i.pipe(Xn((n,r)=>Y(t(n,r)).pipe(y((s,o)=>e(n,s,r,o))))):_((i,n)=>{let r=0,s=null,o=!1;i.subscribe(P(n,a=>{s||(s=P(n,void 0,()=>{s=null,o&&n.complete()}),Y(t(a,r++)).subscribe(s))},()=>{o=!0,!s&&n.complete()}))})}function wn(t){return _((e,i)=>{try{e.subscribe(i)}finally{i.add(t)}})}function Ar(t,e,i,n){return _((r,s)=>{let o;!e||typeof e=="function"?o=e:{duration:i,element:o,connector:n}=e;let a=new Map,c=E=>{a.forEach(E),E(s)},u=E=>c(b=>b.error(E)),l=0,f=!1,h=new Jo(s,E=>{try{let b=t(E),w=a.get(b);if(!w){a.set(b,w=n?n():new re);let R=p(b,w);if(s.next(R),i){let V=P(w,()=>{w.complete(),V?.unsubscribe()},void 0,void 0,()=>a.delete(b));h.add(Y(i(R)).subscribe(V))}}w.next(o?o(E):E)}catch(b){u(b)}},()=>c(E=>E.complete()),u,()=>a.clear(),()=>(f=!0,l===0));r.subscribe(h);function p(E,b){let w=new z(R=>{l++;let V=b.subscribe(R);return()=>{V.unsubscribe(),--l===0&&f&&h.unsubscribe()}});return w.key=E,w}})}function Fs(t){return t<=0?()=>pe:_((e,i)=>{let n=[];e.subscribe(P(i,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)i.next(r);i.complete()},void 0,()=>{n=null}))})}function jg(t,e){let i=arguments.length>=2;return n=>n.pipe(t?x((r,s)=>t(r,s,n)):Xe,Fs(1),i?ri(e):Tu(()=>new bn))}function $g(){return _((t,e)=>{t.subscribe(P(e,i=>{e.next(si.createNext(i))},()=>{e.next(si.createComplete()),e.complete()},i=>{e.next(si.createError(i)),e.complete()}))})}function db(t,e){let i=K(t)?t:()=>t;return K(e)?Lu(e,{connector:i}):n=>new ii(n,i)}function aa(){return _((t,e)=>{let i,n=!1;t.subscribe(P(e,r=>{let s=i;i=r,n&&e.next([s,r]),n=!0}))})}function Bg(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return y(i=>{let n=i;for(let r=0;r<e;r++){let s=n?.[t[r]];if(typeof s<"u")n=s;else return}return n})}function V_(t){return t?e=>Lu(t)(e):e=>db(new re)(e)}function Vg(t=1/0){let e;t&&typeof t=="object"?e=t:e={count:t};let{count:i=1/0,delay:n,resetOnSuccess:r=!1}=e;return i<=0?Xe:_((s,o)=>{let a=0,c,u=()=>{let l=!1;c=s.subscribe(P(o,f=>{r&&(a=0),o.next(f)},void 0,f=>{if(a++<i){let h=()=>{c?(c.unsubscribe(),c=null,u()):l=!0};if(n!=null){let p=typeof n=="number"?Zt(n):Y(n(f,a)),E=P(o,()=>{E.unsubscribe(),h()},()=>{o.complete()});p.subscribe(E)}else h()}else o.error(f)})),l&&(c.unsubscribe(),c=null,u())};u()})}function Ui(t,e){return _(cb(t,e,arguments.length>=2,!0))}function ku(t){return _((e,i)=>{let n=!1,r=0;e.subscribe(P(i,s=>(n||(n=!t(s,r++)))&&i.next(s)))})}function ca(t){return _((e,i)=>{Y(t).subscribe(P(i,()=>i.complete(),Rt)),!i.closed&&e.subscribe(i)})}function fb(t,e){return _((i,n)=>{let{leading:r=!0,trailing:s=!1}=e??{},o=!1,a=null,c=null,u=!1,l=()=>{c?.unsubscribe(),c=null,s&&(p(),u&&n.complete())},f=()=>{c=null,u&&n.complete()},h=E=>c=Y(t(E)).subscribe(P(n,l,f)),p=()=>{if(o){o=!1;let E=a;a=null,n.next(E),!u&&h(E)}};i.subscribe(P(n,E=>{o=!0,a=E,!(c&&!c.closed)&&(r?p():h(E))},()=>{u=!0,!(s&&o&&c&&!c.closed)&&n.complete()}))})}function H_(t,e=Kt,i){let n=Zt(t,e);return fb(()=>n,i)}function st(...t){let e=ni(t);return _((i,n)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let c=0;c<r;c++)Y(t[c]).subscribe(P(n,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(Xe))&&(o=null))},Rt));i.subscribe(P(n,c=>{if(a){let u=[c,...s];n.next(e?e(...u):u)}}))})}function hb(t,e){return Object.is(t,e)}var ot=null,Uu=!1,ju=1,Rr=Symbol("SIGNAL");function ve(t){let e=ot;return ot=t,e}var Bu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Gg(t){if(Uu)throw new Error("");if(ot===null)return;ot.consumerOnSignalRead(t);let e=ot.nextProducerIndex++;if(_s(ot),e<ot.producerNode.length&&ot.producerNode[e]!==t&&ua(ot)){let i=ot.producerNode[e];Vu(i,ot.producerIndexOfThis[e])}ot.producerNode[e]!==t&&(ot.producerNode[e]=t,ot.producerIndexOfThis[e]=ua(ot)?yb(t,ot,e):0),ot.producerLastReadVersion[e]=t.version}function z_(){ju++}function pb(t){if(!(ua(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ju)){if(!t.producerMustRecompute(t)&&!Yg(t)){t.dirty=!1,t.lastCleanEpoch=ju;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ju}}function gb(t){if(t.liveConsumerNode===void 0)return;let e=Uu;Uu=!0;try{for(let i of t.liveConsumerNode)i.dirty||G_(i)}finally{Uu=e}}function mb(){return ot?.consumerAllowSignalWrites!==!1}function G_(t){t.dirty=!0,gb(t),t.consumerMarkedDirty?.(t)}function Wg(t){return t&&(t.nextProducerIndex=0),ve(t)}function qg(t,e){if(ve(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ua(t))for(let i=t.nextProducerIndex;i<t.producerNode.length;i++)Vu(t.producerNode[i],t.producerIndexOfThis[i]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yg(t){_s(t);for(let e=0;e<t.producerNode.length;e++){let i=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==i.version||(pb(i),n!==i.version))return!0}return!1}function vb(t){if(_s(t),ua(t))for(let e=0;e<t.producerNode.length;e++)Vu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function yb(t,e,i){if(Eb(t),_s(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=yb(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(i),t.liveConsumerNode.push(e)-1}function Vu(t,e){if(Eb(t),_s(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Vu(t.producerNode[n],t.producerIndexOfThis[n]);let i=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[i],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[i],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];_s(r),r.producerIndexOfThis[n]=e}}function ua(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Eb(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Cb(t){let e=Object.create(W_);e.computation=t;let i=()=>{if(pb(e),Gg(e),e.value===$u)throw e.error;return e.value};return i[Rr]=e,i}var Hg=Symbol("UNSET"),zg=Symbol("COMPUTING"),$u=Symbol("ERRORED"),W_=T(v({},Bu),{value:Hg,dirty:!0,error:null,equal:hb,producerMustRecompute(t){return t.value===Hg||t.value===zg},producerRecomputeValue(t){if(t.value===zg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=zg;let i=Wg(t),n;try{n=t.computation()}catch(r){n=$u,t.error=r}finally{qg(t,i)}if(e!==Hg&&e!==$u&&n!==$u&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function q_(){throw new Error}var Sb=q_;function Ib(){Sb()}function Db(t){Sb=t}var Y_=null;function bb(t){let e=Object.create(Tb);e.value=t;let i=()=>(Gg(e),e.value);return i[Rr]=e,i}function Kg(t,e){mb()||Ib(),t.equal(t.value,e)||(t.value=e,K_(t))}function wb(t,e){mb()||Ib(),Kg(t,e(t.value))}var Tb=T(v({},Bu),{equal:hb,value:void 0});function K_(t){t.version++,z_(),gb(t),Y_?.()}var yw="https://g.co/ng/security#xss",j=class extends Error{constructor(e,i){super(Dl(e,i)),this.code=e}};function Dl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ia(t){return{toString:t}.toString()}var Hu="__parameters__";function Z_(t){return function(...i){if(t){let n=t(...i);for(let r in n)this[r]=n[r]}}}function mv(t,e,i){return Ia(()=>{let n=Z_(e);function r(...s){if(this instanceof r)return n.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,u,l){let f=c.hasOwnProperty(Hu)?c[Hu]:Object.defineProperty(c,Hu,{value:[]})[Hu];for(;f.length<=l;)f.push(null);return(f[l]=f[l]||[]).push(o),c}}return i&&(r.prototype=Object.create(i.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Ge=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function Q_(t,e){for(let i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(t[i]=e[i])}function Pt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Pt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let i=e.indexOf(`
`);return i===-1?e:e.substring(0,i)}function dm(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var J_=Re({__forward_ref__:Re});function Ew(t){return t.__forward_ref__=Ew,t.toString=function(){return Pt(this())},t}function Ot(t){return Cw(t)?t():t}function Cw(t){return typeof t=="function"&&t.hasOwnProperty(J_)&&t.__forward_ref__===Ew}function m(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $(t){return{providers:t.providers||[],imports:t.imports||[]}}function bl(t){return Ab(t,Iw)||Ab(t,Dw)}function Sw(t){return bl(t)!==null}function Ab(t,e){return t.hasOwnProperty(e)?t[e]:null}function X_(t){let e=t&&(t[Iw]||t[Dw]);return e||null}function Rb(t){return t&&(t.hasOwnProperty(Mb)||t.hasOwnProperty(eL))?t[Mb]:null}var Iw=Re({\u0275prov:Re}),Mb=Re({\u0275inj:Re}),Dw=Re({ngInjectableDef:Re}),eL=Re({ngInjectorDef:Re}),S=class{constructor(e,i){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof i=="number"?this.__NG_ELEMENT_ID__=i:i!==void 0&&(this.\u0275prov=m({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bw(t){return t&&!!t.\u0275providers}var tL=Re({\u0275cmp:Re}),nL=Re({\u0275dir:Re}),rL=Re({\u0275pipe:Re}),iL=Re({\u0275mod:Re}),nl=Re({\u0275fac:Re}),la=Re({__NG_ELEMENT_ID__:Re}),xb=Re({__NG_ENV_ID__:Re});function Nt(t){return typeof t=="string"?t:t==null?"":String(t)}function sL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Nt(t)}function oL(t,e){let i=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new j(-200,t)}function vv(t,e){throw new j(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),fm;function ww(){return fm}function $t(t){let e=fm;return fm=t,e}function Tw(t,e,i){let n=bl(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(i&ce.Optional)return null;if(e!==void 0)return e;vv(t,"Injector")}var aL={},fa=aL,hm="__NG_DI_FLAG__",rl="ngTempTokenPath",cL="ngTokenPath",uL=/\n/gm,lL="\u0275",Ob="__source",$s;function dL(){return $s}function oi(t){let e=$s;return $s=t,e}function fL(t,e=ce.Default){if($s===void 0)throw new j(-203,!1);return $s===null?Tw(t,void 0,e):$s.get(t,e&ce.Optional?null:void 0,e)}function d(t,e=ce.Default){return(ww()||fL)(Ot(t),e)}function C(t,e=ce.Default){return d(t,wl(e))}function wl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pm(t){let e=[];for(let i=0;i<t.length;i++){let n=Ot(t[i]);if(Array.isArray(n)){if(n.length===0)throw new j(900,!1);let r,s=ce.Default;for(let o=0;o<n.length;o++){let a=n[o],c=hL(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(d(r,s))}else e.push(d(n))}return e}function yv(t,e){return t[hm]=e,t.prototype[hm]=e,t}function hL(t){return t[hm]}function pL(t,e,i,n){let r=t[rl];throw e[Ob]&&r.unshift(e[Ob]),t.message=gL(`
`+t.message,r,i,n),t[cL]=r,t[rl]=null,t}function gL(t,e,i,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lL?t.slice(2):t;let r=Pt(e);if(Array.isArray(e))r=e.map(Pt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}r=`{${s.join(", ")}}`}return`${i}${n?"("+n+")":""}[${r}]: ${t.replace(uL,`
  `)}`}var Ev=yv(mv("Inject",t=>({token:t})),-1),dn=yv(mv("Optional"),8);var Tl=yv(mv("SkipSelf"),4);function Vi(t,e){let i=t.hasOwnProperty(nl);return i?t[nl]:null}function mL(t,e,i){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=e[n];if(i&&(r=i(r),s=i(s)),s!==r)return!1}return!0}function vL(t){return t.flat(Number.POSITIVE_INFINITY)}function Cv(t,e){t.forEach(i=>Array.isArray(i)?Cv(i,e):e(i))}function Aw(t,e,i){e>=t.length?t.push(i):t.splice(e,0,i)}function il(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yL(t,e){let i=[];for(let n=0;n<t;n++)i.push(e);return i}function EL(t,e,i,n){let r=t.length;if(r==e)t.push(i,n);else if(r===1)t.push(n,t[0]),t[0]=i;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=i,t[e+1]=n}}function Da(t,e,i){let n=ba(t,e);return n>=0?t[n|1]=i:(n=~n,EL(t,n,e,i)),n}function Zg(t,e){let i=ba(t,e);if(i>=0)return t[i|1]}function ba(t,e){return CL(t,e,1)}function CL(t,e,i){let n=0,r=t.length>>i;for(;r!==n;){let s=n+(r-n>>1),o=t[s<<i];if(e===o)return s<<i;o>e?r=s:n=s+1}return~(r<<i)}var Vs={},Bt=[],nr=new S(""),Rw=new S("",-1),Mw=new S(""),sl=class{get(e,i=fa){if(i===fa){let n=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw n.name="NullInjectorError",n}return i}},xw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(xw||{}),rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rr||{}),un=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(un||{});function SL(t,e,i){let n=t.length;for(;;){let r=t.indexOf(e,i);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}i=r+1}}function gm(t,e,i){let n=0;for(;n<i.length;){let r=i[n];if(typeof r=="number"){if(r!==0)break;n++;let s=i[n++],o=i[n++],a=i[n++];t.setAttribute(e,o,a,s)}else{let s=r,o=i[++n];IL(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Ow(t){return t===3||t===4||t===6}function IL(t){return t.charCodeAt(0)===64}function ha(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let i=-1;for(let n=0;n<e.length;n++){let r=e[n];typeof r=="number"?i=r:i===0||(i===-1||i===2?Nb(t,i,r,null,e[++n]):Nb(t,i,r,null,null))}}return t}function Nb(t,e,i,n,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===i){if(n===null){r!==null&&(t[s+1]=r);return}else if(n===t[s+1]){t[s+2]=r;return}}s++,n!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,i),n!==null&&t.splice(s++,0,n),r!==null&&t.splice(s++,0,r)}var Nw="ng-template";function DL(t,e,i,n){let r=0;if(n){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&SL(e[r+1].toLowerCase(),i,0)!==-1)return!0}else if(Sv(t))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===i)return!0}return!1}function Sv(t){return t.type===4&&t.value!==Nw}function bL(t,e,i){let n=t.type===4&&!i?Nw:t.value;return e===n}function wL(t,e,i){let n=4,r=t.attrs,s=r!==null?RL(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!Tn(n)&&!Tn(c))return!1;if(o&&Tn(c))continue;o=!1,n=c|n&1;continue}if(!o)if(n&4){if(n=2|n&1,c!==""&&!bL(t,c,i)||c===""&&e.length===1){if(Tn(n))return!1;o=!0}}else if(n&8){if(r===null||!DL(t,r,c,i)){if(Tn(n))return!1;o=!0}}else{let u=e[++a],l=TL(c,r,Sv(t),i);if(l===-1){if(Tn(n))return!1;o=!0;continue}if(u!==""){let f;if(l>s?f="":f=r[l+1].toLowerCase(),n&2&&u!==f){if(Tn(n))return!1;o=!0}}}}return Tn(n)||o}function Tn(t){return(t&1)===0}function TL(t,e,i,n){if(e===null)return-1;let r=0;if(n||!i){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return ML(e,t)}function Pw(t,e,i=!1){for(let n=0;n<e.length;n++)if(wL(t,e[n],i))return!0;return!1}function AL(t){let e=t.attrs;if(e!=null){let i=e.indexOf(5);if(!(i&1))return e[i+1]}return null}function RL(t){for(let e=0;e<t.length;e++){let i=t[e];if(Ow(i))return e}return t.length}function ML(t,e){let i=t.indexOf(4);if(i>-1)for(i++;i<t.length;){let n=t[i];if(typeof n=="number")return-1;if(n===e)return i;i++}return-1}function xL(t,e){e:for(let i=0;i<e.length;i++){let n=e[i];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Pb(t,e){return t?":not("+e.trim()+")":e}function OL(t){let e=t[0],i=1,n=2,r="",s=!1;for(;i<t.length;){let o=t[i];if(typeof o=="string")if(n&2){let a=t[++i];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?r+="."+o:n&4&&(r+=" "+o);else r!==""&&!Tn(o)&&(e+=Pb(s,r),r=""),n=o,s=s||!Tn(n);i++}return r!==""&&(e+=Pb(s,r)),e}function NL(t){return t.map(OL).join(",")}function PL(t){let e=[],i=[],n=1,r=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++n]):r===8&&i.push(s);else{if(!Tn(r))break;r=s}n++}return{attrs:e,classes:i}}function Fw(t){return Ia(()=>{let e=jw(t),i=T(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===xw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rr.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});$w(i);let n=t.dependencies;return i.directiveDefs=_b(n,!1),i.pipeDefs=_b(n,!0),i.id=LL(i),i})}function FL(t){return ci(t)||_w(t)}function _L(t){return t!==null}function B(t){return Ia(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Fb(t,e){if(t==null)return Vs;let i={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],s,o,a=un.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(i[s]=a!==un.None?[n,a]:n,e[s]=o):i[s]=n}return i}function Ft(t){return Ia(()=>{let e=jw(t);return $w(e),e})}function Vt(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ci(t){return t[tL]||null}function _w(t){return t[nL]||null}function Lw(t){return t[rL]||null}function kw(t){let e=ci(t)||_w(t)||Lw(t);return e!==null?e.standalone:!1}function Uw(t,e){let i=t[iL]||null;if(!i&&e===!0)throw new Error(`Type ${Pt(t)} does not have '\u0275mod' property.`);return i}function jw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Fb(t.inputs,e),outputs:Fb(t.outputs),debugInfo:null}}function $w(t){t.features?.forEach(e=>e(t))}function _b(t,e){if(!t)return null;let i=e?Lw:FL;return()=>(typeof t=="function"?t():t).map(n=>i(n)).filter(_L)}function LL(t){let e=0,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sr(t){return{\u0275providers:t}}function kL(...t){return{\u0275providers:Bw(!0,t),\u0275fromNgModule:!0}}function Bw(t,...e){let i=[],n=new Set,r,s=o=>{i.push(o)};return Cv(e,o=>{let a=o;mm(a,s,[],n)&&(r||=[],r.push(a))}),r!==void 0&&Vw(r,s),i}function Vw(t,e){for(let i=0;i<t.length;i++){let{ngModule:n,providers:r}=t[i];Iv(r,s=>{e(s,n)})}}function mm(t,e,i,n){if(t=Ot(t),!t)return!1;let r=null,s=Rb(t),o=!s&&ci(t);if(!s&&!o){let c=t.ngModule;if(s=Rb(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)mm(u,e,i,n)}}else if(s){if(s.imports!=null&&!a){n.add(r);let u;try{Cv(s.imports,l=>{mm(l,e,i,n)&&(u||=[],u.push(l))})}finally{}u!==void 0&&Vw(u,e)}if(!a){let u=Vi(r)||(()=>new r);e({provide:r,useFactory:u,deps:Bt},r),e({provide:Mw,useValue:r,multi:!0},r),e({provide:nr,useValue:()=>d(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let u=t;Iv(c,l=>{e(l,u)})}}else return!1;return r!==t&&t.providers!==void 0}function Iv(t,e){for(let i of t)bw(i)&&(i=i.\u0275providers),Array.isArray(i)?Iv(i,e):e(i)}var UL=Re({provide:String,useValue:Re});function Hw(t){return t!==null&&typeof t=="object"&&UL in t}function jL(t){return!!(t&&t.useExisting)}function $L(t){return!!(t&&t.useFactory)}function Hs(t){return typeof t=="function"}function BL(t){return!!t.useClass}var Al=new S(""),Zu={},VL={},Qg;function Dv(){return Qg===void 0&&(Qg=new sl),Qg}var St=class{},pa=class extends St{get destroyed(){return this._destroyed}constructor(e,i,n,r){super(),this.parent=i,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ym(e,o=>this.processProvider(o)),this.records.set(Rw,Ls(void 0,this)),r.has("environment")&&this.records.set(St,Ls(void 0,this));let s=this.records.get(Al);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Mw,Bt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let i=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of i)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let i=oi(this),n=$t(void 0),r;try{return e()}finally{oi(i),$t(n)}}get(e,i=fa,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xb))return e[xb](this);n=wl(n);let r,s=oi(this),o=$t(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=qL(e)&&bl(e);u&&this.injectableDefInScope(u)?c=Ls(vm(e),Zu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?Dv():this.parent;return i=n&ce.Optional&&i===fa?null:i,a.get(e,i)}catch(a){if(a.name==="NullInjectorError"){if((a[rl]=a[rl]||[]).unshift(Pt(e)),s)throw a;return pL(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(o),oi(s)}}resolveInjectorInitializers(){let e=ve(null),i=oi(this),n=$t(void 0),r;try{let s=this.get(nr,Bt,ce.Self);for(let o of s)o()}finally{oi(i),$t(n),ve(e)}}toString(){let e=[],i=this.records;for(let n of i.keys())e.push(Pt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=Ot(e);let i=Hs(e)?e:Ot(e&&e.provide),n=zL(e);if(!Hs(e)&&e.multi===!0){let r=this.records.get(i);r||(r=Ls(void 0,Zu,!0),r.factory=()=>pm(r.multi),this.records.set(i,r)),i=e,r.multi.push(e)}this.records.set(i,n)}hydrate(e,i){let n=ve(null);try{return i.value===Zu&&(i.value=VL,i.value=i.factory()),typeof i.value=="object"&&i.value&&WL(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{ve(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let i=Ot(e.providedIn);return typeof i=="string"?i==="any"||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(e){let i=this._onDestroyHooks.indexOf(e);i!==-1&&this._onDestroyHooks.splice(i,1)}};function vm(t){let e=bl(t),i=e!==null?e.factory:Vi(t);if(i!==null)return i;if(t instanceof S)throw new j(204,!1);if(t instanceof Function)return HL(t);throw new j(204,!1)}function HL(t){if(t.length>0)throw new j(204,!1);let i=X_(t);return i!==null?()=>i.factory(t):()=>new t}function zL(t){if(Hw(t))return Ls(void 0,t.useValue);{let e=zw(t);return Ls(e,Zu)}}function zw(t,e,i){let n;if(Hs(t)){let r=Ot(t);return Vi(r)||vm(r)}else if(Hw(t))n=()=>Ot(t.useValue);else if($L(t))n=()=>t.useFactory(...pm(t.deps||[]));else if(jL(t))n=()=>d(Ot(t.useExisting));else{let r=Ot(t&&(t.useClass||t.provide));if(GL(t))n=()=>new r(...pm(t.deps));else return Vi(r)||vm(r)}return n}function Ls(t,e,i=!1){return{factory:t,value:e,multi:i?[]:void 0}}function GL(t){return!!t.deps}function WL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function qL(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function ym(t,e){for(let i of t)Array.isArray(i)?ym(i,e):i&&bw(i)?ym(i.\u0275providers,e):e(i)}function Nn(t,e){t instanceof pa&&t.assertNotDestroyed();let i,n=oi(t),r=$t(void 0);try{return e()}finally{oi(n),$t(r)}}function Gw(){return ww()!==void 0||dL()!=null}function wa(t){if(!Gw())throw new j(-203,!1)}function YL(t){let e=Ge.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function KL(t){return typeof t=="function"}var Pr=0,se=1,J=2,mt=3,An=4,Jt=5,ga=6,ma=7,Rn=8,zs=9,Mn=10,xe=11,va=12,Lb=13,Qs=14,xn=15,Ta=16,ks=17,Mr=18,Rl=19,Ww=20,ai=21,Jg=22,Hi=23,It=25,qw=1;var zi=7,ol=8,Gs=9,Qt=10,bv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bv||{});function $i(t){return Array.isArray(t)&&typeof t[qw]=="object"}function Fr(t){return Array.isArray(t)&&t[qw]===!0}function wv(t){return(t.flags&4)!==0}function Ml(t){return t.componentOffset>-1}function xl(t){return(t.flags&1)===1}function ui(t){return!!t.template}function ZL(t){return(t[J]&512)!==0}var Em=class{constructor(e,i,n){this.previousValue=e,this.currentValue=i,this.firstChange=n}isFirstChange(){return this.firstChange}};function Yw(t,e,i,n){e!==null?e.applyValueToInputSignal(e,n):t[i]=n}function di(){return Kw}function Kw(t){return t.type.prototype.ngOnChanges&&(t.setInput=JL),QL}di.ngInherit=!0;function QL(){let t=Qw(this),e=t?.current;if(e){let i=t.previous;if(i===Vs)t.previous=e;else for(let n in e)i[n]=e[n];t.current=null,this.ngOnChanges(e)}}function JL(t,e,i,n,r){let s=this.declaredInputs[n],o=Qw(t)||XL(t,{previous:Vs,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Em(u&&u.currentValue,i,c===Vs),Yw(t,e,r,i)}var Zw="__ngSimpleChanges__";function Qw(t){return t[Zw]||null}function XL(t,e){return t[Zw]=e}var kb=null;var er=function(t,e,i){kb?.(t,e,i)},ek="svg",tk="math",nk=!1;function rk(){return nk}function ir(t){for(;Array.isArray(t);)t=t[Pr];return t}function Jw(t,e){return ir(e[t])}function fn(t,e){return ir(e[t.index])}function Xw(t,e){return t.data[e]}function Aa(t,e){return t[e]}function fi(t,e){let i=e[t];return $i(i)?i:i[Pr]}function ik(t){return(t[J]&4)===4}function Tv(t){return(t[J]&128)===128}function sk(t){return Fr(t[mt])}function Ws(t,e){return e==null?null:t[e]}function eT(t){t[ks]=0}function ok(t){t[J]&1024||(t[J]|=1024,Tv(t)&&ya(t))}function ak(t,e){for(;t>0;)e=e[Qs],t--;return e}function Av(t){return!!(t[J]&9216||t[Hi]?.dirty)}function Cm(t){t[Mn].changeDetectionScheduler?.notify(1),Av(t)?ya(t):t[J]&64&&(rk()?(t[J]|=1024,ya(t)):t[Mn].changeDetectionScheduler?.notify())}function ya(t){t[Mn].changeDetectionScheduler?.notify();let e=Ea(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Tv(e)));)e=Ea(e)}function tT(t,e){if((t[J]&256)===256)throw new j(911,!1);t[ai]===null&&(t[ai]=[]),t[ai].push(e)}function ck(t,e){if(t[ai]===null)return;let i=t[ai].indexOf(e);i!==-1&&t[ai].splice(i,1)}function Ea(t){let e=t[mt];return Fr(e)?e[mt]:e}var oe={lFrame:cT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uk(){return oe.lFrame.elementDepthCount}function lk(){oe.lFrame.elementDepthCount++}function dk(){oe.lFrame.elementDepthCount--}function nT(){return oe.bindingsEnabled}function rT(){return oe.skipHydrationRootTNode!==null}function fk(t){return oe.skipHydrationRootTNode===t}function hk(){oe.skipHydrationRootTNode=null}function Z(){return oe.lFrame.lView}function Fe(){return oe.lFrame.tView}function use(t){return oe.lFrame.contextLView=t,t[Rn]}function lse(t){return oe.lFrame.contextLView=null,t}function bt(){let t=iT();for(;t!==null&&t.type===64;)t=t.parent;return t}function iT(){return oe.lFrame.currentTNode}function pk(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ji(t,e){let i=oe.lFrame;i.currentTNode=t,i.isParent=e}function Rv(){return oe.lFrame.isParent}function Mv(){oe.lFrame.isParent=!1}function gk(){return oe.lFrame.contextLView}function hn(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function xv(){return oe.lFrame.bindingIndex}function mk(t){return oe.lFrame.bindingIndex=t}function Ra(){return oe.lFrame.bindingIndex++}function Ma(t){let e=oe.lFrame,i=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,i}function vk(){return oe.lFrame.inI18n}function yk(t,e){let i=oe.lFrame;i.bindingIndex=i.bindingRootIndex=t,Sm(e)}function Ek(){return oe.lFrame.currentDirectiveIndex}function Sm(t){oe.lFrame.currentDirectiveIndex=t}function Ck(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function sT(){return oe.lFrame.currentQueryIndex}function Ov(t){oe.lFrame.currentQueryIndex=t}function Sk(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function oT(t,e,i){if(i&ce.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(i&ce.Host);)if(r=Sk(s),r===null||(s=s[Qs],r.type&10))break;if(r===null)return!1;e=r,t=s}let n=oe.lFrame=aT();return n.currentTNode=e,n.lView=t,!0}function Nv(t){let e=aT(),i=t[se];oe.lFrame=e,e.currentTNode=i.firstChild,e.lView=t,e.tView=i,e.contextLView=t,e.bindingIndex=i.bindingStartIndex,e.inI18n=!1}function aT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?cT(t):e}function cT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function uT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lT=uT;function Pv(){let t=uT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ik(t){return(oe.lFrame.contextLView=ak(t,oe.lFrame.contextLView))[Rn]}function or(){return oe.lFrame.selectedIndex}function Gi(t){oe.lFrame.selectedIndex=t}function Xi(){let t=oe.lFrame;return Xw(t.tView,t.selectedIndex)}function Dk(){return oe.lFrame.currentNamespace}var dT=!0;function Ol(){return dT}function Nl(t){dT=t}function bk(t,e,i){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(n){let o=Kw(e);(i.preOrderHooks??=[]).push(t,o),(i.preOrderCheckHooks??=[]).push(t,o)}r&&(i.preOrderHooks??=[]).push(0-t,r),s&&((i.preOrderHooks??=[]).push(t,s),(i.preOrderCheckHooks??=[]).push(t,s))}function Pl(t,e){for(let i=e.directiveStart,n=e.directiveEnd;i<n;i++){let s=t.data[i].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-i,o),a&&((t.contentHooks??=[]).push(i,a),(t.contentCheckHooks??=[]).push(i,a)),c&&(t.viewHooks??=[]).push(-i,c),u&&((t.viewHooks??=[]).push(i,u),(t.viewCheckHooks??=[]).push(i,u)),l!=null&&(t.destroyHooks??=[]).push(i,l)}}function Qu(t,e,i){fT(t,e,3,i)}function Ju(t,e,i,n){(t[J]&3)===i&&fT(t,e,i,n)}function Xg(t,e){let i=t[J];(i&3)===e&&(i&=16383,i+=1,t[J]=i)}function fT(t,e,i,n){let r=n!==void 0?t[ks]&65535:0,s=n??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[ks]+=65536),(a<s||s==-1)&&(wk(t,i,e,c),t[ks]=(t[ks]&4294901760)+c+2),c++}function Ub(t,e){er(4,t,e);let i=ve(null);try{e.call(t)}finally{ve(i),er(5,t,e)}}function wk(t,e,i,n){let r=i[n]<0,s=i[n+1],o=r?-i[n]:i[n],a=t[o];r?t[J]>>14<t[ks]>>16&&(t[J]&3)===e&&(t[J]+=16384,Ub(a,s)):Ub(a,s)}var Bs=-1,Wi=class{constructor(e,i,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=n}};function Tk(t){return t instanceof Wi}function Ak(t){return(t.flags&8)!==0}function Rk(t){return(t.flags&16)!==0}function hT(t){return t!==Bs}function al(t){return t&32767}function Mk(t){return t>>16}function cl(t,e){let i=Mk(t),n=e;for(;i>0;)n=n[Qs],i--;return n}var Im=!0;function ul(t){let e=Im;return Im=t,e}var xk=256,pT=xk-1,gT=5,Ok=0,tr={};function Nk(t,e,i){let n;typeof i=="string"?n=i.charCodeAt(0)||0:i.hasOwnProperty(la)&&(n=i[la]),n==null&&(n=i[la]=Ok++);let r=n&pT,s=1<<r;e.data[t+(r>>gT)]|=s}function ll(t,e){let i=mT(t,e);if(i!==-1)return i;let n=e[se];n.firstCreatePass&&(t.injectorIndex=e.length,em(n.data,t),em(e,null),em(n.blueprint,null));let r=Fv(t,e),s=t.injectorIndex;if(hT(r)){let o=al(r),a=cl(r,e),c=a[se].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=r,s}function em(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fv(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let i=0,n=null,r=e;for(;r!==null;){if(n=ST(r),n===null)return Bs;if(i++,r=r[Qs],n.injectorIndex!==-1)return n.injectorIndex|i<<16}return Bs}function Dm(t,e,i){Nk(t,e,i)}function Pk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let i=t.attrs;if(i){let n=i.length,r=0;for(;r<n;){let s=i[r];if(Ow(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<n&&typeof i[r]=="string";)r++;else{if(s===e)return i[r+1];r=r+2}}}return null}function vT(t,e,i){if(i&ce.Optional||t!==void 0)return t;vv(e,"NodeInjector")}function yT(t,e,i,n){if(i&ce.Optional&&n===void 0&&(n=null),!(i&(ce.Self|ce.Host))){let r=t[zs],s=$t(void 0);try{return r?r.get(e,n,i&ce.Optional):Tw(e,n,i&ce.Optional)}finally{$t(s)}}return vT(n,e,i)}function ET(t,e,i,n=ce.Default,r){if(t!==null){if(e[J]&2048&&!(n&ce.Self)){let o=kk(t,e,i,n,tr);if(o!==tr)return o}let s=CT(t,e,i,n,tr);if(s!==tr)return s}return yT(e,i,n,r)}function CT(t,e,i,n,r){let s=_k(i);if(typeof s=="function"){if(!oT(e,t,n))return n&ce.Host?vT(r,i,n):yT(e,i,n,r);try{let o;if(o=s(n),o==null&&!(n&ce.Optional))vv(i);else return o}finally{lT()}}else if(typeof s=="number"){let o=null,a=mT(t,e),c=Bs,u=n&ce.Host?e[xn][Jt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?Fv(t,e):e[a+8],c===Bs||!$b(n,!1)?a=-1:(o=e[se],a=al(c),e=cl(c,e)));a!==-1;){let l=e[se];if(jb(s,a,l.data)){let f=Fk(a,e,i,o,n,u);if(f!==tr)return f}c=e[a+8],c!==Bs&&$b(n,e[se].data[a+8]===u)&&jb(s,a,e)?(o=l,a=al(c),e=cl(c,e)):a=-1}}return r}function Fk(t,e,i,n,r,s){let o=e[se],a=o.data[t+8],c=n==null?Ml(a)&&Im:n!=o&&(a.type&3)!==0,u=r&ce.Host&&s===a,l=Xu(a,o,i,c,u);return l!==null?qi(e,o,l,a):tr}function Xu(t,e,i,n,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,f=n?a:a+l,h=r?a+l:u;for(let p=f;p<h;p++){let E=o[p];if(p<c&&i===E||p>=c&&E.type===i)return p}if(r){let p=o[c];if(p&&ui(p)&&p.type===i)return c}return null}function qi(t,e,i,n){let r=t[i],s=e.data;if(Tk(r)){let o=r;o.resolving&&oL(sL(s[i]));let a=ul(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?$t(o.injectImpl):null,l=oT(t,n,ce.Default);try{r=t[i]=o.factory(void 0,s,t,n),e.firstCreatePass&&i>=n.directiveStart&&bk(i,s[i],e)}finally{u!==null&&$t(u),ul(a),o.resolving=!1,lT()}}return r}function _k(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(la)?t[la]:void 0;return typeof e=="number"?e>=0?e&pT:Lk:e}function jb(t,e,i){let n=1<<t;return!!(i[e+(t>>gT)]&n)}function $b(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Bi=class{constructor(e,i){this._tNode=e,this._lView=i}get(e,i,n){return ET(this._tNode,this._lView,e,wl(n),i)}};function Lk(){return new Bi(bt(),Z())}function We(t){return Ia(()=>{let e=t.prototype.constructor,i=e[nl]||bm(e),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let s=r[nl]||bm(r);if(s&&s!==i)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function bm(t){return Cw(t)?()=>{let e=bm(Ot(t));return e&&e()}:Vi(t)}function kk(t,e,i,n,r){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=CT(s,o,i,n|ce.Self,tr);if(a!==tr)return a;let c=s.parent;if(!c){let u=o[Ww];if(u){let l=u.get(i,tr,n);if(l!==tr)return l}c=ST(o),o=o[Qs]}s=c}return r}function ST(t){let e=t[se],i=e.type;return i===2?e.declTNode:i===1?t[Jt]:null}function _v(t){return Pk(bt(),t)}function Bb(t,e=null,i=null,n){let r=IT(t,e,i,n);return r.resolveInjectorInitializers(),r}function IT(t,e=null,i=null,n,r=new Set){let s=[i||Bt,kL(t)];return n=n||(typeof t=="object"?void 0:Pt(t)),new pa(s,e||Dv(),n||null,r)}var Ye=(()=>{let e=class e{static create(n,r){if(Array.isArray(n))return Bb({name:""},r,n,"");{let s=n.name??"";return Bb({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=fa,e.NULL=new sl,e.\u0275prov=m({token:e,providedIn:"any",factory:()=>d(Rw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Uk="ngOriginalError";function tm(t){return t[Uk]}var Dt=class{constructor(){this._console=console}handleError(e){let i=this._findOriginalError(e);this._console.error("ERROR",e),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(e){let i=e&&tm(e);for(;i&&tm(i);)i=tm(i);return i||null}},DT=new S("",{providedIn:"root",factory:()=>C(Dt).handleError.bind(void 0)}),hi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jk,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),wm=class extends hi{constructor(e){super(),this._lView=e}onDestroy(e){return tT(this._lView,e),()=>ck(this._lView,e)}};function jk(){return new wm(Z())}function $k(){return Js(bt(),Z())}function Js(t,e){return new ar(fn(t,e))}var ar=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=$k;let t=e;return t})();function Bk(t){return t instanceof ar?t.nativeElement:t}var Tm=class extends re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Gw()&&(this.destroyRef=C(hi,{optional:!0})??void 0)}emit(e){let i=ve(null);try{super.next(e)}finally{ve(i)}}subscribe(e,i,n){let r=e,s=i||(()=>null),o=n;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=nm(s),r&&(r=nm(r)),o&&(o=nm(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ee&&e.add(a),a}};function nm(t){return e=>{setTimeout(t,void 0,e)}}var gt=Tm;function Vk(){return this._results[Symbol.iterator]()}var Am=class t{get changes(){return this._changes??=new gt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let i=t.prototype;i[Symbol.iterator]||(i[Symbol.iterator]=Vk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,i){return this._results.reduce(e,i)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,i){this.dirty=!1;let n=vL(e);(this._changesDetected=!mL(this._results,n,i))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function bT(t){return(t.flags&128)===128}var wT=new Map,Hk=0;function zk(){return Hk++}function Gk(t){wT.set(t[Rl],t)}function Wk(t){wT.delete(t[Rl])}var Vb="__ngContext__";function li(t,e){$i(e)?(t[Vb]=e[Rl],Gk(e)):t[Vb]=e}function TT(t){return RT(t[va])}function AT(t){return RT(t[An])}function RT(t){for(;t!==null&&!Fr(t);)t=t[An];return t}var Rm;function MT(t){Rm=t}function Lv(){if(Rm!==void 0)return Rm;if(typeof document<"u")return document;throw new j(210,!1)}var xa=new S("",{providedIn:"root",factory:()=>qk}),qk="ng",kv=new S(""),$e=new S("",{providedIn:"platform",factory:()=>"unknown"});var Uv=new S("",{providedIn:"root",factory:()=>Lv().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Yk(){let t=new Oa;return C($e)==="browser"&&(t.store=Kk(Lv(),C(xa))),t}var Oa=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=m({token:e,providedIn:"root",factory:Yk});let t=e;return t})();function Kk(t,e){let i=t.getElementById(e+"-state");if(i?.textContent)try{return JSON.parse(i.textContent)}catch(n){console.warn("Exception while restoring TransferState for app "+e,n)}return{}}var Zk="h",Qk="b";var Jk=()=>null;function jv(t,e,i=!1){return Jk(t,e,i)}var xT=!1,Xk=new S("",{providedIn:"root",factory:()=>xT});var zu;function eU(){if(zu===void 0&&(zu=null,Ge.trustedTypes))try{zu=Ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return zu}function Fl(t){return eU()?.createHTML(t)||t}var Gu;function OT(){if(Gu===void 0&&(Gu=null,Ge.trustedTypes))try{Gu=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Gu}function Hb(t){return OT()?.createHTML(t)||t}function zb(t){return OT()?.createScriptURL(t)||t}var xr=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yw})`}},Mm=class extends xr{getTypeName(){return"HTML"}},xm=class extends xr{getTypeName(){return"Style"}},Om=class extends xr{getTypeName(){return"Script"}},Nm=class extends xr{getTypeName(){return"URL"}},Pm=class extends xr{getTypeName(){return"ResourceURL"}};function Ht(t){return t instanceof xr?t.changingThisBreaksApplicationSecurity:t}function cr(t,e){let i=tU(t);if(i!=null&&i!==e){if(i==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${i} (see ${yw})`)}return i===e}function tU(t){return t instanceof xr&&t.getTypeName()||null}function NT(t){return new Mm(t)}function PT(t){return new xm(t)}function FT(t){return new Om(t)}function _T(t){return new Nm(t)}function LT(t){return new Pm(t)}function nU(t){let e=new _m(t);return rU()?new Fm(e):e}var Fm=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let i=new window.DOMParser().parseFromString(Fl(e),"text/html").body;return i===null?this.inertDocumentHelper.getInertBodyElement(e):(i.removeChild(i.firstChild),i)}catch{return null}}},_m=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let i=this.inertDocument.createElement("template");return i.innerHTML=Fl(e),i}};function rU(){try{return!!new window.DOMParser().parseFromString(Fl(""),"text/html")}catch{return!1}}var iU=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _l(t){return t=String(t),t.match(iU)?t:"unsafe:"+t}function _r(t){let e={};for(let i of t.split(","))e[i]=!0;return e}function Na(...t){let e={};for(let i of t)for(let n in i)i.hasOwnProperty(n)&&(e[n]=!0);return e}var kT=_r("area,br,col,hr,img,wbr"),UT=_r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jT=_r("rp,rt"),sU=Na(jT,UT),oU=Na(UT,_r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aU=Na(jT,_r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gb=Na(kT,oU,aU,sU),$T=_r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cU=_r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uU=_r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),lU=Na($T,cU,uU),dU=_r("script,style,template"),Lm=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let i=e.firstChild,n=!0,r=[];for(;i;){if(i.nodeType===Node.ELEMENT_NODE?n=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,n&&i.firstChild){r.push(i),i=pU(i);continue}for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let s=hU(i);if(s){i=s;break}i=r.pop()}}return this.buf.join("")}startElement(e){let i=Wb(e).toLowerCase();if(!Gb.hasOwnProperty(i))return this.sanitizedSomething=!0,!dU.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);let n=e.attributes;for(let r=0;r<n.length;r++){let s=n.item(r),o=s.name,a=o.toLowerCase();if(!lU.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;$T[a]&&(c=_l(c)),this.buf.push(" ",o,'="',qb(c),'"')}return this.buf.push(">"),!0}endElement(e){let i=Wb(e).toLowerCase();Gb.hasOwnProperty(i)&&!kT.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(e){this.buf.push(qb(e))}};function fU(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function hU(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw BT(e);return e}function pU(t){let e=t.firstChild;if(e&&fU(t,e))throw BT(e);return e}function Wb(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function BT(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var gU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mU=/([^\#-~ |!])/g;function qb(t){return t.replace(/&/g,"&amp;").replace(gU,function(e){let i=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((i-55296)*1024+(n-56320)+65536)+";"}).replace(mU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Wu;function $v(t,e){let i=null;try{Wu=Wu||nU(t);let n=e?String(e):"";i=Wu.getInertBodyElement(n);let r=5,s=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=s,s=i.innerHTML,i=Wu.getInertBodyElement(n)}while(n!==s);let a=new Lm().sanitizeChildren(Yb(i)||i);return Fl(a)}finally{if(i){let n=Yb(i)||i;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Yb(t){return"content"in t&&vU(t)?t.content:null}function vU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var pn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pn||{});function dse(t){let e=Ll();return e?Hb(e.sanitize(pn.HTML,t)||""):cr(t,"HTML")?Hb(Ht(t)):$v(Lv(),Nt(t))}function fse(t){let e=Ll();return e?e.sanitize(pn.STYLE,t)||"":cr(t,"Style")?Ht(t):Nt(t)}function yU(t){let e=Ll();return e?e.sanitize(pn.URL,t)||"":cr(t,"URL")?Ht(t):_l(Nt(t))}function EU(t){let e=Ll();if(e)return zb(e.sanitize(pn.RESOURCE_URL,t)||"");if(cr(t,"ResourceURL"))return zb(Ht(t));throw new j(904,!1)}function CU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?EU:yU}function VT(t,e,i){return CU(e,i)(t)}function Ll(){let t=Z();return t&&t[Mn].sanitizer}var SU=/^>|^->|<!--|-->|--!>|<!-$/g,IU=/(<|>)/g,DU="\u200B$1\u200B";function bU(t){return t.replace(SU,e=>e.replace(IU,DU))}function hse(t){return t.ownerDocument.defaultView}function pse(t){return t.ownerDocument}function HT(t){return t instanceof Function?t():t}function wU(t){return(t??C(Ye)).get($e)==="browser"}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{}),TU;function Bv(t,e){return TU(t,e)}function Us(t,e,i,n,r){if(n!=null){let s,o=!1;Fr(n)?s=n:$i(n)&&(o=!0,n=n[Pr]);let a=ir(n);t===0&&i!==null?r==null?KT(e,i,a):dl(e,i,a,r||null,!0):t===1&&i!==null?dl(e,i,a,r||null,!0):t===2?VU(e,a,o):t===3&&e.destroyNode(a),s!=null&&zU(e,t,s,i,r)}}function AU(t,e){return t.createText(e)}function RU(t,e,i){t.setValue(e,i)}function MU(t,e){return t.createComment(bU(e))}function zT(t,e,i){return t.createElement(e,i)}function xU(t,e){GT(t,e),e[Pr]=null,e[Jt]=null}function OU(t,e,i,n,r,s){n[Pr]=r,n[Jt]=e,Ul(t,n,i,1,r,s)}function GT(t,e){e[Mn].changeDetectionScheduler?.notify(1),Ul(t,e,e[xe],2,null,null)}function NU(t){let e=t[va];if(!e)return rm(t[se],t);for(;e;){let i=null;if($i(e))i=e[va];else{let n=e[Qt];n&&(i=n)}if(!i){for(;e&&!e[An]&&e!==t;)$i(e)&&rm(e[se],e),e=e[mt];e===null&&(e=t),$i(e)&&rm(e[se],e),i=e&&e[An]}e=i}}function PU(t,e,i,n){let r=Qt+n,s=i.length;n>0&&(i[r-1][An]=e),n<s-Qt?(e[An]=i[r],Aw(i,Qt+n,e)):(i.push(e),e[An]=null),e[mt]=i;let o=e[Ta];o!==null&&i!==o&&FU(o,e);let a=e[Mr];a!==null&&a.insertView(t),Cm(e),e[J]|=128}function FU(t,e){let i=t[Gs],r=e[mt][mt][xn];e[xn]!==r&&(t[J]|=bv.HasTransplantedViews),i===null?t[Gs]=[e]:i.push(e)}function WT(t,e){let i=t[Gs],n=i.indexOf(e);i.splice(n,1)}function km(t,e){if(t.length<=Qt)return;let i=Qt+e,n=t[i];if(n){let r=n[Ta];r!==null&&r!==t&&WT(r,n),e>0&&(t[i-1][An]=n[An]);let s=il(t,Qt+e);xU(n[se],n);let o=s[Mr];o!==null&&o.detachView(s[se]),n[mt]=null,n[An]=null,n[J]&=-129}return n}function qT(t,e){if(!(e[J]&256)){let i=e[xe];i.destroyNode&&Ul(t,e,i,3,null,null),NU(e)}}function rm(t,e){if(e[J]&256)return;let i=ve(null);try{e[J]&=-129,e[J]|=256,e[Hi]&&vb(e[Hi]),LU(t,e),_U(t,e),e[se].type===1&&e[xe].destroy();let n=e[Ta];if(n!==null&&Fr(e[mt])){n!==e[mt]&&WT(n,e);let r=e[Mr];r!==null&&r.detachView(t)}Wk(e)}finally{ve(i)}}function _U(t,e){let i=t.cleanup,n=e[ma];if(i!==null)for(let s=0;s<i.length-1;s+=2)if(typeof i[s]=="string"){let o=i[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[i[s+1]];i[s].call(o)}n!==null&&(e[ma]=null);let r=e[ai];if(r!==null){e[ai]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function LU(t,e){let i;if(t!=null&&(i=t.destroyHooks)!=null)for(let n=0;n<i.length;n+=2){let r=e[i[n]];if(!(r instanceof Wi)){let s=i[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];er(4,a,c);try{c.call(a)}finally{er(5,a,c)}}else{er(4,r,s);try{s.call(r)}finally{er(5,r,s)}}}}}function YT(t,e,i){return kU(t,e.parent,i)}function kU(t,e,i){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return i[Pr];{let{componentOffset:r}=n;if(r>-1){let{encapsulation:s}=t.data[n.directiveStart+r];if(s===rr.None||s===rr.Emulated)return null}return fn(n,i)}}function dl(t,e,i,n,r){t.insertBefore(e,i,n,r)}function KT(t,e,i){t.appendChild(e,i)}function Kb(t,e,i,n,r){n!==null?dl(t,e,i,n,r):KT(t,e,i)}function UU(t,e,i,n){t.removeChild(e,i,n)}function Vv(t,e){return t.parentNode(e)}function jU(t,e){return t.nextSibling(e)}function ZT(t,e,i){return BU(t,e,i)}function $U(t,e,i){return t.type&40?fn(t,i):null}var BU=$U,Zb;function kl(t,e,i,n){let r=YT(t,n,e),s=e[xe],o=n.parent||e[Jt],a=ZT(o,n,e);if(r!=null)if(Array.isArray(i))for(let c=0;c<i.length;c++)Kb(s,r,i[c],a,!1);else Kb(s,r,i,a,!1);Zb!==void 0&&Zb(s,n,e,i,r)}function el(t,e){if(e!==null){let i=e.type;if(i&3)return fn(e,t);if(i&4)return Um(-1,t[e.index]);if(i&8){let n=e.child;if(n!==null)return el(t,n);{let r=t[e.index];return Fr(r)?Um(-1,r):ir(r)}}else{if(i&32)return Bv(e,t)()||ir(t[e.index]);{let n=QT(t,e);if(n!==null){if(Array.isArray(n))return n[0];let r=Ea(t[xn]);return el(r,n)}else return el(t,e.next)}}}return null}function QT(t,e){if(e!==null){let n=t[xn][Jt],r=e.projection;return n.projection[r]}return null}function Um(t,e){let i=Qt+t+1;if(i<e.length){let n=e[i],r=n[se].firstChild;if(r!==null)return el(n,r)}return e[zi]}function VU(t,e,i){let n=Vv(t,e);n&&UU(t,n,e,i)}function Hv(t,e,i,n,r,s,o){for(;i!=null;){let a=n[i.index],c=i.type;if(o&&e===0&&(a&&li(ir(a),n),i.flags|=2),(i.flags&32)!==32)if(c&8)Hv(t,e,i.child,n,r,s,!1),Us(e,t,r,a,s);else if(c&32){let u=Bv(i,n),l;for(;l=u();)Us(e,t,r,l,s);Us(e,t,r,a,s)}else c&16?JT(t,e,n,i,r,s):Us(e,t,r,a,s);i=o?i.projectionNext:i.next}}function Ul(t,e,i,n,r,s){Hv(i,n,t.firstChild,e,r,s,!1)}function HU(t,e,i){let n=e[xe],r=YT(t,i,e),s=i.parent||e[Jt],o=ZT(s,i,e);JT(n,0,e,i,r,o)}function JT(t,e,i,n,r,s){let o=i[xn],c=o[Jt].projection[n.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];Us(e,t,r,l,s)}else{let u=c,l=o[mt];bT(n)&&(u.flags|=128),Hv(t,e,u,l,r,s,!0)}}function zU(t,e,i,n,r){let s=i[zi],o=ir(i);s!==o&&Us(e,t,n,s,r);for(let a=Qt;a<i.length;a++){let c=i[a];Ul(c[se],c,t,e,n,s)}}function GU(t,e,i,n,r){if(e)r?t.addClass(i,n):t.removeClass(i,n);else{let s=n.indexOf("-")===-1?void 0:Or.DashCase;r==null?t.removeStyle(i,n,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Or.Important),t.setStyle(i,n,r,s))}}function WU(t,e,i){t.setAttribute(e,"style",i)}function XT(t,e,i){i===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",i)}function e0(t,e,i){let{mergedAttrs:n,classes:r,styles:s}=i;n!==null&&gm(t,e,n),r!==null&&XT(t,e,r),s!==null&&WU(t,e,s)}var tt={};function gse(t=1){t0(Fe(),Z(),or()+t,!1)}function t0(t,e,i,n){if(!n)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Qu(e,s,i)}else{let s=t.preOrderHooks;s!==null&&Ju(e,s,0,i)}Gi(i)}function X(t,e=ce.Default){let i=Z();if(i===null)return d(t,e);let n=bt();return ET(n,i,Ot(t),e)}function n0(){let t="invalid";throw new Error(t)}function r0(t,e,i,n,r,s){let o=ve(null);try{let a=null;r&un.SignalBased&&(a=e[n][Rr]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&un.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,i,n):Yw(e,a,n,s)}finally{ve(o)}}function qU(t,e){let i=t.hostBindingOpCodes;if(i!==null)try{for(let n=0;n<i.length;n++){let r=i[n];if(r<0)Gi(~r);else{let s=r,o=i[++n],a=i[++n];yk(o,s);let c=e[s];a(2,c)}}}finally{Gi(-1)}}function jl(t,e,i,n,r,s,o,a,c,u,l){let f=e.blueprint.slice();return f[Pr]=r,f[J]=n|4|128|8|64,(u!==null||t&&t[J]&2048)&&(f[J]|=2048),eT(f),f[mt]=f[Qs]=t,f[Rn]=i,f[Mn]=o||t&&t[Mn],f[xe]=a||t&&t[xe],f[zs]=c||t&&t[zs]||null,f[Jt]=s,f[Rl]=zk(),f[ga]=l,f[Ww]=u,f[xn]=e.type==2?t[xn]:f,f}function Xs(t,e,i,n,r){let s=t.data[e];if(s===null)s=YU(t,e,i,n,r),vk()&&(s.flags|=32);else if(s.type&64){s.type=i,s.value=n,s.attrs=r;let o=pk();s.injectorIndex=o===null?-1:o.injectorIndex}return Ji(s,!0),s}function YU(t,e,i,n,r){let s=iT(),o=Rv(),a=o?s:s&&s.parent,c=t.data[e]=ej(t,a,i,e,n,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function i0(t,e,i,n){if(i===0)return-1;let r=e.length;for(let s=0;s<i;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return r}function s0(t,e,i,n,r){let s=or(),o=n&2;try{Gi(-1),o&&e.length>It&&t0(t,e,It,!1),er(o?2:0,r),i(n,r)}finally{Gi(s),er(o?3:1,r)}}function zv(t,e,i){if(wv(e)){let n=ve(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=i[o];a.contentQueries(1,c,o)}}}finally{ve(n)}}}function Gv(t,e,i){nT()&&(oj(t,e,i,fn(i,e)),(i.flags&64)===64&&c0(t,e,i))}function Wv(t,e,i=fn){let n=e.localNames;if(n!==null){let r=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?i(e,t):t[o];t[r++]=a}}}function o0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qv(t,e,i,n,r,s,o,a,c,u,l){let f=It+n,h=f+r,p=KU(f,h),E=typeof u=="function"?u():u;return p[se]={type:t,blueprint:p,template:i,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:l}}function KU(t,e){let i=[];for(let n=0;n<e;n++)i.push(n<t?null:tt);return i}function ZU(t,e,i,n){let s=n.get(Xk,xT)||i===rr.ShadowDom,o=t.selectRootElement(e,s);return QU(o),o}function QU(t){JU(t)}var JU=()=>null;function XU(t,e,i,n){let r=d0(e);r.push(i),t.firstCreatePass&&f0(t).push(n,r.length-1)}function ej(t,e,i,n,r,s){let o=e?e.injectorIndex:-1,a=0;return rT()&&(a|=128),{type:i,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qb(t,e,i,n,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,c=un.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}t===0?Jb(n,i,u,a,c):Jb(n,i,u,a)}return n}function Jb(t,e,i,n,r){let s;t.hasOwnProperty(i)?(s=t[i]).push(e,n):s=t[i]=[e,n],r!==void 0&&s.push(r)}function tj(t,e,i){let n=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=n;l<r;l++){let f=s[l],h=i?i.get(f):null,p=h?h.inputs:null,E=h?h.outputs:null;c=Qb(0,f.inputs,l,c,p),u=Qb(1,f.outputs,l,u,E);let b=c!==null&&o!==null&&!Sv(e)?vj(c,l,o):null;a.push(b)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function nj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function eo(t,e,i,n,r,s,o,a){let c=fn(e,i),u=e.inputs,l;!a&&u!=null&&(l=u[n])?(Kv(t,i,l,n,r),Ml(e)&&rj(i,e.index)):e.type&3?(n=nj(n),r=o!=null?o(r,e.value||"",n):r,s.setProperty(c,n,r)):e.type&12}function rj(t,e){let i=fi(e,t);i[J]&16||(i[J]|=64)}function Yv(t,e,i,n){if(nT()){let r=n===null?null:{"":-1},s=cj(t,i),o,a;s===null?o=a=null:[o,a]=s,o!==null&&a0(t,e,i,o,r,a),r&&uj(i,n,r)}i.mergedAttrs=ha(i.mergedAttrs,i.attrs)}function a0(t,e,i,n,r,s){for(let u=0;u<n.length;u++)Dm(ll(i,e),t,n[u].type);dj(i,t.data.length,n.length);for(let u=0;u<n.length;u++){let l=n[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=i0(t,e,n.length,null);for(let u=0;u<n.length;u++){let l=n[u];i.mergedAttrs=ha(i.mergedAttrs,l.hostAttrs),fj(t,i,e,c,l),lj(c,l,r),l.contentQueries!==null&&(i.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(i.flags|=64);let f=l.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(i.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(i.index),a=!0),c++}tj(t,i,s)}function ij(t,e,i,n,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;sj(o)!=a&&o.push(a),o.push(i,n,s)}}function sj(t){let e=t.length;for(;e>0;){let i=t[--e];if(typeof i=="number"&&i<0)return i}return 0}function oj(t,e,i,n){let r=i.directiveStart,s=i.directiveEnd;Ml(i)&&hj(e,i,t.data[r+i.componentOffset]),t.firstCreatePass||ll(i,e),li(n,e);let o=i.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],u=qi(e,t,a,i);if(li(u,e),o!==null&&mj(e,a-r,u,c,i,o),ui(c)){let l=fi(i.index,e);l[Rn]=qi(e,t,a,i)}}}function c0(t,e,i){let n=i.directiveStart,r=i.directiveEnd,s=i.index,o=Ek();try{Gi(s);for(let a=n;a<r;a++){let c=t.data[a],u=e[a];Sm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&aj(c,u)}}finally{Gi(-1),Sm(o)}}function aj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function cj(t,e){let i=t.directiveRegistry,n=null,r=null;if(i)for(let s=0;s<i.length;s++){let o=i[s];if(Pw(e,o.selectors,!1))if(n||(n=[]),ui(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o);let c=a.length;jm(t,e,c)}else n.unshift(o),jm(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return n===null?null:[n,r]}function jm(t,e,i){e.componentOffset=i,(t.components??=[]).push(e.index)}function uj(t,e,i){if(e){let n=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=i[e[r+1]];if(s==null)throw new j(-301,!1);n.push(e[r],s)}}}function lj(t,e,i){if(i){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)i[e.exportAs[n]]=t;ui(e)&&(i[""]=t)}}function dj(t,e,i){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+i,t.providerIndexes=e}function fj(t,e,i,n,r){t.data[n]=r;let s=r.factory||(r.factory=Vi(r.type,!0)),o=new Wi(s,ui(r),X);t.blueprint[n]=o,i[n]=o,ij(t,e,n,i0(t,i,r.hostVars,tt),r)}function hj(t,e,i){let n=fn(e,t),r=o0(i),s=t[Mn].rendererFactory,o=16;i.signals?o=4096:i.onPush&&(o=64);let a=$l(t,jl(t,r,null,o,n,e,null,s.createRenderer(n,i),null,null,null));t[e.index]=a}function pj(t,e,i,n,r,s){let o=fn(t,e);gj(e[xe],o,s,t.value,i,n,r)}function gj(t,e,i,n,r,s,o){if(s==null)t.removeAttribute(e,r,i);else{let a=o==null?Nt(s):o(s,n||"",r);t.setAttribute(e,r,a,i)}}function mj(t,e,i,n,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],f=o[a++];r0(n,i,c,u,l,f)}}function vj(t,e,i){let n=null,r=0;for(;r<i.length;){let s=i[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],i[r+1]);break}}r+=2}return n}function u0(t,e,i,n){return[t,!0,0,e,null,n,null,i,null,null]}function l0(t,e){let i=t.contentQueries;if(i!==null){let n=ve(null);try{for(let r=0;r<i.length;r+=2){let s=i[r],o=i[r+1];if(o!==-1){let a=t.data[o];Ov(s),a.contentQueries(2,e[o],o)}}}finally{ve(n)}}}function $l(t,e){return t[va]?t[Lb][An]=e:t[va]=e,t[Lb]=e,e}function $m(t,e,i){Ov(0);let n=ve(null);try{e(t,i)}finally{ve(n)}}function d0(t){return t[ma]||(t[ma]=[])}function f0(t){return t.cleanup||(t.cleanup=[])}function h0(t,e){let i=t[zs],n=i?i.get(Dt,null):null;n&&n.handleError(e)}function Kv(t,e,i,n,r){for(let s=0;s<i.length;){let o=i[s++],a=i[s++],c=i[s++],u=e[o],l=t.data[o];r0(l,u,n,a,c,r)}}function Bl(t,e,i){let n=Jw(e,t);RU(t[xe],n,i)}function yj(t,e){let i=fi(e,t),n=i[se];Ej(n,i);let r=i[Pr];r!==null&&i[ga]===null&&(i[ga]=jv(r,i[zs])),Zv(n,i,i[Rn])}function Ej(t,e){for(let i=e.length;i<t.blueprint.length;i++)e.push(t.blueprint[i])}function Zv(t,e,i){Nv(e);try{let n=t.viewQuery;n!==null&&$m(1,n,i);let r=t.template;r!==null&&s0(t,e,r,1,i),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mr]?.finishViewCreation(t),t.staticContentQueries&&l0(t,e),t.staticViewQueries&&$m(2,t.viewQuery,i);let s=t.components;s!==null&&Cj(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[J]&=-5,Pv()}}function Cj(t,e){for(let i=0;i<e.length;i++)yj(t,e[i])}function Sj(t,e,i,n){let r=ve(null);try{let s=e.tView,a=t[J]&4096?4096:16,c=jl(t,s,i,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),u=t[e.index];c[Ta]=u;let l=t[Mr];return l!==null&&(c[Mr]=l.createEmbeddedView(s)),Zv(s,c,i),c}finally{ve(r)}}function Xb(t,e){return!e||e.firstChild===null||bT(t)}function Ij(t,e,i,n=!0){let r=e[se];if(PU(r,e,t,i),n){let o=Um(i,t),a=e[xe],c=Vv(a,t[zi]);c!==null&&OU(r,t[Jt],a,e,c,o)}let s=e[ga];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function fl(t,e,i,n,r=!1){for(;i!==null;){let s=e[i.index];s!==null&&n.push(ir(s)),Fr(s)&&Dj(s,n);let o=i.type;if(o&8)fl(t,e,i.child,n);else if(o&32){let a=Bv(i,e),c;for(;c=a();)n.push(c)}else if(o&16){let a=QT(e,i);if(Array.isArray(a))n.push(...a);else{let c=Ea(e[xn]);fl(c[se],c,a,n,!0)}}i=r?i.projectionNext:i.next}return n}function Dj(t,e){for(let i=Qt;i<t.length;i++){let n=t[i],r=n[se].firstChild;r!==null&&fl(n[se],n,r,e)}t[zi]!==t[Pr]&&e.push(t[zi])}var p0=[];function bj(t){return t[Hi]??wj(t)}function wj(t){let e=p0.pop()??Object.create(Aj);return e.lView=t,e}function Tj(t){t.lView[Hi]!==t&&(t.lView=null,p0.push(t))}var Aj=T(v({},Bu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ya(t.lView)},consumerOnSignalRead(){this.lView[Hi]=this}}),g0=100;function m0(t,e=!0,i=0){let n=t[Mn],r=n.rendererFactory,s=!1;s||r.begin?.();try{Rj(t,i)}catch(o){throw e&&h0(t,o),o}finally{s||(r.end?.(),n.inlineEffectRunner?.flush())}}function Rj(t,e){Bm(t,e);let i=0;for(;Av(t);){if(i===g0)throw new j(103,!1);i++,Bm(t,1)}}function Mj(t,e,i,n){let r=e[J];if((r&256)===256)return;let s=!1;!s&&e[Mn].inlineEffectRunner?.flush(),Nv(e);let o=null,a=null;!s&&xj(t)&&(a=bj(e),o=Wg(a));try{eT(e),mk(t.bindingStartIndex),i!==null&&s0(t,e,i,2,n);let c=(r&3)===3;if(!s)if(c){let f=t.preOrderCheckHooks;f!==null&&Qu(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ju(e,f,0,null),Xg(e,0)}if(Oj(e),v0(e,0),t.contentQueries!==null&&l0(t,e),!s)if(c){let f=t.contentCheckHooks;f!==null&&Qu(e,f)}else{let f=t.contentHooks;f!==null&&Ju(e,f,1),Xg(e,1)}qU(t,e);let u=t.components;u!==null&&E0(e,u,0);let l=t.viewQuery;if(l!==null&&$m(2,l,n),!s)if(c){let f=t.viewCheckHooks;f!==null&&Qu(e,f)}else{let f=t.viewHooks;f!==null&&Ju(e,f,2),Xg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Jg]){for(let f of e[Jg])f();e[Jg]=null}s||(e[J]&=-73)}catch(c){throw ya(e),c}finally{a!==null&&(qg(a,o),Tj(a)),Pv()}}function xj(t){return t.type!==2}function v0(t,e){for(let i=TT(t);i!==null;i=AT(i))for(let n=Qt;n<i.length;n++){let r=i[n];y0(r,e)}}function Oj(t){for(let e=TT(t);e!==null;e=AT(e)){if(!(e[J]&bv.HasTransplantedViews))continue;let i=e[Gs];for(let n=0;n<i.length;n++){let r=i[n],s=r[mt];ok(r)}}}function Nj(t,e,i){let n=fi(e,t);y0(n,i)}function y0(t,e){Tv(t)&&Bm(t,e)}function Bm(t,e){let n=t[se],r=t[J],s=t[Hi],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Yg(s)),s&&(s.dirty=!1),t[J]&=-9217,o)Mj(n,t,n.template,t[Rn]);else if(r&8192){v0(t,1);let a=n.components;a!==null&&E0(t,a,1)}}function E0(t,e,i){for(let n=0;n<e.length;n++)Nj(t,e[n],i)}function Qv(t){for(t[Mn].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=Ea(t);if(ZL(t)&&!e)return t;t=e}return null}var Yi=class{get rootNodes(){let e=this._lView,i=e[se];return fl(i,e,i.firstChild,[])}constructor(e,i,n=!0){this._lView=e,this._cdRefInjectingView=i,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(e){this._lView[Rn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[mt];if(Fr(e)){let i=e[ol],n=i?i.indexOf(this):-1;n>-1&&(km(e,n),il(i,n))}this._attachedToViewContainer=!1}qT(this._lView[se],this._lView)}onDestroy(e){tT(this._lView,e)}markForCheck(){Qv(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){Cm(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,m0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,GT(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e,Cm(this._lView)}},On=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_j;let t=e;return t})(),Pj=On,Fj=class extends Pj{constructor(e,i,n){super(),this._declarationLView=e,this._declarationTContainer=i,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,i){return this.createEmbeddedViewImpl(e,i)}createEmbeddedViewImpl(e,i,n){let r=Sj(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:i,dehydratedView:n});return new Yi(r)}};function _j(){return Vl(bt(),Z())}function Vl(t,e){return t.type&4?new Fj(e,t,Js(t,e)):null}var vse=new RegExp(`^(\\d+)*(${Qk}|${Zk})*(.*)`);var Lj=()=>null;function ew(t,e){return Lj(t,e)}var hl=class{},Vm=class{},pl=class{};function kj(t){let e=Error(`No component factory found for ${Pt(t)}.`);return e[Uj]=t,e}var Uj="ngComponent";var Hm=class{resolveComponentFactory(e){throw kj(e)}},Hl=(()=>{let e=class e{};e.NULL=new Hm;let t=e;return t})(),Ki=class{},to=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>jj();let t=e;return t})();function jj(){let t=Z(),e=bt(),i=fi(e.index,t);return($i(i)?i:t)[xe]}var $j=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),im={};var tw=new Set;function no(t){tw.has(t)||(tw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nw(...t){}function Bj(){let t=typeof Ge.requestAnimationFrame=="function",e=Ge[t?"requestAnimationFrame":"setTimeout"],i=Ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&i){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let r=i[Zone.__symbol__("OriginalDelegate")];r&&(i=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:i}}var Ce=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&i,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Bj().nativeRequestAnimationFrame,zj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new j(909,!1)}run(e,i,n){return this._inner.run(e,i,n)}runTask(e,i,n,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Vj,nw,nw);try{return s.runTask(o,i,n)}finally{s.cancelTask(o)}}runGuarded(e,i,n){return this._inner.runGuarded(e,i,n)}runOutsideAngular(e){return this._outer.run(e)}},Vj={};function Jv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Hj(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zm(t),t.isCheckStableRunning=!0,Jv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zm(t))}function zj(t){let e=()=>{Hj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,n,r,s,o,a)=>{if(Gj(a))return i.invokeTask(r,s,o,a);try{return rw(t),i.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),iw(t)}},onInvoke:(i,n,r,s,o,a,c)=>{try{return rw(t),i.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),iw(t)}},onHasTask:(i,n,r,s)=>{i.hasTask(r,s),n===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zm(t),Jv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,n,r,s)=>(i.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function rw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iw(t){t._nesting--,Jv(t)}var Gm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(e,i,n){return e.apply(i,n)}runGuarded(e,i,n){return e.apply(i,n)}runOutsideAngular(e){return e()}runTask(e,i,n,r){return e.apply(i,n)}};function Gj(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Wj(t="zone.js",e){return t==="noop"?new Gm:t==="zone.js"?new Ce(e):t}var js=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(js||{}),qj={destroy(){}};function zl(t,e){!e&&wa(zl);let i=e?.injector??C(Ye);if(!wU(i))return qj;no("NgAfterNextRender");let n=i.get(Xv),r=n.handler??=new qm,s=e?.phase??js.MixedReadWrite,o=()=>{r.unregister(c),a()},a=i.get(hi).onDestroy(o),c=Nn(i,()=>new Wm(s,()=>{o(),t()}));return r.register(c),{destroy:o}}var Wm=class{constructor(e,i){this.phase=e,this.callbackFn=i,this.zone=C(Ce),this.errorHandler=C(Dt,{optional:!0}),C(hl,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},qm=class{constructor(){this.executingCallbacks=!1,this.buckets={[js.EarlyRead]:new Set,[js.Write]:new Set,[js.MixedReadWrite]:new Set,[js.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let i of e)i.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Xv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gl(t,e,i){let n=i?t.styles:null,r=i?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=dm(r,a);else if(s==2){let c=a,u=e[++o];n=dm(n,c+": "+u+";")}}i?t.styles=n:t.stylesWithoutHost=n,i?t.classes=r:t.classesWithoutHost=r}var ml=class extends Hl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let i=ci(e);return new qs(i,this.ngModule)}};function sw(t){let e=[];for(let i in t){if(!t.hasOwnProperty(i))continue;let n=t[i];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:i})}return e}function Yj(t){let e=t.toLowerCase();return e==="svg"?ek:e==="math"?tk:null}var Ym=class{constructor(e,i){this.injector=e,this.parentInjector=i}get(e,i,n){n=wl(n);let r=this.injector.get(e,im,n);return r!==im||i===im?r:this.parentInjector.get(e,i,n)}},qs=class extends pl{get inputs(){let e=this.componentDef,i=e.inputTransforms,n=sw(e.inputs);if(i!==null)for(let r of n)i.hasOwnProperty(r.propName)&&(r.transform=i[r.propName]);return n}get outputs(){return sw(this.componentDef.outputs)}constructor(e,i){super(),this.componentDef=e,this.ngModule=i,this.componentType=e.type,this.selector=NL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!i}create(e,i,n,r){let s=ve(null);try{r=r||this.ngModule;let o=r instanceof St?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ym(e,o):e,c=a.get(Ki,null);if(c===null)throw new j(407,!1);let u=a.get($j,null),l=a.get(Xv,null),f=a.get(hl,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:f},p=c.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",b=n?ZU(p,n,this.componentDef.encapsulation,a):zT(p,E,Yj(E)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let R=null;b!==null&&(R=jv(b,a,!0));let V=qv(0,null,null,1,0,null,null,null,null,null,null),U=jl(null,V,null,w,null,null,h,p,a,null,R);Nv(U);let H,te;try{let ue=this.componentDef,he,Pe=null;ue.findHostDirectiveDefs?(he=[],Pe=new Map,ue.findHostDirectiveDefs(ue,he,Pe),he.push(ue)):he=[ue];let xi=Kj(U,b),zn=Zj(xi,b,ue,he,U,h,p);te=Xw(V,It),b&&Xj(p,ue,b,n),i!==void 0&&e1(te,this.ngContentSelectors,i),H=Jj(zn,ue,he,Pe,U,[t1]),Zv(V,U,null)}finally{Pv()}return new Km(this.componentType,H,Js(te,U),U,te)}finally{ve(s)}}},Km=class extends Vm{constructor(e,i,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=i,this.hostView=this.changeDetectorRef=new Yi(r,void 0,!1),this.componentType=e}setInput(e,i){let n=this._tNode.inputs,r;if(n!==null&&(r=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),i))return;let s=this._rootLView;Kv(s[se],s,r,e,i),this.previousInputValues.set(e,i);let o=fi(this._tNode.index,s);Qv(o)}}get injector(){return new Bi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Kj(t,e){let i=t[se],n=It;return t[n]=e,Xs(i,n,2,"#host",null)}function Zj(t,e,i,n,r,s,o){let a=r[se];Qj(n,t,e,o);let c=null;e!==null&&(c=jv(e,r[zs]));let u=s.rendererFactory.createRenderer(e,i),l=16;i.signals?l=4096:i.onPush&&(l=64);let f=jl(r,o0(i),null,l,r[t.index],t,s,u,null,null,c);return a.firstCreatePass&&jm(a,t,n.length-1),$l(r,f),r[t.index]=f}function Qj(t,e,i,n){for(let r of t)e.mergedAttrs=ha(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(gl(e,e.mergedAttrs,!0),i!==null&&e0(n,i,e))}function Jj(t,e,i,n,r,s){let o=bt(),a=r[se],c=fn(o,r);a0(a,r,o,i,null,n);for(let l=0;l<i.length;l++){let f=o.directiveStart+l,h=qi(r,a,f,o);li(h,r)}c0(a,r,o),c&&li(c,r);let u=qi(r,a,o.directiveStart+o.componentOffset,o);if(t[Rn]=r[Rn]=u,s!==null)for(let l of s)l(u,e);return zv(a,o,r),u}function Xj(t,e,i,n){if(n)gm(t,i,["ng-version","17.3.12"]);else{let{attrs:r,classes:s}=PL(e.selectors[0]);r&&gm(t,i,r),s&&s.length>0&&XT(t,i,s.join(" "))}}function e1(t,e,i){let n=t.projection=[];for(let r=0;r<e.length;r++){let s=i[r];n.push(s!=null?Array.from(s):null)}}function t1(){let t=bt();Pl(Z()[se],t)}var zt=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=n1;let t=e;return t})();function n1(){let t=bt();return S0(t,Z())}var r1=zt,C0=class extends r1{constructor(e,i,n){super(),this._lContainer=e,this._hostTNode=i,this._hostLView=n}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Bi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fv(this._hostTNode,this._hostLView);if(hT(e)){let i=cl(e,this._hostLView),n=al(e),r=i[se].data[n+8];return new Bi(r,i)}else return new Bi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let i=ow(this._lContainer);return i!==null&&i[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,i,n){let r,s;typeof n=="number"?r=n:n!=null&&(r=n.index,s=n.injector);let o=ew(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(i||{},s,o);return this.insertImpl(a,r,Xb(this._hostTNode,o)),a}createComponent(e,i,n,r,s){let o=e&&!KL(e),a;if(o)a=i;else{let E=i||{};a=E.index,n=E.injector,r=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new qs(ci(e)),u=n||this.parentInjector;if(!s&&c.ngModule==null){let b=(o?u:this.parentInjector).get(St,null);b&&(s=b)}let l=ci(c.componentType??{}),f=ew(this._lContainer,l?.id??null),h=f?.firstChild??null,p=c.create(u,r,h,s);return this.insertImpl(p.hostView,a,Xb(this._hostTNode,f)),p}insert(e,i){return this.insertImpl(e,i,!0)}insertImpl(e,i,n){let r=e._lView;if(sk(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[mt],u=new C0(c,c[Jt],c[mt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(i),o=this._lContainer;return Ij(o,r,s,n),e.attachToViewContainerRef(),Aw(sm(o),s,e),e}move(e,i){return this.insert(e,i)}indexOf(e){let i=ow(this._lContainer);return i!==null?i.indexOf(e):-1}remove(e){let i=this._adjustIndex(e,-1),n=km(this._lContainer,i);n&&(il(sm(this._lContainer),i),qT(n[se],n))}detach(e){let i=this._adjustIndex(e,-1),n=km(this._lContainer,i);return n&&il(sm(this._lContainer),i)!=null?new Yi(n):null}_adjustIndex(e,i=0){return e??this.length+i}};function ow(t){return t[ol]}function sm(t){return t[ol]||(t[ol]=[])}function S0(t,e){let i,n=e[t.index];return Fr(n)?i=n:(i=u0(n,e,null,t),e[t.index]=i,$l(e,i)),s1(i,e,t,n),new C0(i,t,e)}function i1(t,e){let i=t[xe],n=i.createComment(""),r=fn(e,t),s=Vv(i,r);return dl(i,s,n,jU(i,r),!1),n}var s1=c1,o1=()=>!1;function a1(t,e,i){return o1(t,e,i)}function c1(t,e,i,n){if(t[zi])return;let r;i.type&8?r=ir(n):r=i1(e,i),t[zi]=r}var Zm=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qm=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let i=e.queries;if(i!==null){let n=e.contentQueries!==null?e.contentQueries[0]:i.length,r=[];for(let s=0;s<n;s++){let o=i.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let i=0;i<this.queries.length;i++)ey(e,i).matches!==null&&this.queries[i].setDirty()}},vl=class{constructor(e,i,n=null){this.flags=i,this.read=n,typeof e=="string"?this.predicate=m1(e):this.predicate=e}},Jm=class t{constructor(e=[]){this.queries=e}elementStart(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,i)}elementEnd(e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(e)}embeddedTView(e){let i=null;for(let n=0;n<this.length;n++){let r=i!==null?i.length:0,s=this.getByIndex(n).embeddedTView(e,r);s&&(s.indexInDeclarationView=n,i!==null?i.push(s):i=[s])}return i!==null?new t(i):null}template(e,i){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,i)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Xm=class t{constructor(e,i=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(e,i){this.isApplyingToNode(i)&&this.matchTNode(e,i)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,i){this.elementStart(e,i)}embeddedTView(e,i){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,i),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let i=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==i;)n=n.parent;return i===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,i){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let s=n[r];this.matchTNodeWithReadOption(e,i,u1(i,s)),this.matchTNodeWithReadOption(e,i,Xu(i,e,s,!1,!1))}else n===On?i.type&4&&this.matchTNodeWithReadOption(e,i,-1):this.matchTNodeWithReadOption(e,i,Xu(i,e,n,!1,!1))}matchTNodeWithReadOption(e,i,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ar||r===zt||r===On&&i.type&4)this.addMatch(i.index,-2);else{let s=Xu(i,e,r,!1,!1);s!==null&&this.addMatch(i.index,s)}else this.addMatch(i.index,n)}}addMatch(e,i){this.matches===null?this.matches=[e,i]:this.matches.push(e,i)}};function u1(t,e){let i=t.localNames;if(i!==null){for(let n=0;n<i.length;n+=2)if(i[n]===e)return i[n+1]}return null}function l1(t,e){return t.type&11?Js(t,e):t.type&4?Vl(t,e):null}function d1(t,e,i,n){return i===-1?l1(e,t):i===-2?f1(t,e,n):qi(t,t[se],i,e)}function f1(t,e,i){if(i===ar)return Js(e,t);if(i===On)return Vl(e,t);if(i===zt)return S0(e,t)}function I0(t,e,i,n){let r=e[Mr].queries[n];if(r.matches===null){let s=t.data,o=i.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(d1(e,l,o[c+1],i.metadata.read))}}r.matches=a}return r.matches}function ev(t,e,i,n){let r=t.queries.getByIndex(i),s=r.matches;if(s!==null){let o=I0(t,e,r,i);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)n.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let f=Qt;f<l.length;f++){let h=l[f];h[Ta]===h[mt]&&ev(h[se],h,u,n)}if(l[Gs]!==null){let f=l[Gs];for(let h=0;h<f.length;h++){let p=f[h];ev(p[se],p,u,n)}}}}}return n}function h1(t,e){return t[Mr].queries[e].queryList}function D0(t,e,i){let n=new Am((i&4)===4);return XU(t,e,n,n.destroy),(e[Mr]??=new Qm).queries.push(new Zm(n))-1}function p1(t,e,i){let n=Fe();return n.firstCreatePass&&(b0(n,new vl(t,e,i),-1),(e&2)===2&&(n.staticViewQueries=!0)),D0(n,Z(),e)}function g1(t,e,i,n){let r=Fe();if(r.firstCreatePass){let s=bt();b0(r,new vl(e,i,n),s.index),v1(r,t),(i&2)===2&&(r.staticContentQueries=!0)}return D0(r,Z(),i)}function m1(t){return t.split(",").map(e=>e.trim())}function b0(t,e,i){t.queries===null&&(t.queries=new Jm),t.queries.track(new Xm(e,i))}function v1(t,e){let i=t.contentQueries||(t.contentQueries=[]),n=i.length?i[i.length-1]:-1;e!==n&&i.push(t.queries.length-1,e)}function ey(t,e){return t.queries.getByIndex(e)}function y1(t,e){let i=t[se],n=ey(i,e);return n.crossesNgTemplate?ev(i,t,e,[]):I0(i,t,n,e)}function E1(t){return typeof t=="function"&&t[Rr]!==void 0}function ty(t,e){no("NgSignals");let i=bb(t),n=i[Rr];return e?.equal&&(n.equal=e.equal),i.set=r=>Kg(n,r),i.update=r=>wb(n,r),i.asReadonly=C1.bind(i),i}function C1(){let t=this[Rr];if(t.readonlyFn===void 0){let e=()=>this();e[Rr]=t,t.readonlyFn=e}return t.readonlyFn}function w0(t){return E1(t)&&typeof t.set=="function"}function S1(t){let e=[],i=new Map;function n(r){let s=i.get(r);if(!s){let o=t(r);i.set(r,s=o.then(w1))}return s}return yl.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(n(r.templateUrl).then(u=>{r.template=u}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let u=r.styles.length,l=r.styleUrls;r.styleUrls.forEach((f,h)=>{a.push(""),o.push(n(f).then(p=>{a[u+h]=p,l.splice(l.indexOf(f),1),l.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(n(r.styleUrl).then(u=>{a.push(u),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>T1(s));e.push(c)}),D1(),Promise.all(e).then(()=>{})}var yl=new Map,I1=new Set;function D1(){let t=yl;return yl=new Map,t}function b1(){return yl.size===0}function w1(t){return typeof t=="string"?t:t.text()}function T1(t){I1.delete(t)}function A1(t){return Object.getPrototypeOf(t.prototype).constructor}function R1(t){let e=A1(t.type),i=!0,n=[t];for(;e;){let r;if(ui(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(i){n.push(r);let o=t;o.inputs=qu(t.inputs),o.inputTransforms=qu(t.inputTransforms),o.declaredInputs=qu(t.declaredInputs),o.outputs=qu(t.outputs);let a=r.hostBindings;a&&P1(t,a);let c=r.viewQuery,u=r.contentQueries;if(c&&O1(t,c),u&&N1(t,u),M1(t,r),Q_(t.outputs,r.outputs),ui(r)&&r.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===R1&&(i=!1)}}e=Object.getPrototypeOf(e)}x1(n)}function M1(t,e){for(let i in e.inputs){if(!e.inputs.hasOwnProperty(i)||t.inputs.hasOwnProperty(i))continue;let n=e.inputs[i];if(n!==void 0&&(t.inputs[i]=n,t.declaredInputs[i]=e.declaredInputs[i],e.inputTransforms!==null)){let r=Array.isArray(n)?n[0]:n;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function x1(t){let e=0,i=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=e+=r.hostVars,r.hostAttrs=ha(r.hostAttrs,i=ha(i,r.hostAttrs))}}function qu(t){return t===Vs?{}:t===Bt?[]:t}function O1(t,e){let i=t.viewQuery;i?t.viewQuery=(n,r)=>{e(n,r),i(n,r)}:t.viewQuery=e}function N1(t,e){let i=t.contentQueries;i?t.contentQueries=(n,r,s)=>{e(n,r,s),i(n,r,s)}:t.contentQueries=e}function P1(t,e){let i=t.hostBindings;i?t.hostBindings=(n,r)=>{e(n,r),i(n,r)}:t.hostBindings=e}function ny(t){let e=t.inputConfig,i={};for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];Array.isArray(r)&&r[3]&&(i[n]=r[3])}t.inputTransforms=i}var Nr=class{},Zi=class{};function T0(t,e){return new Ca(t,e??null,[])}var Ca=class extends Nr{constructor(e,i,n){super(),this._parent=i,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);let r=Uw(e);this._bootstrapComponents=HT(r.bootstrap),this._r3Injector=IT(e,i,[{provide:Nr,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver},...n],Pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},El=class extends Zi{constructor(e){super(),this.moduleType=e}create(e){return new Ca(this.moduleType,e,[])}};function F1(t,e,i){return new Ca(t,e,i)}var tv=class extends Nr{constructor(e){super(),this.componentFactoryResolver=new ml(this),this.instance=null;let i=new pa([...e.providers,{provide:Nr,useValue:this},{provide:Hl,useValue:this.componentFactoryResolver}],e.parent||Dv(),e.debugName,new Set(["environment"]));this.injector=i,e.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gl(t,e,i=null){return new tv({providers:t,parent:e,debugName:i,runEnvironmentInitializers:!0}).injector}var es=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A0(t){return ry(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _1(t,e){if(Array.isArray(t))for(let i=0;i<t.length;i++)e(t[i]);else{let i=t[Symbol.iterator](),n;for(;!(n=i.next()).done;)e(n.value)}}function ry(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function pi(t,e,i){return t[e]=i}function Wl(t,e){return t[e]}function ln(t,e,i){let n=t[e];return Object.is(n,i)?!1:(t[e]=i,!0)}function Ys(t,e,i,n){let r=ln(t,e,i);return ln(t,e+1,n)||r}function iy(t,e,i,n,r){let s=Ys(t,e,i,n);return ln(t,e+2,r)||s}function Pa(t,e,i,n,r,s){let o=Ys(t,e,i,n);return Ys(t,e+2,r,s)||o}function L1(t){return(t.flags&32)===32}function k1(t,e,i,n,r,s,o,a,c){let u=e.consts,l=Xs(e,t,4,o||null,Ws(u,a));Yv(e,i,l,Ws(u,c)),Pl(e,l);let f=l.tView=qv(2,l,n,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),f.queries=e.queries.embeddedTView(l)),l}function U1(t,e,i,n,r,s,o,a){let c=Z(),u=Fe(),l=t+It,f=u.firstCreatePass?k1(l,u,c,e,i,n,r,s,o):u.data[l];Ji(f,!1);let h=j1(u,c,f,t);Ol()&&kl(u,c,h,f),li(h,c);let p=u0(h,c,h,f);return c[l]=p,$l(c,p),a1(p,f,c),xl(f)&&Gv(u,c,f),o!=null&&Wv(c,f,a),U1}var j1=$1;function $1(t,e,i,n){return Nl(!0),e[xe].createComment("")}function sy(t,e,i,n){let r=Z(),s=Ra();if(ln(r,s,e)){let o=Fe(),a=Xi();pj(a,r,t,e,i,n)}return sy}function oy(t,e,i,n){return ln(t,Ra(),i)?e+Nt(i)+n:tt}function R0(t,e,i,n,r,s){let o=xv(),a=Ys(t,o,i,r);return Ma(2),a?e+Nt(i)+n+Nt(r)+s:tt}function M0(t,e,i,n,r,s,o,a){let c=xv(),u=iy(t,c,i,r,o);return Ma(3),u?e+Nt(i)+n+Nt(r)+s+Nt(o)+a:tt}function B1(t,e,i,n,r,s,o,a,c,u){let l=xv(),f=Pa(t,l,i,r,o,c);return Ma(4),f?e+Nt(i)+n+Nt(r)+s+Nt(o)+a+Nt(c)+u:tt}function Yu(t,e){return t<<17|e<<2}function Qi(t){return t>>17&32767}function V1(t){return(t&2)==2}function H1(t,e){return t&131071|e<<17}function nv(t){return t|2}function Ks(t){return(t&131068)>>2}function om(t,e){return t&-131069|e<<2}function z1(t){return(t&1)===1}function rv(t){return t|1}function G1(t,e,i,n,r,s){let o=s?e.classBindings:e.styleBindings,a=Qi(o),c=Ks(o);t[n]=i;let u=!1,l;if(Array.isArray(i)){let f=i;l=f[1],(l===null||ba(f,l)>0)&&(u=!0)}else l=i;if(r)if(c!==0){let h=Qi(t[a+1]);t[n+1]=Yu(h,a),h!==0&&(t[h+1]=om(t[h+1],n)),t[a+1]=H1(t[a+1],n)}else t[n+1]=Yu(a,0),a!==0&&(t[a+1]=om(t[a+1],n)),a=n;else t[n+1]=Yu(c,0),a===0?a=n:t[c+1]=om(t[c+1],n),c=n;u&&(t[n+1]=nv(t[n+1])),aw(t,l,n,!0),aw(t,l,n,!1),W1(e,l,t,n,s),o=Yu(a,c),s?e.classBindings=o:e.styleBindings=o}function W1(t,e,i,n,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ba(s,e)>=0&&(i[n+1]=rv(i[n+1]))}function aw(t,e,i,n){let r=t[i+1],s=e===null,o=n?Qi(r):Ks(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];q1(c,e)&&(a=!0,t[o+1]=n?rv(u):nv(u)),o=n?Qi(u):Ks(u)}a&&(t[i+1]=n?nv(r):rv(r))}function q1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ba(t,e)>=0:!1}var et={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function x0(t){return t.substring(et.key,et.keyEnd)}function Y1(t){return t.substring(et.value,et.valueEnd)}function K1(t){return P0(t),O0(t,Zs(t,0,et.textEnd))}function O0(t,e){let i=et.textEnd;return i===e?-1:(e=et.keyEnd=Q1(t,et.key=e,i),Zs(t,e,i))}function Z1(t){return P0(t),N0(t,Zs(t,0,et.textEnd))}function N0(t,e){let i=et.textEnd,n=et.key=Zs(t,e,i);return i===n?-1:(n=et.keyEnd=J1(t,n,i),n=cw(t,n,i,58),n=et.value=Zs(t,n,i),n=et.valueEnd=X1(t,n,i),cw(t,n,i,59))}function P0(t){et.key=0,et.keyEnd=0,et.value=0,et.valueEnd=0,et.textEnd=t.length}function Zs(t,e,i){for(;e<i&&t.charCodeAt(e)<=32;)e++;return e}function Q1(t,e,i){for(;e<i&&t.charCodeAt(e)>32;)e++;return e}function J1(t,e,i){let n;for(;e<i&&((n=t.charCodeAt(e))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)e++;return e}function cw(t,e,i,n){return e=Zs(t,e,i),e<i&&e++,e}function X1(t,e,i){let n=-1,r=-1,s=-1,o=e,a=o;for(;o<i;){let c=t.charCodeAt(o++);if(c===59)return a;c===34||c===39?a=o=uw(t,c,o,i):e===o-4&&s===85&&r===82&&n===76&&c===40?a=o=uw(t,41,o,i):c>32&&(a=o),s=r,r=n,n=c&-33}return a}function uw(t,e,i,n){let r=-1,s=i;for(;s<n;){let o=t.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function e$(t,e,i){let n=Z(),r=Ra();if(ln(n,r,e)){let s=Fe(),o=Xi();eo(s,o,n,t,e,n[xe],i,!1)}return e$}function iv(t,e,i,n,r){let s=e.inputs,o=r?"class":"style";Kv(t,i,s[o],o,n)}function F0(t,e,i){return L0(t,e,i,!1),F0}function t$(t,e){return L0(t,e,null,!0),t$}function Ese(t){ay(j0,n$,t,!1)}function n$(t,e){for(let i=Z1(e);i>=0;i=N0(e,i))j0(t,x0(e),Y1(e))}function Cse(t){ay(c$,_0,t,!0)}function _0(t,e){for(let i=K1(e);i>=0;i=O0(e,i))Da(t,x0(e),!0)}function L0(t,e,i,n){let r=Z(),s=Fe(),o=Ma(2);if(s.firstUpdatePass&&U0(s,t,o,n),e!==tt&&ln(r,o,e)){let a=s.data[or()];$0(s,a,r,r[xe],t,r[o+1]=l$(e,i),n,o)}}function ay(t,e,i,n){let r=Fe(),s=Ma(2);r.firstUpdatePass&&U0(r,null,s,n);let o=Z();if(i!==tt&&ln(o,s,i)){let a=r.data[or()];if(B0(a,n)&&!k0(r,s)){let c=n?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(i=dm(c,i||"")),iv(r,a,o,i,n)}else u$(r,a,o,o[xe],o[s+1],o[s+1]=a$(t,e,i),n,s)}}function k0(t,e){return e>=t.expandoStartIndex}function U0(t,e,i,n){let r=t.data;if(r[i+1]===null){let s=r[or()],o=k0(t,i);B0(s,n)&&e===null&&!o&&(e=!1),e=r$(r,s,e,n),G1(r,s,e,i,o,n)}}function r$(t,e,i,n){let r=Ck(t),s=n?e.residualClasses:e.residualStyles;if(r===null)(n?e.classBindings:e.styleBindings)===0&&(i=am(null,t,e,i,n),i=Sa(i,e.attrs,n),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(i=am(r,t,e,i,n),s===null){let c=i$(t,e,n);c!==void 0&&Array.isArray(c)&&(c=am(null,t,e,c[1],n),c=Sa(c,e.attrs,n),s$(t,e,n,c))}else s=o$(t,e,n)}return s!==void 0&&(n?e.residualClasses=s:e.residualStyles=s),i}function i$(t,e,i){let n=i?e.classBindings:e.styleBindings;if(Ks(n)!==0)return t[Qi(n)]}function s$(t,e,i,n){let r=i?e.classBindings:e.styleBindings;t[Qi(r)]=n}function o$(t,e,i){let n,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;n=Sa(n,o,i)}return Sa(n,e.attrs,i)}function am(t,e,i,n,r){let s=null,o=i.directiveEnd,a=i.directiveStylingLast;for(a===-1?a=i.directiveStart:a++;a<o&&(s=e[a],n=Sa(n,s.hostAttrs,r),s!==t);)a++;return t!==null&&(i.directiveStylingLast=a),n}function Sa(t,e,i){let n=i?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Da(t,o,i?!0:e[++s]))}return t===void 0?null:t}function a$(t,e,i){if(i==null||i==="")return Bt;let n=[],r=Ht(i);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else typeof r=="string"&&e(n,r);return n}function j0(t,e,i){Da(t,e,Ht(i))}function c$(t,e,i){let n=String(e);n!==""&&!n.includes(" ")&&Da(t,n,i)}function u$(t,e,i,n,r,s,o,a){r===tt&&(r=Bt);let c=0,u=0,l=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;l!==null||f!==null;){let h=c<r.length?r[c+1]:void 0,p=u<s.length?s[u+1]:void 0,E=null,b;l===f?(c+=2,u+=2,h!==p&&(E=f,b=p)):f===null||l!==null&&l<f?(c+=2,E=l):(u+=2,E=f,b=p),E!==null&&$0(t,e,i,n,E,b,o,a),l=c<r.length?r[c]:null,f=u<s.length?s[u]:null}}function $0(t,e,i,n,r,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=z1(u)?lw(c,e,i,r,Ks(u),o):void 0;if(!Cl(l)){Cl(s)||V1(u)&&(s=lw(c,null,i,r,a,o));let f=Jw(or(),i);GU(n,o,f,r,s)}}function lw(t,e,i,n,r,s){let o=e===null,a;for(;r>0;){let c=t[r],u=Array.isArray(c),l=u?c[1]:c,f=l===null,h=i[r+1];h===tt&&(h=f?Bt:void 0);let p=f?Zg(h,n):l===n?h:void 0;if(u&&!Cl(p)&&(p=Zg(c,n)),Cl(p)&&(a=p,o))return a;let E=t[r+1];r=o?Qi(E):Ks(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Zg(c,n))}return a}function Cl(t){return t!==void 0}function l$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Pt(Ht(t)))),t}function B0(t,e){return(t.flags&(e?8:16))!==0}function Sse(t,e,i){let n=Z(),r=oy(n,t,e,i);ay(Da,_0,r,!0)}function d$(t,e,i,n,r,s){let o=e.consts,a=Ws(o,r),c=Xs(e,t,2,n,a);return Yv(e,i,c,Ws(o,s)),c.attrs!==null&&gl(c,c.attrs,!1),c.mergedAttrs!==null&&gl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function V0(t,e,i,n){let r=Z(),s=Fe(),o=It+t,a=r[xe],c=s.firstCreatePass?d$(o,s,r,e,i,n):s.data[o],u=f$(s,r,c,a,e,t);r[o]=u;let l=xl(c);return Ji(c,!0),e0(a,u,c),!L1(c)&&Ol()&&kl(s,r,u,c),uk()===0&&li(u,r),lk(),l&&(Gv(s,r,c),zv(s,c,r)),n!==null&&Wv(r,c),V0}function H0(){let t=bt();Rv()?Mv():(t=t.parent,Ji(t,!1));let e=t;fk(e)&&hk(),dk();let i=Fe();return i.firstCreatePass&&(Pl(i,t),wv(t)&&i.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ak(e)&&iv(i,e,Z(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Rk(e)&&iv(i,e,Z(),e.stylesWithoutHost,!1),H0}function cy(t,e,i,n){return V0(t,e,i,n),H0(),cy}var f$=(t,e,i,n,r,s)=>(Nl(!0),zT(n,r,Dk()));function h$(t,e,i,n,r){let s=e.consts,o=Ws(s,n),a=Xs(e,t,8,"ng-container",o);o!==null&&gl(a,o,!0);let c=Ws(s,r);return Yv(e,i,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function z0(t,e,i){let n=Z(),r=Fe(),s=t+It,o=r.firstCreatePass?h$(s,r,n,e,i):r.data[s];Ji(o,!0);let a=g$(r,n,o,t);return n[s]=a,Ol()&&kl(r,n,a,o),li(a,n),xl(o)&&(Gv(r,n,o),zv(r,o,n)),i!=null&&Wv(n,o),z0}function G0(){let t=bt(),e=Fe();return Rv()?Mv():(t=t.parent,Ji(t,!1)),e.firstCreatePass&&(Pl(e,t),wv(t)&&e.queries.elementEnd(t)),G0}function p$(t,e,i){return z0(t,e,i),G0(),p$}var g$=(t,e,i,n)=>(Nl(!0),MU(e[xe],""));function Ise(){return Z()}function m$(t,e,i){let n=Z(),r=Ra();if(ln(n,r,e)){let s=Fe(),o=Xi();eo(s,o,n,t,e,n[xe],i,!0)}return m$}var ji=void 0;function v$(t){let e=t,i=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&n===0?1:5}var y$=["en",[["a","p"],["AM","PM"],ji],[["AM","PM"],ji,ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ji,"{1} 'at' {0}",ji],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",v$],cm={};function Gt(t){let e=E$(t),i=dw(e);if(i)return i;let n=e.split("-")[0];if(i=dw(n),i)return i;if(n==="en")return y$;throw new j(701,!1)}function dw(t){return t in cm||(cm[t]=Ge.ng&&Ge.ng.common&&Ge.ng.common.locales&&Ge.ng.common.locales[t]),cm[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function E$(t){return t.toLowerCase().replace(/_/g,"-")}var Sl="en-US";var C$=Sl;function S$(t){typeof t=="string"&&(C$=t.toLowerCase().replace(/_/g,"-"))}function uy(t,e,i,n){let r=Z(),s=Fe(),o=bt();return W0(s,r,r[xe],o,t,e,n),uy}function I$(t,e,i,n){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===i&&r[s+1]===n){let a=e[ma],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function W0(t,e,i,n,r,s,o){let a=xl(n),u=t.firstCreatePass&&f0(t),l=e[Rn],f=d0(e),h=!0;if(n.type&3||o){let b=fn(n,e),w=o?o(b):b,R=f.length,V=o?H=>o(ir(H[n.index])):n.index,U=null;if(!o&&a&&(U=I$(t,e,r,n.index)),U!==null){let H=U.__ngLastListenerFn__||U;H.__ngNextListenerFn__=s,U.__ngLastListenerFn__=s,h=!1}else{s=hw(n,e,l,s,!1);let H=i.listen(w,r,s);f.push(s,H),u&&u.push(r,V,R,R+1)}}else s=hw(n,e,l,s,!1);let p=n.outputs,E;if(h&&p!==null&&(E=p[r])){let b=E.length;if(b)for(let w=0;w<b;w+=2){let R=E[w],V=E[w+1],te=e[R][V].subscribe(s),ue=f.length;f.push(s,te),u&&u.push(r,n.index,ue,-(ue+1))}}}function fw(t,e,i,n){let r=ve(null);try{return er(6,e,i),i(n)!==!1}catch(s){return h0(t,s),!1}finally{er(7,e,i),ve(r)}}function hw(t,e,i,n,r){return function s(o){if(o===Function)return n;let a=t.componentOffset>-1?fi(t.index,e):e;Qv(a);let c=fw(e,i,n,o),u=s.__ngNextListenerFn__;for(;u;)c=fw(e,i,u,o)&&c,u=u.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function Dse(t=1){return Ik(t)}function D$(t,e){let i=null,n=AL(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){i=r;continue}if(n===null?Pw(t,s,!0):xL(n,s))return r}return i}function bse(t){let e=Z()[xn][Jt];if(!e.projection){let i=t?t.length:1,n=e.projection=yL(i,null),r=n.slice(),s=e.child;for(;s!==null;){let o=t?D$(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}function wse(t,e=0,i){let n=Z(),r=Fe(),s=Xs(r,It+t,16,null,i||null);s.projection===null&&(s.projection=e),Mv(),(!n[ga]||rT())&&(s.flags&32)!==32&&HU(r,n,s)}function b$(t,e,i){return q0(t,"",e,"",i),b$}function q0(t,e,i,n,r){let s=Z(),o=oy(s,e,i,n);if(o!==tt){let a=Fe(),c=Xi();eo(a,c,s,t,o,s[xe],r,!1)}return q0}function w$(t,e,i,n,r,s,o){let a=Z(),c=R0(a,e,i,n,r,s);if(c!==tt){let u=Fe(),l=Xi();eo(u,l,a,t,c,a[xe],o,!1)}return w$}function T$(t,e,i,n,r,s,o,a,c){let u=Z(),l=M0(u,e,i,n,r,s,o,a);if(l!==tt){let f=Fe(),h=Xi();eo(f,h,u,t,l,u[xe],c,!1)}return T$}function Y0(t,e,i,n){g1(t,e,i,n)}function Tse(t,e,i){p1(t,e,i)}function K0(t){let e=Z(),i=Fe(),n=sT();Ov(n+1);let r=ey(i,n);if(t.dirty&&ik(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=y1(e,n);t.reset(s,Bk),t.notifyOnChanges()}return!0}return!1}function Z0(){return h1(Z(),sT())}function A$(t,e,i,n){i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=n}function Ase(t){let e=gk();return Aa(e,It+t)}function Rse(t,e=""){let i=Z(),n=Fe(),r=t+It,s=n.firstCreatePass?Xs(n,r,1,e,null):n.data[r],o=R$(n,i,s,e,t);i[r]=o,Ol()&&kl(n,i,o,s),Ji(s,!1)}var R$=(t,e,i,n,r)=>(Nl(!0),AU(e[xe],n));function M$(t){return Q0("",t,""),M$}function Q0(t,e,i){let n=Z(),r=oy(n,t,e,i);return r!==tt&&Bl(n,or(),r),Q0}function x$(t,e,i,n,r){let s=Z(),o=R0(s,t,e,i,n,r);return o!==tt&&Bl(s,or(),o),x$}function O$(t,e,i,n,r,s,o){let a=Z(),c=M0(a,t,e,i,n,r,s,o);return c!==tt&&Bl(a,or(),c),O$}function N$(t,e,i,n,r,s,o,a,c){let u=Z(),l=B1(u,t,e,i,n,r,s,o,a,c);return l!==tt&&Bl(u,or(),l),N$}function P$(t,e,i){w0(e)&&(e=e());let n=Z(),r=Ra();if(ln(n,r,e)){let s=Fe(),o=Xi();eo(s,o,n,t,e,n[xe],i,!1)}return P$}function Mse(t,e){let i=w0(t);return i&&t.set(e),i}function F$(t,e){let i=Z(),n=Fe(),r=bt();return W0(n,i,i[xe],r,t,e),F$}function _$(t,e,i){let n=Fe();if(n.firstCreatePass){let r=ui(t);sv(i,n.data,n.blueprint,r,!0),sv(e,n.data,n.blueprint,r,!1)}}function sv(t,e,i,n,r){if(t=Ot(t),Array.isArray(t))for(let s=0;s<t.length;s++)sv(t[s],e,i,n,r);else{let s=Fe(),o=Z(),a=bt(),c=Hs(t)?t:Ot(t.provide),u=zw(t),l=a.providerIndexes&1048575,f=a.directiveStart,h=a.providerIndexes>>20;if(Hs(t)||!t.multi){let p=new Wi(u,r,X),E=lm(c,e,r?l:l+h,f);E===-1?(Dm(ll(a,o),s,c),um(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(p),o.push(p)):(i[E]=p,o[E]=p)}else{let p=lm(c,e,l+h,f),E=lm(c,e,l,l+h),b=p>=0&&i[p],w=E>=0&&i[E];if(r&&!w||!r&&!b){Dm(ll(a,o),s,c);let R=U$(r?k$:L$,i.length,r,n,u);!r&&w&&(i[E].providerFactory=R),um(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),i.push(R),o.push(R)}else{let R=J0(i[r?E:p],u,!r&&n);um(s,t,p>-1?p:E,R)}!r&&n&&w&&i[E].componentProviders++}}}function um(t,e,i,n){let r=Hs(e),s=BL(e);if(r||s){let c=(s?Ot(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let l=u.indexOf(i);l===-1?u.push(i,[n,c]):u[l+1].push(n,c)}else u.push(i,c)}}}function J0(t,e,i){return i&&t.componentProviders++,t.multi.push(e)-1}function lm(t,e,i,n){for(let r=i;r<n;r++)if(e[r]===t)return r;return-1}function L$(t,e,i,n){return ov(this.multi,[])}function k$(t,e,i,n){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=qi(i,i[se],this.providerFactory.index,n);s=a.slice(0,o),ov(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],ov(r,s);return s}function ov(t,e){for(let i=0;i<t.length;i++){let n=t[i];e.push(n())}return e}function U$(t,e,i,n,r){let s=new Wi(t,i,X);return s.multi=[],s.index=e,s.componentProviders=0,J0(s,r,n&&!i),s}function xse(t,e=[]){return i=>{i.providersResolver=(n,r)=>_$(n,r?r(t):t,e)}}var j$=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Bw(!1,n.type),s=r.length>0?Gl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=m({token:e,providedIn:"environment",factory:()=>new e(d(St))});let t=e;return t})();function X0(t){no("NgStandalone"),t.getStandaloneInjector=e=>e.get(j$).getOrCreateStandaloneInjector(t)}function Ose(t,e,i){let n=hn()+t,r=Z();return r[n]===tt?pi(r,n,i?e.call(i):e()):Wl(r,n)}function Nse(t,e,i,n){return eA(Z(),hn(),t,e,i,n)}function Pse(t,e,i,n,r){return tA(Z(),hn(),t,e,i,n,r)}function Fse(t,e,i,n,r,s){return nA(Z(),hn(),t,e,i,n,r,s)}function _se(t,e,i,n,r,s,o){return rA(Z(),hn(),t,e,i,n,r,s,o)}function Lse(t,e,i,n,r,s,o,a){let c=hn()+t,u=Z(),l=Pa(u,c,i,n,r,s);return ln(u,c+4,o)||l?pi(u,c+5,a?e.call(a,i,n,r,s,o):e(i,n,r,s,o)):Wl(u,c+5)}function kse(t,e,i,n,r,s,o,a,c){let u=hn()+t,l=Z(),f=Pa(l,u,i,n,r,s);return Ys(l,u+4,o,a)||f?pi(l,u+6,c?e.call(c,i,n,r,s,o,a):e(i,n,r,s,o,a)):Wl(l,u+6)}function Use(t,e,i,n,r,s,o,a,c,u){let l=hn()+t,f=Z(),h=Pa(f,l,i,n,r,s);return iy(f,l+4,o,a,c)||h?pi(f,l+7,u?e.call(u,i,n,r,s,o,a,c):e(i,n,r,s,o,a,c)):Wl(f,l+7)}function ql(t,e){let i=t[e];return i===tt?void 0:i}function eA(t,e,i,n,r,s){let o=e+i;return ln(t,o,r)?pi(t,o+1,s?n.call(s,r):n(r)):ql(t,o+1)}function tA(t,e,i,n,r,s,o){let a=e+i;return Ys(t,a,r,s)?pi(t,a+2,o?n.call(o,r,s):n(r,s)):ql(t,a+2)}function nA(t,e,i,n,r,s,o,a){let c=e+i;return iy(t,c,r,s,o)?pi(t,c+3,a?n.call(a,r,s,o):n(r,s,o)):ql(t,c+3)}function rA(t,e,i,n,r,s,o,a,c){let u=e+i;return Pa(t,u,r,s,o,a)?pi(t,u+4,c?n.call(c,r,s,o,a):n(r,s,o,a)):ql(t,u+4)}function jse(t,e){let i=Fe(),n,r=t+It;i.firstCreatePass?(n=$$(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks??=[]).push(r,n.onDestroy)):n=i.data[r];let s=n.factory||(n.factory=Vi(n.type,!0)),o,a=$t(X);try{let c=ul(!1),u=s();return ul(c),A$(i,Z(),r,u),u}finally{$t(a)}}function $$(t,e){if(e)for(let i=e.length-1;i>=0;i--){let n=e[i];if(t===n.name)return n}}function $se(t,e,i){let n=t+It,r=Z(),s=Aa(r,n);return Yl(r,n)?eA(r,hn(),e,s.transform,i,s):s.transform(i)}function Bse(t,e,i,n){let r=t+It,s=Z(),o=Aa(s,r);return Yl(s,r)?tA(s,hn(),e,o.transform,i,n,o):o.transform(i,n)}function Vse(t,e,i,n,r){let s=t+It,o=Z(),a=Aa(o,s);return Yl(o,s)?nA(o,hn(),e,a.transform,i,n,r,a):a.transform(i,n,r)}function Hse(t,e,i,n,r,s){let o=t+It,a=Z(),c=Aa(a,o);return Yl(a,o)?rA(a,hn(),e,c.transform,i,n,r,s,c):c.transform(i,n,r,s)}function Yl(t,e){return t[se].data[e].pure}function zse(t,e){return Vl(t,e)}var Ku=null;function B$(t){Ku!==null&&(t.defaultEncapsulation!==Ku.defaultEncapsulation||t.preserveWhitespaces!==Ku.preserveWhitespaces)||(Ku=t)}var Kl=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var ly=new S(""),Fa=new S(""),Zl=(()=>{let e=class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,dy||(V$(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(Ql),d(Fa))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Ql=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dy?.findTestabilityInTree(this,n,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function V$(t){dy=t}var dy;function ro(t){return!!t&&typeof t.then=="function"}function fy(t){return!!t&&typeof t.subscribe=="function"}var wt=new S(""),iA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=C(wt,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(ro(o))n.push(o);else if(fy(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),n.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),io=new S("");function H$(){Db(()=>{throw new j(600,!1)})}function z$(t){return t.isBoundToModule}function G$(t,e,i){try{let n=i();return ro(n)?n.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function sA(t,e){return Array.isArray(e)?e.reduce(sA,t):v(v({},t),e)}var ts=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(DT),this.afterRenderEffectManager=C(Xv),this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=C(es).hasPendingTasks.pipe(y(n=>!n)),this._injector=C(St)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let s=n instanceof pl;if(!this._injector.get(iA).done){let p=!s&&kw(n),E=!1;throw new j(405,E)}let a;s?a=n:a=this._injector.get(Hl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=z$(a)?void 0:this._injector.get(Nr),u=r||a.selector,l=a.create(Ye.NULL,[],u,c),f=l.location.nativeElement,h=l.injector.get(ly,null);return h?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),tl(this.components,l),h?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new j(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(n){let r=0,s=this.afterRenderEffectManager;for(;;){if(r===g0)throw new j(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)W$(a,o,c)}if(r++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>av(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>av(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(io,[]);[...this._bootstrapListeners,...r].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tl(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function W$(t,e,i){!e&&!av(t)||q$(t,i,e)}function av(t){return Av(t)}function q$(t,e,i){let n;i?(n=0,t[J]|=1024):t[J]&64?n=0:n=1,m0(t,e,n)}var cv=class{constructor(e,i){this.ngModuleFactory=e,this.componentFactories=i}},so=(()=>{let e=class e{compileModuleSync(n){return new El(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),s=Uw(n),o=HT(s.declarations).reduce((a,c)=>{let u=ci(c);return u&&a.push(new qs(u)),a},[]);return new cv(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y$=new S("");function K$(t,e,i){let n=new El(i);return Promise.resolve(n)}function pw(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Z$=(()=>{let e=class e{constructor(){this.zone=C(Ce),this.applicationRef=C(ts)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q$(t){return[{provide:Ce,useFactory:t},{provide:nr,multi:!0,useFactory:()=>{let e=C(Z$,{optional:!0});return()=>e.initialize()}},{provide:nr,multi:!0,useFactory:()=>{let e=C(eB);return()=>{e.initialize()}}},{provide:DT,useFactory:J$}]}function J$(){let t=C(Ce),e=C(Dt);return i=>t.runOutsideAngular(()=>e.handleError(i))}function X$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var eB=(()=>{let e=class e{constructor(){this.subscription=new Ee,this.initialized=!1,this.zone=C(Ce),this.pendingTasks=C(es)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ce.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ce.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tB(){return typeof $localize<"u"&&$localize.locale||Sl}var _a=new S("",{providedIn:"root",factory:()=>C(_a,ce.Optional|ce.SkipSelf)||tB()});var oA=new S(""),aA=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){let s=Wj(r?.ngZone,X$({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=F1(n.moduleType,this.injector,Q$(()=>s)),a=o.injector.get(Dt,null);return s.runOutsideAngular(()=>{let c=s.onError.subscribe({next:u=>{a.handleError(u)}});o.onDestroy(()=>{tl(this._modules,o),c.unsubscribe()})}),G$(a,s,()=>{let c=o.injector.get(iA);return c.runInitializers(),c.donePromise.then(()=>{let u=o.injector.get(_a,Sl);return S$(u||Sl),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,r=[]){let s=sA({},r);return K$(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let r=n.injector.get(ts);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(r);else throw new j(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let n=this._injector.get(oA,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),da=null,cA=new S("");function nB(t){if(da&&!da.get(cA,!1))throw new j(400,!1);H$(),da=t;let e=t.get(aA);return sB(t),e}function hy(t,e,i=[]){let n=`Platform: ${e}`,r=new S(n);return(s=[])=>{let o=uA();if(!o||o.injector.get(cA,!1)){let a=[...i,...s,{provide:r,useValue:!0}];t?t(a):nB(rB(a,n))}return iB(r)}}function rB(t=[],e){return Ye.create({name:e,providers:[{provide:Al,useValue:"platform"},{provide:oA,useValue:new Set([()=>da=null])},...t]})}function iB(t){let e=uA();if(!e)throw new j(401,!1);return e}function uA(){return da?.get(aA)??null}function sB(t){t.get(kv,null)?.forEach(i=>i())}function me(){return!1}var Lr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=oB;let t=e;return t})();function oB(t){return aB(bt(),Z(),(t&16)===16)}function aB(t,e,i){if(Ml(t)&&!i){let n=fi(t.index,e);return new Yi(n,n)}else if(t.type&47){let n=e[xn];return new Yi(n,e)}return null}var uv=class{constructor(){}supports(e){return A0(e)}create(e){return new lv(e)}},cB=(t,e)=>e,lv=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||cB}forEachItem(e){let i;for(i=this._itHead;i!==null;i=i._next)e(i)}forEachOperation(e){let i=this._itHead,n=this._removalsHead,r=0,s=null;for(;i||n;){let o=!n||i&&i.currentIndex<gw(n,r,s)?i:n,a=gw(o,r,s),c=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(i=i._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,l=c-r;if(u!=l){for(let h=0;h<u;h++){let p=h<s.length?s[h]:s[h]=0,E=p+h;l<=E&&E<u&&(s[h]=p+1)}let f=o.previousIndex;s[f]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let i;for(i=this._previousItHead;i!==null;i=i._nextPrevious)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachMovedItem(e){let i;for(i=this._movesHead;i!==null;i=i._nextMoved)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}forEachIdentityChange(e){let i;for(i=this._identityChangesHead;i!==null;i=i._nextIdentityChange)e(i)}diff(e){if(e==null&&(e=[]),!A0(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._itHead,n=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,s,o,a),n=!0):(n&&(i=this._verifyReinsertion(i,s,o,a)),Object.is(i.item,s)||this._addIdentityChange(i,s)),i=i._next}else r=0,_1(e,a=>{o=this._trackByFn(r,a),i===null||!Object.is(i.trackById,o)?(i=this._mismatch(i,a,o,r),n=!0):(n&&(i=this._verifyReinsertion(i,a,o,r)),Object.is(i.item,a)||this._addIdentityChange(i,a)),i=i._next,r++}),this.length=r;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,i,n,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(n,r),e!==null?(Object.is(e.item,i)||this._addIdentityChange(e,i),this._moveAfter(e,s,r)):e=this._addAfter(new dv(i,n),s,r)),e}_verifyReinsertion(e,i,n,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let i=e._next;this._addToRemovals(this._unlink(e)),e=i}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,i,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,i,n),this._addToMoves(e,n),e}_moveAfter(e,i,n){return this._unlink(e),this._insertAfter(e,i,n),this._addToMoves(e,n),e}_addAfter(e,i,n){return this._insertAfter(e,i,n),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,i,n){let r=i===null?this._itHead:i._next;return e._next=r,e._prev=i,r===null?this._itTail=e:r._prev=e,i===null?this._itHead=e:i._next=e,this._linkedRecords===null&&(this._linkedRecords=new Il),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let i=e._prev,n=e._next;return i===null?this._itHead=n:i._next=n,n===null?this._itTail=i:n._prev=i,e}_addToMoves(e,i){return e.previousIndex===i||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,i){return e.item=i,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},dv=class{constructor(e,i){this.item=e,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fv=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,i){let n;for(n=this._head;n!==null;n=n._nextDup)if((i===null||i<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){let i=e._prevDup,n=e._nextDup;return i===null?this._head=n:i._nextDup=n,n===null?this._tail=i:n._prevDup=i,this._head===null}},Il=class{constructor(){this.map=new Map}put(e){let i=e.trackById,n=this.map.get(i);n||(n=new fv,this.map.set(i,n)),n.add(e)}get(e,i){let n=e,r=this.map.get(n);return r?r.get(e,i):null}remove(e){let i=e.trackById;return this.map.get(i).remove(e)&&this.map.delete(i),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gw(t,e,i){let n=t.previousIndex;if(n===null)return n;let r=0;return i&&n<i.length&&(r=i[n]),n+e+r}var hv=class{constructor(){}supports(e){return e instanceof Map||ry(e)}create(){return new pv}},pv=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let i;for(i=this._mapHead;i!==null;i=i._next)e(i)}forEachPreviousItem(e){let i;for(i=this._previousMapHead;i!==null;i=i._nextPrevious)e(i)}forEachChangedItem(e){let i;for(i=this._changesHead;i!==null;i=i._nextChanged)e(i)}forEachAddedItem(e){let i;for(i=this._additionsHead;i!==null;i=i._nextAdded)e(i)}forEachRemovedItem(e){let i;for(i=this._removalsHead;i!==null;i=i._nextRemoved)e(i)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ry(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(e,(n,r)=>{if(i&&i.key===r)this._maybeAddToChanges(i,n),this._appendAfter=i,i=i._next;else{let s=this._getOrCreateRecordForKey(r,n);i=this._insertBeforeOrAppend(i,s)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let n=i;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,i){if(e){let n=e._prev;return i._next=e,i._prev=n,e._prev=i,n&&(n._next=i),e===this._mapHead&&(this._mapHead=i),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(e,i){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,i);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let n=new gv(e);return this._records.set(e,n),n.currentValue=i,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,i){Object.is(i,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=i,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,i){e instanceof Map?e.forEach(i):Object.keys(e).forEach(n=>i(e[n],n))}},gv=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function mw(){return new py([new uv])}var py=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r!=null){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||mw()),deps:[[e,new Tl,new dn]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:mw});let t=e;return t})();function vw(){return new gy([new hv])}var gy=(()=>{let e=class e{constructor(n){this.factories=n}static create(n,r){if(r){let s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||vw()),deps:[[e,new Tl,new dn]]}}find(n){let r=this.factories.find(s=>s.supports(n));if(r)return r;throw new j(901,!1)}};e.\u0275prov=m({token:e,providedIn:"root",factory:vw});let t=e;return t})();var lA=hy(null,"core",[]),dA=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(ts))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function La(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Jl(t,e){no("NgSignals");let i=Cb(t);return e?.equal&&(i[Rr].equal=e.equal),i}function Xl(t){let e=ve(null);try{return t()}finally{ve(e)}}function fA(t){let e=ci(t);if(!e)return null;let i=new qs(e);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var bA=null;function gi(){return bA}function wA(t){bA??=t}var cd=class{};var Le=new S(""),Ry=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(uB),providedIn:"platform"});let t=e;return t})(),fd=new S(""),uB=(()=>{let e=class e extends Ry{constructor(){super(),this._doc=C(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gi().getBaseHref(this._doc)}onPopState(n){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,s){this._history.pushState(n,r,s)}replaceState(n,r,s){this._history.replaceState(n,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function My(t,e){if(t.length==0)return e;if(e.length==0)return t;let i=0;return t.endsWith("/")&&i++,e.startsWith("/")&&i++,i==2?t+e.substring(1):i==1?t+e:t+"/"+e}function hA(t){let e=t.match(/#|\?|$/),i=e&&e.index||t.length,n=i-(t[i-1]==="/"?1:0);return t.slice(0,n)+t.slice(i)}function jr(t){return t&&t[0]!=="?"?"?"+t:t}var Br=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(xy),providedIn:"root"});let t=e;return t})(),TA=new S(""),xy=(()=>{let e=class e extends Br{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return My(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${r}${s}`:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+jr(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+jr(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ry),d(TA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AA=(()=>{let e=class e extends Br{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=My(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,s,o){let a=this.prepareExternalUrl(s+jr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,r,a)}replaceState(n,r,s,o){let a=this.prepareExternalUrl(s+jr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ry),d(TA,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),lr=(()=>{let e=class e{constructor(n){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=fB(hA(pA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+jr(r))}normalize(n){return e.stripTrailingSlash(dB(this._basePath,pA(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",s=null){this._locationStrategy.pushState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(r)),s)}replaceState(n,r="",s=null){this._locationStrategy.replaceState(s,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+jr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(s=>s(n,r))}subscribe(n,r,s){return this._subject.subscribe({next:n,error:r,complete:s})}};e.normalizeQueryParams=jr,e.joinWithSlash=My,e.stripTrailingSlash=hA,e.\u0275fac=function(r){return new(r||e)(d(Br))},e.\u0275prov=m({token:e,factory:()=>lB(),providedIn:"root"});let t=e;return t})();function lB(){return new lr(d(Br))}function dB(t,e){if(!t||!e.startsWith(t))return e;let i=e.substring(t.length);return i===""||["/",";","?","#"].includes(i[0])?i:e}function pA(t){return t.replace(/\/index.html$/,"")}function fB(t){if(new RegExp("^(https?:)?//").test(t)){let[,i]=t.split(/\/\/[^\/]+/);return i}return t}var RA={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Oy=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Oy||{});var _t=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_t||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),Xt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Xt||{}),Tt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hd(t){return Gt(t)[Be.LocaleId]}function hB(t,e,i){let n=Gt(t),r=[n[Be.DayPeriodsFormat],n[Be.DayPeriodsStandalone]],s=gn(r,e);return gn(s,i)}function pB(t,e,i){let n=Gt(t),r=[n[Be.DaysFormat],n[Be.DaysStandalone]],s=gn(r,e);return gn(s,i)}function gB(t,e,i){let n=Gt(t),r=[n[Be.MonthsFormat],n[Be.MonthsStandalone]],s=gn(r,e);return gn(s,i)}function mB(t,e){let n=Gt(t)[Be.Eras];return gn(n,e)}function ed(t,e){let i=Gt(t);return gn(i[Be.DateFormat],e)}function td(t,e){let i=Gt(t);return gn(i[Be.TimeFormat],e)}function nd(t,e){let n=Gt(t)[Be.DateTimeFormat];return gn(n,e)}function ur(t,e){let i=Gt(t),n=i[Be.NumberSymbols][e];if(typeof n>"u"){if(e===Tt.CurrencyDecimal)return i[Be.NumberSymbols][Tt.Decimal];if(e===Tt.CurrencyGroup)return i[Be.NumberSymbols][Tt.Group]}return n}function MA(t,e){return Gt(t)[Be.NumberFormats][e]}function vB(t){return Gt(t)[Be.Currencies]}function xA(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yB(t){let e=Gt(t);return xA(e),(e[Be.ExtraData][2]||[]).map(n=>typeof n=="string"?my(n):[my(n[0]),my(n[1])])}function EB(t,e,i){let n=Gt(t);xA(n);let r=[n[Be.ExtraData][0],n[Be.ExtraData][1]],s=gn(r,e)||[];return gn(s,i)||[]}function gn(t,e){for(let i=e;i>-1;i--)if(typeof t[i]<"u")return t[i];throw new Error("Locale data API: locale data undefined")}function my(t){let[e,i]=t.split(":");return{hours:+e,minutes:+i}}function uoe(t,e,i="en"){let n=vB(i)[t]||RA[t]||[],r=n[1];return e==="narrow"&&typeof r=="string"?r:n[0]||t}var CB=2;function SB(t){let e,i=RA[t];return i&&(e=i[2]),typeof e=="number"?e:CB}var IB=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,rd={},DB=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$r=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}($r||{}),Ie=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Ie||{}),Se=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Se||{});function bB(t,e,i,n){let r=PB(t);e=Ur(i,e)||e;let o=[],a;for(;e;)if(a=DB.exec(e),a){o=o.concat(a.slice(1));let l=o.pop();if(!l)break;e=l}else{o.push(e);break}let c=r.getTimezoneOffset();n&&(c=NA(n,c),r=NB(r,n,!0));let u="";return o.forEach(l=>{let f=xB(l);u+=f?f(r,i,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function ud(t,e,i){let n=new Date(0);return n.setFullYear(t,e,i),n.setHours(0,0,0),n}function Ur(t,e){let i=hd(t);if(rd[i]??={},rd[i][e])return rd[i][e];let n="";switch(e){case"shortDate":n=ed(t,Xt.Short);break;case"mediumDate":n=ed(t,Xt.Medium);break;case"longDate":n=ed(t,Xt.Long);break;case"fullDate":n=ed(t,Xt.Full);break;case"shortTime":n=td(t,Xt.Short);break;case"mediumTime":n=td(t,Xt.Medium);break;case"longTime":n=td(t,Xt.Long);break;case"fullTime":n=td(t,Xt.Full);break;case"short":let r=Ur(t,"shortTime"),s=Ur(t,"shortDate");n=id(nd(t,Xt.Short),[r,s]);break;case"medium":let o=Ur(t,"mediumTime"),a=Ur(t,"mediumDate");n=id(nd(t,Xt.Medium),[o,a]);break;case"long":let c=Ur(t,"longTime"),u=Ur(t,"longDate");n=id(nd(t,Xt.Long),[c,u]);break;case"full":let l=Ur(t,"fullTime"),f=Ur(t,"fullDate");n=id(nd(t,Xt.Full),[l,f]);break}return n&&(rd[i][e]=n),n}function id(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(i,n){return e!=null&&n in e?e[n]:i})),t}function Pn(t,e,i="-",n,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=i));let o=String(t);for(;o.length<e;)o="0"+o;return n&&(o=o.slice(o.length-e)),s+o}function wB(t,e){return Pn(t,3).substring(0,e)}function Ke(t,e,i=0,n=!1,r=!1){return function(s,o){let a=TB(t,s);if((i>0||a>-i)&&(a+=i),t===Ie.Hours)a===0&&i===-12&&(a=12);else if(t===Ie.FractionalSeconds)return wB(a,e);let c=ur(o,Tt.MinusSign);return Pn(a,e,c,n,r)}}function TB(t,e){switch(t){case Ie.FullYear:return e.getFullYear();case Ie.Month:return e.getMonth();case Ie.Date:return e.getDate();case Ie.Hours:return e.getHours();case Ie.Minutes:return e.getMinutes();case Ie.Seconds:return e.getSeconds();case Ie.FractionalSeconds:return e.getMilliseconds();case Ie.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Oe(t,e,i=_t.Format,n=!1){return function(r,s){return AB(r,s,t,e,i,n)}}function AB(t,e,i,n,r,s){switch(i){case Se.Months:return gB(e,r,n)[t.getMonth()];case Se.Days:return pB(e,r,n)[t.getDay()];case Se.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let u=yB(e),l=EB(e,r,n),f=u.findIndex(h=>{if(Array.isArray(h)){let[p,E]=h,b=o>=p.hours&&a>=p.minutes,w=o<E.hours||o===E.hours&&a<E.minutes;if(p.hours<E.hours){if(b&&w)return!0}else if(b||w)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(f!==-1)return l[f]}return hB(e,r,n)[o<12?0:1];case Se.Eras:return mB(e,n)[t.getFullYear()<=0?0:1];default:let c=i;throw new Error(`unexpected translation type ${c}`)}}function sd(t){return function(e,i,n){let r=-1*n,s=ur(i,Tt.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case $r.Short:return(r>=0?"+":"")+Pn(o,2,s)+Pn(Math.abs(r%60),2,s);case $r.ShortGMT:return"GMT"+(r>=0?"+":"")+Pn(o,1,s);case $r.Long:return"GMT"+(r>=0?"+":"")+Pn(o,2,s)+":"+Pn(Math.abs(r%60),2,s);case $r.Extended:return n===0?"Z":(r>=0?"+":"")+Pn(o,2,s)+":"+Pn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var RB=0,ad=4;function MB(t){let e=ud(t,RB,1).getDay();return ud(t,0,1+(e<=ad?ad:ad+7)-e)}function OA(t){let e=t.getDay(),i=e===0?-3:ad-e;return ud(t.getFullYear(),t.getMonth(),t.getDate()+i)}function vy(t,e=!1){return function(i,n){let r;if(e){let s=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,o=i.getDate();r=1+Math.floor((o+s)/7)}else{let s=OA(i),o=MB(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Pn(r,t,ur(n,Tt.MinusSign))}}function od(t,e=!1){return function(i,n){let s=OA(i).getFullYear();return Pn(s,t,ur(n,Tt.MinusSign),e)}}var yy={};function xB(t){if(yy[t])return yy[t];let e;switch(t){case"G":case"GG":case"GGG":e=Oe(Se.Eras,Me.Abbreviated);break;case"GGGG":e=Oe(Se.Eras,Me.Wide);break;case"GGGGG":e=Oe(Se.Eras,Me.Narrow);break;case"y":e=Ke(Ie.FullYear,1,0,!1,!0);break;case"yy":e=Ke(Ie.FullYear,2,0,!0,!0);break;case"yyy":e=Ke(Ie.FullYear,3,0,!1,!0);break;case"yyyy":e=Ke(Ie.FullYear,4,0,!1,!0);break;case"Y":e=od(1);break;case"YY":e=od(2,!0);break;case"YYY":e=od(3);break;case"YYYY":e=od(4);break;case"M":case"L":e=Ke(Ie.Month,1,1);break;case"MM":case"LL":e=Ke(Ie.Month,2,1);break;case"MMM":e=Oe(Se.Months,Me.Abbreviated);break;case"MMMM":e=Oe(Se.Months,Me.Wide);break;case"MMMMM":e=Oe(Se.Months,Me.Narrow);break;case"LLL":e=Oe(Se.Months,Me.Abbreviated,_t.Standalone);break;case"LLLL":e=Oe(Se.Months,Me.Wide,_t.Standalone);break;case"LLLLL":e=Oe(Se.Months,Me.Narrow,_t.Standalone);break;case"w":e=vy(1);break;case"ww":e=vy(2);break;case"W":e=vy(1,!0);break;case"d":e=Ke(Ie.Date,1);break;case"dd":e=Ke(Ie.Date,2);break;case"c":case"cc":e=Ke(Ie.Day,1);break;case"ccc":e=Oe(Se.Days,Me.Abbreviated,_t.Standalone);break;case"cccc":e=Oe(Se.Days,Me.Wide,_t.Standalone);break;case"ccccc":e=Oe(Se.Days,Me.Narrow,_t.Standalone);break;case"cccccc":e=Oe(Se.Days,Me.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Oe(Se.Days,Me.Abbreviated);break;case"EEEE":e=Oe(Se.Days,Me.Wide);break;case"EEEEE":e=Oe(Se.Days,Me.Narrow);break;case"EEEEEE":e=Oe(Se.Days,Me.Short);break;case"a":case"aa":case"aaa":e=Oe(Se.DayPeriods,Me.Abbreviated);break;case"aaaa":e=Oe(Se.DayPeriods,Me.Wide);break;case"aaaaa":e=Oe(Se.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=Oe(Se.DayPeriods,Me.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Oe(Se.DayPeriods,Me.Wide,_t.Standalone,!0);break;case"bbbbb":e=Oe(Se.DayPeriods,Me.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(Se.DayPeriods,Me.Abbreviated,_t.Format,!0);break;case"BBBB":e=Oe(Se.DayPeriods,Me.Wide,_t.Format,!0);break;case"BBBBB":e=Oe(Se.DayPeriods,Me.Narrow,_t.Format,!0);break;case"h":e=Ke(Ie.Hours,1,-12);break;case"hh":e=Ke(Ie.Hours,2,-12);break;case"H":e=Ke(Ie.Hours,1);break;case"HH":e=Ke(Ie.Hours,2);break;case"m":e=Ke(Ie.Minutes,1);break;case"mm":e=Ke(Ie.Minutes,2);break;case"s":e=Ke(Ie.Seconds,1);break;case"ss":e=Ke(Ie.Seconds,2);break;case"S":e=Ke(Ie.FractionalSeconds,1);break;case"SS":e=Ke(Ie.FractionalSeconds,2);break;case"SSS":e=Ke(Ie.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=sd($r.Short);break;case"ZZZZZ":e=sd($r.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=sd($r.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=sd($r.Long);break;default:return null}return yy[t]=e,e}function NA(t,e){t=t.replace(/:/g,"");let i=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(i)?e:i}function OB(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function NB(t,e,i){let n=i?-1:1,r=t.getTimezoneOffset(),s=NA(e,r);return OB(t,n*(s-r))}function PB(t){if(gA(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return ud(r,s-1,o)}let i=parseFloat(t);if(!isNaN(t-i))return new Date(i);let n;if(n=t.match(IB))return FB(n)}let e=new Date(t);if(!gA(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function FB(t){let e=new Date(0),i=0,n=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-i,a=Number(t[5]||0)-n,c=Number(t[6]||0),u=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,c,u),e}function gA(t){return t instanceof Date&&!isNaN(t.valueOf())}var _B=/^(\d+)?\.((\d+)(-(\d+))?)?$/,mA=22,ld=".",ka="0",LB=";",kB=",",Ey="#",vA="\xA4";function PA(t,e,i,n,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=ur(i,Tt.Infinity);else{let u=$B(t);o&&(u=jB(u));let l=e.minInt,f=e.minFrac,h=e.maxFrac;if(s){let V=s.match(_B);if(V===null)throw new Error(`${s} is not a valid digit info`);let U=V[1],H=V[3],te=V[5];U!=null&&(l=Cy(U)),H!=null&&(f=Cy(H)),te!=null?h=Cy(te):H!=null&&f>h&&(h=f)}BB(u,f,h);let p=u.digits,E=u.integerLen,b=u.exponent,w=[];for(c=p.every(V=>!V);E<l;E++)p.unshift(0);for(;E<0;E++)p.unshift(0);E>0?w=p.splice(E,p.length):(w=p,p=[0]);let R=[];for(p.length>=e.lgSize&&R.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)R.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&R.unshift(p.join("")),a=R.join(ur(i,n)),w.length&&(a+=ur(i,r)+w.join("")),b&&(a+=ur(i,Tt.Exponential)+"+"+b)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function loe(t,e,i,n,r){let s=MA(e,Oy.Currency),o=FA(s,ur(e,Tt.MinusSign));return o.minFrac=SB(n),o.maxFrac=o.minFrac,PA(t,o,e,Tt.CurrencyGroup,Tt.CurrencyDecimal,r).replace(vA,i).replace(vA,"").trim()}function UB(t,e,i){let n=MA(e,Oy.Decimal),r=FA(n,ur(e,Tt.MinusSign));return PA(t,r,e,Tt.Group,Tt.Decimal,i)}function FA(t,e="-"){let i={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=t.split(LB),r=n[0],s=n[1],o=r.indexOf(ld)!==-1?r.split(ld):[r.substring(0,r.lastIndexOf(ka)+1),r.substring(r.lastIndexOf(ka)+1)],a=o[0],c=o[1]||"";i.posPre=a.substring(0,a.indexOf(Ey));for(let l=0;l<c.length;l++){let f=c.charAt(l);f===ka?i.minFrac=i.maxFrac=l+1:f===Ey?i.maxFrac=l+1:i.posSuf+=f}let u=a.split(kB);if(i.gSize=u[1]?u[1].length:0,i.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let l=r.length-i.posPre.length-i.posSuf.length,f=s.indexOf(Ey);i.negPre=s.substring(0,f).replace(/'/g,""),i.negSuf=s.slice(f+l).replace(/'/g,"")}else i.negPre=e+i.posPre,i.negSuf=i.posSuf;return i}function jB(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function $B(t){let e=Math.abs(t)+"",i=0,n,r,s,o,a;for((r=e.indexOf(ld))>-1&&(e=e.replace(ld,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===ka;s++);if(s===(a=e.length))n=[0],r=1;else{for(a--;e.charAt(a)===ka;)a--;for(r-=s,n=[],o=0;s<=a;s++,o++)n[o]=Number(e.charAt(s))}return r>mA&&(n=n.splice(0,mA-1),i=r-1,r=1),{digits:n,exponent:i,integerLen:r}}function BB(t,e,i){if(e>i)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${i}).`);let n=t.digits,r=n.length-t.integerLen,s=Math.min(Math.max(e,r),i),o=s+t.integerLen,a=n[o];if(o>0){n.splice(Math.max(t.integerLen,o));for(let f=o;f<n.length;f++)n[f]=0}else{r=Math.max(0,r),t.integerLen=1,n.length=Math.max(1,o=s+1),n[0]=0;for(let f=1;f<o;f++)n[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)n.unshift(0),t.integerLen++;n.unshift(1),t.integerLen++}else n[o-1]++;for(;r<Math.max(0,s);r++)n.push(0);let c=s!==0,u=e+t.integerLen,l=n.reduceRight(function(f,h,p,E){return h=h+f,E[p]=h<10?h:h-10,c&&(E[p]===0&&p>=u?E.pop():c=!1),h>=10?1:0},0);l&&(n.unshift(l),t.integerLen++)}function Cy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function pd(t,e){e=encodeURIComponent(e);for(let i of t.split(";")){let n=i.indexOf("="),[r,s]=n==-1?[i,""]:[i.slice(0,n),i.slice(n+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Sy=/\s+/,yA=[],doe=(()=>{let e=class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=yA,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Sy):yA}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Sy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let s=this.stateMap.get(n);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],s=n[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Sy).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(X(ar),X(to))},e.\u0275dir=Ft({type:e,selectors:[["","ngClass",""]],inputs:{klass:[un.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})(),foe=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this.ngComponentOutlet=null,this._inputsUsed=new Map}_needToReCreateNgModuleInstance(n){return n.ngComponentOutletNgModule!==void 0||n.ngComponentOutletNgModuleFactory!==void 0}_needToReCreateComponentInstance(n){return n.ngComponentOutlet!==void 0||n.ngComponentOutletContent!==void 0||n.ngComponentOutletInjector!==void 0||this._needToReCreateNgModuleInstance(n)}ngOnChanges(n){if(this._needToReCreateComponentInstance(n)&&(this._viewContainerRef.clear(),this._inputsUsed.clear(),this._componentRef=void 0,this.ngComponentOutlet)){let r=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;this._needToReCreateNgModuleInstance(n)&&(this._moduleRef?.destroy(),this.ngComponentOutletNgModule?this._moduleRef=T0(this.ngComponentOutletNgModule,EA(r)):this.ngComponentOutletNgModuleFactory?this._moduleRef=this.ngComponentOutletNgModuleFactory.create(EA(r)):this._moduleRef=void 0),this._componentRef=this._viewContainerRef.createComponent(this.ngComponentOutlet,{injector:r,ngModuleRef:this._moduleRef,projectableNodes:this.ngComponentOutletContent})}}ngDoCheck(){if(this._componentRef){if(this.ngComponentOutletInputs)for(let n of Object.keys(this.ngComponentOutletInputs))this._inputsUsed.set(n,!0);this._applyInputStateDiff(this._componentRef)}}ngOnDestroy(){this._moduleRef?.destroy()}_applyInputStateDiff(n){for(let[r,s]of this._inputsUsed)s?(n.setInput(r,this.ngComponentOutletInputs[r]),this._inputsUsed.set(r,!1)):(n.setInput(r,void 0),this._inputsUsed.delete(r))}};e.\u0275fac=function(r){return new(r||e)(X(zt))},e.\u0275dir=Ft({type:e,selectors:[["","ngComponentOutlet",""]],inputs:{ngComponentOutlet:"ngComponentOutlet",ngComponentOutletInputs:"ngComponentOutletInputs",ngComponentOutletInjector:"ngComponentOutletInjector",ngComponentOutletContent:"ngComponentOutletContent",ngComponentOutletNgModule:"ngComponentOutletNgModule",ngComponentOutletNgModuleFactory:"ngComponentOutletNgModuleFactory"},standalone:!0,features:[di]});let t=e;return t})();function EA(t){return t.get(Nr).injector}var Iy=class{constructor(e,i,n,r){this.$implicit=e,this.ngForOf=i,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hoe=(()=>{let e=class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,s){this._viewContainer=n,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Iy(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,a),CA(c,s)}});for(let s=0,o=r.length;s<o;s++){let c=r.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);CA(o,s)})}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(On),X(py))},e.\u0275dir=Ft({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function CA(t,e){t.context.$implicit=e.item}var poe=(()=>{let e=class e{constructor(n,r){this._viewContainer=n,this._context=new Dy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){SA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){SA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(On))},e.\u0275dir=Ft({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Dy=class{constructor(){this.$implicit=null,this.ngIf=null}};function SA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Pt(e)}'.`)}var VB=!0,dd=class{constructor(e,i){this._viewContainerRef=e,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},_A=(()=>{let e=class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let r=VB?n===this._ngSwitch:n==this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let r of this._defaultViews)r.enforceState(n)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0});let t=e;return t})(),goe=(()=>{let e=class e{constructor(n,r,s){this.ngSwitch=s,s._addCase(),this._view=new dd(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(On),X(_A,9))},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0});let t=e;return t})(),moe=(()=>{let e=class e{constructor(n,r,s){s._addDefault(new dd(n,r))}};e.\u0275fac=function(r){return new(r||e)(X(zt),X(On),X(_A,9))},e.\u0275dir=Ft({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0});let t=e;return t})();var voe=(()=>{let e=class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(n,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(X(zt))},e.\u0275dir=Ft({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[di]});let t=e;return t})();function ao(t,e){return new j(2100,!1)}var by=class{createSubscription(e,i){return Xl(()=>e.subscribe({next:i,error:n=>{throw n}}))}dispose(e){Xl(()=>e.unsubscribe())}},wy=class{createSubscription(e,i){return e.then(i,n=>{throw n})}dispose(e){}},HB=new wy,zB=new by,yoe=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ro(n))return HB;if(fy(n))return zB;throw ao(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(r){return new(r||e)(X(Lr,16))},e.\u0275pipe=Vt({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})(),Eoe=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw ao(e,n);return n.toLowerCase()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"lowercase",type:e,pure:!0,standalone:!0});let t=e;return t})(),GB=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Coe=(()=>{let e=class e{transform(n){if(n==null)return null;if(typeof n!="string")throw ao(e,n);return n.replace(GB,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"titlecase",type:e,pure:!0,standalone:!0});let t=e;return t})();var WB="mediumDate",qB=new S(""),YB=new S(""),LA=(()=>{let e=class e{constructor(n,r,s){this.locale=n,this.defaultTimezone=r,this.defaultOptions=s}transform(n,r,s,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??WB,c=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bB(n,a,o||this.locale,c)}catch(a){throw ao(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(X(_a,16),X(qB,24),X(YB,24))},e.\u0275pipe=Vt({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var Soe=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();function KB(t,e){return{key:t,value:e}}var Ioe=(()=>{let e=class e{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=IA}transform(n,r=IA){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let s=this.differ.diff(n),o=r!==this.compareFn;return s&&(this.keyValues=[],s.forEachItem(a=>{this.keyValues.push(KB(a.key,a.currentValue))})),(s||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}};e.\u0275fac=function(r){return new(r||e)(X(gy,16))},e.\u0275pipe=Vt({name:"keyvalue",type:e,pure:!1,standalone:!0});let t=e;return t})();function IA(t,e){let i=t.key,n=e.key;if(i===n)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(i===null)return 1;if(n===null)return-1;if(typeof i=="string"&&typeof n=="string")return i<n?-1:1;if(typeof i=="number"&&typeof n=="number")return i-n;if(typeof i=="boolean"&&typeof n=="boolean")return i<n?-1:1;let r=String(i),s=String(n);return r==s?0:r<s?-1:1}var kA=(()=>{let e=class e{constructor(n){this._locale=n}transform(n,r,s){if(!ZB(n))return null;s||=this._locale;try{let o=QB(n);return UB(o,s,r)}catch(o){throw ao(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(X(_a,16))},e.\u0275pipe=Vt({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function ZB(t){return!(t==null||t===""||t!==t)}function QB(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Doe=(()=>{let e=class e{transform(n,r,s){if(n==null)return null;if(!this.supports(n))throw ao(e,n);return n.slice(r,s)}supports(n){return typeof n=="string"||Array.isArray(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Vt({name:"slice",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ze=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Ny="browser",JB="server";function Fn(t){return t===Ny}function ns(t){return t===JB}var UA=(()=>{let e=class e{};e.\u0275prov=m({token:e,providedIn:"root",factory:()=>Fn(C($e))?new Ty(C(Le),window):new Ay});let t=e;return t})(),Ty=class{constructor(e,i){this.document=e,this.window=i,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let i=XB(this.document,e);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let i=e.getBoundingClientRect(),n=i.left+this.window.pageXOffset,r=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}};function XB(t,e){let i=t.getElementById(e)||t.getElementsByName(e)[0];if(i)return i;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=n.nextNode()}}return null}var Ay=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},oo=class{};var ja=class{},$a=class{},le=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var Ly=class{encodeKey(e){return jA(e)}encodeValue(e){return jA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function eV(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],c=i.get(o)||[];c.push(a),i.set(o,c)}),i}var tV=/%(\d[a-f0-9])/gi,nV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jA(t){return encodeURIComponent(t).replace(tV,(e,i)=>nV[i]??e)}function gd(t){return`${t}`}var ze=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ly,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(gd):[gd(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(gd(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(gd(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}},Ba=class{constructor(e){this.defaultValue=e}},co=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function rV(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $A(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function BA(t){return typeof Blob<"u"&&t instanceof Blob}function VA(t){return typeof FormData<"u"&&t instanceof FormData}function iV(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ua=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(rV(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new le,this.context??=new co,!this.params)this.params=new ze,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),c=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$A(this.body)||BA(this.body)||VA(this.body)||iV(this.body)?this.body:this.body instanceof ze?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||VA(this.body)?null:BA(this.body)?this.body.type||null:$A(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,l=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),u)),e.setParams&&(l=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),l)),new t(i,n,o,{params:l,headers:u,context:f,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},dr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(dr||{}),Va=class{constructor(e,i=Ha.Ok,n="OK"){this.headers=e.headers||new le,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},md=class t extends Va{constructor(e={}){super(e),this.type=dr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rs=class t extends Va{constructor(e={}){super(e),this.type=dr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wt=class extends Va{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ha=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ha||{});function Fy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var ke=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof Ua)o=n;else{let u;s.headers instanceof le?u=s.headers:u=new le(s.headers);let l;s.params&&(s.params instanceof ze?l=s.params:l=new ze({fromObject:s.params})),o=new Ua(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=I(o).pipe(je(u=>this.handler.handle(u)));if(n instanceof Ua||s.observe==="events")return a;let c=a.pipe(x(u=>u instanceof rs));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(y(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(y(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(y(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(y(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ze().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Fy(s,r))}post(n,r,s={}){return this.request("POST",n,Fy(s,r))}put(n,r,s={}){return this.request("PUT",n,Fy(s,r))}};e.\u0275fac=function(r){return new(r||e)(d(ja))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),sV=/^\)\]\}',?\n/,oV="X-Request-URL";function HA(t){if(t.url)return t.url;let e=oV.toLocaleLowerCase();return t.headers.get(e)}var _y=(()=>{let e=class e{constructor(){this.fetchImpl=C(ky,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=C(Ce)}handle(n){return new z(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(Uy,o=>r.error(new Wt({error:o}))),()=>s.abort()})}doRequest(n,r,s){return rt(this,null,function*(){let o=this.createRequestInit(n),a;try{let E=this.fetchImpl(n.urlWithParams,v({signal:r},o));aV(E),s.next({type:dr.Sent}),a=yield E}catch(E){s.error(new Wt({error:E,status:E.status??0,statusText:E.statusText,url:n.urlWithParams,headers:E.headers}));return}let c=new le(a.headers),u=a.statusText,l=HA(a)??n.urlWithParams,f=a.status,h=null;if(n.reportProgress&&s.next(new md({headers:c,status:f,statusText:u,url:l})),a.body){let E=a.headers.get("content-length"),b=[],w=a.body.getReader(),R=0,V,U,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>rt(this,null,function*(){for(;;){let{done:ue,value:he}=yield w.read();if(ue)break;if(b.push(he),R+=he.length,n.reportProgress){U=n.responseType==="text"?(U??"")+(V??=new TextDecoder).decode(he,{stream:!0}):void 0;let Pe=()=>s.next({type:dr.DownloadProgress,total:E?+E:void 0,loaded:R,partialText:U});H?H.run(Pe):Pe()}}}));let te=this.concatChunks(b,R);try{let ue=a.headers.get("Content-Type")??"";h=this.parseBody(n,te,ue)}catch(ue){s.error(new Wt({error:ue,headers:new le(a.headers),status:a.status,statusText:a.statusText,url:HA(a)??n.urlWithParams}));return}}f===0&&(f=h?Ha.Ok:0),f>=200&&f<300?(s.next(new rs({body:h,headers:c,status:f,statusText:u,url:l})),s.complete()):s.error(new Wt({error:h,headers:c,status:f,statusText:u,url:l}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(sV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,a)=>r[o]=a.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let a of n)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ky=class{};function Uy(){}function aV(t){t.then(Uy,Uy)}function YA(t,e){return e(t)}function cV(t,e){return(i,n)=>e.intercept(i,{handle:r=>t(r,n)})}function uV(t,e,i){return(n,r)=>Nn(i,()=>e(n,s=>t(s,r)))}var mn=new S(""),jy=new S(""),lV=new S(""),KA=new S("");function dV(){let t=null;return(e,i)=>{t===null&&(t=(C(mn,{optional:!0})??[]).reduceRight(cV,YA));let n=C(es),r=n.add();return t(e,i).pipe(wn(()=>n.remove(r)))}}var zA=(()=>{let e=class e extends ja{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=C(es);let s=C(KA,{optional:!0});this.backend=s??n}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(jy),...this.injector.get(lV,[])]));this.chain=s.reduceRight((o,a)=>uV(o,a,this.injector),YA)}let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(wn(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(d($a),d(St))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var fV=/^\)\]\}',?\n/;function hV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var GA=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new j(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ge(r.\u0275loadImpl()):I(null)).pipe(O(()=>new z(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((w,R)=>a.setRequestHeader(w,R.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let w=n.detectContentTypeHeader();w!==null&&a.setRequestHeader("Content-Type",w)}if(n.responseType){let w=n.responseType.toLowerCase();a.responseType=w!=="json"?w:"text"}let c=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let w=a.statusText||"OK",R=new le(a.getAllResponseHeaders()),V=hV(a)||n.url;return u=new md({headers:R,status:a.status,statusText:w,url:V}),u},f=()=>{let{headers:w,status:R,statusText:V,url:U}=l(),H=null;R!==Ha.NoContent&&(H=typeof a.response>"u"?a.responseText:a.response),R===0&&(R=H?Ha.Ok:0);let te=R>=200&&R<300;if(n.responseType==="json"&&typeof H=="string"){let ue=H;H=H.replace(fV,"");try{H=H!==""?JSON.parse(H):null}catch(he){H=ue,te&&(te=!1,H={error:he,text:H})}}te?(o.next(new rs({body:H,headers:w,status:R,statusText:V,url:U||void 0})),o.complete()):o.error(new Wt({error:H,headers:w,status:R,statusText:V,url:U||void 0}))},h=w=>{let{url:R}=l(),V=new Wt({error:w,status:a.status||0,statusText:a.statusText||"Unknown Error",url:R||void 0});o.error(V)},p=!1,E=w=>{p||(o.next(l()),p=!0);let R={type:dr.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),n.responseType==="text"&&a.responseText&&(R.partialText=a.responseText),o.next(R)},b=w=>{let R={type:dr.UploadProgress,loaded:w.loaded};w.lengthComputable&&(R.total=w.total),o.next(R)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),n.reportProgress&&(a.addEventListener("progress",E),c!==null&&a.upload&&a.upload.addEventListener("progress",b)),a.send(c),o.next({type:dr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),n.reportProgress&&(a.removeEventListener("progress",E),c!==null&&a.upload&&a.upload.removeEventListener("progress",b)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(d(oo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ZA=new S(""),pV="XSRF-TOKEN",gV=new S("",{providedIn:"root",factory:()=>pV}),mV="X-XSRF-TOKEN",vV=new S("",{providedIn:"root",factory:()=>mV}),vd=class{},yV=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=pd(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e),d(gV))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function EV(t,e){let i=t.url.toLowerCase();if(!C(ZA)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=C(vd).getToken(),r=C(vV);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}var $y=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}($y||{});function QA(t,e){return{\u0275kind:t,\u0275providers:e}}function _oe(...t){let e=[ke,GA,zA,{provide:ja,useExisting:zA},{provide:$a,useExisting:GA},{provide:jy,useValue:EV,multi:!0},{provide:ZA,useValue:!0},{provide:vd,useClass:yV}];for(let i of t)e.push(...i.\u0275providers);return sr(e)}var WA=new S("");function Loe(){return QA($y.LegacyInterceptors,[{provide:WA,useFactory:dV},{provide:jy,useExisting:WA,multi:!0}])}function koe(){return QA($y.Fetch,[_y,{provide:$a,useExisting:_y},{provide:KA,useExisting:_y}])}var Hy=class extends cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zy=class t extends Hy{static makeCurrent(){wA(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=CV();return i==null?null:SV(i)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return pd(document.cookie,e)}},za=null;function CV(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}function SV(t){return new URL(t,document.baseURI).pathname}var Gy=class{addToWindow(e){Ge.getAngularTestability=(n,r=!0)=>{let s=e.findTestabilityInTree(n,r);if(s==null)throw new j(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements();let i=n=>{let r=Ge.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&n()};r.forEach(a=>{a.whenStable(o)})};Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,n){if(i==null)return null;let r=e.getTestability(i);return r??(n?gi().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},IV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Wy=new S(""),nR=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(d(Wy),d(Ce))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),yd=class{constructor(e){this._doc=e}},By="ng-app-id",rR=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ns(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${By}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(By),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(By,this.appId),n.appendChild(a),a}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(d(Le),d(xa),d(Uv,8),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Vy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Yy=/%COMP%/g,iR="%COMP%",DV=`_nghost-${iR}`,bV=`_ngcontent-${iR}`,wV=!0,TV=new S("",{providedIn:"root",factory:()=>wV});function AV(t){return bV.replace(Yy,t)}function RV(t){return DV.replace(Yy,t)}function sR(t,e){return e.map(i=>i.replace(Yy,t))}var XA=(()=>{let e=class e{constructor(n,r,s,o,a,c,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ns(c),this.defaultRenderer=new Ga(n,a,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rr.ShadowDom&&(r=T(v({},r),{encapsulation:rr.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof Ed?s.applyToHost(n):s instanceof Wa&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case rr.Emulated:o=new Ed(u,l,r,this.appId,f,a,c,h);break;case rr.ShadowDom:return new qy(u,l,n,r,a,c,this.nonce,h);default:o=new Wa(u,l,r,f,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(d(nR),d(rR),d(xa),d(TV),d(Le),d($e),d(Ce),d(Uv))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Ga=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(Vy[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(eR(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(eR(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new j(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=Vy[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=Vy[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(Or.DashCase|Or.Important)?e.style.setProperty(i,n,r&Or.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&Or.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=gi().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function eR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qy=class extends Ga{constructor(e,i,n,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=sR(r.id,r.styles);for(let l of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=l,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends Ga{constructor(e,i,n,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=c?sR(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ed=class extends Wa{constructor(e,i,n,r,s,o,a,c){let u=r+"-"+n.id;super(e,i,n,s,o,a,c,u),this.contentAttr=AV(u),this.hostAttr=RV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},MV=(()=>{let e=class e extends yd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),tR=["alt","control","meta","shift"],xV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NV=(()=>{let e=class e extends yd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gi().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),tR.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(n,r){let s=xV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),tR.forEach(a=>{if(a!==s){let c=OV[a];c(n)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function PV(){zy.makeCurrent()}function FV(){return new Dt}function _V(){return MT(document),document}var LV=[{provide:$e,useValue:Ny},{provide:kv,useValue:PV,multi:!0},{provide:Le,useFactory:_V,deps:[]}],Koe=hy(lA,"browser",LV),kV=new S(""),UV=[{provide:Fa,useClass:Gy,deps:[]},{provide:ly,useClass:Zl,deps:[Ce,Ql,Fa]},{provide:Zl,useClass:Zl,deps:[Ce,Ql,Fa]}],jV=[{provide:Al,useValue:"root"},{provide:Dt,useFactory:FV,deps:[]},{provide:Wy,useClass:MV,multi:!0,deps:[Le,Ce,$e]},{provide:Wy,useClass:NV,multi:!0,deps:[Le]},XA,rR,nR,{provide:Ki,useExisting:XA},{provide:oo,useClass:IV,deps:[]},[]],Zoe=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:xa,useValue:n.appId}]}}};e.\u0275fac=function(r){return new(r||e)(d(kV,12))},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[...jV,...UV],imports:[Ze,dA]});let t=e;return t})(),Ky=(()=>{let e=class e{constructor(n){this._doc=n,this._dom=gi()}addTag(n,r=!1){return n?this._getOrCreateElement(n,r):null}addTags(n,r=!1){return n?n.reduce((s,o)=>(o&&s.push(this._getOrCreateElement(o,r)),s),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let r=this._doc.querySelectorAll(`meta[${n}]`);return r?[].slice.call(r):[]}updateTag(n,r){if(!n)return null;r=r||this._parseSelector(n);let s=this.getTag(r);return s?this._setMetaElementAttributes(n,s):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,r=!1){if(!r){let a=this._parseSelector(n),c=this.getTags(a).filter(u=>this._containsAttributes(n,u))[0];if(c!==void 0)return c}let s=this._dom.createElement("meta");return this._setMetaElementAttributes(n,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(n,r){return Object.keys(n).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),n[s])),r}_parseSelector(n){let r=n.name?"name":"property";return`${r}="${n[r]}"`}_containsAttributes(n,r){return Object.keys(n).every(s=>r.getAttribute(this._getMetaKeyMap(s))===n[s])}_getMetaKeyMap(n){return $V[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$V={httpEquiv:"http-equiv"},oR=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(VV),s},providedIn:"root"});let t=e;return t})(),VV=(()=>{let e=class e extends BV{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case pn.NONE:return r;case pn.HTML:return cr(r,"HTML")?Ht(r):$v(this._doc,String(r)).toString();case pn.STYLE:return cr(r,"Style")?Ht(r):r;case pn.SCRIPT:if(cr(r,"Script"))return Ht(r);throw new j(5200,!1);case pn.URL:return cr(r,"URL")?Ht(r):_l(String(r));case pn.RESOURCE_URL:if(cr(r,"ResourceURL"))return Ht(r);throw new j(5201,!1);default:throw new j(5202,!1)}}bypassSecurityTrustHtml(n){return NT(n)}bypassSecurityTrustStyle(n){return PT(n)}bypassSecurityTrustScript(n){return FT(n)}bypassSecurityTrustUrl(n){return _T(n)}bypassSecurityTrustResourceUrl(n){return LT(n)}};e.\u0275fac=function(r){return new(r||e)(d(Le))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Zy(t,e){let i=!e?.manualCleanup;i&&!e?.injector&&wa(Zy);let n=i?e?.injector?.get(hi)??C(hi):null,r;e?.requireSync?r=ty({kind:0}):r=ty({kind:1,value:e?.initialValue});let s=t.subscribe({next:o=>r.set({kind:1,value:o}),error:o=>{if(e?.rejectErrors)throw o;r.set({kind:2,error:o})}});return n?.onDestroy(s.unsubscribe.bind(s)),Jl(()=>{let o=r();switch(o.kind){case 1:return o.value;case 2:throw o.error;case 0:throw new j(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var eE={};function mi(t,e){if(eE[t]=(eE[t]||0)+1,typeof e=="function")return Qy(t,(...n)=>T(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return Qy(t,()=>({type:t}));case"props":return Qy(t,n=>T(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function lo(){return{_as:"props",_p:void 0}}function Qy(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Dd="@ngrx/store/init",Vr=(()=>{let e=class e extends Te{constructor(){super({type:Dd})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),zV=[Vr],IR=new S("@ngrx/store Internal Root Guard"),aR=new S("@ngrx/store Internal Initial State"),iE=new S("@ngrx/store Initial State"),DR=new S("@ngrx/store Reducer Factory"),cR=new S("@ngrx/store Internal Reducer Factory Provider"),bR=new S("@ngrx/store Initial Reducers"),Jy=new S("@ngrx/store Internal Initial Reducers"),uR=new S("@ngrx/store Store Features"),lR=new S("@ngrx/store Internal Store Reducers"),Xy=new S("@ngrx/store Internal Feature Reducers"),dR=new S("@ngrx/store Internal Feature Configs"),wR=new S("@ngrx/store Internal Store Features"),fR=new S("@ngrx/store Internal Feature Reducers Token"),TR=new S("@ngrx/store Feature Reducers"),hR=new S("@ngrx/store User Provided Meta Reducers"),uo=new S("@ngrx/store Meta Reducers"),pR=new S("@ngrx/store Internal Resolved Meta Reducers"),gR=new S("@ngrx/store User Runtime Checks Config"),mR=new S("@ngrx/store Internal User Runtime Checks Config"),is=new S("@ngrx/store Internal Runtime Checks"),sE=new S("@ngrx/store Check if Action types are unique"),GV=new S("@ngrx/store Root Store Provider"),WV=new S("@ngrx/store Feature State Provider");function ss(t,e={}){let i=Object.keys(t),n={};for(let s=0;s<i.length;s++){let o=i[s];typeof t[o]=="function"&&(n[o]=t[o])}let r=Object.keys(n);return function(o,a){o=o===void 0?e:o;let c=!1,u={};for(let l=0;l<r.length;l++){let f=r[l],h=n[f],p=o[f],E=h(p,a);u[f]=E,c=c||E!==p}return c?u:o}}function qV(t,e){return Object.keys(t).filter(i=>i!==e).reduce((i,n)=>Object.assign(i,{[n]:t[n]}),{})}function AR(...t){return function(e){if(t.length===0)return e;let i=t[t.length-1];return t.slice(0,-1).reduceRight((r,s)=>s(r),i(e))}}function RR(t,e){return Array.isArray(e)&&e.length>0&&(t=AR.apply(null,[...e,t])),(i,n)=>{let r=t(i);return(s,o)=>(s=s===void 0?n:s,r(s,o))}}function YV(t){let e=Array.isArray(t)&&t.length>0?AR(...t):i=>i;return(i,n)=>(i=e(i),(r,s)=>(r=r===void 0?n:r,i(r,s)))}var qa=class extends z{},Cd=class extends Vr{},KV="@ngrx/store/update-reducers",Sd=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,r,s,o){super(o(s,r)),this.dispatcher=n,this.initialState=r,this.reducers=s,this.reducerFactory=o}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((s,{reducers:o,reducerFactory:a,metaReducers:c,initialState:u,key:l})=>{let f=typeof o=="function"?YV(c)(o,u):RR(a,c)(o,u);return s[l]=f,s},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=qV(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:KV,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(r){return new(r||e)(d(Cd),d(iE),d(bR),d(DR))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ZV=[Sd,{provide:qa,useExisting:Sd},{provide:Cd,useExisting:Vr}],Ya=(()=>{let e=class e extends re{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),QV=[Ya],Id=class extends z{},vR=(()=>{let e=class e extends Te{constructor(n,r,s,o){super(o);let c=n.pipe(Yt(Tr)).pipe(st(r)),u={state:o},l=c.pipe(Ui(JV,u));this.stateSubscription=l.subscribe(({state:f,action:h})=>{this.next(f),s.next(h)}),this.state=Zy(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Dd,e.\u0275fac=function(r){return new(r||e)(d(Vr),d(qa),d(Ya),d(iE))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function JV(t={state:void 0},[e,i]){let{state:n}=t;return{state:i(n,e),action:e}}var XV=[vR,{provide:Id,useExisting:vR}],de=(()=>{let e=class e extends z{constructor(n,r,s){super(),this.actionsObserver=r,this.reducerManager=s,this.source=n,this.state=n.state}select(n,...r){return M.call(null,n,...r)(this)}selectSignal(n,r){return Jl(()=>n(this.state()),r)}lift(n){let r=new e(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(r){return new(r||e)(d(Id),d(Vr),d(Sd))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),e2=[de];function M(t,e,...i){return function(r){let s;if(typeof t=="string"){let o=[e,...i].filter(Boolean);s=r.pipe(Bg(t,...o))}else if(typeof t=="function")s=r.pipe(y(o=>t(o,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(cn())}}var oE="https://ngrx.io/guide/store/configuration/runtime-checks";function yR(t){return t===void 0}function ER(t){return t===null}function MR(t){return Array.isArray(t)}function t2(t){return typeof t=="string"}function n2(t){return typeof t=="boolean"}function r2(t){return typeof t=="number"}function xR(t){return typeof t=="object"&&t!==null}function i2(t){return xR(t)&&!MR(t)}function s2(t){if(!i2(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function tE(t){return typeof t=="function"}function o2(t){return tE(t)&&t.hasOwnProperty("\u0275cmp")}function a2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var c2=!1;function aE(){return c2}function CR(t,e){return t===e}function u2(t,e,i){for(let n=0;n<t.length;n++)if(!i(t[n],e[n]))return!0;return!1}function OR(t,e=CR,i=CR){let n=null,r=null,s;function o(){n=null,r=null}function a(l=void 0){s={result:l}}function c(){s=void 0}function u(){if(s!==void 0)return s.result;if(!n)return r=t.apply(null,arguments),n=arguments,r;if(!u2(arguments,n,e))return r;let l=t.apply(null,arguments);return n=arguments,i(r,l)?r:(r=l,l)}return{memoized:u,reset:o,setResult:a,clearResult:c}}function A(...t){return d2(OR)(...t)}function l2(t,e,i,n){if(i===void 0){let s=e.map(o=>o(t));return n.memoized.apply(null,s)}let r=e.map(s=>s(t,i));return n.memoized.apply(null,[...r,i])}function d2(t,e={stateFn:l2}){return function(...i){let n=i;if(Array.isArray(n[0])){let[l,...f]=n;n=[...l,...f]}else n.length===1&&f2(n[0])&&(n=h2(n[0]));let r=n.slice(0,n.length-1),s=n[n.length-1],o=r.filter(l=>l.release&&typeof l.release=="function"),a=t(function(...l){return s.apply(null,l)}),c=OR(function(l,f){return e.stateFn.apply(null,[l,r,f,a])});function u(){c.reset(),a.reset(),o.forEach(l=>l.release())}return Object.assign(c.memoized,{release:u,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function _n(t){return A(e=>{let i=e[t];return!aE()&&me()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),i},e=>e)}function f2(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function h2(t){let e=Object.values(t),i=Object.keys(t),n=(...r)=>i.reduce((s,o,a)=>T(v({},s),{[o]:r[a]}),{});return[...e,n]}function p2(t){return t instanceof S?C(t):t}function g2(t,e){return e.map((i,n)=>{if(t[n]instanceof S){let r=C(t[n]);return{key:i.key,reducerFactory:r.reducerFactory?r.reducerFactory:ss,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return i})}function m2(t){return t.map(e=>e instanceof S?C(e):e)}function NR(t){return typeof t=="function"?t():t}function v2(t,e){return t.concat(e)}function y2(){if(C(de,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function E2(t,e){return function(i,n){let r=e.action(n)?nE(n):n,s=t(i,r);return e.state()?nE(s):s}}function nE(t){Object.freeze(t);let e=tE(t);return Object.getOwnPropertyNames(t).forEach(i=>{if(!i.startsWith("\u0275")&&a2(t,i)&&(!e||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=t[i];(xR(n)||tE(n))&&!Object.isFrozen(n)&&nE(n)}}),t}function C2(t,e){return function(i,n){if(e.action(n)){let s=rE(n);SR(s,"action")}let r=t(i,n);if(e.state()){let s=rE(r);SR(s,"state")}return r}}function rE(t,e=[]){return(yR(t)||ER(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;let s=t[r];return o2(s)?n:yR(s)||ER(s)||r2(s)||n2(s)||t2(s)||MR(s)?!1:s2(s)?rE(s,[...e,r]):{path:[...e,r],value:s}},!1)}function SR(t,e){if(t===!1)return;let i=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${i}". ${oE}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=i,n}function S2(t,e){return function(i,n){if(e.action(n)&&!Ce.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${oE}#strictactionwithinngzone`);return t(i,n)}}function I2(t){return me()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function D2({strictActionSerializability:t,strictStateSerializability:e}){return i=>t||e?C2(i,{action:n=>t&&!cE(n),state:()=>e}):i}function b2({strictActionImmutability:t,strictStateImmutability:e}){return i=>t||e?E2(i,{action:n=>t&&!cE(n),state:()=>e}):i}function cE(t){return t.type.startsWith("@ngrx")}function w2({strictActionWithinNgZone:t}){return e=>t?S2(e,{action:i=>t&&!cE(i)}):e}function T2(t){return[{provide:mR,useValue:t},{provide:gR,useFactory:A2,deps:[mR]},{provide:is,deps:[gR],useFactory:I2},{provide:uo,multi:!0,deps:[is],useFactory:b2},{provide:uo,multi:!0,deps:[is],useFactory:D2},{provide:uo,multi:!0,deps:[is],useFactory:w2}]}function PR(){return[{provide:sE,multi:!0,deps:[is],useFactory:R2}]}function A2(t){return t}function R2(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(eE).filter(([,i])=>i>1).map(([i])=>i);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(i=>`"${i}"`).join(", ")}. ${oE}#strictactiontypeuniqueness`)}function M2(t={},e={}){return[{provide:IR,useFactory:y2},{provide:aR,useValue:e.initialState},{provide:iE,useFactory:NR,deps:[aR]},{provide:Jy,useValue:t},{provide:lR,useExisting:t instanceof S?t:Jy},{provide:bR,deps:[Jy,[new Ev(lR)]],useFactory:p2},{provide:hR,useValue:e.metaReducers?e.metaReducers:[]},{provide:pR,deps:[uo,hR],useFactory:v2},{provide:cR,useValue:e.reducerFactory?e.reducerFactory:ss},{provide:DR,deps:[cR,pR],useFactory:RR},zV,ZV,QV,XV,e2,T2(e.runtimeChecks),PR()]}function x2(t,e,i={}){return[{provide:dR,multi:!0,useValue:t instanceof Object?{}:i},{provide:uR,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(i instanceof S)&&i.reducerFactory?i.reducerFactory:ss,metaReducers:!(i instanceof S)&&i.metaReducers?i.metaReducers:[],initialState:!(i instanceof S)&&i.initialState?i.initialState:void 0}},{provide:wR,deps:[dR,uR],useFactory:g2},{provide:Xy,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:fR,multi:!0,useExisting:e instanceof S?e:Xy},{provide:TR,multi:!0,deps:[Xy,[new Ev(fR)]],useFactory:m2},PR()]}var Ka=(()=>{let e=class e{constructor(n,r,s,o,a,c){}};e.\u0275fac=function(r){return new(r||e)(d(Vr),d(qa),d(Ya),d(de),d(IR,8),d(sE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),bd=(()=>{let e=class e{constructor(n,r,s,o,a){this.features=n,this.featureReducers=r,this.reducerManager=s;let c=n.map((u,l)=>{let h=r.shift()[l];return T(v({},u),{reducers:h,initialState:NR(u.initialState)})});s.addFeatures(c)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};e.\u0275fac=function(r){return new(r||e)(d(wR),d(TR),d(Sd),d(Ka),d(sE,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),fr=(()=>{let e=class e{static forRoot(n,r){return{ngModule:Ka,providers:[...M2(n,r)]}}static forFeature(n,r,s={}){return{ngModule:bd,providers:[...x2(n,r,s)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function lae(...t){let e=t.pop(),i=t.map(n=>n.type);return{reducer:e,types:i}}function dae(t,...e){let i=new Map;for(let n of e)for(let r of n.types){let s=i.get(r);if(s){let o=(a,c)=>n.reducer(s(a,c),c);i.set(r,o)}else i.set(r,n.reducer)}return function(n=t,r){let s=i.get(r.type);return s?s(n,r):n}}var O2={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Td="__@ngrx/effects_create__";function W(t,e={}){let i=e.functional?t:t(),n=v(v({},O2),e);return Object.defineProperty(i,Td,{value:n}),i}function N2(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(Td)?t[n][Td].hasOwnProperty("dispatch"):!1).map(n=>{let r=t[n][Td];return v({propertyName:n},r)})}function P2(t){return N2(t)}function kR(t){return Object.getPrototypeOf(t)}function F2(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function UR(t){return typeof t=="function"}function FR(t){return t.filter(UR)}function _2(t){return t instanceof S||UR(t)}function L2(t,e,i){let n=kR(t),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=P2(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:u})=>{let l=typeof t[a]=="function"?t[a]():t[a],f=u?i(l,e):l;return c===!1?f.pipe(Xo()):f.pipe($g()).pipe(y(p=>({effect:t[a],notification:p,propertyName:a,sourceName:s,sourceInstance:t})))});return an(...o)}var k2=10;function jR(t,e,i=k2){return t.pipe(F(n=>(e&&e.handleError(n),i<=1?t:jR(t,e,i-1))))}var Ae=(()=>{let e=class e extends z{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}};e.\u0275fac=function(r){return new(r||e)(d(Ya))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function k(...t){return x(e=>t.some(i=>typeof i=="string"?i===e.type:i.type===e.type))}var $R=new S("@ngrx/effects Internal Root Guard"),wd=new S("@ngrx/effects User Provided Effects"),lE=new S("@ngrx/effects Internal Root Effects"),BR=new S("@ngrx/effects Internal Root Effects Instances"),_R=new S("@ngrx/effects Internal Feature Effects"),VR=new S("@ngrx/effects Internal Feature Effects Instance Groups"),U2=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>jR}),HR="@ngrx/effects/init",Sae=mi(HR);function j2(t,e){if(t.notification.kind==="N"){let i=t.notification.value;!$2(i)&&e.handleError(new Error(`Effect ${B2(t)} dispatched an invalid action: ${V2(i)}`))}}function $2(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function B2({propertyName:t,sourceInstance:e,sourceName:i}){let n=typeof e[t]=="function";return!!i?`"${i}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function V2(t){try{return JSON.stringify(t)}catch{return t}}var H2="ngrxOnIdentifyEffects";function z2(t){return dE(t,H2)}var G2="ngrxOnRunEffects";function W2(t){return dE(t,G2)}var q2="ngrxOnInitEffects";function Y2(t){return dE(t,q2)}function dE(t,e){return t&&e in t&&typeof t[e]=="function"}var zR=(()=>{let e=class e extends re{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Ar(n=>F2(n)?kR(n):n),G(n=>n.pipe(Ar(K2))),G(n=>{let r=n.pipe(Xn(o=>Z2(this.errorHandler,this.effectsErrorHandler)(o)),y(o=>(j2(o,this.errorHandler),o.notification)),x(o=>o.kind==="N"&&o.value!=null),Ug()),s=n.pipe(ie(1),x(Y2),y(o=>o.ngrxOnInitEffects()));return an(r,s)}))}};e.\u0275fac=function(r){return new(r||e)(d(Dt),d(U2))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function K2(t){return z2(t)?t.ngrxOnIdentifyEffects():""}function Z2(t,e){return i=>{let n=L2(i,t,e);return W2(i)?i.ngrxOnRunEffects(n):n}}var GR=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(d(zR),d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WR=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.sources=n,r.start();for(let l of o)n.addEffects(l);s.dispatch({type:HR})}addEffects(n){this.sources.addEffects(n)}};e.\u0275fac=function(r){return new(r||e)(d(zR),d(GR),d(de),d(BR),d(Ka,8),d(bd,8),d($R,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Q2=(()=>{let e=class e{constructor(n,r,s,o){let a=r.flat();for(let c of a)n.addEffects(c)}};e.\u0275fac=function(r){return new(r||e)(d(WR),d(VR),d(Ka,8),d(bd,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Hr=(()=>{let e=class e{static forFeature(...n){let r=n.flat(),s=FR(r);return{ngModule:Q2,providers:[s,{provide:_R,multi:!0,useValue:r},{provide:wd,multi:!0,useValue:[]},{provide:VR,multi:!0,useFactory:LR,deps:[_R,wd]}]}}static forRoot(...n){let r=n.flat(),s=FR(r);return{ngModule:WR,providers:[s,{provide:lE,useValue:[r]},{provide:$R,useFactory:J2},{provide:wd,multi:!0,useValue:[]},{provide:BR,useFactory:LR,deps:[lE,wd]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function LR(t,e){let i=[];for(let n of t)i.push(...n);for(let n of e)i.push(...n);return i.map(n=>_2(n)?C(n):n)}function J2(){let t=C(GR,{optional:!0,skipSelf:!0}),e=C(lE,{self:!0});if(!(e.length===1&&e[0].length===0)&&t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var ee="primary",cc=Symbol("RouteTitle"),mE=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function mo(t){return new mE(t)}function eH(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function tH(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!hr(t[i],e[i]))return!1;return!0}function hr(t,e){let i=t?vE(t):void 0,n=e?vE(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!nM(t[r],e[r]))return!1;return!0}function vE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function nM(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function rM(t){return t.length>0?t[t.length-1]:null}function Ei(t){return Fi(t)?t:ro(t)?ge(Promise.resolve(t)):I(t)}var nH={exact:sM,subset:oM},iM={exact:rH,subset:iH,ignored:()=>!0};function qR(t,e,i){return nH[i.paths](t.root,e.root,i.matrixParams)&&iM[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function rH(t,e){return hr(t,e)}function sM(t,e,i){if(!as(t.segments,e.segments)||!Md(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!sM(t.children[n],e.children[n],i))return!1;return!0}function iH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>nM(t[i],e[i]))}function oM(t,e,i){return aM(t,e,e.segments,i)}function aM(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!as(r,i)||e.hasChildren()||!Md(r,i,n))}else if(t.segments.length===i.length){if(!as(t.segments,i)||!Md(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!oM(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!as(t.segments,r)||!Md(t.segments,r,n)||!t.children[ee]?!1:aM(t.children[ee],e,s,n)}}function Md(t,e,i){return e.every((n,r)=>iM[i](t[r].parameters,n.parameters))}var vi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return aH.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xd(this)}},os=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return uM(this)}};function sH(t,e){return as(t,e)&&t.every((i,n)=>hr(i.parameters,e[n].parameters))}function as(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function oH(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ee&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ee&&(i=i.concat(e(r,n)))}),i}var ls=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>new cs,providedIn:"root"});let t=e;return t})(),cs=class{parse(e){let i=new EE(e);return new vi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Za(e.root,!0)}`,n=lH(e.queryParams),r=typeof e.fragment=="string"?`#${cH(e.fragment)}`:"";return`${i}${n}${r}`}},aH=new cs;function xd(t){return t.segments.map(e=>uM(e)).join("/")}function Za(t,e){if(!t.hasChildren())return xd(t);if(e){let i=t.children[ee]?Za(t.children[ee],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ee&&n.push(`${r}:${Za(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=oH(t,(n,r)=>r===ee?[Za(t.children[ee],!1)]:[`${r}:${Za(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${xd(t)}/${i[0]}`:`${xd(t)}/(${i.join("//")})`}}function cM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ad(t){return cM(t).replace(/%3B/gi,";")}function cH(t){return encodeURI(t)}function yE(t){return cM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Od(t){return decodeURIComponent(t)}function YR(t){return Od(t.replace(/\+/g,"%20"))}function uM(t){return`${yE(t.path)}${uH(t.parameters)}`}function uH(t){return Object.entries(t).map(([e,i])=>`;${yE(e)}=${yE(i)}`).join("")}function lH(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Ad(i)}=${Ad(r)}`).join("&"):`${Ad(i)}=${Ad(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var dH=/^[^\/()?;#]+/;function fE(t){let e=t.match(dH);return e?e[0]:""}var fH=/^[^\/()?;=#]+/;function hH(t){let e=t.match(fH);return e?e[0]:""}var pH=/^[^=?&#]+/;function gH(t){let e=t.match(pH);return e?e[0]:""}var mH=/^[^&#]+/;function vH(t){let e=t.match(mH);return e?e[0]:""}var EE=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ee]=new De(e,i)),n}parseSegment(){let e=fE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new os(Od(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=hH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=fE(this.remaining);r&&(n=r,this.capture(n))}e[Od(i)]=Od(n)}parseQueryParam(e){let i=gH(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=vH(this.remaining);o&&(n=o,this.capture(n))}let r=YR(i),s=YR(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=fE(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ee]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function lM(t){return t.segments.length>0?new De([],{[ee]:t}):t}function dM(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=dM(r);if(n===ee&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return yH(i)}function yH(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new De(t.segments.concat(e.segments),e.children)}return t}function vo(t){return t instanceof vi}function EH(t,e,i=null,n=null){let r=fM(t);return hM(r,e,i,n)}function fM(t){let e;function i(s){let o={};for(let c of s.children){let u=i(c);o[c.outlet]=u}let a=new De(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=lM(n);return e??r}function hM(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return hE(r,r,r,i,n);let s=CH(e);if(s.toRoot())return hE(r,r,new De([],{}),i,n);let o=SH(s,r,t),a=o.processChildren?Xa(o.segmentGroup,o.index,s.commands):gM(o.segmentGroup,o.index,s.commands);return hE(r,o.segmentGroup,a,i,n)}function Nd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function nc(t){return typeof t=="object"&&t!=null&&t.outlets}function hE(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=i:o=pM(t,e,i);let a=lM(dM(o));return new vi(a,s,r)}function pM(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=pM(s,e,i)}),new De(t.segments,n)}var Pd=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Nd(n[0]))throw new j(4003,!1);let r=n.find(nc);if(r&&r!==rM(n))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function CH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Pd(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Pd(i,e,n)}var po=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function SH(t,e,i){if(t.isAbsolute)return new po(e,!0,0);if(!i)return new po(e,!1,NaN);if(i.parent===null)return new po(i,!0,0);let n=Nd(t.commands[0])?0:1,r=i.segments.length-1+n;return IH(i,r,t.numberOfDoubleDots)}function IH(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new j(4005,!1);r=n.segments.length}return new po(n,!1,r-s)}function DH(t){return nc(t[0])?t[0].outlets:{[ee]:t}}function gM(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Xa(t,e,i);let n=bH(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ee]=new De(t.segments.slice(n.pathIndex),t.children),Xa(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?CE(t,e,i):n.match?Xa(t,0,r):CE(t,e,i)}function Xa(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=DH(i),r={};if(Object.keys(n).some(s=>s!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let s=Xa(t.children[ee],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=gM(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function bH(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(nc(a))break;let c=`${a}`,u=n<i.length-1?i[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ZR(c,u,o))return s;n+=2}else{if(!ZR(c,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function CE(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(nc(s)){let c=wH(s.outlets);return new De(n,c)}if(r===0&&Nd(i[0])){let c=t.segments[e];n.push(new os(c.path,KR(i[0]))),r++;continue}let o=nc(s)?s.outlets[ee]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Nd(a)?(n.push(new os(o,KR(a))),r+=2):(n.push(new os(o,{})),r++)}return new De(n,{})}function wH(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=CE(new De([],{}),0,n))}),e}function KR(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function ZR(t,e,i){return t==i.path&&hr(e,i.parameters)}var ec="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),vn=class{constructor(e,i){this.id=e,this.url=i}},yn=class extends vn{constructor(e,i,n="imperative",r=null){super(e,i),this.type=ct.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},at=class extends vn{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tn||{}),Fd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fd||{}),En=class extends vn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends vn{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=ct.NavigationSkipped}},pr=class extends vn{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},us=class extends vn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},SE=class extends vn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IE=class extends vn{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},DE=class extends vn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bE=class extends vn{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wE=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},TE=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},AE=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RE=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ME=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xE=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_d=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},rc=class{},ic=class{constructor(e){this.url=e}};var OE=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uc,this.attachRef=null}},uc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new OE,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ld=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=NE(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=NE(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=PE(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return PE(e,this._root).map(i=>i.value)}};function NE(t,e){if(t===e.value)return e;for(let i of e.children){let n=NE(t,i);if(n)return n}return null}function PE(t,e){if(t===e.value)return[e];for(let i of e.children){let n=PE(t,i);if(n.length)return n.unshift(e),n}return[]}var en=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function ho(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var kd=class extends Ld{constructor(e,i){super(e),this.snapshot=i,HE(this,e)}toString(){return this.snapshot.toString()}};function mM(t){let e=TH(t),i=new Te([new os("",{})]),n=new Te({}),r=new Te({}),s=new Te({}),o=new Te(""),a=new zr(i,n,s,o,r,ee,t,e.root);return a.snapshot=e.root,new kd(new en(a,[]),e)}function TH(t){let e={},i={},n={},r="",s=new sc([],e,n,r,i,ee,t,null,{});return new Ud("",new en(s,[]))}var zr=class{constructor(e,i,n,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(y(u=>u[cc]))??I(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(y(e=>mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(y(e=>mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function VE(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),r?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},r&&yM(r)&&(n.resolve[cc]=r.title),n}var sc=class{get title(){return this.data?.[cc]}constructor(e,i,n,r,s,o,a,c,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Ud=class extends Ld{constructor(e,i){super(i),this.url=e,HE(this,i)}toString(){return vM(this._root)}};function HE(t,e){e.value._routerState=t,e.children.forEach(i=>HE(t,i))}function vM(t){let e=t.children.length>0?` { ${t.children.map(vM).join(", ")} } `:"";return`${t.value}${e}`}function pE(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,hr(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),hr(e.params,i.params)||t.paramsSubject.next(i.params),tH(e.url,i.url)||t.urlSubject.next(i.url),hr(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function FE(t,e){let i=hr(t.params,e.params)&&sH(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||FE(t.parent,e.parent))}function yM(t){return typeof t.title=="string"||t.title===null}var AH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ee,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=C(uc),this.location=C(zt),this.changeDetector=C(Lr),this.environmentInjector=C(St),this.inputBinder=C(Hd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new _E(n,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ft({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[di]});let t=e;return t})(),_E=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===zr?this.route:e===uc?this.childContexts:this.parent.get(e,i)}},Hd=new S(""),QR=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=_e([r.queryParams,r.params,r.data]).pipe(O(([o,a,c],u)=>(c=v(v(v({},o),a),c),u===0?I(c):Promise.resolve(c)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=fA(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:c}of a.inputs)n.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function RH(t,e,i){let n=oc(t,e._root,i?i._root:void 0);return new kd(n,e)}function oc(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=MH(t,e,i);return new en(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oc(t,a)),o}}let n=xH(e.value),r=e.children.map(s=>oc(t,s));return new en(n,r)}}function MH(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return oc(t,n,r);return oc(t,n)})}function xH(t){return new zr(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var EM="ngNavigationCancelingError";function CM(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=SM(!1,tn.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function SM(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[EM]=!0,i.cancellationCode=e,i}function OH(t){return IM(t)&&vo(t.url)}function IM(t){return!!t&&t[EM]}var NH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fw({type:e,selectors:[["ng-component"]],standalone:!0,features:[X0],decls:1,vars:0,template:function(r,s){r&1&&cy(0,"router-outlet")},dependencies:[AH],encapsulation:2});let t=e;return t})();function PH(t,e){return t.providers&&!t._injector&&(t._injector=Gl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zE(t){let e=t.children&&t.children.map(zE),i=e?T(v({},t),{children:e}):v({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ee&&(i.component=NH),i}function gr(t){return t.outlet||ee}function FH(t,e){let i=t.filter(n=>gr(n)===e);return i.push(...t.filter(n=>gr(n)!==e)),i}function lc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var _H=(t,e,i,n)=>y(r=>(new LE(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),LE=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),pE(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=ho(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=ho(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=ho(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=ho(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new xE(s.value.snapshot))}),e.children.length&&this.forwardEvent(new RE(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(pE(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=lc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},jd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},go=class{constructor(e,i){this.component=e,this.route=i}};function LH(t,e,i){let n=t._root,r=e?e._root:null;return Qa(n,r,i,[n.value])}function kH(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Eo(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!Sw(t)?t:e.get(t):n}function Qa(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ho(e);return t.children.forEach(o=>{UH(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>tc(a,i.getContext(o),r)),r}function UH(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=jH(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new jd(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Qa(t,e,a?a.children:null,n,r):Qa(t,e,i,n,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new go(a.outlet.component,o))}else o&&tc(e,a,r),r.canActivateChecks.push(new jd(n)),s.component?Qa(t,null,a?a.children:null,n,r):Qa(t,null,i,n,r);return r}function jH(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!as(t.url,e.url);case"pathParamsOrQueryParamsChange":return!as(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FE(t,e)||!hr(t.queryParams,e.queryParams);case"paramsChange":default:return!FE(t,e)}}function tc(t,e,i){let n=ho(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?tc(o,e.children.getContext(s),i):tc(o,null,i):tc(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new go(e.outlet.component,r)):i.canDeactivateChecks.push(new go(null,r)):i.canDeactivateChecks.push(new go(null,r))}function dc(t){return typeof t=="function"}function $H(t){return typeof t=="boolean"}function BH(t){return t&&dc(t.canLoad)}function VH(t){return t&&dc(t.canActivate)}function HH(t){return t&&dc(t.canActivateChild)}function zH(t){return t&&dc(t.canDeactivate)}function GH(t){return t&&dc(t.canMatch)}function DM(t){return t instanceof bn||t?.name==="EmptyError"}var Rd=Symbol("INITIAL_VALUE");function yo(){return O(t=>_e(t.map(e=>e.pipe(ie(1),Qn(Rd)))).pipe(y(e=>{for(let i of e)if(i!==!0){if(i===Rd)return Rd;if(i===!1||i instanceof vi)return i}return!0}),x(e=>e!==Rd),ie(1)))}function WH(t,e){return G(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?I(T(v({},i),{guardsResult:!0})):qH(o,n,r,t).pipe(G(a=>a&&$H(a)?YH(n,s,t,e):I(a)),y(a=>T(v({},i),{guardsResult:a})))})}function qH(t,e,i,n){return ge(t).pipe(G(r=>XH(r.component,r.route,i,e,n)),Mt(r=>r!==!0,!0))}function YH(t,e,i,n){return ge(e).pipe(je(r=>Kn(ZH(r.route.parent,n),KH(r.route,n),JH(t,r.path,i),QH(t,r.route,i))),Mt(r=>r!==!0,!0))}function KH(t,e){return t!==null&&e&&e(new ME(t)),I(!0)}function ZH(t,e){return t!==null&&e&&e(new AE(t)),I(!0)}function QH(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return I(!0);let r=n.map(s=>qe(()=>{let o=lc(e)??i,a=Eo(s,o),c=VH(a)?a.canActivate(e,t):Nn(o,()=>a(e,t));return Ei(c).pipe(Mt())}));return I(r).pipe(yo())}function JH(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>kH(o)).filter(o=>o!==null).map(o=>qe(()=>{let a=o.guards.map(c=>{let u=lc(o.node)??i,l=Eo(c,u),f=HH(l)?l.canActivateChild(n,t):Nn(u,()=>l(n,t));return Ei(f).pipe(Mt())});return I(a).pipe(yo())}));return I(s).pipe(yo())}function XH(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return I(!0);let o=s.map(a=>{let c=lc(e)??r,u=Eo(a,c),l=zH(u)?u.canDeactivate(t,e,i,n):Nn(c,()=>u(t,e,i,n));return Ei(l).pipe(Mt())});return I(o).pipe(yo())}function ez(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return I(!0);let s=r.map(o=>{let a=Eo(o,t),c=BH(a)?a.canLoad(e,i):Nn(t,()=>a(e,i));return Ei(c)});return I(s).pipe(yo(),bM(n))}function bM(t){return Tg(L(e=>{if(vo(e))throw CM(t,e)}),y(e=>e===!0))}function tz(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return I(!0);let s=r.map(o=>{let a=Eo(o,t),c=GH(a)?a.canMatch(e,i):Nn(t,()=>a(e,i));return Ei(c)});return I(s).pipe(yo(),bM(n))}var ac=class{constructor(e){this.segmentGroup=e||null}},$d=class extends Error{constructor(e){super(),this.urlTree=e}};function fo(t){return xt(new ac(t))}function nz(t){return xt(new j(4e3,!1))}function rz(t){return xt(SM(!1,tn.GuardRejected))}var kE=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return I(n);if(r.numberOfChildren>1||!r.children[ee])return nz(e.redirectTo);r=r.children[ee]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new $d(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new vi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},UE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iz(t,e,i,n,r){let s=GE(t,e,i);return s.matched?(n=PH(e,n),tz(n,e,i,r).pipe(y(o=>o===!0?s:v({},UE)))):I(s)}function GE(t,e,i){if(e.path==="**")return sz(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?v({},UE):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||eH)(i,t,e);if(!r)return v({},UE);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?v(v({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function sz(t){return{matched:!0,parameters:t.length>0?rM(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function JR(t,e,i,n){return i.length>0&&cz(t,i,n)?{segmentGroup:new De(e,az(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&uz(t,i,n)?{segmentGroup:new De(t.segments,oz(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function oz(t,e,i,n){let r={};for(let s of i)if(zd(t,e,s)&&!n[gr(s)]){let o=new De([],{});r[gr(s)]=o}return v(v({},n),r)}function az(t,e){let i={};i[ee]=e;for(let n of t)if(n.path===""&&gr(n)!==ee){let r=new De([],{});i[gr(n)]=r}return i}function cz(t,e,i){return i.some(n=>zd(t,e,n)&&gr(n)!==ee)}function uz(t,e,i){return i.some(n=>zd(t,e,n))}function zd(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function lz(t,e,i,n){return gr(t)!==n&&(n===ee||!zd(e,i,t))?!1:GE(e,t,i).matched}function dz(t,e,i){return e.length===0&&!t.children[i]}var jE=class{};function fz(t,e,i,n,r,s,o="emptyOnly"){return new $E(t,e,i,n,r,o,s).recognize()}var hz=31,$E=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new kE(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=JR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(y(i=>{let n=new sc([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ee,this.rootComponentType,null,{}),r=new en(n,i),s=new Ud("",r),o=EH(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ee).pipe(F(n=>{if(n instanceof $d)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ac?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=VE(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(y(s=>s instanceof en?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return ge(r).pipe(je(s=>{let o=n.children[s],a=FH(i,s);return this.processSegmentGroup(e,a,o,s)}),Ui((s,o)=>(s.push(...o),s)),ri(null),jg(),G(s=>{if(s===null)return fo(n);let o=wM(s);return pz(o),I(o)}))}processSegment(e,i,n,r,s,o){return ge(i).pipe(je(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(F(c=>{if(c instanceof ac)return I(null);throw c}))),Mt(a=>!!a),F(a=>{if(DM(a))return dz(n,r,s)?I(new jE):fo(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return lz(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):fo(r):fo(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=GE(i,r,s);if(!a)return fo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>hz&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,f).pipe(G(h=>this.processSegment(e,n,i,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=iz(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(O(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(O(({routes:c})=>{let u=n._loadedInjector??e,{consumedSegments:l,remainingSegments:f,parameters:h}=a,p=new sc(l,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,mz(n),gr(n),n.component??n._loadedComponent??null,n,vz(n)),{segmentGroup:E,slicedSegments:b}=JR(i,l,f,c);if(b.length===0&&E.hasChildren())return this.processChildren(u,c,E).pipe(y(R=>R===null?null:new en(p,R)));if(c.length===0&&b.length===0)return I(new en(p,[]));let w=gr(n)===s;return this.processSegment(u,c,E,b,w?ee:s,!0).pipe(y(R=>new en(p,R instanceof en?[R]:[])))}))):fo(i)))}getChildConfig(e,i,n){return i.children?I({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?I({routes:i._loadedRoutes,injector:i._loadedInjector}):ez(e,i,n,this.urlSerializer).pipe(G(r=>r?this.configLoader.loadChildren(e,i).pipe(L(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):rz(i))):I({routes:[],injector:e})}};function pz(t){t.sort((e,i)=>e.value.outlet===ee?-1:i.value.outlet===ee?1:e.value.outlet.localeCompare(i.value.outlet))}function gz(t){let e=t.value.routeConfig;return e&&e.path===""}function wM(t){let e=[],i=new Set;for(let n of t){if(!gz(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=wM(n.children);e.push(new en(n.value,r))}return e.filter(n=>!i.has(n))}function mz(t){return t.data||{}}function vz(t){return t.resolve||{}}function yz(t,e,i,n,r,s){return G(o=>fz(t,e,i,n,o.extractedUrl,r,s).pipe(y(({state:a,tree:c})=>T(v({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Ez(t,e){return G(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return I(i);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of TM(c))o.add(u);let a=0;return ge(o).pipe(je(c=>s.has(c)?Cz(c,n,t,e):(c.data=VE(c,c.parent,t).resolve,I(void 0))),L(()=>a++),Fs(1),G(c=>a===o.size?I(i):pe))})}function TM(t){let e=t.children.map(i=>TM(i)).flat();return[t,...e]}function Cz(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!yM(r)&&(s[cc]=r.title),Sz(s,t,e,n).pipe(y(o=>(t._resolvedData=o,t.data=VE(t,t.parent,i).resolve,null)))}function Sz(t,e,i,n){let r=vE(t);if(r.length===0)return I({});let s={};return ge(r).pipe(G(o=>Iz(t[o],e,i,n).pipe(Mt(),L(a=>{s[o]=a}))),Fs(1),ea(s),F(o=>DM(o)?pe:xt(o)))}function Iz(t,e,i,n){let r=lc(e)??n,s=Eo(t,r),o=s.resolve?s.resolve(e,i):Nn(r,()=>s(e,i));return Ei(o)}function gE(t){return O(e=>{let i=t(e);return i?ge(i).pipe(y(()=>e)):I(e)})}var AM=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[cc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Dz),providedIn:"root"});let t=e;return t})(),Dz=(()=>{let e=class e extends AM{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(d(oR))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fc=new S("",{providedIn:"root",factory:()=>({})}),Bd=new S(""),WE=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(so)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return I(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Ei(n.loadComponent()).pipe(y(RM),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wn(()=>{this.componentLoaders.delete(n)})),s=new ii(r,()=>new re).pipe(Ns());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return I({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=bz(r,this.compiler,n,this.onLoadEndListener).pipe(wn(()=>{this.childrenLoaders.delete(r)})),a=new ii(o,()=>new re).pipe(Ns());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bz(t,e,i,n){return Ei(t.loadChildren()).pipe(y(RM),G(r=>r instanceof Zi||Array.isArray(r)?I(r):ge(e.compileModuleAsync(r))),y(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(Bd,[],{optional:!0,self:!0}).flat()),{routes:o.map(zE),injector:s}}))}function wz(t){return t&&typeof t=="object"&&"default"in t}function RM(t){return wz(t)?t.default:t}var qE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Tz),providedIn:"root"});let t=e;return t})(),Tz=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MM=new S(""),xM=new S("");function Az(t,e,i){let n=t.get(xM),r=t.get(Le);return t.get(Ce).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),Rz(t))),{onViewTransitionCreated:c}=n;return c&&Nn(t,()=>c({transition:a,from:e,to:i})),o})}function Rz(t){return new Promise(e=>{zl(e,{injector:t})})}var YE=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=C(WE),this.environmentInjector=C(St),this.urlSerializer=C(ls),this.rootContexts=C(uc),this.location=C(lr),this.inputBindingEnabled=C(Hd,{optional:!0})!==null,this.titleStrategy=C(AM),this.options=C(fc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(qE),this.createViewTransition=C(MM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>I(void 0),this.rootComponentType=null;let n=s=>this.events.next(new wE(s)),r=s=>this.events.next(new TE(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(T(v(v({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new Te({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ec,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(x(o=>o.id!==0),y(o=>T(v({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),O(o=>{let a=!1,c=!1;return I(o).pipe(O(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",tn.SupersededByNewNavigation),pe;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?T(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let h="";return this.events.next(new yi(u.id,this.urlSerializer.serialize(u.rawUrl),h,Fd.IgnoredSameUrlNavigation)),u.resolve(null),pe}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return I(u).pipe(O(h=>{let p=this.transitions?.getValue();return this.events.next(new yn(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?pe:Promise.resolve(h)}),yz(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),L(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=T(v({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new us(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:E,restoredState:b,extras:w}=u,R=new yn(h,this.urlSerializer.serialize(p),E,b);this.events.next(R);let V=mM(this.rootComponentType).snapshot;return this.currentTransition=o=T(v({},u),{targetSnapshot:V,urlAfterRedirects:p,extras:T(v({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,I(o)}else{let h="";return this.events.next(new yi(u.id,this.urlSerializer.serialize(u.extractedUrl),h,Fd.IgnoredByUrlHandlingStrategy)),u.resolve(null),pe}}),L(u=>{let l=new SE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),y(u=>(this.currentTransition=o=T(v({},u),{guards:LH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),WH(this.environmentInjector,u=>this.events.next(u)),L(u=>{if(o.guardsResult=u.guardsResult,vo(u.guardsResult))throw CM(this.urlSerializer,u.guardsResult);let l=new IE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),x(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",tn.GuardRejected),!1)),gE(u=>{if(u.guards.canActivateChecks.length)return I(u).pipe(L(l=>{let f=new DE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),O(l=>{let f=!1;return I(l).pipe(Ez(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",tn.NoDataFromResolver)}}))}),L(l=>{let f=new bE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),gE(u=>{let l=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(L(p=>{f.component=p}),y(()=>{})));for(let p of f.children)h.push(...l(p));return h};return _e(l(u.targetSnapshot.root)).pipe(ri(null),ie(1))}),gE(()=>this.afterPreactivation()),O(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?ge(f).pipe(y(()=>o)):I(o)}),y(u=>{let l=RH(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=T(v({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new rc)}),_H(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ie(1),L({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new at(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),ca(this.transitionAbortSubject.pipe(L(u=>{throw u}))),wn(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",tn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),F(u=>{if(c=!0,IM(u))this.events.next(new En(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),OH(u)?this.events.next(new ic(u.url)):o.resolve(!1);else{this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return pe}))}))}cancelNavigationTransition(n,r,s){let o=new En(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Mz(t){return t!==ec}var xz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Oz),providedIn:"root"});let t=e;return t})(),BE=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},Oz=(()=>{let e=class e extends BE{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>C(Nz),providedIn:"root"});let t=e;return t})(),Nz=(()=>{let e=class e extends OM{constructor(){super(...arguments),this.location=C(lr),this.urlSerializer=C(ls),this.options=C(fc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(qE),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof yn)this.stateMemento=this.createStateMemento();else if(n instanceof yi)this.rawUrlTree=r.initialUrl;else if(n instanceof us){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof rc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof En&&(n.code===tn.GuardRejected||n.code===tn.NoDataFromResolver)?this.restoreHistory(r):n instanceof pr?this.restoreHistory(r,!0):n instanceof at&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=v(v({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=v(v({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ja=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ja||{});function NM(t,e){t.events.pipe(x(i=>i instanceof at||i instanceof En||i instanceof pr||i instanceof yi),y(i=>i instanceof at||i instanceof yi?Ja.COMPLETE:(i instanceof En?i.code===tn.Redirect||i.code===tn.SupersededByNewNavigation:!1)?Ja.REDIRECTING:Ja.FAILED),x(i=>i!==Ja.REDIRECTING),ie(1)).subscribe(()=>{e()})}function Pz(t){throw t}var Fz={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_z={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Kl),this.stateManager=C(OM),this.options=C(fc,{optional:!0})||{},this.pendingTasks=C(es),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(YE),this.urlSerializer=C(ls),this.location=C(lr),this.urlHandlingStrategy=C(qE),this._events=new re,this.errorHandler=this.options.errorHandler||Pz,this.navigated=!1,this.routeReuseStrategy=C(xz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Bd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(Hd,{optional:!0}),this.eventsSubscription=new Ee,this.isNgZoneEnabled=C(Ce)instanceof Ce&&Ce.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof En&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof at)this.navigated=!0;else if(r instanceof ic){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Mz(s.source)};this.scheduleNavigation(a,ec,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}kz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ec,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=v({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(n);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=v(v({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=fM(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return hM(h,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=vo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ec,null,r)}navigate(n,r={skipLocationChange:!1}){return Lz(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=v({},Fz):r===!1?s=v({},_z):s=r,vo(n))return qR(this.currentUrlTree,n,s);let o=this.parseUrl(n);return qR(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let f=this.pendingTasks.add();return NM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Lz(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new j(4008,!1)}function kz(t){return!(t instanceof rc)&&!(t instanceof ic)}var XR=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.router=n,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof at&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(n!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:VT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,n,r):s.removeAttribute(o,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(X(Ne),X(zr),_v("tabindex"),X(to),X(ar),X(Br))},e.\u0275dir=Ft({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&uy("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&sy("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[un.HasDecoratorInputTransform,"preserveFragment","preserveFragment",La],skipLocationChange:[un.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",La],replaceUrl:[un.HasDecoratorInputTransform,"replaceUrl","replaceUrl",La],routerLink:"routerLink"},standalone:!0,features:[ny,di]});let t=e;return t})(),jae=(()=>{let e=class e{get isActive(){return this._isActive}constructor(n,r,s,o,a){this.router=n,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof at&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(Yn()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ge(n).pipe(Yn()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=Uz(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}};e.\u0275fac=function(r){return new(r||e)(X(Ne),X(ar),X(to),X(Lr),X(XR,8))},e.\u0275dir=Ft({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Y0(o,XR,5),r&2){let a;K0(a=Z0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[di]});let t=e;return t})();function Uz(t){return!!t.paths}var Vd=class{};var jz=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(x(n=>n instanceof at),je(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Gl(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ge(s).pipe(Yn())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=I(null);let o=s.pipe(G(a=>a===null?I(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ge([o,a]).pipe(Yn())}else return o})}};e.\u0275fac=function(r){return new(r||e)(d(Ne),d(so),d(St),d(Vd),d(WE))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PM=new S(""),$z=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=C(St),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof at?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof yi&&n.code===Fd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _d&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>rt(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),zl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new _d(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){n0()},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function Bz(t){return t.routerState.root}function hc(t,e){return{\u0275kind:t,\u0275providers:e}}function Vz(){let t=C(Ye);return e=>{let i=t.get(ts);if(e!==i.components[0])return;let n=t.get(Ne),r=t.get(FM);t.get(KE)===1&&n.initialNavigation(),t.get(_M,null,ce.Optional)?.setUpPreloading(),t.get(PM,null,ce.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var FM=new S("",{factory:()=>new re}),KE=new S("",{providedIn:"root",factory:()=>1});function Hz(){return hc(2,[{provide:KE,useValue:0},{provide:wt,multi:!0,deps:[Ye],useFactory:e=>{let i=e.get(fd,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(Ne),s=e.get(FM);NM(r,()=>{n(!0)}),e.get(YE).afterPreactivation=()=>(n(!0),s.closed?I(void 0):s),r.initialNavigation()}))}}])}function zz(){return hc(3,[{provide:wt,multi:!0,useFactory:()=>{let e=C(Ne);return()=>{e.setUpLocationChangeListener()}}},{provide:KE,useValue:2}])}var _M=new S("");function Gz(t){return hc(0,[{provide:_M,useExisting:jz},{provide:Vd,useExisting:t}])}function Wz(){return hc(8,[QR,{provide:Hd,useExisting:QR}])}function qz(t){let e=[{provide:MM,useValue:Az},{provide:xM,useValue:v({skipNextTransition:!!t?.skipInitialTransition},t)}];return hc(9,e)}var eM=new S("ROUTER_FORROOT_GUARD"),Yz=[lr,{provide:ls,useClass:cs},Ne,uc,{provide:zr,useFactory:Bz,deps:[Ne]},WE,[]],LM=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Yz,[],{provide:Bd,multi:!0,useValue:n},{provide:eM,useFactory:Jz,deps:[[Ne,new dn,new Tl]]},{provide:fc,useValue:r||{}},r?.useHash?Zz():Qz(),Kz(),r?.preloadingStrategy?Gz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Xz(r):[],r?.bindToComponentInputs?Wz().\u0275providers:[],r?.enableViewTransitions?qz().\u0275providers:[],eG()]}}static forChild(n){return{ngModule:e,providers:[{provide:Bd,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(d(eM,8))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Kz(){return{provide:PM,useFactory:()=>{let t=C(UA),e=C(Ce),i=C(fc),n=C(YE),r=C(ls);return i.scrollOffset&&t.setOffset(i.scrollOffset),new $z(r,n,t,e,i)}}}function Zz(){return{provide:Br,useClass:AA}}function Qz(){return{provide:Br,useClass:xy}}function Jz(t){return"guarded"}function Xz(t){return[t.initialNavigation==="disabled"?zz().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Hz().\u0275providers:[]]}var tM=new S("");function eG(){return[{provide:tM,useFactory:Vz},{provide:io,multi:!0,useExisting:tM}]}var Gd=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},Wd=class{};var pc=class{},tG=(()=>{let e=class e extends pc{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var qd=class{},fs=class{},nG=(()=>{let e=class e{constructor(){this.data=new Map}getItem(n){return this.data.get(n)}removeItem(n){this.data.delete(n)}setItem(n,r){this.data.set(n,r)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();var gc=class{constructor(e){this.type=e}},Lt=class extends gc{constructor(e,i=null){super(e),this.info=i}},Ln=class extends gc{constructor(e,i=null){super(e),this.info=i}},Ve=class extends gc{constructor(e,i,n=null){super(e),this.reason=i,this.params=n}};function UM(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function jM(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var Co=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=i=>{location.href=i},e&&Object.assign(this,e)}},ds=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Yd=class{};var $M=(()=>{let e=class e{getHashFragmentParams(n){let r=n||window.location.hash;if(r=decodeURIComponent(r),r.indexOf("#")!==0)return{};let s=r.indexOf("?");return s>-1?r=r.substr(s+1):r=r.substr(1),this.parseQueryString(r)}parseQueryString(n){let r={},s,o,a,c,u,l;if(n===null)return r;let f=n.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,c=null):(a=s.substr(0,o),c=s.substr(o+1)),u=decodeURIComponent(a),l=decodeURIComponent(c),u.substr(0,1)==="/"&&(u=u.substr(1)),r[u]=l;return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),BM=32,rG=64,iG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function ZE(t,e,i,n,r){let s,o,a,c,u,l,f,h,p,E,b,w,R;for(;r>=64;){for(s=e[0],o=e[1],a=e[2],c=e[3],u=e[4],l=e[5],f=e[6],h=e[7],E=0;E<16;E++)b=n+E*4,t[E]=(i[b]&255)<<24|(i[b+1]&255)<<16|(i[b+2]&255)<<8|i[b+3]&255;for(E=16;E<64;E++)p=t[E-2],w=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=t[E-15],R=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,t[E]=(w+t[E-7]|0)+(R+t[E-16]|0);for(E=0;E<64;E++)w=(((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))+(u&l^~u&f)|0)+(h+(iG[E]+t[E]|0)|0)|0,R=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=l,l=u,u=c+w|0,c=a,a=o,o=s,s=w+R|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=c,e[4]+=u,e[5]+=l,e[6]+=f,e[7]+=h,n+=64,r-=64}return n}var QE=class{constructor(){this.digestLength=BM,this.blockSize=rG,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,i=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let n=0;if(this.bytesHashed+=i,this.bufferLength>0){for(;this.bufferLength<64&&i>0;)this.buffer[this.bufferLength++]=e[n++],i--;this.bufferLength===64&&(ZE(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(i>=64&&(n=ZE(this.temp,this.state,e,n,i),i%=64);i>0;)this.buffer[this.bufferLength++]=e[n++],i--;return this}finish(e){if(!this.finished){let i=this.bytesHashed,n=this.bufferLength,r=i/536870912|0,s=i<<3,o=i%64<56?64:128;this.buffer[n]=128;for(let a=n+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=r>>>24&255,this.buffer[o-7]=r>>>16&255,this.buffer[o-6]=r>>>8&255,this.buffer[o-5]=r>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,ZE(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let i=0;i<8;i++)e[i*4+0]=this.state[i]>>>24&255,e[i*4+1]=this.state[i]>>>16&255,e[i*4+2]=this.state[i]>>>8&255,e[i*4+3]=this.state[i]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let i=0;i<this.state.length;i++)e[i]=this.state[i]}_restoreState(e,i){for(let n=0;n<this.state.length;n++)this.state[n]=e[n];this.bytesHashed=i,this.finished=!1,this.bufferLength=0}};function sG(t){let e=new QE().update(t),i=e.digest();return e.clean(),i}var Zae=new Uint8Array(BM);var Kd=class{};function oG(t){if(typeof t!="string")throw new TypeError("expected string");let e=t,i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function aG(t){let e=[];for(let i=0;i<t.length;i++)e.push(String.fromCharCode(t[i]));return e.join("")}var cG=(()=>{let e=class e{calcHash(n,r){return rt(this,null,function*(){return aG(sG(oG(n)))})}toHashString2(n){let r="";for(let s of n)r+=String.fromCharCode(s);return r}toHashString(n){let r=new Uint8Array(n),s="";for(let o of r)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Qd=(()=>{let e=class e extends Co{constructor(n,r,s,o,a,c,u,l,f,h){super(),this.ngZone=n,this.http=r,this.config=a,this.urlHelper=c,this.logger=u,this.crypto=l,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new re,this.discoveryDocumentLoadedSubject=new re,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(p){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",p)}if(this.checkLocalStorageAccessable()){let p=window?.navigator?.userAgent;(p?.includes("MSIE ")||p?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let n="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(n,n),localStorage.removeItem(n),!0)}catch{return!1}}configure(n){Object.assign(this,new Co,n),this.config=Object.assign({},new Co,n),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(n={},r,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(L(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),x(a=>a.type==="token_expires"&&(r==null||r==="any"||a.info===r)),ki(1e3)).subscribe(()=>{o&&this.refreshInternal(n,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(n,r){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(n,r)}loadDiscoveryDocumentAndTryLogin(n=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(n))}loadDiscoveryDocumentAndLogin(n=null){return n=n||{},this.loadDiscoveryDocumentAndTryLogin(n).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let r=typeof n.state=="string"?n.state:"";return this.initLoginFlow(r),!1}else return!0})}debug(...n){this.showDebugInformation&&this.logger.debug(...n)}validateUrlFromDiscoveryDocument(n){let r=[],s=this.validateUrlForHttps(n),o=this.validateUrlAgainstIssuer(n);return s||r.push("https for all urls required. Also for urls received by discovery."),o||r.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),r}validateUrlForHttps(n){if(!n)return!0;let r=n.toLowerCase();return this.requireHttps===!1||(r.match(/^http:\/\/localhost($|[:/])/)||r.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:r.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(n,r){if(!n)throw new Error(`'${r}' should not be null`);if(!this.validateUrlForHttps(n))throw new Error(`'${r}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(n){return!this.strictDiscoveryDocumentValidation||!n?!0:n.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(x(n=>n.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let n=this.getAccessTokenExpiration(),r=this.getAccessTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=I(new Ln("token_expires","access_token")).pipe(Zn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let n=this.getIdTokenExpiration(),r=this.getIdTokenStoredAt(),s=this.calcTimeout(r,n);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=I(new Ln("token_expires","id_token")).pipe(Zn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(n,r){let s=this.dateTimeService.now(),o=(r-n)*this.timeoutFactor-(s-n),a=Math.max(0,o),c=2147483647;return a>c?c:a}setStorage(n){this._storage=n,this.configChanged()}loadDiscoveryDocument(n=null){return new Promise((r,s)=>{if(n||(n=this.issuer||"",n.endsWith("/")||(n+="/"),n+=".well-known/openid-configuration"),!this.validateUrlForHttps(n)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(n).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new Ve("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let c={discoveryDocument:o,jwks:a},u=new Lt("discovery_document_loaded",c);this.eventsSubject.next(u),r(u)}).catch(a=>{this.eventsSubject.next(new Ve("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new Ve("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((n,r)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,n(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new Ve("jwks_load_error",s)),r(s)}):n(null)})}validateDiscoveryDocument(n){let r;return!this.skipIssuerCheck&&n.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+n.issuer),!1):(r=this.validateUrlFromDiscoveryDocument(n.authorization_endpoint),r.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.end_session_endpoint),r.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.token_endpoint),r.length>0&&this.logger.error("error validating token_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.revocation_endpoint),r.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",r),r=this.validateUrlFromDiscoveryDocument(n.userinfo_endpoint),r.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",r),!1):(r=this.validateUrlFromDiscoveryDocument(n.jwks_uri),r.length>0?(this.logger.error("error validating jwks_uri in discovery document",r),!1):(this.sessionChecksEnabled&&!n.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(n,r,s=new le){return this.fetchTokenUsingPasswordFlow(n,r,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((n,r)=>{let s=new le().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),c=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!c.sub||a.sub!==c.sub)){r(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},c,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new Lt("user_profile_loaded")),n({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new Lt("user_profile_loaded")),n(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new Ve("user_profile_load_error",o)),r(o)})})}fetchTokenUsingPasswordFlow(n,r,s=new le){let o={username:n,password:r};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(n,r,s=new le){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new ze({encoder:new ds}).set("grant_type",n).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(r))o=o.set(a,r[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,c)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(u=>{this.debug("tokenResponse",u),this.storeAccessTokenResponse(u.access_token,u.refresh_token,u.expires_in||this.fallbackAccessTokenExpirationTimeInSec,u.scope,this.extractRecognizedCustomParameters(u)),this.oidc&&u.id_token&&this.processIdToken(u.id_token,u.access_token).then(l=>{this.storeIdToken(l),a(u)}),this.eventsSubject.next(new Lt("token_received")),a(u)},u=>{this.logger.error("Error performing ${grantType} flow",u),this.eventsSubject.next(new Ve("token_error",u)),c(u)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((n,r)=>{let s=new ze({encoder:new ds}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(O(a=>this.oidc&&a.id_token?ge(this.processIdToken(a.id_token,a.access_token,!0)).pipe(L(c=>this.storeIdToken(c)),y(()=>a)):I(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),n(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new Ve("token_refresh_error",a)),r(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=n=>{let r=this.processMessageEventMessage(n);this.checkOrigin&&n.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:r,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(n={},r=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(n.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let c=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,c,r,n).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let u=this.events.pipe(x(h=>h instanceof Ve),Mt()),l=this.events.pipe(x(h=>h.type==="token_received"),Mt()),f=I(new Ve("silent_refresh_timeout",null)).pipe(Zn(this.silentRefreshTimeout));return kg([u,l,f]).pipe(y(h=>{if(h instanceof Ve)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new Ve("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new Lt("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(n){return this.initLoginFlowInPopup(n)}initLoginFlowInPopup(n){return n=n||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(r=>new Promise((s,o)=>{let c=null;n.windowRef?n.windowRef&&!n.windowRef.closed&&(c=n.windowRef,c.location.href=r):c=window.open(r,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(n));let u,l=b=>{this.tryLogin({customHashFragment:b,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},w=>{h(),o(w)})},f=()=>{(!c||c.closed)&&(h(),o(new Ve("popup_closed",{})))};c?u=window.setInterval(f,500):o(new Ve("popup_blocked",{}));let h=()=>{window.clearInterval(u),window.removeEventListener("storage",E),window.removeEventListener("message",p),c!==null&&c.close(),c=null},p=b=>{let w=this.processMessageEventMessage(b);w&&w!==null?(window.removeEventListener("storage",E),l(w)):console.log("false event firing")},E=b=>{b.key==="auth_hash"&&(window.removeEventListener("message",p),l(b.newValue))};window.addEventListener("message",p),window.addEventListener("storage",E)}))}calculatePopupFeatures(n){let r=n.height||470,s=n.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-r)/2;return`location=no,toolbar=no,width=${s},height=${r},top=${a},left=${o}`}processMessageEventMessage(n){let r="#";if(this.silentRefreshMessagePrefix&&(r+=this.silentRefreshMessagePrefix),!n||!n.data||typeof n.data!="string")return;let s=n.data;if(s.startsWith(r))return"#"+s.substr(r.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=n=>{let r=n.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(r)){this.debug("sessionCheckEventListener","wrong origin",r,"expected",s,"event",n);return}switch(n.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",n)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new Ln("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new Ln("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new Ln("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new Ln("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(x(n=>n.type==="silently_refreshed"||n.type==="silent_refresh_timeout"||n.type==="silent_refresh_error"),Mt()).subscribe(n=>{n.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new Ln("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new Ln("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let n=this.document.getElementById(this.sessionCheckIFrameName);n&&this.document.body.removeChild(n);let r=this.document.createElement("iframe");r.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;r.setAttribute("src",s),r.style.display="none",this.document.body.appendChild(r),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let n=this.document.getElementById(this.sessionCheckIFrameName);n||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let r=this.getSessionState();r||this.stopSessionCheckTimer();let s=this.clientId+" "+r;n.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return rt(this,arguments,function*(n="",r="",s="",o=!1,a={}){let c=this,u;s?u=s:u=this.redirectUri;let l=yield this.createAndSaveNonce();if(n?n=l+this.config.nonceStateSeparator+encodeURIComponent(n):n=l,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=c.loginUrl.indexOf("?")>-1?"&":"?",h=c.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let p=c.loginUrl+f+"response_type="+encodeURIComponent(c.responseType)+"&client_id="+encodeURIComponent(c.clientId)+"&state="+encodeURIComponent(n)+"&redirect_uri="+encodeURIComponent(u)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[E,b]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",b):this._storage.setItem("PKCE_verifier",b),p+="&code_challenge="+E,p+="&code_challenge_method=S256"}r&&(p+="&login_hint="+encodeURIComponent(r)),c.resource&&(p+="&resource="+encodeURIComponent(c.resource)),c.oidc&&(p+="&nonce="+encodeURIComponent(l)),o&&(p+="&prompt=none");for(let E of Object.keys(a))p+="&"+encodeURIComponent(E)+"="+encodeURIComponent(a[E]);if(this.customQueryParams)for(let E of Object.getOwnPropertyNames(this.customQueryParams))p+="&"+E+"="+encodeURIComponent(this.customQueryParams[E]);return p})}initImplicitFlowInternal(n="",r=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(n="",r=""){this.loginUrl!==""?this.initImplicitFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(n,r))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(n){let r=this;if(n.onTokenReceived){let s={idClaims:r.getIdentityClaims(),idToken:r.getIdToken(),accessToken:r.getAccessToken(),state:r.state};n.onTokenReceived(s)}}storeAccessTokenResponse(n,r,s,o,a){if(this._storage.setItem("access_token",n),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let c=s*1e3,l=this.dateTimeService.new().getTime()+c;this._storage.setItem("expires_at",""+l)}r&&this._storage.setItem("refresh_token",r),a&&a.forEach((c,u)=>{this._storage.setItem(u,c)})}tryLogin(n=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(n).then(()=>!0):this.tryLoginImplicitFlow(n)}parseQueryString(n){return!n||n.length===0?{}:(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}tryLoginCodeFlow(n=null){return rt(this,null,function*(){n=n||{};let r=n.customHashFragment?n.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(r),o=s.code,a=s.state,c=s.session_state;if(!n.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[u,l]=this.parseState(a);if(this.state=l,s.error){this.debug("error trying to login"),this.handleLoginError(n,s);let f=new Ve("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!n.disableNonceCheck){if(!u)return this.saveRequestedRoute(),Promise.resolve();if(!n.disableOAuth2StateCheck&&!this.validateNonce(u)){let h=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(c),o&&(yield this.getTokenFromCode(o,n),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let n=this._storage.getItem("requested_route");n&&history.replaceState(null,"",window.location.origin+n)}getCodePartsFromUrl(n){return!n||n.length===0?this.urlHelper.getHashFragmentParams():(n.charAt(0)==="?"&&(n=n.substr(1)),this.urlHelper.parseQueryString(n))}getTokenFromCode(n,r){let s=new ze({encoder:new ds}).set("grant_type","authorization_code").set("code",n).set("redirect_uri",r.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,r)}fetchAndProcessToken(n,r){r=r||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(n=n.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let c of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(c,this.customQueryParams[c]);this.http.post(this.tokenEndpoint,n,{headers:s}).subscribe(c=>{this.debug("refresh tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token?this.processIdToken(c.id_token,c.access_token,r.disableNonceCheck).then(u=>{this.storeIdToken(u),this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),o(c)}).catch(u=>{this.eventsSubject.next(new Ve("token_validation_error",u)),console.error("Error validating tokens"),console.error(u),a(u)}):(this.eventsSubject.next(new Lt("token_received")),this.eventsSubject.next(new Lt("token_refreshed")),o(c))},c=>{console.error("Error getting token",c),this.eventsSubject.next(new Ve("token_refresh_error",c)),a(c)})})}tryLoginImplicitFlow(n=null){n=n||{};let r;n.customHashFragment?r=this.urlHelper.getHashFragmentParams(n.customHashFragment):r=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",r);let s=r.state,[o,a]=this.parseState(s);if(this.state=a,r.error){this.debug("error trying to login"),this.handleLoginError(n,r);let h=new Ve("token_error",{},r);return this.eventsSubject.next(h),Promise.reject(h)}let c=r.access_token,u=r.id_token,l=r.session_state,f=r.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!c||this.requestAccessToken&&!n.disableOAuth2StateCheck&&!s||this.oidc&&!u)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!l&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableNonceCheck&&!this.validateNonce(o)){let p=new Ve("invalid_nonce_in_state",null);return this.eventsSubject.next(p),Promise.reject(p)}return this.requestAccessToken&&this.storeAccessTokenResponse(c,null,r.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(u,c,n.disableNonceCheck).then(h=>n.validationHandler?n.validationHandler({accessToken:c,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(l),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new Lt("token_received")),this.callOnTokenReceivedIfExists(n),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new Ve("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new Lt("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}parseState(n){let r=n,s="";if(n){let o=n.indexOf(this.config.nonceStateSeparator);o>-1&&(r=n.substr(0,o),s=n.substr(o+this.config.nonceStateSeparator.length))}return[r,s]}validateNonce(n){let r;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?r=localStorage.getItem("nonce"):r=this._storage.getItem("nonce"),r!==n?(console.error("Validating access_token failed, wrong state/nonce.",r,n),!1):!0}storeIdToken(n){this._storage.setItem("id_token",n.idToken),this._storage.setItem("id_token_claims_obj",n.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+n.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(n){this._storage.setItem("session_state",n)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(n,r){n.onLoginError&&n.onLoginError(r),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(n=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?n:this.clockSkewInSec*1e3}processIdToken(n,r,s=!1){let o=n.split("."),a=this.padBase64(o[0]),c=UM(a),u=JSON.parse(c),l=this.padBase64(o[1]),f=UM(l),h=JSON.parse(f),p;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?p=localStorage.getItem("nonce"):p=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(U=>U!==this.clientId)){let U="Wrong audience: "+h.aud.join(",");return this.logger.warn(U),Promise.reject(U)}}else if(h.aud!==this.clientId){let U="Wrong audience: "+h.aud;return this.logger.warn(U),Promise.reject(U)}if(!h.sub){let U="No sub claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let U=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(U),Promise.reject(U)}if(!h.iat){let U="No iat claim in id_token";return this.logger.warn(U),Promise.reject(U)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let U="Wrong issuer: "+h.iss;return this.logger.warn(U),Promise.reject(U)}if(!s&&h.nonce!==p){let U="Wrong nonce: "+h.nonce;return this.logger.warn(U),Promise.reject(U)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let U="An at_hash is needed!";return this.logger.warn(U),Promise.reject(U)}let E=this.dateTimeService.now(),b=h.iat*1e3,w=h.exp*1e3,R=this.getClockSkewInMsec();if(b-R>=E||w+R-this.decreaseExpirationBySec<=E){let U="Token has expired";return console.error(U),console.error({now:E,issuedAtMSec:b,expiresAtMSec:w}),Promise.reject(U)}let V={accessToken:r,idToken:n,jwks:this.jwks,idTokenClaims:h,idTokenHeader:u,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(V).then(()=>({idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w})):this.checkAtHash(V).then(U=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!U){let H="Wrong at_hash";return this.logger.warn(H),Promise.reject(H)}return this.checkSignature(V).then(()=>{let H=!this.disableAtHashCheck,te={idToken:n,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:u,idTokenHeaderJson:c,idTokenExpiresAt:w};return H?this.checkAtHash(V).then(ue=>{if(this.requestAccessToken&&!ue){let he="Wrong at_hash";return this.logger.warn(he),Promise.reject(he)}else return te}):te})})}getIdentityClaims(){let n=this._storage.getItem("id_token_claims_obj");return n?JSON.parse(n):null}getGrantedScopes(){let n=this._storage.getItem("granted_scopes");return n?JSON.parse(n):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(n){for(;n.length%4!==0;)n+="=";return n}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let n=this._storage.getItem("expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let n=this._storage.getItem("id_token_expires_at"),r=this.dateTimeService.new();return!(n&&parseInt(n,10)-this.decreaseExpirationBySec<r.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(n){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(n)>=0&&this._storage.getItem(n)!==null?JSON.parse(this._storage.getItem(n)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(n={},r=""){let s=!1;typeof n=="boolean"&&(s=n,n={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(c=>this._storage.removeItem(c)),this.silentRefreshSubject=null,this.eventsSubject.next(new Ln("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let c=new ze({encoder:new ds});o&&(c=c.set("id_token_hint",o));let u=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";u&&(c=c.set("post_logout_redirect_uri",u),r&&(c=c.set("state",r)));for(let l in n)c=c.set(l,n[l]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+c.toString()}this.config.openUri(a)}createAndSaveNonce(){let n=this;return this.createNonce().then(function(r){return n.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",r):n._storage.setItem("nonce",r),r})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let n=this.document.getElementById(this.silentRefreshIFrameName);n&&n.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let r=this.document.getElementById(this.sessionCheckIFrameName);r&&r.remove()}createNonce(){return new Promise(n=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let c=new Uint8Array(s);a.getRandomValues(c),c.map||(c.map=Array.prototype.map),c=c.map(u=>r.charCodeAt(u%r.length)),o=String.fromCharCode.apply(null,c)}else for(;0<s--;)o+=r[Math.random()*r.length|0];n(jM(o))})}checkAtHash(n){return rt(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(n){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(n):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(n="",r={}){return this.responseType==="code"?this.initCodeFlow(n,r):this.initImplicitFlow(n,r)}initCodeFlow(n="",r={}){this.loginUrl!==""?this.initCodeFlowInternal(n,r):this.events.pipe(x(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(n,r))}initCodeFlowInternal(n="",r={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof r=="string"?o=r:typeof r=="object"&&(s=r),this.createLoginUrl(n,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return rt(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let n=yield this.createNonce(),r=yield this.crypto.calcHash(n,"sha-256");return[jM(r),n]})}extractRecognizedCustomParameters(n){let r=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{n[s]&&r.set(s,JSON.stringify(n[s]))}),r}revokeTokenAndLogout(n={},r=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let c=new ze({encoder:new ds}),u=new le().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let l=btoa(`${this.clientId}:${this.dummyClientSecret}`);u=u.set("Authorization","Basic "+l)}if(this.useHttpBasicAuth||(c=c.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(c=c.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))c=c.set(l,this.customQueryParams[l]);return new Promise((l,f)=>{let h,p;if(o){let E=c.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,E,{headers:u})}else h=I(null);if(a){let E=c.set("token",a).set("token_type_hint","refresh_token");p=this.http.post(s,E,{headers:u})}else p=I(null);r&&(h=h.pipe(F(E=>E.status===0?I(null):xt(E))),p=p.pipe(F(E=>E.status===0?I(null):xt(E)))),_e([h,p]).subscribe(E=>{this.logOut(n),l(E),this.logger.info("Token successfully revoked")},E=>{this.logger.error("Error revoking token",E),this.eventsSubject.next(new Ve("token_revoke_error",E)),f(E)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(r){return new(r||e)(d(Ce),d(ke),d(fs,8),d(Yd,8),d(Co,8),d($M),d(qd),d(Kd,8),d(Le),d(pc))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Zd=class{},JE=class{handleError(e){return xt(e)}},uG=(()=>{let e=class e{constructor(n,r,s){this.oAuthService=n,this.errorHandler=r,this.moduleConfig=s}checkUrl(n){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(n):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(r=>n.toLowerCase().startsWith(r.toLowerCase())):!0}intercept(n,r){let s=n.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?r.handle(n):this.moduleConfig.resourceServer.sendAccessToken?an(I(this.oAuthService.getAccessToken()).pipe(x(a=>!!a)),this.oAuthService.events.pipe(x(a=>a.type==="token_received"),na(this.oAuthService.waitForTokenInMsec||0),F(()=>I(null)),y(()=>this.oAuthService.getAccessToken()))).pipe(ie(1),G(a=>{if(a){let c="Bearer "+a,u=n.headers.set("Authorization",c);n=n.clone({headers:u})}return r.handle(n).pipe(F(c=>this.errorHandler.handleError(c)))})):r.handle(n).pipe(F(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(r){return new(r||e)(d(Qd),d(Zd),d(Wd,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function lG(){return console}function dG(){return typeof sessionStorage<"u"?sessionStorage:new nG}function fG(t=null,e=Gd){return sr([Qd,$M,{provide:qd,useFactory:lG},{provide:fs,useFactory:dG},{provide:Yd,useClass:e},{provide:Kd,useClass:cG},{provide:Zd,useClass:JE},{provide:Wd,useValue:t},{provide:mn,useClass:uG,multi:!0},{provide:pc,useClass:tG}])}var VM=(()=>{let e=class e{static forRoot(n=null,r=Gd){return{ngModule:e,providers:[fG(n,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})();var Qae=new S("AUTH_CONFIG");var WM="@ngrx/router-store/request",oce=mi(WM,lo()),ef="@ngrx/router-store/navigation",ace=mi(ef,lo()),tf="@ngrx/router-store/cancel",cce=mi(tf,lo()),nf="@ngrx/router-store/error",uce=mi(nf,lo()),rf="@ngrx/router-store/navigated",lce=mi(rf,lo());var Jd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:typeof e.routeConfig.title=="string"?e.routeConfig.title:void 0}:null,queryParams:e.queryParams,fragment:e.fragment,firstChild:i[0],children:i}}},XE=function(t){return t[t.PreActivation=1]="PreActivation",t[t.PostActivation=2]="PostActivation",t}(XE||{}),pG="router",HM=new S("@ngrx/router-store Internal Configuration"),qM=new S("@ngrx/router-store Configuration");function gG(t){return v({stateKey:pG,serializer:Jd,navigationActionTiming:XE.PreActivation},t)}var Xd=class{serialize(e){return{root:this.serializeRoute(e.root),url:e.url}}serializeRoute(e){let i=e.children.map(n=>this.serializeRoute(n));return{params:e.params,paramMap:e.paramMap,data:e.data,url:e.url,outlet:e.outlet,title:e.title,routeConfig:e.routeConfig?{component:e.routeConfig.component,path:e.routeConfig.path,pathMatch:e.routeConfig.pathMatch,redirectTo:e.routeConfig.redirectTo,outlet:e.routeConfig.outlet,title:e.routeConfig.title}:null,queryParams:e.queryParams,queryParamMap:e.queryParamMap,fragment:e.fragment,component:e.routeConfig?e.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:i[0],pathFromRoot:void 0,children:i}}},So=class{},mr=function(t){return t[t.NONE=1]="NONE",t[t.ROUTER=2]="ROUTER",t[t.STORE=3]="STORE",t}(mr||{}),zM=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.router=r,this.serializer=s,this.errorHandler=o,this.config=a,this.activeRuntimeChecks=c,this.lastEvent=null,this.routerState=null,this.trigger=mr.NONE,this.stateKey=this.config.stateKey,!aE()&&me()&&(c?.strictActionSerializability||c?.strictStateSerializability)&&this.serializer instanceof Xd&&console.warn("@ngrx/router-store: The serializability runtime checks cannot be enabled with the FullRouterStateSerializer. The FullRouterStateSerializer has an unserializable router state and actions that are not serializable. To use the serializability runtime checks either use the MinimalRouterStateSerializer or implement a custom router state serializer."),this.setUpStoreStateListener(),this.setUpRouterEventsListener()}setUpStoreStateListener(){this.store.pipe(M(this.stateKey),st(this.store)).subscribe(([n,r])=>{this.navigateIfNeeded(n,r)})}navigateIfNeeded(n,r){if(!n||!n.state||this.trigger===mr.ROUTER||this.lastEvent instanceof yn)return;let s=n.state.url;mG(this.router.url,s)||(this.storeState=r,this.trigger=mr.STORE,this.router.navigateByUrl(s).catch(o=>{this.errorHandler.handleError(o)}))}setUpRouterEventsListener(){let n=this.config.navigationActionTiming===XE.PostActivation,r;this.router.events.pipe(st(this.store)).subscribe(([s,o])=>{this.lastEvent=s,s instanceof yn?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==mr.STORE&&(this.storeState=o,this.dispatchRouterRequest(s))):s instanceof us?(r=s,!n&&this.trigger!==mr.STORE&&this.dispatchRouterNavigation(s)):s instanceof En?(this.dispatchRouterCancel(s),this.reset()):s instanceof pr?(this.dispatchRouterError(s),this.reset()):s instanceof at&&(this.trigger!==mr.STORE&&(n&&this.dispatchRouterNavigation(r),this.dispatchRouterNavigated(s)),this.reset())})}dispatchRouterRequest(n){this.dispatchRouterAction(WM,{event:n})}dispatchRouterNavigation(n){let r=this.serializer.serialize(n.state);this.dispatchRouterAction(ef,{routerState:r,event:new us(n.id,n.url,n.urlAfterRedirects,r)})}dispatchRouterCancel(n){this.dispatchRouterAction(tf,{storeState:this.storeState,event:n})}dispatchRouterError(n){this.dispatchRouterAction(nf,{storeState:this.storeState,event:new pr(n.id,n.url,`${n}`)})}dispatchRouterNavigated(n){let r=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction(rf,{event:n,routerState:r})}dispatchRouterAction(n,r){this.trigger=mr.ROUTER;try{this.store.dispatch({type:n,payload:T(v({routerState:this.routerState},r),{event:this.config.routerState===0?r.event:{id:r.event.id,url:r.event.url,urlAfterRedirects:r.event.urlAfterRedirects}})})}finally{this.trigger=mr.NONE}}reset(){this.trigger=mr.NONE,this.storeState=null,this.routerState=null}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Ne),d(So),d(Dt),d(qM),d(is))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function mG(t,e){return GM(t)===GM(e)}function GM(t){return t?.length>0&&t[t.length-1]==="/"?t.substring(0,t.length-1):t}function vG(t={}){return sr([{provide:HM,useValue:t},{provide:qM,useFactory:gG,deps:[HM]},{provide:So,useClass:t.serializer?t.serializer:t.routerState===0?Xd:Jd},{provide:nr,multi:!0,useFactory(){return()=>C(zM)}},zM])}var YM=(()=>{let e=class e{static forRoot(n={}){return{ngModule:e,providers:[vG(n)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function eC(t){"@babel/helpers - typeof";return eC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eC(t)}var KM=[],fce=KM.forEach,hce=KM.slice;function tC(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":eC(XMLHttpRequest))==="object"}function EG(t){return!!t&&typeof t.then=="function"}function ZM(t){return EG(t)?t:Promise.resolve(t)}var cf=JF(ex(),1);function tx(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function nx(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(i),!0).forEach(function(n){CG(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):tx(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function CG(t,e,i){return(e=SG(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function SG(t){var e=IG(t,"string");return hs(e)=="symbol"?e:e+""}function IG(t,e){if(hs(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hs(t){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hs(t)}var Gr;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?Gr=global.fetch:typeof window<"u"&&window.fetch?Gr=window.fetch:Gr=fetch);var vc;tC()&&(typeof global<"u"&&global.XMLHttpRequest?vc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(vc=window.XMLHttpRequest));var uf;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?uf=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(uf=window.ActiveXObject));!Gr&&cf&&!vc&&!uf&&(Gr=cf.default||cf);typeof Gr!="function"&&(Gr=void 0);var rC=function(e,i){if(i&&hs(i)==="object"){var n="";for(var r in i)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(i[r]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},rx=function(e,i,n,r){var s=function(c){if(!c.ok)return n(c.statusText||"Error",{status:c.status});c.text().then(function(u){n(null,{status:c.status,data:u})}).catch(n)};if(r){var o=r(e,i);if(o instanceof Promise){o.then(s).catch(n);return}}typeof fetch=="function"?fetch(e,i).then(s).catch(n):Gr(e,i).then(s).catch(n)},ix=!1,DG=function(e,i,n,r){e.queryStringParams&&(i=rC(i,e.queryStringParams));var s=nx({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=nx({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},ix?{}:o),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{rx(i,a,r,c)}catch(u){if(!o||Object.keys(o).length===0||!u.message||u.message.indexOf("not implemented")<0)return r(u);try{Object.keys(o).forEach(function(l){delete a[l]}),rx(i,a,r,c),ix=!0}catch(l){r(l)}}},bG=function(e,i,n,r){n&&hs(n)==="object"&&(n=rC("",n).slice(1)),e.queryStringParams&&(i=rC(i,e.queryStringParams));try{var s;vc?s=new vc:s=new uf("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",i,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&r(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(c){console&&console.log(c)}},wG=function(e,i,n,r){if(typeof n=="function"&&(r=n,n=void 0),r=r||function(){},Gr&&i.indexOf("file:")!==0)return DG(e,i,n,r);if(tC()||typeof ActiveXObject=="function")return bG(e,i,n,r);r(new Error("No fetch and no xhr implementation found!"))},sx=wG;function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Do(t)}function ox(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,n)}return i}function iC(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(i),!0).forEach(function(n){cx(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ox(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function TG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ax(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ux(n.key),n)}}function AG(t,e,i){return e&&ax(t.prototype,e),i&&ax(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function cx(t,e,i){return(e=ux(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ux(t){var e=RG(t,"string");return Do(e)=="symbol"?e:e+""}function RG(t,e){if(Do(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e||"default");if(Do(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MG=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(i){return JSON.parse(i)},stringify:JSON.stringify,parsePayload:function(i,n,r){return cx({},n,r||"")},parseLoadPayload:function(i,n){},request:sx,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},lx=function(){function t(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};TG(this,t),this.services=e,this.options=i,this.allOptions=n,this.type="backend",this.init(e,i,n)}return AG(t,[{key:"init",value:function(i){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=i,this.options=iC(iC(iC({},MG()),this.options||{}),r),this.allOptions=s,this.services&&this.options.reloadInterval){var o=setInterval(function(){return n.reload()},this.options.reloadInterval);Do(o)==="object"&&typeof o.unref=="function"&&o.unref()}}},{key:"readMulti",value:function(i,n,r){this._readAny(i,i,n,n,r)}},{key:"read",value:function(i,n,r){this._readAny([i],i,[n],n,r)}},{key:"_readAny",value:function(i,n,r,s,o){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(i,r)),c=ZM(c),c.then(function(u){if(!u)return o(null,{});var l=a.services.interpolator.interpolate(u,{lng:i.join("+"),ns:r.join("+")});a.loadUrl(l,o,n,s)})}},{key:"loadUrl",value:function(i,n,r,s){var o=this,a=typeof r=="string"?[r]:r,c=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,c);this.options.request(this.options,i,u,function(l,f){if(f&&(f.status>=500&&f.status<600||!f.status))return n("failed loading "+i+"; status code: "+f.status,!0);if(f&&f.status>=400&&f.status<500)return n("failed loading "+i+"; status code: "+f.status,!1);if(!f&&l&&l.message&&l.message.toLowerCase().indexOf("failed")>-1&&(l.message.indexOf("fetch")>-1||l.message.toLowerCase().indexOf("network")>-1))return n("failed loading "+i+": "+l.message,!0);if(l)return n(l,!1);var h,p;try{typeof f.data=="string"?h=o.options.parse(f.data,r,s):h=f.data}catch{p="failed parsing "+i+" to json"}if(p)return n(p,!1);n(null,h)})}},{key:"create",value:function(i,n,r,s,o){var a=this;if(this.options.addPath){typeof i=="string"&&(i=[i]);var c=this.options.parsePayload(n,r,s),u=0,l=[],f=[];i.forEach(function(h){var p=a.options.addPath;typeof a.options.addPath=="function"&&(p=a.options.addPath(h,n));var E=a.services.interpolator.interpolate(p,{lng:h,ns:n});a.options.request(a.options,E,c,function(b,w){u+=1,l.push(b),f.push(w),u===i.length&&typeof o=="function"&&o(l,f)})})}}},{key:"reload",value:function(){var i=this,n=this.services,r=n.backendConnector,s=n.languageUtils,o=n.logger,a=r.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],u=function(f){var h=s.toResolveHierarchy(f);h.forEach(function(p){c.indexOf(p)<0&&c.push(p)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(l){return u(l)}),c.forEach(function(l){i.allOptions.ns.forEach(function(f){r.read(l,f,"read",null,null,function(h,p){h&&o.warn("loading namespace ".concat(f," for language ").concat(l," failed"),h),!h&&p&&o.log("loaded namespace ".concat(f," for language ").concat(l),p),r.loaded("".concat(l,"|").concat(f),h,p)})})})}}}])}();lx.type="backend";var dx=lx;var xG={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}},aC=class t{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,i)}init(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=i.prefix||"i18next:",this.logger=e||xG,this.options=i,this.debug=i.debug}log(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"log","",!0)}warn(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","",!0)}error(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"error","")}deprecate(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(e,i,n,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[i](e))}create(e){return new t(this.logger,v({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},vr=new aC,To=class{constructor(){this.observers={}}on(e,i){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);let r=this.observers[n].get(i)||0;this.observers[n].set(i,r+1)}),this}off(e,i){if(this.observers[e]){if(!i){delete this.observers[e];return}this.observers[e].delete(i)}}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let u=0;u<c;u++)a.apply(a,[e,...n])})}},yc=()=>{let t,e,i=new Promise((n,r)=>{t=n,e=r});return i.resolve=t,i.reject=e,i},fx=t=>t==null?"":""+t,OG=(t,e,i)=>{t.forEach(n=>{e[n]&&(i[n]=e[n])})},NG=/###/g,hx=t=>t&&t.indexOf("###")>-1?t.replace(NG,"."):t,px=t=>!t||typeof t=="string",Ec=(t,e,i)=>{let n=typeof e!="string"?e:e.split("."),r=0;for(;r<n.length-1;){if(px(t))return{};let s=hx(n[r]);!t[s]&&i&&(t[s]=new i),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++r}return px(t)?{}:{obj:t,k:hx(n[r])}},gx=(t,e,i)=>{let{obj:n,k:r}=Ec(t,e,Object);if(n!==void 0||e.length===1){n[r]=i;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=Ec(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=Ec(t,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=i},PG=(t,e,i,n)=>{let{obj:r,k:s}=Ec(t,e,Object);r[s]=r[s]||[],r[s].push(i)},df=(t,e)=>{let{obj:i,k:n}=Ec(t,e);if(i)return i[n]},FG=(t,e,i)=>{let n=df(t,i);return n!==void 0?n:df(e,i)},Sx=(t,e,i)=>{for(let n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?i&&(t[n]=e[n]):Sx(t[n],e[n],i):t[n]=e[n]);return t},bo=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),_G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},LG=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>_G[e]):t,cC=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let i=this.regExpMap.get(e);if(i!==void 0)return i;let n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}},kG=[" ",",","?","!",";"],UG=new cC(20),jG=(t,e,i)=>{e=e||"",i=i||"";let n=kG.filter(o=>e.indexOf(o)<0&&i.indexOf(o)<0);if(n.length===0)return!0;let r=UG.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`),s=!r.test(t);if(!s){let o=t.indexOf(i);o>0&&!r.test(t.substring(0,o))&&(s=!0)}return s},uC=function(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];let n=e.split(i),r=t;for(let s=0;s<n.length;){if(!r||typeof r!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=i),a+=n[c],o=r[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}r=o}return r},ff=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t,hf=class extends To{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let i=this.options.ns.indexOf(e);i>-1&&this.options.ns.splice(i,1)}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a;e.indexOf(".")>-1?a=e.split("."):(a=[e,i],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));let c=df(this.data,a);return!c&&!i&&!n&&e.indexOf(".")>-1&&(e=a[0],i=a[1],n=a.slice(2).join(".")),c||!o||typeof n!="string"?c:uC(this.data&&this.data[e]&&this.data[e][i],n,s)}addResource(e,i,n,r){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=[e,i];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),r=i,i=a[1]),this.addNamespaces(i),gx(this.data,a,r),s.silent||this.emit("added",e,i,n,r)}addResources(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(let s in n)(typeof n[s]=="string"||Array.isArray(n[s]))&&this.addResource(e,i,s,n[s],{silent:!0});r.silent||this.emit("added",e,i,n)}addResourceBundle(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,i];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=i,i=a[1]),this.addNamespaces(i);let c=df(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?Sx(c,n,s):c=v(v({},c),n),gx(this.data,a,c),o.silent||this.emit("added",e,i,n)}removeResourceBundle(e,i){this.hasResourceBundle(e,i)&&delete this.data[e][i],this.removeNamespaces(i),this.emit("removed",e,i)}hasResourceBundle(e,i){return this.getResource(e,i)!==void 0}getResourceBundle(e,i){return i||(i=this.options.defaultNS),this.options.compatibilityAPI==="v1"?v({},this.getResource(e,i)):this.getResource(e,i)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let i=this.getDataByLanguage(e);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}},Ix={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,i,n,r){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,i,n,r))}),e}},mx={},pf=class t extends To{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),OG(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;let n=this.resolve(e,i);return n&&n.res!==void 0}extractFromKey(e,i){let n=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");let r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!jG(e,n,r);if(o&&!a){let c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};let u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(r)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,i,n){if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=v({},i)),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);let r=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],i),c=a[a.length-1],u=i.lng||this.language,l=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(l){let H=i.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${H}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${H}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o}let f=this.resolve(e,i),h=f&&f.res,p=f&&f.usedKey||o,E=f&&f.exactUsedKey||o,b=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],R=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject;if(V&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&w.indexOf(b)<0&&!(typeof R=="string"&&Array.isArray(h))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let H=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,T(v({},i),{ns:a})):`key '${o} (${this.language})' returned an object instead of string.`;return r?(f.res=H,f.usedParams=this.getUsedParamsDetails(i),f):H}if(s){let H=Array.isArray(h),te=H?[]:{},ue=H?E:p;for(let he in h)if(Object.prototype.hasOwnProperty.call(h,he)){let Pe=`${ue}${s}${he}`;te[he]=this.translate(Pe,T(v({},i),{joinArrays:!1,ns:a})),te[he]===Pe&&(te[he]=h[he])}h=te}}else if(V&&typeof R=="string"&&Array.isArray(h))h=h.join(R),h&&(h=this.extendTranslation(h,e,i,n));else{let H=!1,te=!1,ue=i.count!==void 0&&typeof i.count!="string",he=t.hasDefaultValue(i),Pe=ue?this.pluralResolver.getSuffix(u,i.count,i):"",xi=i.ordinal&&ue?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",zn=ue&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),D=zn&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${Pe}`]||i[`defaultValue${xi}`]||i.defaultValue;!this.isValidLookup(h)&&he&&(H=!0,h=D),this.isValidLookup(h)||(te=!0,h=o);let ne=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&te?void 0:h,ye=he&&D!==h&&this.options.updateMissing;if(te||H||ye){if(this.logger.log(ye?"updateKey":"missingKey",u,c,o,ye?D:h),s){let pt=this.resolve(o,T(v({},i),{keySeparator:!1}));pt&&pt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let we=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(let pt=0;pt<fe.length;pt++)we.push(fe[pt]);else this.options.saveMissingTo==="all"?we=this.languageUtils.toResolveHierarchy(i.lng||this.language):we.push(i.lng||this.language);let Dr=(pt,He,sn)=>{let tu=he&&sn!==h?sn:ne;this.options.missingKeyHandler?this.options.missingKeyHandler(pt,c,He,tu,ye,i):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(pt,c,He,tu,ye,i),this.emit("missingKey",pt,c,He,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ue?we.forEach(pt=>{let He=this.pluralResolver.getSuffixes(pt,i);zn&&i[`defaultValue${this.options.pluralSeparator}zero`]&&He.indexOf(`${this.options.pluralSeparator}zero`)<0&&He.push(`${this.options.pluralSeparator}zero`),He.forEach(sn=>{Dr([pt],o+sn,i[`defaultValue${sn}`]||D)})}):Dr(we,o,D))}h=this.extendTranslation(h,e,i,f,n),te&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${o}`),(te||H)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,H?h:void 0):h=this.options.parseMissingKeyHandler(h))}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,i,n,r,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,v(v({},this.options.interpolation.defaultVariables),n),n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(T(v({},n),{interpolation:v(v({},this.options.interpolation),n.interpolation)}));let u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),l;if(u){let h=e.match(this.interpolator.nestingRegexp);l=h&&h.length}let f=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(f=v(v({},this.options.interpolation.defaultVariables),f)),e=this.interpolator.interpolate(e,f,n.lng||this.language||r.usedLng,n),u){let h=e.match(this.interpolator.nestingRegexp),p=h&&h.length;l<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,p=new Array(h),E=0;E<h;E++)p[E]=arguments[E];return s&&s[0]===p[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${p[0]} in key: ${i[0]}`),null):o.translate(...p,i)},n)),n.interpolation&&this.interpolator.reset()}let a=n.postProcess||this.options.postProcess,c=typeof a=="string"?[a]:a;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=Ix.handle(c,e,i,this.options&&this.options.postProcessPassResolved?v({i18nResolved:T(v({},r),{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,r,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;let u=this.extractFromKey(c,i),l=u.key;r=l;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));let h=i.count!==void 0&&typeof i.count!="string",p=h&&!i.ordinal&&i.count===0&&this.pluralResolver.shouldUseIntlApi(),E=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",b=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(a=w,!mx[`${b[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(mx[`${b[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${b.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(R=>{if(this.isValidLookup(n))return;o=R;let V=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(V,l,R,w,i);else{let H;h&&(H=this.pluralResolver.getSuffix(R,i.count,i));let te=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(V.push(l+H),i.ordinal&&H.indexOf(ue)===0&&V.push(l+H.replace(ue,this.options.pluralSeparator)),p&&V.push(l+te)),E){let he=`${l}${this.options.contextSeparator}${i.context}`;V.push(he),h&&(V.push(he+H),i.ordinal&&H.indexOf(ue)===0&&V.push(he+H.replace(ue,this.options.pluralSeparator)),p&&V.push(he+te))}}let U;for(;U=V.pop();)this.isValidLookup(n)||(s=U,n=this.getResource(R,w,U,i))}))})}),{res:n,usedKey:r,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,i,n,r):this.resourceStore.getResource(e,i,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string",r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r=v(v({},this.options.interpolation.defaultVariables),r)),!n){r=v({},r);for(let s of i)delete r[s]}return r}static hasDefaultValue(e){let i="defaultValue";for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&i===n.substring(0,i.length)&&e[n]!==void 0)return!0;return!1}},sC=t=>t.charAt(0).toUpperCase()+t.slice(1),gf=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}getScriptPartFromCode(e){if(e=ff(e),!e||e.indexOf("-")<0)return null;let i=e.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(e){if(e=ff(e),!e||e.indexOf("-")<0)return e;let i=e.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){let i=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(r=>r.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),i.indexOf(n[1].toLowerCase())>-1&&(n[1]=sC(n[1].toLowerCase())),i.indexOf(n[2].toLowerCase())>-1&&(n[2]=sC(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let i;return e.forEach(n=>{if(i)return;let r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&e.forEach(n=>{if(i)return;let r=this.getLanguagePartFromCode(n);if(this.isSupportedCode(r))return i=r;i=this.options.supportedLngs.find(s=>{if(s===r)return s;if(!(s.indexOf("-")<0&&r.indexOf("-")<0)&&(s.indexOf("-")>0&&r.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===r||s.indexOf(r)===0&&r.length>1))return s})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(e,i){if(!e)return[];if(typeof e=="function"&&(e=e(i)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!i)return e.default||[];let n=e[i];return n||(n=e[this.getScriptPartFromCode(i)]),n||(n=e[this.formatLanguageCode(i)]),n||(n=e[this.getLanguagePartFromCode(i)]),n||(n=e.default),n||[]}toResolveHierarchy(e,i){let n=this.getFallbackCodes(i||this.options.fallbackLng||[],e),r=[],s=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{r.indexOf(o)<0&&s(this.formatLanguageCode(o))}),r}},$G=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],BG={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3},VG=["v1","v2","v3"],HG=["v4"],vx={zero:0,one:1,two:2,few:3,many:4,other:5},zG=()=>{let t={};return $G.forEach(e=>{e.lngs.forEach(i=>{t[i]={numbers:e.nr,plurals:BG[e.fc]}})}),t},lC=class{constructor(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=i,this.logger=vr.create("pluralResolver"),(!this.options.compatibilityJSON||HG.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=zG(),this.pluralRulesCache={}}addRule(e,i){this.rules[e]=i}clearCache(){this.pluralRulesCache={}}getRule(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{let n=ff(e==="dev"?"en":e),r=i.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o=new Intl.PluralRules(n,{type:r});return this.pluralRulesCache[s]=o,o}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(r=>`${i}${r}`)}getSuffixes(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,i);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((r,s)=>vx[r]-vx[s]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):n.numbers.map(r=>this.getSuffix(e,r,i)):[]}getSuffix(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:this.getSuffixRetroCompatible(r,i):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,i){let n=e.noAbs?e.plurals(i):e.plurals(Math.abs(i)),r=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));let s=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!VG.includes(this.options.compatibilityJSON)}},yx=function(t,e,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=FG(t,e,i);return!s&&r&&typeof i=="string"&&(s=uC(t,i,n),s===void 0&&(s=uC(e,i,n))),s},oC=t=>t.replace(/\$/g,"$$$$"),dC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(i=>i),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:i,escapeValue:n,useRawValueToEscape:r,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:u,unescapeSuffix:l,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:E,nestingSuffixEscaped:b,nestingOptionsSeparator:w,maxReplaces:R,alwaysFormat:V}=e.interpolation;this.escape=i!==void 0?i:LG,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=s?bo(s):o||"{{",this.suffix=a?bo(a):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=l?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":l||"",this.nestingPrefix=h?bo(h):p||bo("$t("),this.nestingSuffix=E?bo(E):b||bo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=R||1e3,this.alwaysFormat=V!==void 0?V:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(i,n)=>i&&i.source===n?(i.lastIndex=0,i):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,i,n,r){let s,o,a,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){let R=yx(i,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,n,T(v(v({},r),i),{interpolationkey:p})):R}let E=p.split(this.formatSeparator),b=E.shift().trim(),w=E.join(this.formatSeparator).trim();return this.format(yx(i,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,T(v(v({},r),i),{interpolationkey:b}))};this.resetRegExp();let l=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>oC(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?oC(this.escape(p)):oC(p)}].forEach(p=>{for(a=0;s=p.regex.exec(e);){let E=s[1].trim();if(o=u(E),o===void 0)if(typeof l=="function"){let w=l(e,s,r);o=typeof w=="string"?w:""}else if(r&&Object.prototype.hasOwnProperty.call(r,E))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=fx(o));let b=p.safeValue(o);if(e=e.replace(s[0],b),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,s,o,a=(c,u)=>{let l=this.nestingOptionsSeparator;if(c.indexOf(l)<0)return c;let f=c.split(new RegExp(`${l}[ ]*{`)),h=`{${f[1]}`;c=f[0],h=this.interpolate(h,o);let p=h.match(/'/g),E=h.match(/"/g);(p&&p.length%2===0&&!E||E.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o=v(v({},u),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${l}${h}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];o=v({},n),o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){let l=r[1].split(this.formatSeparator).map(f=>f.trim());r[1]=l.shift(),c=l,u=!0}if(s=i(a.call(this,r[1].trim(),o),o),s&&r[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=fx(s)),s||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((l,f)=>this.format(l,f,n.lng,T(v({},n),{interpolationkey:r[1].trim()})),s.trim())),e=e.replace(r[0],s),this.regexp.lastIndex=0}return e}},GG=t=>{let e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){let n=t.split("(");e=n[0].toLowerCase().trim();let r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(o=>{if(o){let[a,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),l=a.trim();i[l]||(i[l]=u),u==="false"&&(i[l]=!1),u==="true"&&(i[l]=!0),isNaN(u)||(i[l]=parseInt(u,10))}})}return{formatName:e,formatOptions:i}},wo=t=>{let e={};return(i,n,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s=T(v({},s),{[r.interpolationkey]:void 0}));let o=n+JSON.stringify(s),a=e[o];return a||(a=t(ff(n),r),e[o]=a),a(i)}},fC=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vr.create("formatter"),this.options=e,this.formats={number:wo((i,n)=>{let r=new Intl.NumberFormat(i,v({},n));return s=>r.format(s)}),currency:wo((i,n)=>{let r=new Intl.NumberFormat(i,T(v({},n),{style:"currency"}));return s=>r.format(s)}),datetime:wo((i,n)=>{let r=new Intl.DateTimeFormat(i,v({},n));return s=>r.format(s)}),relativetime:wo((i,n)=>{let r=new Intl.RelativeTimeFormat(i,v({},n));return s=>r.format(s,n.range||"day")}),list:wo((i,n)=>{let r=new Intl.ListFormat(i,v({},n));return s=>r.format(s)})},this.init(e)}init(e){let n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,i){this.formats[e.toLowerCase().trim()]=i}addCached(e,i){this.formats[e.toLowerCase().trim()]=wo(i)}format(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=i.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){let a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{let{formatName:u,formatOptions:l}=GG(c);if(this.formats[u]){let f=a;try{let h=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},p=h.locale||h.lng||r.locale||r.lng||n;f=this.formats[u](a,p,v(v(v({},l),r),h))}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return a},e)}},WG=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},hC=class extends To{constructor(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=i,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,i,n,r){let s={},o={},a={},c={};return e.forEach(u=>{let l=!0;i.forEach(f=>{let h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,l=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),c[f]===void 0&&(c[f]=!0)))}),l||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,i,n){let r=e.split("|"),s=r[0],o=r[1];i&&this.emit("failedLoading",s,o,i),!i&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=i?-1:2,i&&n&&(this.state[e]=0);let a={};this.queue.forEach(c=>{PG(c.loaded,[s],o),WG(c,e),i&&c.errors.push(i),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{a[u]||(a[u]={});let l=c.loaded[u];l.length&&l.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,i,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:i,fcName:n,tried:r,wait:s,callback:o});return}this.readingCalls++;let a=(u,l)=>{if(this.readingCalls--,this.waitingReads.length>0){let f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&l&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,i,n,r+1,s*2,o)},s);return}o(u,l)},c=this.backend[n].bind(this.backend);if(c.length===2){try{let u=c(e,i);u&&typeof u.then=="function"?u.then(l=>a(null,l)).catch(a):a(null,u)}catch(u){a(u)}return}return c(e,i,a)}prepareLoading(e,i){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof i=="string"&&(i=[i]);let s=this.queueLoad(e,i,n,r);if(!s.toLoad.length)return s.pending.length||r(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,i,n){this.prepareLoading(e,i,{},n)}reload(e,i,n){this.prepareLoading(e,i,{reload:!0},n)}loadOne(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.split("|"),r=n[0],s=n[1];this.read(r,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${i}loading namespace ${s} for language ${r} failed`,o),!o&&a&&this.logger.log(`${i}loaded namespace ${s} for language ${r}`,a),this.loaded(e,o,a)})}saveMissing(e,i,n,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${n}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){let c=T(v({},o),{isUpdate:s}),u=this.backend.create.bind(this.backend);if(u.length<6)try{let l;u.length===5?l=u(e,i,n,r,c):l=u(e,i,n,r),l&&typeof l.then=="function"?l.then(f=>a(null,f)).catch(a):a(null,l)}catch(l){a(l)}else u(e,i,n,r,a,c)}!e||!e[0]||this.store.addResource(e[0],i,n,r)}}},Ex=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let i=t[3]||t[2];Object.keys(i).forEach(n=>{e[n]=i[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Cx=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),lf=()=>{},qG=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(i=>{typeof t[i]=="function"&&(t[i]=t[i].bind(t))})},mf=class t extends To{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Cx(e),this.services={},this.logger=vr,this.modules={external:[]},qG(this),i&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,i),this;setTimeout(()=>{this.init(e,i)},0)}}init(){var e=this;let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof i=="function"&&(n=i,i={}),!i.defaultNS&&i.defaultNS!==!1&&i.ns&&(typeof i.ns=="string"?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));let r=Ex();this.options=v(v(v({},r),this.options),Cx(i)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=v(v({},r.interpolation),this.options.interpolation)),i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);let s=l=>l?typeof l=="function"?new l:l:null;if(!this.options.isClone){this.modules.logger?vr.init(s(this.modules.logger),this.options):vr.init(null,this.options);let l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=fC);let f=new gf(this.options);this.store=new hf(this.options.resources,this.options);let h=this.services;h.logger=vr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new lC(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=s(l),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new dC(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new hC(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(p){for(var E=arguments.length,b=new Array(E>1?E-1:0),w=1;w<E;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new pf(this.services,this.options),this.translator.on("*",function(p){for(var E=arguments.length,b=new Array(E>1?E-1:0),w=1;w<E;w++)b[w-1]=arguments[w];e.emit(p,...b)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=lf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&l[0]!=="dev"&&(this.options.lng=l[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(l=>{this[l]=function(){return e.store[l](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(l=>{this[l]=function(){return e.store[l](...arguments),e}});let c=yc(),u=()=>{let l=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return l(null,this.t.bind(this));this.changeLanguage(this.options.lng,l)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lf,r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();let s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,i,n){let r=yc();return typeof e=="function"&&(n=e,e=void 0),typeof i=="function"&&(n=i,i=void 0),e||(e=this.languages),i||(i=this.options.ns),n||(n=lf),this.services.backendConnector.reload(e,i,s=>{r.resolve(),n(s)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ix.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let i=0;i<this.languages.length;i++){let n=this.languages[i];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,i){var n=this;this.isLanguageChangingTo=e;let r=yc();this.emit("languageChanging",e);let s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve(function(){return n.t(...arguments)}),i&&i(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);let u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,l=>{o(l,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,i,n){var r=this;let s=function(o,a){let c;if(typeof a!="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++)l[f-2]=arguments[f];c=r.options.overloadTranslationOptionHandler([o,a].concat(l))}else c=v({},a);c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);let h=r.options.keySeparator||".",p;return c.keyPrefix&&Array.isArray(o)?p=o.map(E=>`${c.keyPrefix}${h}${E}`):p=c.keyPrefix?`${c.keyPrefix}${h}${o}`:o,r.t(p,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=i,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let n=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;let o=(a,c)=>{let u=this.services.backendConnector.state[`${a}|${c}`];return u===-1||u===0||u===2};if(i.precheck){let a=i.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!r||o(s,e)))}loadNamespaces(e,i){let n=yc();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),i&&i(r)}),n):(i&&i(),Promise.resolve())}loadLanguages(e,i){let n=yc();typeof e=="string"&&(e=[e]);let r=this.options.preload||[],s=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=r.concat(s),this.loadResources(o=>{n.resolve(),i&&i(o)}),n):(i&&i(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";let i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new gf(Ex());return i.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;return new t(e,i)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lf,n=e.forkResourceStore;n&&delete e.forkResourceStore;let r=T(v(v({},this.options),e),{isClone:!0}),s=new t(r);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services=v({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new hf(this.store.data,r),s.services.resourceStore=s.store),s.translator=new pf(s.services,r),s.translator.on("*",function(a){for(var c=arguments.length,u=new Array(c>1?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];s.emit(a,...u)}),s.init(r,i),s.translator.options=r,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},vt=mf.createInstance();vt.createInstance=mf.createInstance;var Sce=vt.createInstance,Ice=vt.dir,Dce=vt.init,bce=vt.loadResources,wce=vt.reloadResources,Tce=vt.use,Ace=vt.changeLanguage,Rce=vt.getFixedT,Mce=vt.t,xce=vt.exists,Oce=vt.setDefaultNamespace,Nce=vt.hasLoadedNamespace,Pce=vt.loadNamespaces,Fce=vt.loadLanguages;var Dx=function(e){return{type:"backend",init:function(n,r,s){},read:function(n,r,s){if(typeof e=="function"){if(e.length<3){try{var o=e(n,r);o&&typeof o.then=="function"?o.then(function(a){return s(null,a&&a.default||a)}).catch(s):s(null,o)}catch(a){s(a)}return}e(n,r,s);return}s(null,e&&e[n]&&e[n][r])}}};function Sf(t){return t&&typeof t=="object"&&!Array.isArray(t)}function YG(t){return t==="__proto__"||t==="constructor"}function Et(t={},...e){if(!e.length)return t;let i=e.shift()||{};if(!Sf(i))return Et(t,...e);for(let n in i)YG(n)||(i[n]instanceof Date?t[n]=i[n]:Sf(i[n])?(Sf(t[n])||(t[n]={}),Et(t[n],i[n])):t[n]=i[n]);return Et(t,...e)}function KG(){return Et({},C(Qx),C(BS))}var Ut=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>KG(),providedIn:"root"});let t=e;return t})();function ZG(){return Et({},...C(Vo,{optional:!0})??[])}var Qx=new S("DefaultConfiguration",{providedIn:"root",factory:ZG});function QG(){return Et({},...C(xc,{optional:!0})??[])}var BS=new S("RootConfiguration",{providedIn:"root",factory:QG}),xc=new S("ConfigurationChunk"),Vo=new S("DefaultConfigurationChunk");function bx(t={},e=!1){return{provide:e?Vo:xc,useValue:t,multi:!0}}function If(t,e,i=!1){return{provide:i?Vo:xc,useFactory:t,multi:!0,deps:e}}function Bn(t={}){return{provide:Vo,useValue:t,multi:!0}}function Ho(t,e){return{provide:Vo,useFactory:t,multi:!0,deps:e}}var JG={anonymousConsents:{registerConsent:"MARKETING_NEWSLETTER",showLegalDescriptionInDialog:!0,requiredConsents:[],consentManagementPage:{showAnonymousConsents:!0,hideConsents:[]}}},VS=function(t){return t.BILLING="BILLING",t.SHIPPING="SHIPPING",t}(VS||{}),be=function(t){return t.CONTENT_PAGE="ContentPage",t.PRODUCT_PAGE="ProductPage",t.CATEGORY_PAGE="CategoryPage",t.CATALOG_PAGE="CatalogPage",t}(be||{}),XG=function(t){return t.AUTO="auto",t.SMOOTH="smooth",t}(XG||{});var e8=function(t){return t.NO_BACKGROUND="NO_BACKGROUND",t.UPLOAD_RESPONSIVE_IMAGE="UPLOAD_RESPONSIVE_IMAGE",t.UPLOAD_THUMBNAIL="UPLOAD_THUMBNAIL",t}(e8||{});var Ro="userCmsEndpoints",Lo=function(t){return t.GIVEN="GIVEN",t.WITHDRAWN="WITHDRAWN",t}(Lo||{}),DC="X-Anonymous-Consents";var Df=class{},t8=function(t){return t.ADMIN="b2badmingroup",t.CUSTOMER="b2bcustomergroup",t.MANAGER="b2bmanagergroup",t.APPROVER="b2bapprovergroup",t}(t8||{}),n8=function(t){return t.UNITORDERVIEWER="unitorderviewergroup",t}(n8||{}),r8=function(t){return t.BACK_IN_STOCK="BACK_IN_STOCK",t}(r8||{}),i8=function(t){return t.SIZE="ApparelSizeVariantProduct",t.STYLE="ApparelStyleVariantProduct",t.COLOR="ElectronicsColorVariantProduct",t}(i8||{});var s8=function(t){return t.SIZE="size",t.STYLE="style",t.COLOR="color",t.THUMBNAIL="thumbnail",t.PRODUCT="product",t.STYLE_SWATCH="styleSwatch",t.ROLLUP_PROPERTY="rollupProperty",t}(s8||{}),Jx="[ENTITY] REMOVE",Xx="[ENTITY] REMOVE ALL";function wi(t,e){return{entityType:t,entityId:e}}function eO(t,e){return{entityId:e,entityType:t,entityRemove:!0}}function tO(t){return{entityId:null,entityType:t,entityRemove:!0}}var bC=class{constructor(e,i){this.type=Jx,this.meta=eO(e,i)}},bf=class{constructor(e){this.type=Xx,this.meta=tO(e)}},nO="[LOADER] LOAD",rO="[LOADER] FAIL",iO="[LOADER] SUCCESS",sO="[LOADER] RESET";function HS(t){return{entityType:t,loader:{load:!0}}}function zS(t,e){return{entityType:t,loader:{error:e||!0}}}function GS(t){return{entityType:t,loader:{success:!0}}}function qp(t){return{entityType:t,loader:{}}}var lt=class{constructor(e){this.type=nO,this.meta=HS(e)}},dt=class{constructor(e,i){this.type=rO,this.meta=zS(e,i)}},ft=class{constructor(e){this.type=iO,this.meta=GS(e)}},Kr=class{constructor(e){this.type=sO,this.meta=qp(e)}},WS="[ENTITY] LOAD",qS="[ENTITY] LOAD FAIL",YS="[ENTITY] LOAD SUCCESS",KS="[ENTITY] RESET";function ZS(t,e){return v(v({},HS(t)),wi(t,e))}function QS(t,e,i){return v(v({},zS(t,i)),wi(t,e))}function JS(t,e){return v(v({},GS(t)),wi(t,e))}function XS(t,e){return v(v({},qp(t)),wi(t,e))}var kt=class{constructor(e,i){this.type=WS,this.meta=ZS(e,i)}},At=class{constructor(e,i,n){this.type=qS,this.meta=QS(e,i,n)}},ht=class{constructor(e,i,n){this.payload=n,this.type=YS,this.meta=JS(e,i)}},Un=class{constructor(e,i){this.type=KS,this.meta=XS(e,i)}};function nt(t){return t.value}function jt(t){return t.loading??!1}function zo(t){return t.error??!1}function Vn(t){return t.success??!1}var kn={loading:!1,error:!1,success:!1,value:void 0};function ut(t,e){return(i=kn,n)=>{if(n.meta&&n.meta.loader&&n.meta.entityType===t){let s=n.meta.loader;return s.load?T(v({},i),{loading:!0,value:r(i.value)}):s.error?T(v({},i),{loading:!1,error:!0,success:!1,value:r(void 0)}):s.success?T(v({},i),{value:r(n.payload),loading:!1,error:!1,success:!0}):T(v({},kn),{value:e?e(kn.value,n):kn.value})}if(e){let s=e(i.value,n);if(s!==i.value)return T(v({},i),{value:s})}return i;function r(s){return e?e(i.value,n):s}}}function qt(t,e){return t.entities[e]||kn}function o8(t,e){let i=qt(t,e);return nt(i)}function a8(t,e){let i=qt(t,e);return jt(i)}function c8(t,e){let i=qt(t,e);return zo(i)}function u8(t,e){let i=qt(t,e);return Vn(i)}var wC={entities:{}};function Oc(t,e){return(n=wC,r)=>{let s=[],o=!1;if(r.meta&&r.meta.entityType===t&&r.meta.entityId!==void 0){if(r.meta.entityId!==null&&(s=[].concat(r.meta.entityId)),r.meta.entityRemove)return i(r,n,s);o=Array.isArray(r.meta.entityId)&&Array.isArray(r.payload)}else s=Object.keys(n.entities);let a={};for(let c=0;c<s.length;c++){let u=s[c],l=o?T(v({},r),{payload:r.payload[c]}):r,f=e(n.entities[u],l);f&&(a[u]=f)}return Object.keys(a).length>0?T(v({},n),{entities:v(v({},n.entities),a)}):n};function i(n,r,s){if(n?.meta?.entityId===null)return wC;{let o=!1,a=Object.keys(r.entities).reduce((c,u)=>(s.includes(u)?o=!0:c[u]=r.entities[u],c),{});return o?{entities:a}:r}}}function ps(t,e){return Oc(t,ut(t,e))}var oO="[PROCESSES LOADER] INCREMENT",aO="[PROCESSES LOADER] DECREMENT",cO="[PROCESSES LOADER] RESET";function eI(t){return{entityType:t,loader:void 0,processesCountDiff:1}}function tI(t){return{entityType:t,loader:void 0,processesCountDiff:-1}}function nI(t){return T(v({},qp(t)),{processesCountDiff:null})}var TC=class{constructor(e){this.type=cO,this.meta=nI(e)}},AC=class{constructor(e){this.type=oO,this.meta=eI(e)}},RC=class{constructor(e){this.type=aO,this.meta=tI(e)}},uO="[ENTITY] PROCESSES LOADER RESET",lO="[ENTITY] PROCESSES INCREMENT",dO="[ENTITY] PROCESSES DECREMENT";function fO(t,e){return v(v({},nI(t)),wi(t,e))}function hO(t,e){return v(v({},eI(t)),wi(t,e))}function pO(t,e){return v(v({},tI(t)),wi(t,e))}var MC=class{constructor(e,i){this.type=uO,this.meta=fO(e,i)}},xC=class{constructor(e,i){this.type=lO,this.meta=hO(e,i)}},OC=class{constructor(e,i){this.type=dO,this.meta=pO(e,i)}};function gO(t){return!t.processesCount&&!t.loading}function mO(t){return t.processesCount!==void 0&&t.processesCount>0}var wf={processesCount:0};function vO(t,e){return(i=v(v({},wf),kn),n)=>{let r=ut(t,e)(i,n);if(n.meta&&n.meta.entityType===t){let s=n.meta.processesCountDiff;if(me()&&i.processesCount&&s&&i.processesCount+s<0&&console.error(`Action '${n.type}' sets processesCount to value < 0!
Make sure to keep processesCount in sync.
There should always be only one decrement action for each increment action.
Make sure that you don't reset state in between those actions.
`,n),s)return T(v({},r),{processesCount:i.processesCount?i.processesCount+s:s});if(s===null)return v(v({},r),wf)}return r}}var l8=v(v({},kn),wf);function d8(t,e){let i=qt(t,e);return mO(i)}function f8(t,e){let i=qt(t,e);return gO(i)}function h8(t,e){return t.entities[e]||l8}function p8(t,e){return Oc(t,vO(t,e))}function yO(t,e){return t.entities[e]||void 0}var rI=".";function g8(t,e){return t.split(rI).reduce((n,r)=>n?n[r]:void 0,e)}function m8(t,e,i){if(!t||!i||Object.keys(i).length===0)return{};let n=t.split(rI).reduceRight((r,s)=>({[s]:r}),i);return v8(t,e,n)}function iI(t,e,i){if(t&&t.length===0)return{};let n={};for(let r of t){let s=g8(r,i),o=m8(r,e,s);n=Et(n,o)}return n}function v8(t,e,i){let n=y8(t,e);if(n.length===0)return i;let r=Et({},i);for(let s of n){let o=s.split(rI),a=r;for(let c=0;c<o.length;c++){let u=o[c];c===o.length-1?a&&a[u]&&delete a[u]:a=a[u]}}return r}function y8(t,e){if(!t||!e)return[];let i=[];for(let n of e)n.includes(t)&&i.push(n);return i}function EO(t,e){return t?Object.keys(t).filter(i=>t[i]===e):[]}var E8="all";function sI(t,e){return`${e??""}?pageSize=${t.pageSize??""}&currentPage=${t.currentPage??""}&sort=${t.sort??""}`}function C8(t,e){return CO(t.list,t.entities,e)}function CO(t,e,i,n){let r=qt(t,i?sI(i,n):n??E8);if(!r.value||!r.value.ids)return r;let s=Object.assign({},r,{value:{values:r.value.ids.map(o=>qt(e,o).value)}});return i&&s.value&&(s.value.pagination=r.value.pagination,s.value.sorts=r.value.sorts),s}function S8(t,e){let i=t.values||[],n={ids:i.map(r=>r[e])};return t.pagination&&(n.pagination=t.pagination),t.sorts&&(n.sorts=t.sorts),{values:i,page:n}}function I8(t,e){return[t,sI(e)].toString()}var iue=Object.freeze({__proto__:null,ENTITY_FAIL_ACTION:qS,ENTITY_LOAD_ACTION:WS,ENTITY_PROCESSES_DECREMENT_ACTION:dO,ENTITY_PROCESSES_INCREMENT_ACTION:lO,ENTITY_PROCESSES_LOADER_RESET_ACTION:uO,ENTITY_REMOVE_ACTION:Jx,ENTITY_REMOVE_ALL_ACTION:Xx,ENTITY_RESET_ACTION:KS,ENTITY_SUCCESS_ACTION:YS,EntityFailAction:At,EntityLoadAction:kt,EntityLoaderResetAction:Un,EntityProcessesDecrementAction:OC,EntityProcessesIncrementAction:xC,EntityProcessesLoaderResetAction:MC,EntityRemoveAction:bC,EntityRemoveAllAction:bf,EntitySuccessAction:ht,LOADER_FAIL_ACTION:rO,LOADER_LOAD_ACTION:nO,LOADER_RESET_ACTION:sO,LOADER_SUCCESS_ACTION:iO,LoaderFailAction:dt,LoaderLoadAction:lt,LoaderResetAction:Kr,LoaderSuccessAction:ft,PROCESSES_DECREMENT_ACTION:aO,PROCESSES_INCREMENT_ACTION:oO,PROCESSES_LOADER_RESET_ACTION:cO,ProcessesDecrementAction:RC,ProcessesIncrementAction:AC,ProcessesLoaderResetAction:TC,denormalizeCustomB2BSearch:CO,denormalizeSearch:C8,entityErrorSelector:c8,entityFailMeta:QS,entityHasPendingProcessesSelector:d8,entityIsStableSelector:f8,entityLoadMeta:ZS,entityLoaderReducer:ps,entityLoaderStateSelector:qt,entityLoadingSelector:a8,entityMeta:wi,entityProcessesDecrementMeta:pO,entityProcessesIncrementMeta:hO,entityProcessesLoaderReducer:p8,entityProcessesLoaderResetMeta:fO,entityProcessesLoaderStateSelector:h8,entityReducer:Oc,entityRemoveAllMeta:tO,entityRemoveMeta:eO,entityResetMeta:XS,entitySelector:yO,entitySuccessMeta:JS,entitySuccessSelector:u8,entityValueSelector:o8,failMeta:zS,getStateSlice:iI,hasPendingProcessesSelector:mO,initialEntityState:wC,initialLoaderState:kn,initialProcessesState:wf,isStableSelector:gO,loadMeta:HS,loaderErrorSelector:zo,loaderLoadingSelector:jt,loaderReducer:ut,loaderSuccessSelector:Vn,loaderValueSelector:nt,normalizeListPage:S8,processesDecrementMeta:tI,processesIncrementMeta:eI,processesLoaderReducer:vO,processesLoaderResetMeta:nI,resetMeta:qp,serializeParams:I8,serializeSearchConfig:sI,successMeta:GS}),SO="anonymous-consents",Nc="[Anonymous Consents] Anonymous Consents",IO="[Anonymous Consents] Load Anonymous Consent Templates",D8="[Anonymous Consents] Load Anonymous Consent Templates Success",b8="[Anonymous Consents] Load Anonymous Consent Templates Fail",w8="[Anonymous Consents] Reset Load Anonymous Consent Templates";var DO="[Anonymous Consents] Set Anonymous Consents",bO="[Anonymous Consents] Give Anonymous Consent",wO="[Anonymous Consents] Withdraw Anonymous Consent",TO="[Anonymous Consents] Toggle Anonymous Consents Banner Dismissed",AO="[Anonymous Consents] Anonymous Consent Templates Updated",RO="[Anonymous Consents] Check Updated Versions",Tf=class extends lt{constructor(){super(Nc),this.type=IO}},Af=class extends ft{constructor(e){super(Nc),this.payload=e,this.type=D8}},Rf=class extends dt{constructor(e){super(Nc,e),this.type=b8}},NC=class extends Kr{constructor(){super(Nc),this.type=w8}};var PC=class{constructor(e){this.payload=e,this.type=DO}},FC=class{constructor(e){this.templateCode=e,this.type=bO}},_C=class{constructor(e){this.templateCode=e,this.type=wO}},LC=class{constructor(e){this.dismissed=e,this.type=TO}},Mf=class{constructor(e){this.updated=e,this.type=AO}},kC=class{constructor(){this.type=RO}};var Pc=_n(SO),Yp=A(Pc,t=>t.templates),UC=A(Yp,t=>nt(t)),T8=A(Yp,jt),A8=A(Yp,Vn),R8=A(Yp,zo),M8=t=>A(UC,e=>e?e.find(i=>i.id===t):void 0),x8=A(Pc,t=>t.ui.updated),O8=A(Pc,t=>t.ui.bannerDismissed),MO=A(Pc,t=>t.consents),N8=t=>A(MO,e=>e.find(i=>i.templateCode===t));var xo="current",Oo="anonymous",P8="guest",F8=Object.freeze({__proto__:null,OCC_USER_ID_ANONYMOUS:Oo,OCC_USER_ID_CURRENT:xo,OCC_USER_ID_GUEST:P8}),sue="current",jn="[Auth] Login",Er="[Auth] Logout",No=class{constructor(){this.type=jn}},xf=class{constructor(){this.type=Er}},oue=Object.freeze({__proto__:null,LOGIN:jn,LOGOUT:Er,Login:No,Logout:xf}),Sn=(()=>{let e=class e{constructor(){this._userId=new on(1)}setUserId(n){this._userId.next(n)}getUserId(){return this._userId}takeUserId(n=!1){return this.getUserId().pipe(ie(1),y(r=>{if(n&&r===Oo)throw new Error("Requested user id for logged user while user is not logged in.");return r}))}clearUserId(){this.setUserId(Oo)}isEmulated(){return this.getUserId().pipe(y(n=>n!==Oo&&n!==xo))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_8="oAuthRedirectCodeFlow",Sc=function(t){return t[t.ResourceOwnerPasswordFlow=0]="ResourceOwnerPasswordFlow",t[t.ImplicitFlow=1]="ImplicitFlow",t[t.AuthorizationCode=2]="AuthorizationCode",t}(Sc||{}),L8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Xr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Cr=(()=>{let e=class e extends Xr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Kp=(()=>{let e=class e{constructor(n,r){this.authConfig=n,this.occConfig=r}get config(){return this.authConfig?.authentication??{}}getClientId(){return this.config?.client_id??""}getClientSecret(){return this.config?.client_secret??""}getBaseUrl(){return this.config?.baseUrl??(this.occConfig?.backend?.occ?.baseUrl??"")+"/authorizationserver"}getTokenEndpoint(){let n=this.config?.tokenEndpoint??"";return this.prefixEndpoint(n)}getLoginUrl(){let n=this.config?.loginUrl??"";return this.prefixEndpoint(n)}getRevokeEndpoint(){let n=this.config?.revokeEndpoint??"";return this.prefixEndpoint(n)}getLogoutUrl(){let n=this.config?.logoutUrl??"";return this.prefixEndpoint(n)}getUserinfoEndpoint(){let n=this.config?.userinfoEndpoint??"";return this.prefixEndpoint(n)}getOAuthLibConfig(){return this.config?.OAuthLibConfig??{}}prefixEndpoint(n){let r=n;return r.startsWith("/")||(r="/"+r),`${this.getBaseUrl()}${r}`}getOAuthFlow(){let n=this.config?.OAuthLibConfig?.responseType;if(n){let r=n.split(" ");return r.includes("code")?Sc.AuthorizationCode:r.includes("token")?Sc.ImplicitFlow:Sc.ResourceOwnerPasswordFlow}return Sc.ResourceOwnerPasswordFlow}};e.\u0275fac=function(r){return new(r||e)(d(L8),d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k8=new S("SERVER_REQUEST_URL"),U8=new S("SERVER_REQUEST_ORIGIN"),Ti=(()=>{let e=class e{constructor(n,r,s,o){this.platformId=r,this.serverUrl=s,this.serverOrigin=o,this.document=n}isBrowser(){return Fn(this.platformId)}get nativeWindow(){return this.isBrowser()?window:void 0}get sessionStorage(){return this.nativeWindow?this.nativeWindow.sessionStorage:void 0}get localStorage(){return this.nativeWindow?this.nativeWindow.localStorage:void 0}get location(){if(this.isBrowser())return this.document.location;if(!this.serverUrl)throw new Error("Cannot resolve the href as the SERVER_REQUEST_URL is undefined");if(!this.serverOrigin)throw new Error("Cannot resolve the origin as the SERVER_REQUEST_ORIGIN is undefined");return{href:this.serverUrl,origin:this.serverOrigin}}get resize$(){return this.nativeWindow?ia(this.nativeWindow,"resize").pipe(ki(300),Qn({target:this.nativeWindow}),cn()):I(null)}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e),d(k8,8),d(U8,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xO=(()=>{let e=class e{constructor(n,r,s,o){this.oAuthService=n,this.authConfigService=r,this.platformId=s,this.winRef=o,this.events$=this.oAuthService.events,this.initialize()}initialize(){let n=!this.winRef.isBrowser();this.oAuthService.configure(v({tokenEndpoint:this.authConfigService.getTokenEndpoint(),loginUrl:this.authConfigService.getLoginUrl(),clientId:this.authConfigService.getClientId(),dummyClientSecret:this.authConfigService.getClientSecret(),revocationEndpoint:this.authConfigService.getRevokeEndpoint(),logoutUrl:this.authConfigService.getLogoutUrl(),userinfoEndpoint:this.authConfigService.getUserinfoEndpoint(),issuer:this.authConfigService.getOAuthLibConfig()?.issuer??this.authConfigService.getBaseUrl(),redirectUri:this.authConfigService.getOAuthLibConfig()?.redirectUri??(n?"":this.winRef.nativeWindow.location.origin)},this.authConfigService.getOAuthLibConfig()))}authorizeWithPasswordFlow(n,r){return this.oAuthService.fetchTokenUsingPasswordFlow(n,r)}refreshToken(){this.oAuthService.refreshToken()}revokeAndLogout(){return new Promise(n=>{this.oAuthService.revokeTokenAndLogout(!0).catch(()=>{this.oAuthService.logOut(!0)}).finally(()=>{n()})})}logout(){this.oAuthService.logOut(!0)}getIdToken(){return this.oAuthService.getIdToken()}initLoginFlow(){return this.winRef.localStorage&&this.winRef.localStorage?.setItem(_8,"true"),this.oAuthService.initLoginFlow()}tryLogin(){return new Promise(n=>{let r,s=this.events$.pipe(x(o=>o.type==="token_received"),ie(1)).subscribe(o=>r=o);this.oAuthService.tryLogin({disableOAuth2StateCheck:!0}).then(o=>{n({result:o,tokenReceived:!!r})}).finally(()=>{s.unsubscribe()})})}};e.\u0275fac=function(r){return new(r||e)(d(Qd),d(Kp),d($e),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fc=(()=>{let e=class e extends fs{constructor(){super(...arguments),this._token$=new Te({})}decode(n,r){return e.nonStringifiedOAuthLibKeys.includes(n)?r:JSON.stringify(r)}encode(n,r){if(e.nonStringifiedOAuthLibKeys.includes(n))return r;try{return JSON.parse(r)}catch{return r}}getToken(){return this._token$}setToken(n){this._token$.next(n)}getItem(n){let r;return this.getToken().subscribe(s=>r=s).unsubscribe(),this.decode(n,r?.[n])}removeItem(n){let r=v({},this._token$.value);delete r[n],this._token$.next(v({},r))}setItem(n,r){n&&this._token$.next(T(v({},this._token$.value),{[n]:this.encode(n,r)}))}};e.nonStringifiedOAuthLibKeys=["PKCE_verifier","access_token","refresh_token","expires_at","access_token_stored_at","id_token","id_token_expires_at","id_token_stored_at","session_state","nonce"],e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OO="[Router] Change Next PageContext",jC=class{constructor(e){this.payload=e,this.type=OO}};var $C="router",j8=_n($C),Zp=A(j8,t=>t.router),aue=A(Zp,t=>t.state&&t.state.semanticRoute||""),$8=A(Zp,t=>t.state&&t.state.context||{id:""}),NO=A(Zp,t=>t.nextState&&t.nextState.context),B8=A(NO,t=>!!t);var BC=t=>t.startsWith(":"),wx=t=>t.slice(1);var Q=(()=>{let e=class e{log(...n){console.log(...n)}warn(...n){console.warn(...n)}error(...n){console.error(...n)}info(...n){console.info(...n)}debug(...n){console.debug(...n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qp=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Jp=(()=>{let e=class e{constructor(n){this.config=n,this.logger=C(Q)}getRouteConfig(n){let r=this.config?.routing?.routes,s=r&&r[n];return(!r||s===void 0)&&this.warn(`No path was configured for the named route '${n}'!`),s}warn(...n){me()&&this.logger.warn(...n)}getLoadStrategy(){return this.config?.routing?.loadStrategy??"always"}getRouteName(n){return this.routeNamesByPath||this.initRouteNamesByPath(),this.routeNamesByPath[n]}initRouteNamesByPath(){this.routeNamesByPath={};for(let[n,r]of Object.entries(this.config?.routing?.routes??{}))r?.paths?.forEach(s=>{me()&&this.routeNamesByPath[s]&&this.logger.error(`The same path '${s}' is configured for two different route names: '${this.routeNamesByPath[s]}' and '${n}`),this.routeNamesByPath[s]=n})}};e.\u0275fac=function(r){return new(r||e)(d(Qp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oI=(()=>{let e=class e{constructor(n){this.router=n}getPrimarySegments(n){let r=this.router.parseUrl(n);return this._getPrimarySegmentsFromUrlTree(r.root)}_getPrimarySegmentsFromUrlTree(n){let r=n.segments.map(o=>o.path),s=n.children[ee]?this._getPrimarySegmentsFromUrlTree(n.children[ee]):[];return r.concat(s)}matchPath(n,r){if(n=Array.isArray(n)?n:this.getPrimarySegments(n),r=Array.isArray(r)?r:this.getPrimarySegments(r),n.length!==r.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(!BC(o)&&o!==a)return!1}return!0}};e.\u0275fac=function(r){return new(r||e)(d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_c=(()=>{let e=class e{constructor(n,r){this.routingConfigService=n,this.urlParser=r,this.ROOT_URL=["/"]}get(n){let r=this.routingConfigService.getRouteConfig(n);return r&&Array.isArray(r.paths)?"/"+r.paths[0]:void 0}transform(n){Array.isArray(n)||(n=[n]);let r=[];for(let s of n)if(!this.isRouteCommand(s))r.push(s);else{let o=this.generateUrlPart(s);if(o===null)return this.ROOT_URL;r.push(...o)}return this.shouldOutputAbsolute(n)&&r.unshift("/"),r}isRouteCommand(n){return n&&!!n.cxRoute}shouldOutputAbsolute(n){return this.isRouteCommand(n[0])}generateUrlPart(n){if(this.standarizeRouteCommand(n),!n.cxRoute)return null;let r=this.routingConfigService.getRouteConfig(n.cxRoute);if(!r||!r.paths)return null;let s=this.findPathWithFillableParams(r,n.params);return s?this.provideParamsValues(s,n.params,r.paramsMapping):null}standarizeRouteCommand(n){n.params=n.params||{}}provideParamsValues(n,r,s){return this.urlParser.getPrimarySegments(n).map(o=>{if(BC(o)){let a=wx(o),c=this.getMappedParamName(a,s);return r?.[c]}return o})}findPathWithFillableParams(n,r){let s=n.paths?.find(o=>this.getParams(o).every(a=>{let c=this.getMappedParamName(a,n.paramsMapping);return r?.[c]!==void 0}));return s??null}getParams(n){return this.urlParser.getPrimarySegments(n).filter(BC).map(wx)}getMappedParamName(n,r){return r&&r[n]||n}};e.\u0275fac=function(r){return new(r||e)(d(Jp),d(oI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PO=(()=>{let e=class e{constructor(n){this.router=n,this.routes$=this.router.events.pipe(x(r=>r instanceof at),Qn(void 0),y(()=>{let r=this.router.routerState.snapshot.root,s=[r];for(;r=r.firstChild;)s.push(r);return s}),it({bufferSize:1,refCount:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V8=(()=>{let e=class e{constructor(n,r){this.router=n,this.activatedRoutesService=r,this.params$=this.activatedRoutesService.routes$.pipe(y(s=>this.findAllParam(s)),it({refCount:!0,bufferSize:1}))}getParams(){return this.params$}findAllParam(n){return Object.assign({},...n.map(r=>r.params))}};e.\u0275fac=function(r){return new(r||e)(d(Ne),d(PO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ai=(()=>{let e=class e{constructor(n,r,s,o,a,c){this.store=n,this.winRef=r,this.semanticPathService=s,this.routingParamsService=o,this.router=a,this.location=c}getParams(){return this.routingParamsService.getParams()}getRouterState(){return this.store.pipe(M(Zp))}getPageContext(){return this.store.pipe(M($8))}getNextPageContext(){return this.store.pipe(M(NO))}changeNextPageContext(n){this.store.dispatch(new jC(n))}isNavigating(){return this.store.pipe(M(B8))}go(n,r){let s=this.semanticPathService.transform(n);return this.navigate(s,r)}getUrl(n,r){let s=this.router.serializeUrl(this.router.createUrlTree(this.semanticPathService.transform(n),r));return s.startsWith("/")||(s=`/${s}`),s}getFullUrl(n,r){return`${this.winRef.location.origin}${this.getUrl(n,r)}`}goByUrl(n,r){return this.router.navigateByUrl(n,r)}back(){if(this.winRef.nativeWindow&&this.winRef.document.referrer.includes(this.winRef.nativeWindow.location.origin)){this.location.back();return}this.go(["/"])}forward(){this.location.forward()}navigate(n,r){return this.router.navigate(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Ti),d(_c),d(V8),d(Ne),d(lr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FO=(()=>{let e=class e{constructor(){this.redirectUrl$=new Te(void 0)}getRedirectUrl(){return this.redirectUrl$}setRedirectUrl(n){this.redirectUrl$.next(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H8=(()=>{let e=class e{constructor(n,r){this.config=n,this.urlParsingService=r}get authFlowPaths(){return this._authFlowPaths||(this._authFlowPaths=Object.values(this.config?.routing?.routes||{}).reduce((n,r)=>r.authFlow===!0&&r.paths?.length?n.concat(r?.paths):n,[])),this._authFlowPaths}isAuthFlow(n){return this.authFlowPaths.some(r=>this.urlParsingService.matchPath(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(oI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aI=(()=>{let e=class e{constructor(n,r,s,o){this.routing=n,this.router=r,this.authRedirectStorageService=s,this.authFlowRoutesService=o,this.init()}init(){this.subscription=this.router.events.subscribe(n=>{n instanceof at&&this.setRedirectUrl(n.urlAfterRedirects)})}ngOnDestroy(){this.subscription?.unsubscribe()}redirect(){this.authRedirectStorageService.getRedirectUrl().pipe(ie(1)).subscribe(n=>{n===void 0?this.routing.go("/"):this.routing.goByUrl(n),this.clearRedirectUrl()})}saveCurrentNavigationUrl(){let n=this.router.getCurrentNavigation();if(!n?.finalUrl)return;let r=this.router.serializeUrl(n.finalUrl);this.setRedirectUrl(r)}setRedirectUrl(n){this.authFlowRoutesService.isAuthFlow(n)||this.authRedirectStorageService.setRedirectUrl(n)}clearRedirectUrl(){this.authRedirectStorageService.setRedirectUrl(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(Ne),d(FO),d(H8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Cn(t){return typeof t<"u"}function Dc(t){return Cn(t)&&t!==null}function Lc(t,e){return t.context&&t.context[e]||[]}function Di(t,e){let i=Lc(t,e);return i&&i.length?i[0]:void 0}var Ss="language",Is="currency",Zr="baseSite",z8="theme",cI="[Site-context] Load BaseSite",_O="[Site-context] Load BaseSite Fail",uI="[Site-context] Load BaseSite Success",lI="[Site-context] Load BaseSites",LO="[Site-context] Load BaseSites Fail",dI="[Site-context] Load BaseSites Success",fI="[Site-context] Set Active BaseSite",kO="[Site-context] BaseSite Change",VC=class{constructor(){this.type=cI}},Of=class{constructor(e){this.payload=e,this.type=_O}},Nf=class{constructor(e){this.payload=e,this.type=uI}},Pf=class{constructor(){this.type=lI}},Ff=class{constructor(e){this.payload=e,this.type=LO}},_f=class{constructor(e){this.payload=e,this.type=dI}},Lf=class{constructor(e){this.payload=e,this.type=fI}},HC=class{constructor(){this.type=kO}},hI="[Site-context] Load Currencies",UO="[Site-context] Load Currencies Fail",pI="[Site-context] Load Currencies Success",Xp="[Site-context] Set Active Currency",Go="[Site-context] Currency Change",kf=class{constructor(){this.type=hI}},Uf=class{constructor(e){this.payload=e,this.type=UO}},jf=class{constructor(e){this.payload=e,this.type=pI}},$f=class{constructor(e){this.payload=e,this.type=Xp}},Bf=class{constructor(e){this.payload=e,this.type=Go}},gI="[Site-context] Load Languages",jO="[Site-context] Load Languages Fail",mI="[Site-context] Load Languages Success",eg="[Site-context] Set Active Language",In="[Site-context] Language Change",Vf=class{constructor(){this.type=gI}},Hf=class{constructor(e){this.payload=e,this.type=jO}},zf=class{constructor(e){this.payload=e,this.type=mI}},Gf=class{constructor(e){this.payload=e,this.type=eg}},Wf=class{constructor(e){this.payload=e,this.type=In}},cue=Object.freeze({__proto__:null,BASE_SITE_CHANGE:kO,BaseSiteChange:HC,CURRENCY_CHANGE:Go,CurrencyChange:Bf,LANGUAGE_CHANGE:In,LOAD_BASE_SITE:cI,LOAD_BASE_SITES:lI,LOAD_BASE_SITES_FAIL:LO,LOAD_BASE_SITES_SUCCESS:dI,LOAD_BASE_SITE_FAIL:_O,LOAD_BASE_SITE_SUCCESS:uI,LOAD_CURRENCIES:hI,LOAD_CURRENCIES_FAIL:UO,LOAD_CURRENCIES_SUCCESS:pI,LOAD_LANGUAGES:gI,LOAD_LANGUAGES_FAIL:jO,LOAD_LANGUAGES_SUCCESS:mI,LanguageChange:Wf,LoadBaseSite:VC,LoadBaseSiteFail:Of,LoadBaseSiteSuccess:Nf,LoadBaseSites:Pf,LoadBaseSitesFail:Ff,LoadBaseSitesSuccess:_f,LoadCurrencies:kf,LoadCurrenciesFail:Uf,LoadCurrenciesSuccess:jf,LoadLanguages:Vf,LoadLanguagesFail:Hf,LoadLanguagesSuccess:zf,SET_ACTIVE_BASE_SITE:fI,SET_ACTIVE_CURRENCY:Xp,SET_ACTIVE_LANGUAGE:eg,SetActiveBaseSite:Lf,SetActiveCurrency:$f,SetActiveLanguage:Gf}),vI="siteContext",kc=_n(vI),G8=t=>t.entities,W8=A(kc,t=>t.baseSite),Tx=A(kc,t=>t&&t.baseSite&&t.baseSite.activeSite),uue=A(kc,t=>t&&t.baseSite&&t.baseSite.details),q8=A(W8,G8),Y8=A(q8,t=>t?Object.keys(t).map(e=>t[e]):null),K8=t=>t.entities,Z8=t=>t.activeCurrency,$O=A(kc,t=>t.currencies),Q8=A($O,K8),zC=A($O,Z8),J8=A(Q8,t=>t?Object.keys(t).map(e=>t[e]):null),X8=t=>t.activeLanguage,e3=t=>t.entities,BO=A(kc,t=>t.languages),t3=A(BO,e3),GC=A(BO,X8),n3=A(t3,t=>t?Object.keys(t).map(e=>t[e]):null);var Ds=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getActive(){return this.store.pipe(M(Tx),x(n=>!!n))}getAll(){return this.store.pipe(M(Y8),L(n=>{n||this.store.dispatch(new Pf)}),x(Dc))}get(n){return n?this.getAll().pipe(y(r=>r.find(s=>s.uid===n))):this.getActive().pipe(O(r=>this.getAll().pipe(y(s=>s.find(o=>o.uid===r)))))}setActive(n){this.store.pipe(M(Tx),ie(1)).subscribe(r=>{n&&r!==n&&this.store.dispatch(new Lf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Lc(this.config,Zr).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),r3=(()=>{let e=class e{constructor(n){this.baseSiteService=n,this.MULTISITE_SEPARATOR="|"}getBaseSiteDecorator(){return this.baseSiteService.get().pipe(ie(1),y(n=>n?.isolated?this.MULTISITE_SEPARATOR+n?.uid:""))}decorateUserId(n){return this.getBaseSiteDecorator().pipe(y(r=>n+r))}};e.\u0275fac=function(r){return new(r||e)(d(Ds))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hn=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.store=n,this.userIdService=r,this.oAuthLibWrapperService=s,this.authStorageService=o,this.authRedirectService=a,this.routingService=c,this.authMultisiteIsolationService=u,this.refreshInProgress$=new Te(!1),this.logoutInProgress$=new Te(!1)}checkOAuthParamsInUrl(){return rt(this,null,function*(){try{let n=yield this.oAuthLibWrapperService.tryLogin(),r=this.authStorageService.getItem("access_token");n.result&&r&&(this.userIdService.setUserId(xo),this.store.dispatch(new No),n.tokenReceived&&this.authRedirectService.redirect())}catch{}})}loginWithRedirect(){return this.oAuthLibWrapperService.initLoginFlow(),!0}loginWithCredentials(n,r){return rt(this,null,function*(){let s=n;this.authMultisiteIsolationService&&(s=yield Jn(this.authMultisiteIsolationService.decorateUserId(s)));try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(s,r),this.userIdService.setUserId(xo),this.store.dispatch(new No),this.authRedirectService.redirect()}catch{}})}otpLoginWithCredentials(n,r){return rt(this,null,function*(){try{yield this.oAuthLibWrapperService.authorizeWithPasswordFlow(n,r),this.userIdService.setUserId(xo),this.store.dispatch(new No),this.authRedirectService.redirect()}catch{}})}coreLogout(){return this.setLogoutProgress(!0),this.userIdService.clearUserId(),new Promise(n=>{this.oAuthLibWrapperService.revokeAndLogout().finally(()=>{this.store.dispatch(new xf),this.setLogoutProgress(!1),n()})})}isUserLoggedIn(){return this.authStorageService.getToken().pipe(y(n=>!!n?.access_token),cn())}logout(){this.routingService.go({cxRoute:"logout"})}setRefreshProgress(n){this.refreshInProgress$.next(n)}setLogoutProgress(n){this.logoutInProgress$.next(n)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn),d(xO),d(Fc),d(aI),d(Ai),d(r3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uc=(()=>{let e=class e{constructor(n,r){this.store=n,this.authService=r}loadTemplates(){this.store.dispatch(new Tf)}getTemplates(n=!1){return sa(()=>n,this.store.pipe(M(UC),st(this.getLoadTemplatesLoading()),x(([r,s])=>!s),L(([r,s])=>{r||this.loadTemplates()}),x(([r,s])=>!!r),y(([r,s])=>r)),this.store.pipe(M(UC)))}getTemplate(n){return this.store.pipe(M(M8(n)))}getLoadTemplatesLoading(){return this.store.pipe(M(T8))}getLoadTemplatesSuccess(){return this.store.pipe(M(A8))}getLoadTemplatesError(){return this.store.pipe(M(R8))}resetLoadTemplatesState(){this.store.dispatch(new NC)}getConsents(){return this.store.pipe(M(MO))}setConsents(n){return this.store.dispatch(new PC(n))}getConsent(n){return this.authService.isUserLoggedIn().pipe(x(r=>!r),L(()=>this.getTemplates(!0)),O(()=>this.store.pipe(M(N8(n)))))}giveConsent(n){this.store.dispatch(new FC(n))}giveAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.giveConsent(r.id)})))}isConsentGiven(n){return(n&&n.consentState===Lo.GIVEN)??!1}withdrawConsent(n){this.store.dispatch(new _C(n))}withdrawAllConsents(){return this.getTemplates(!0).pipe(L(n=>n.forEach(r=>{r.id&&this.withdrawConsent(r.id)})))}isConsentWithdrawn(n){return n&&n.consentState===Lo.WITHDRAWN}toggleBannerDismissed(n){this.store.dispatch(new LC(n)),n&&this.toggleTemplatesUpdated(!1)}isBannerDismissed(){return this.store.pipe(M(O8))}getTemplatesUpdated(){return this.getTemplates(!0).pipe(O(()=>this.store.pipe(M(x8))))}toggleTemplatesUpdated(n){this.store.dispatch(new Mf(n))}isBannerVisible(){return _e([this.isBannerDismissed(),this.getTemplatesUpdated()]).pipe(L(()=>this.checkConsentVersions()),y(([n,r])=>!n||r))}checkConsentVersions(){this.store.dispatch(new kC)}detectUpdatedTemplates(n,r){if(r.length!==n.length)return!0;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o.version!==a.version)return!0}return!1}serializeAndEncode(n){if(!n)return"";let r=JSON.stringify(n);return encodeURIComponent(r)}decodeAndDeserialize(n){let r=decodeURIComponent(n);return r.length>0?JSON.parse(r):[]}consentsUpdated(n,r){let s=this.serializeAndEncode(n),o=this.serializeAndEncode(r);return s!==o}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Hn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WC="cx-use-client-token",lue="cx-use-csagent-token",due="sap-commerce-cloud-captcha-token",bc=class{static createHeader(e,i,n){return n?n.append(e,JSON.stringify(i)):(n=new le().set(e,JSON.stringify(i)),n)}static removeHeader(e,i){let n=i.headers.delete(e);return i.clone({headers:n})}static getInterceptorParam(e,i){let n=i.get(e);if(n)return JSON.parse(n)}},VO="client-auth",tg="[Client auth] Client Token Data",HO="[Token] Load Client Token",i3="[Token] Load Client Token Fail",s3="[Token] Load Client Token Success",qf=class extends lt{constructor(){super(tg),this.type=HO}},qC=class extends dt{constructor(e){super(tg,e),this.payload=e,this.type=i3}},YC=class extends ft{constructor(e){super(tg),this.payload=e,this.type=s3}};var o3=_n(VO),Ax=A(o3,t=>t.clientToken);var zO=(()=>{let e=class e{constructor(n){this.store=n}getClientToken(){return this.store.pipe(M(Ax),Yt(Tr),x(n=>this.isClientTokenLoaded(n)?!0:(n.loading||this.store.dispatch(new qf),!1)),y(n=>n.value))}refreshClientToken(){return this.store.dispatch(new qf),this.store.pipe(M(Ax),x(n=>this.isClientTokenLoaded(n)),y(n=>n.value),x(Cn))}isClientTokenLoaded(n){return!!((n.success||n.error)&&!n.loading)}};e.\u0275fac=function(r){return new(r||e)(d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a3=(()=>{let e=class e{constructor(n){this.clientTokenService=n}handleExpiredClientToken(n,r){return this.clientTokenService.refreshClientToken().pipe(ie(1),O(s=>r.handle(this.createNewRequestWithNewToken(n,s))))}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}};e.\u0275fac=function(r){return new(r||e)(d(zO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KC=class{static resolve(e,i,n){for(let r of Object.keys(i)){let s=new RegExp("\\${"+r+"}","g");e=e.replace(s,n?encodeURIComponent(i[r]):i[r])}return e}},ZC=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},Ic="default";function Rx(...t){let e=[];t=t.filter(i=>!!i);for(let i of t)e.push(c3(i));return t[0]?.startsWith("/")&&(e[0]="/"+e[0]),t[t.length-1]?.endsWith("/")&&(e[e.length-1]=e[e.length-1]+"/"),e.join("/")}function c3(t){return t=t.startsWith("/")?t.slice(1):t,t=t.endsWith("/")?t.slice(0,-1):t,t}var Qe=(()=>{let e=class e{get activeBaseSite(){return this._activeBaseSite??Di(this.config,Zr)}constructor(n,r){this.config=n,this.baseSiteService=r,this.logger=C(Q),this.baseSiteService&&this.baseSiteService.getActive().subscribe(s=>this._activeBaseSite=s)}getRawEndpointValue(n,r){return this.getEndpointForScope(n,r)}isConfigured(n,r){return!(typeof this.getEndpointFromConfig(n,r)>"u")}getBaseUrl(n={baseUrl:!0,prefix:!0,baseSite:!0}){let r=n.baseUrl===!1?"":this.config?.backend?.occ?.baseUrl??"",s=n.prefix===!1?"":this.getPrefix(),o=n.baseSite===!1?"":this.activeBaseSite;return Rx(r,s,o)}buildUrl(n,r,s){let o=this.getEndpointForScope(n,r?.scope);if(r){let{urlParams:a,queryParams:c}=r;if(a&&(o=KC.resolve(o,a,!0)),c){let u={encoder:new ZC};if(o.includes("?")){let h;[o,h]=o.split("?"),u=T(v({},u),{fromString:h})}let f=this.getHttpParamsFromQueryParams(c,u).toString();f.length&&(o+="?"+f)}}return this.buildUrlFromEndpointString(o,s)}getHttpParamsFromQueryParams(n,r){let s=new ze(r);return Object.keys(n).forEach(o=>{let a=n[o];a!==void 0&&(a===null?s=s.delete(o):s=s.set(o,a))}),s}getEndpointFromConfig(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return;let o=s[n];return r?r===Ic&&typeof o=="string"?o:o?.[r]:typeof o=="string"?o:o?.[Ic]}getEndpointForScope(n,r){let s=this.config.backend?.occ?.endpoints;if(!s)return"";let o=s[n];if(r){if(o?.[r])return o?.[r];if(r===Ic&&typeof o=="string")return o;me()&&this.logger.warn(`${n} endpoint configuration missing for scope "${r}"`)}return(typeof o=="string"?o:o?.[Ic])||n}buildUrlFromEndpointString(n,r){return Rx(this.getBaseUrl(r),n)}getPrefix(){return this.config?.backend?.occ?.prefix&&!this.config.backend.occ.prefix.startsWith("/")?"/"+this.config.backend.occ.prefix:this.config?.backend?.occ?.prefix??""}};e.\u0275fac=function(r){return new(r||e)(d(Cr),d(Ds,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u3=(()=>{let e=class e{constructor(n,r,s){this.clientTokenService=n,this.clientErrorHandlingService=r,this.occEndpoints=s}intercept(n,r){let s=this.isClientTokenRequest(n);return s&&(n=bc.removeHeader(WC,n)),this.getClientToken(s).pipe(ie(1),O(o=>(o?.access_token&&n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n).pipe(F(a=>{if(a instanceof Wt&&a.status===401&&s&&this.isExpiredToken(a))return this.clientErrorHandlingService.handleExpiredClientToken(n,r);throw a})))))}getClientToken(n){return n?this.clientTokenService.getClientToken():I(void 0)}isClientTokenRequest(n){return!!bc.getInterceptorParam(WC,n.headers)}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(zO),d(a3),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l3=[{provide:mn,useExisting:u3,multi:!0}],Po=function(t){return t.NO_STORAGE="NO_STORAGE",t.LOCAL_STORAGE="LOCAL_STORAGE",t.SESSION_STORAGE="SESSION_STORAGE",t}(Po||{}),Wo=function(t){return t.TRANSFER_STATE="SSR",t}(Wo||{});function Mx(t,e){let i;switch(t){case Po.LOCAL_STORAGE:{i=e.localStorage;break}case Po.SESSION_STORAGE:{i=e.sessionStorage;break}case Po.NO_STORAGE:{i=void 0;break}default:i=e.sessionStorage}return i}function d3(t,e,i){!GO(i)&&e&&i.setItem(t,JSON.stringify(e))}function xx(t,e){if(GO(t))return;let i=t.getItem(e);if(i)return JSON.parse(i)}function GO(t){return!t}var ng=(()=>{let e=class e{constructor(n){this.winRef=n}syncWithStorage({key:n,state$:r,context$:s=I(""),storageType:o=Po.LOCAL_STORAGE,onRead:a=()=>{}}){let c=Mx(o,this.winRef),u=new Ee;return u.add(s.pipe(y(l=>c?xx(c,this.generateKeyWithContext(l,n)):void 0),L(l=>a(l))).subscribe()),c&&u.add(r.pipe(st(s)).subscribe(([l,f])=>{d3(this.generateKeyWithContext(f,n),l,c)})),u}readStateFromStorage({key:n,context:r="",storageType:s=Po.LOCAL_STORAGE}){let o=Mx(s,this.winRef);if(o)return xx(o,this.generateKeyWithContext(r,n))}generateKeyWithContext(n,r){return`spartacus\u26BF${[].concat(n).join("\u26BF")}\u26BF${r}`}};e.\u0275fac=function(r){return new(r||e)(d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),WO=(()=>{let e=class e{constructor(n,r,s,o){this.statePersistenceService=n,this.userIdService=r,this.authStorageService=s,this.authRedirectStorageService=o,this.subscription=new Ee,this.key="auth"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return _e([this.authStorageService.getToken().pipe(x(n=>!!n),y(n=>v({},n))),this.userIdService.getUserId(),this.authRedirectStorageService.getRedirectUrl()]).pipe(y(([n,r,s])=>{let o=n;return o&&(o=v({},o),delete o.refresh_token),{token:o,userId:r,redirectUrl:s}}))}onRead(n){n?.token&&this.authStorageService.setToken(n.token),n?.redirectUrl&&this.authRedirectStorageService.setRedirectUrl(n.redirectUrl),n?.userId?this.userIdService.setUserId(n.userId):this.userIdService.clearUserId()}readStateFromStorage(){return this.statePersistenceService.readStateFromStorage({key:this.key})}isUserLoggedIn(){return!!this.readStateFromStorage()?.token?.access_token}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(ng),d(Sn),d(Fc),d(FO))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QC="cx-state";function f3(t,e,i,n){if(e&&i?.state?.ssrTransfer?.keys){if(Fn(t))return p3(e,i.state.ssrTransfer.keys,!!n?.isUserLoggedIn());if(ns(t))return h3(e,i.state.ssrTransfer.keys)}return r=>r}function h3(t,e){let i=EO(e,Wo.TRANSFER_STATE);return function(n){return function(r,s){let o=n(r,s);if(o){let a=iI(i,[],o);t.set(QC,a)}return o}}}function p3(t,e,i){let n=EO(e,Wo.TRANSFER_STATE);return function(r){return function(s,o){if(o.type===Dd){if(s||(s=r(s,o)),!i&&t.hasKey(QC)){let a=t.get(QC,{}),c=iI(n,[],a);s=Et({},s,c)}return s}return r(s,o)}}}var Ox=new S("TransferStateMetaReducer"),g3=[{provide:Ox,useFactory:f3,deps:[$e,[new dn,Oa],[new dn,Ut],[new dn,WO]]},{provide:uo,useExisting:Ox,multi:!0}],Ri=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...g3]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function q(t,e){if(t instanceof Df)return t;if(t instanceof Wt){let i=new Df;return i.message=t.message,i.status=t.status,i.statusText=t.statusText,i.url=t.url,Array.isArray(t.error.errors)?i.details=t.error.errors:typeof t.error.error=="string"&&(i.details=[{type:t.error.error,message:t.error.error_description}]),i}me()&&e.error("Error passed to normalizeHttpError is not HttpErrorResponse instance",t)}var m3=(()=>{let e=class e{constructor(n,r){this.http=n,this.authConfigService=r}loadClientAuthenticationToken(){let n=this.authConfigService.getTokenEndpoint(),r=new ze().set("client_id",encodeURIComponent(this.authConfigService.getClientId())).set("client_secret",encodeURIComponent(this.authConfigService.getClientSecret())).set("grant_type","client_credentials"),s=new le({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post(n,r,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Kp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),v3=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.clientAuthenticationTokenService=r,this.logger=C(Q),this.loadClientToken$=W(()=>this.actions$.pipe(k(HO),Xn(()=>this.clientAuthenticationTokenService.loadClientAuthenticationToken().pipe(y(s=>new YC(s)),F(s=>I(new qC(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(m3))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),y3=[v3];function E3(){return{clientToken:ut(tg)}}var qO=new S("ClientAuthReducers"),C3={provide:qO,useFactory:E3},S3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[C3],imports:[Ze,Ri,fr.forFeature(VO,qO),Hr.forFeature(y3)]});let t=e;return t})(),I3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...l3]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,S3]});let t=e;return t})(),rg=new S("ConfigInitializer"),YO=new S("CONFIG_INITIALIZER_FORROOT_GUARD"),$n=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.initializerGuard=r,this.rootConfig=s,this.logger=C(Q),this.ongoingScopes$=new Te(void 0)}get isStable(){return!this.initializerGuard||this.ongoingScopes$.value?.length===0}getStable(...n){return this.isStable?I(this.config):this.ongoingScopes$.pipe(x(r=>!!r&&this.areReady(n,r)),ie(1),y(()=>this.config))}finishScopes(n){let r=[...this.ongoingScopes$.value??[]];for(let s of n)r.splice(r.indexOf(s),1);this.ongoingScopes$.next(r)}areReady(n,r){if(!n.length)return!r.length;for(let s of n)for(let o of r)if(this.scopesOverlap(s,o))return!1;return!0}scopesOverlap(n,r){return r.length>n.length&&([n,r]=[r,n]),n.startsWith(r)&&(n[r.length]||".")==="."}initialize(n){return rt(this,null,function*(){if(this.ongoingScopes$.value)return;let r=[],s=[];for(let o of n||[])if(o){if(!o.scopes||!o.scopes.length)throw new Error("CONFIG_INITIALIZER should provide scope!");me()&&!this.areReady(o.scopes,r)&&this.logger.warn("More than one CONFIG_INITIALIZER is initializing the same config scope."),r.push(...o.scopes),s.push(rt(this,null,function*(){let a=yield o.configFactory();Et(this.rootConfig,a),Et(this.config,a),this.finishScopes(o.scopes)}))}this.ongoingScopes$.next(r),s.length&&(yield Promise.all(s))})}};e.\u0275fac=function(r){return new(r||e)(d(Ut),d(YO,8),d(BS))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KO=new S("ConfigurationValidator");function yI(t){return{provide:KO,useValue:t,multi:!0}}function D3(t,e,i){for(let n of e){let r=n(t);r&&i.warn(r)}}function b3(t){if(typeof t?.authentication?.baseUrl>"u"&&typeof t?.backend?.occ?.baseUrl>"u"&&t?.authentication?.OAuthLibConfig?.requireHttps!==!1)return"Authentication might not work correctly without setting either authentication.baseUrl or backend.occ.baseUrl configuration option! Workaround: To support relative urls in angular-oauth2-oidc library you can try setting authentication.OAuthLibConfig.requireHttps to false."}var w3={authentication:{client_id:"mobile_android",client_secret:"secret",tokenEndpoint:"/oauth/token",revokeEndpoint:"/oauth/revoke",loginUrl:"/oauth/authorize",OAuthLibConfig:{scope:"",customTokenParameters:["token_type"],strictDiscoveryDocumentValidation:!1,skipIssuerCheck:!0,disablePKCE:!0,oidc:!1,clearHashAfterLogin:!1}}};function bi(t,e){return Object.assign(new t,e)}var Qr=(()=>{let e=class e{};e.type="CxEvent";let t=e;return t})(),Nx=(()=>{let e=class e extends Qr{};e.type="LogoutEvent";let t=e;return t})(),T3=(()=>{let e=class e extends Qr{};e.type="LoginEvent";let t=e;return t})(),JC=class{constructor(){this.sources=[],this.subscriptionsToSources=new Map,this.output$=new z(e=>(this.consumer=e,this.bindAllSourcesToConsumer(e),()=>{this.consumer=null,this.unbindAllSourcesFromConsumer()})).pipe(Os()),this.consumer=null}add(e){this.has(e)||(this.consumer&&this.bindSourceToConsumer(e,this.consumer),this.sources.push(e))}bindAllSourcesToConsumer(e){this.sources.forEach(i=>this.bindSourceToConsumer(i,e))}unbindAllSourcesFromConsumer(){this.sources.forEach(e=>this.unbindSourceFromConsumer(e))}bindSourceToConsumer(e,i){let n=e.subscribe(r=>i.next(r));this.subscriptionsToSources.set(e,n)}unbindSourceFromConsumer(e){let i=this.subscriptionsToSources.get(e);i!==void 0&&(i.unsubscribe(),this.subscriptionsToSources.delete(e))}remove(e){this.unbindSourceFromConsumer(e);let i;(i=this.sources.findIndex(n=>n===e))!==-1&&this.sources.splice(i,1)}has(e){return this.sources.includes(e)}},bs=(()=>{let e=class e{constructor(){this.logger=C(Q),this.eventsMeta=new Map}register(n,r){let s=this.getEventMeta(n);return s.mergingSubject.has(r)?me()&&this.logger.warn("EventService: the event source",r,"has been already registered for the type",n):s.mergingSubject.add(r),()=>s.mergingSubject.remove(r)}get(n){let r=this.getEventMeta(n).mergingSubject.output$;return me()&&(r=this.getValidatedEventStream(r,n)),r}dispatch(n,r){r?n instanceof r||(n=bi(r,n)):r=n.constructor,this.getInputSubject(r).next(n)}getInputSubject(n){let r=this.getEventMeta(n);return r.inputSubject$||(r.inputSubject$=new re,this.register(n,r.inputSubject$)),r.inputSubject$}getEventMeta(n){return this.eventsMeta.get(n)||(me()&&this.validateEventType(n),this.createEventMeta(n)),this.eventsMeta.get(n)}createEventMeta(n){let r={inputSubject$:null,mergingSubject:new JC};this.eventsMeta.set(n,r);let s=Object.getPrototypeOf(n);for(;s!==null&&Object.getPrototypeOf(s)!==Object.getPrototypeOf({});)this.register(s,r.mergingSubject.output$),s=Object.getPrototypeOf(s)}validateEventType(n){if(!n?.constructor)throw new Error(`EventService:  ${n} is not a valid event type. Please provide a class reference.`);this.validateCxEvent(n)}validateCxEvent(n){let r=n;for(;r!==null&&Object.getPrototypeOf(r)!==Object.getPrototypeOf({});){if(r.type===Qr.type)return;r=Object.getPrototypeOf(r)}this.logger.warn(`The ${n.name} (or one of its parent classes) does not inherit from the ${Qr.type}`)}getValidatedEventStream(n,r){return n.pipe(L(s=>{s instanceof r||this.logger.warn("EventService: The stream",n,"emitted the event",s,"that is not an instance of the declared type",r.name)}))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZO=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r}register(n){return this.eventService.register(n.event,this.getFromAction(n))}getFromAction(n){return this.actionsSubject.pipe(k(...[].concat(n.action))).pipe(y(r=>this.createEvent(r,n.event,n.factory)))}createEvent(n,r,s){return s?s(n):bi(r,n.payload??{})}};e.\u0275fac=function(r){return new(r||e)(d(Vr),d(bs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),A3=(()=>{let e=class e{constructor(n,r,s){this.stateEventService=n,this.eventService=r,this.authService=s,this.register()}register(){this.registerLoginEvent(),this.registerLogoutEvent()}registerLoginEvent(){this.stateEventService.register({action:jn,event:T3})}registerLogoutEvent(){this.eventService.register(Nx,this.buildLogoutEvent())}buildLogoutEvent(){return this.authService.isUserLoggedIn().pipe(aa(),x(([n,r])=>n&&!r),y(()=>bi(Nx,{})))}};e.\u0275fac=function(r){return new(r||e)(d(ZO),d(bs),d(Hn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),R3=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(A3))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Ue=function(t){return t.MSG_TYPE_CONFIRMATION="[GlobalMessage] Confirmation",t.MSG_TYPE_ERROR="[GlobalMessage] Error",t.MSG_TYPE_INFO="[GlobalMessage] Information",t.MSG_TYPE_WARNING="[GlobalMessage] Warning",t.MSG_TYPE_ASSISTIVE="[GlobalMessage] Assistive",t}(Ue||{}),Yf="[Global-message] Add a Message",QO="[Global-message] Remove a Message",JO="[Global-message] Remove messages by type",XC=class{constructor(e){this.payload=e,this.type=Yf}},wc=class{constructor(e){this.payload=e,this.type=QO}},Kf=class{constructor(e){this.payload=e,this.type=JO}};var XO="global-message",M3=_n(XO),eN=A(M3,t=>t.entities),tN=t=>A(eN,e=>e&&e[t]),x3=t=>A(tN(t),e=>e&&e.length);var qo=(()=>{let e=class e{constructor(n){this.store=n}get(){return this.store.pipe(M(eN),x(Cn))}add(n,r,s){this.store.dispatch(new XC({text:typeof n=="string"?{raw:n}:n,type:r,timeout:s}))}remove(n,r){this.store.dispatch(r!==void 0?new wc({type:n,index:r}):new Kf(n))}};e.\u0275fac=function(r){return new(r||e)(d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O3=(()=>{let e=class e{constructor(n,r,s,o,a,c,u){this.authService=n,this.authStorageService=r,this.oAuthLibWrapperService=s,this.routingService=o,this.occEndpoints=a,this.globalMessageService=c,this.authRedirectService=u,this.refreshTokenTrigger$=new re,this.token$=this.authStorageService.getToken().pipe(y(l=>l?.access_token?l:void 0)),this.stopProgress$=this.token$.pipe(aa(),L(([l,f])=>{l?.access_token!==f?.access_token&&(this.authService.setLogoutProgress(!1),this.authService.setRefreshProgress(!1))})),this.refreshToken$=this.refreshTokenTrigger$.pipe(st(this.authService.refreshInProgress$,this.authService.logoutInProgress$),x(([,l,f])=>!l&&!f),L(([l])=>{l?.refresh_token?(this.oAuthLibWrapperService.refreshToken(),this.authService.setRefreshProgress(!0)):this.handleExpiredRefreshToken()})),this.tokenToRetryRequest$=_i(()=>this.refreshToken$.subscribe(),()=>this.getStableToken()).pipe(it({refCount:!0,bufferSize:1})),this.subscriptions=new Ee,this.subscriptions.add(this.stopProgress$.subscribe())}shouldCatchError(n){return this.isOccUrl(n.url)}shouldAddAuthorizationHeader(n){let r=!!this.getAuthorizationHeader(n),s=this.isOccUrl(n.url);return!r&&s}alterRequest(n,r){let s=!!this.getAuthorizationHeader(n),o=this.isBaseSitesRequest(n),a=this.isOccUrl(n.url);return!s&&a&&!o?n.clone({setHeaders:v({},this.createAuthorizationHeader(r))}):n}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}isBaseSitesRequest(n){return n.url.includes(this.occEndpoints.getRawEndpointValue("baseSites"))}getAuthorizationHeader(n){return n.headers.get("Authorization")}createAuthorizationHeader(n){if(n?.access_token)return{Authorization:`${n.token_type||"Bearer"} ${n.access_token}`};let r;return this.authStorageService.getToken().subscribe(s=>r=s).unsubscribe(),r?.access_token?{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}:{}}handleExpiredAccessToken(n,r,s){return this.getValidToken(s).pipe(O(o=>o?r.handle(this.createNewRequestWithNewToken(n,o)):pe))}handleExpiredRefreshToken(){this.authRedirectService.saveCurrentNavigationUrl(),this.authService.coreLogout().finally(()=>{this.routingService.go({cxRoute:"login"}),this.globalMessageService.add({key:"httpHandlers.sessionExpired"},Ue.MSG_TYPE_ERROR)})}getStableToken(){return _e([this.token$,this.authService.refreshInProgress$,this.authService.logoutInProgress$]).pipe(Yt(Tr),x(([n,r,s])=>!r&&!s),O(()=>this.token$))}getValidToken(n){return qe(()=>{let r=!1;return this.tokenToRetryRequest$.pipe(L(s=>{s?.access_token===n?.access_token&&!r&&this.refreshTokenTrigger$.next(s),r=!0}),ku(s=>s?.access_token===n?.access_token),ie(1))})}createNewRequestWithNewToken(n,r){return n=n.clone({setHeaders:{Authorization:`${r.token_type||"Bearer"} ${r.access_token}`}}),n}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(Fc),d(xO),d(Ai),d(Qe),d(qo),d(aI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N3=(()=>{let e=class e{constructor(n,r){this.authHttpHeaderService=n,this.authConfigService=r}intercept(n,r){let s=this.authHttpHeaderService.shouldCatchError(n);return(this.authHttpHeaderService.shouldAddAuthorizationHeader(n)?this.authHttpHeaderService.getStableToken().pipe(ie(1)):I(void 0)).pipe(y(u=>({token:u,request:this.authHttpHeaderService.alterRequest(n,u)}))).pipe(O(({request:u,token:l})=>r.handle(u).pipe(F(f=>{switch(f.status){case 401:if(this.isExpiredToken(f)&&s)return this.authHttpHeaderService.handleExpiredAccessToken(u,r,l);if(this.errorIsInvalidToken(f))return this.authHttpHeaderService.handleExpiredRefreshToken(),pe;break;case 400:this.errorIsInvalidGrant(f)&&u.body.get("grant_type")==="refresh_token"&&this.authHttpHeaderService.handleExpiredRefreshToken();break}throw f}))))}errorIsInvalidToken(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_token")??!1}errorIsInvalidGrant(n){return(n.url?.includes(this.authConfigService.getTokenEndpoint())&&n.error.error==="invalid_grant")??!1}isExpiredToken(n){return n.error?.errors?.[0]?.type==="InvalidTokenError"}};e.\u0275fac=function(r){return new(r||e)(d(O3),d(Kp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P3=(()=>{let e=class e{constructor(n,r){this.authStorageService=n,this.authConfigService=r}intercept(n,r){let s=this.isTokenRevocationRequest(n);return this.authStorageService.getToken().pipe(ie(1),O(o=>(s&&(n=n.clone({setHeaders:{Authorization:`${o.token_type||"Bearer"} ${o.access_token}`}})),r.handle(n))))}isTokenRevocationRequest(n){return n.url===this.authConfigService.getRevokeEndpoint()}};e.\u0275fac=function(r){return new(r||e)(d(Fc),d(Kp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),F3=[{provide:mn,useExisting:N3,multi:!0},{provide:mn,useExisting:P3,multi:!0}],EI=new S("MULTI_LOCATION_INITIALIZED");function _3(t,e,i){return()=>Fn(i)?Jn(e.getStable().pipe(O(()=>t.checkOAuthParamsInUrl()))):Promise.resolve()}function L3(t){return()=>t.initSync()}var k3=()=>{let t=C(Hn),e=C($n),i=C($e),n=C(WO);return L3(n)(),_3(t,e,i)},U3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Bn(w3),yI(b3),...F3,{provide:fs,useExisting:Fc},{provide:EI,useFactory:k3,multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,VM.forRoot(),R3]});let t=e;return t})(),fue=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze,U3.forRoot(),I3.forRoot()]});let t=e;return t})(),j3=(()=>{let e=class e{constructor(n,r,s,o){this.authService=n,this.authRedirectService=r,this.router=s,this.semanticPathService=o}canActivate(){return this.authService.isUserLoggedIn().pipe(y(n=>n||(this.authRedirectService.saveCurrentNavigationUrl(),this.router.parseUrl(this.semanticPathService.get("login")??""))))}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(aI),d(Ne),d(_c))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hue=(()=>{let e=class e{constructor(n,r,s){this.authService=n,this.semanticPathService=r,this.router=s}canActivate(){return this.authService.isUserLoggedIn().pipe(y(n=>n?this.router.parseUrl(this.semanticPathService.get("home")??""):!n))}};e.\u0275fac=function(r){return new(r||e)(d(Hn),d(_c),d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nN=(()=>{let e=class e extends Cr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),$3=(()=>{let e=class e{constructor(n,r,s,o){this.anonymousConsentsService=n,this.authService=r,this.occEndpoints=s,this.config=o}intercept(n,r){return _e([this.anonymousConsentsService.getConsents(),this.authService.isUserLoggedIn()]).pipe(ie(1),O(([s,o])=>{if(!this.isOccUrl(n.url))return r.handle(n);let a=this.handleRequest(s,n);return r.handle(a).pipe(L(c=>{c instanceof rs&&(c.url??"").startsWith(this.occEndpoints.buildUrl("anonymousConsentTemplates"))&&this.handleResponse(o,c.headers.get(DC),s)}))}))}handleResponse(n,r,s){if(!n&&r){let o=[];o=this.anonymousConsentsService.decodeAndDeserialize(r),o=this.giveRequiredConsents(o),this.anonymousConsentsService.consentsUpdated(o,s)&&this.anonymousConsentsService.setConsents(o)}}handleRequest(n,r){if(!n)return r;let s=this.anonymousConsentsService.serializeAndEncode(n);return r.clone({setHeaders:{[DC]:s}})}isOccUrl(n){return n.includes(this.occEndpoints.getBaseUrl())}giveRequiredConsents(n){let r=[...n];if(this.config.anonymousConsents&&this.config.anonymousConsents.requiredConsents)for(let s of r)s.templateCode&&this.config.anonymousConsents.requiredConsents.includes(s.templateCode)&&(s.consentState=Lo.GIVEN);return r}};e.\u0275fac=function(r){return new(r||e)(d(Uc),d(Hn),d(Qe),d(nN))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B3=[{provide:mn,useExisting:$3,multi:!0}],CI="[User] Load Billing Countries",rN="[User] Load Billing Countries Fail",SI="[User] Load Billing Countries Success",Zf=class{constructor(){this.type=CI}},Qf=class{constructor(e){this.payload=e,this.type=rN}},Jf=class{constructor(e){this.payload=e,this.type=SI}},ae="process";function V3(){return _n(ae)}function ig(t){return A(V3(),e=>qt(e,t))}function Ii(t){return A(ig(t),e=>jt(e))}function qr(t){return A(ig(t),e=>Vn(e))}function Si(t){return A(ig(t),e=>zo(e))}var pue=Object.freeze({__proto__:null,getProcessErrorFactory:Si,getProcessLoadingFactory:Ii,getProcessStateFactory:ig,getProcessSuccessFactory:qr}),iN="user",H3="registerUser",gs="giveConsent",ms="withdrawConsent",jc="updateNotificationPreferences",ko="addProductInterests",Uo="removeProductInterests",$c="[User] User Consents",Sr="[User] User Payment Methods",rn="[User] User Addresses",sg="[User] User Cost Centers",Bc="[User] Regions",Vc="[User] Customer Coupons",vs="subscribeCustomerCoupon",ys="unsubscribeCustomerCoupon",Fo="claimCustomerCoupon",jo="disclaimCustomerCoupon",Hc="[User] Notification Preferences",zc="[User] Product Interests",II="[User] Load Customer Coupons",sN="[User] Load Customer Coupons Fail",DI="[User] Load Customer Coupons Success",oN="[User] Reset Load Customer Coupons",bI="[User] Subscribe Customer Notification Coupon",aN="[User] Subscribe Customer Coupon Notification Fail",wI="[User] Subscribe Customer Coupon Notification Success",cN="[User] Reset Subscribe Customer Coupon Process",TI="[User] Unsubscribe Customer Notification Coupon",uN="[User] Unsubscribe Customer Coupon Notification Fail",AI="[User] Unsubscribe Customer Coupon Notification Success",lN="[User] Reset Unsubscribe Customer Coupon Process",RI="[User] Claim Customer",dN="[User] Claim Customer Fail",fN="[User] Claim Customer Success",MI="[User] Disclaim Customer",hN="[User] Disclaim Customer Fail",pN="[User] Disclaim Customer Success",gN="[User] Reset Disclaim Customer",Xf=class extends lt{constructor(e){super(Vc),this.payload=e,this.type=II}},eh=class extends dt{constructor(e){super(Vc,e),this.payload=e,this.type=sN}},th=class extends ft{constructor(e){super(Vc),this.payload=e,this.type=DI}},eS=class extends Kr{constructor(){super(Vc),this.type=oN}},nh=class extends kt{constructor(e){super(ae,vs),this.payload=e,this.type=bI}},rh=class extends At{constructor(e){super(ae,vs,e),this.payload=e,this.type=aN}},ih=class extends ht{constructor(e){super(ae,vs,e),this.payload=e,this.type=wI}},tS=class extends Un{constructor(){super(ae,vs),this.type=cN}},sh=class extends kt{constructor(e){super(ae,ys),this.payload=e,this.type=TI}},oh=class extends At{constructor(e){super(ae,ys,e),this.payload=e,this.type=uN}},ah=class extends ht{constructor(e){super(ae,ys,e),this.payload=e,this.type=AI}},nS=class extends Un{constructor(){super(ae,ys),this.type=lN}},ch=class extends kt{constructor(e){super(ae,Fo),this.payload=e,this.type=RI}},uh=class extends kt{constructor(e){super(ae,jo),this.payload=e,this.type=MI}},lh=class extends Un{constructor(){super(ae,jo),this.type=gN}},dh=class extends At{constructor(e){super(ae,jo,e),this.payload=e,this.type=hN}},fh=class extends ht{constructor(e){super(ae,jo,e),this.payload=e,this.type=pN}},hh=class extends At{constructor(e){super(ae,Fo,e),this.payload=e,this.type=dN}},ph=class extends ht{constructor(e){super(ae,Fo,e),this.payload=e,this.type=fN}},xI="[User] Load Delivery Countries",mN="[User] Load Delivery Countries Fail",OI="[User] Load Delivery Countries Success",gh=class{constructor(){this.type=xI}},mh=class{constructor(e){this.payload=e,this.type=mN}},vh=class{constructor(e){this.payload=e,this.type=OI}},NI="[User] Load Notification Preferences",PI="[User] Load Notification Preferences Fail",FI="[User] Load Notification Preferences Success",_I="[User] Update Notification Preferences",vN="[User] Update Notification Preferences Fail",LI="[User] Update Notification Preferences Success",yN="[User] Reset Notification Preferences",EN="[User] Clear Notification Preferences",yh=class extends lt{constructor(e){super(Hc),this.payload=e,this.type=NI}},Eh=class extends dt{constructor(e){super(Hc,e),this.payload=e,this.type=PI}},Ch=class extends ft{constructor(e){super(Hc),this.payload=e,this.type=FI}},Sh=class extends kt{constructor(e){super(ae,jc),this.payload=e,this.type=_I}},Ih=class extends At{constructor(e){super(ae,jc,e),this.payload=e,this.type=vN}},Dh=class extends ht{constructor(e){super(ae,jc),this.payload=e,this.type=LI}},bh=class extends Un{constructor(){super(ae,jc),this.type=yN}},wh=class extends Kr{constructor(){super(Hc),this.type=EN}},kI="[User] Load User Payment Methods",UI="[User] Load User Payment Methods Fail",jI="[User] Load User Payment Methods Success",$I="[User] Set Default User Payment Method",CN="[User] Set Default User Payment Method Fail",SN="[User] Set Default User Payment Method Success",BI="[User] Delete User Payment Method",IN="[User] Delete User Payment Method Fail",DN="[User] Delete User  Payment Method Success",$o=class extends lt{constructor(e){super(Sr),this.payload=e,this.type=kI}},Th=class extends dt{constructor(e){super(Sr,e),this.payload=e,this.type=UI}},Ah=class extends ft{constructor(e){super(Sr),this.payload=e,this.type=jI}},Rh=class extends lt{constructor(e){super(Sr),this.payload=e,this.type=$I}},Mh=class extends dt{constructor(e){super(Sr,e),this.payload=e,this.type=CN}},xh=class extends ft{constructor(e){super(Sr),this.payload=e,this.type=SN}},Oh=class extends lt{constructor(e){super(Sr),this.payload=e,this.type=BI}},Nh=class extends dt{constructor(e){super(Sr,e),this.payload=e,this.type=IN}},Ph=class extends ft{constructor(e){super(Sr),this.payload=e,this.type=DN}},VI="Load Product Interests",HI="Load Product Interests Fail",zI="Load Product Interests Success",GI="Remove Product Interest",bN="Remove Product Interest Success",wN="Remove Product Interest Fail",WI="Add Product Interest",TN="Add Product Interest Fail",AN="Add Product Interest Success",RN="Add Product Interest Reset",MN="Remove Product Interest Reset",xN="Clear Product Interests",Bo=class extends lt{constructor(e){super(zc),this.payload=e,this.type=VI}},Fh=class extends dt{constructor(e){super(zc,e),this.payload=e,this.type=HI}},_h=class extends ft{constructor(e){super(zc),this.payload=e,this.type=zI}},Lh=class extends kt{constructor(e){super(ae,Uo),this.payload=e,this.type=GI}},kh=class extends ht{constructor(e){super(ae,Uo),this.payload=e,this.type=bN}},Uh=class extends At{constructor(e){super(ae,Uo,e),this.payload=e,this.type=wN}},jh=class extends kt{constructor(e){super(ae,ko),this.payload=e,this.type=WI}},$h=class extends ht{constructor(e){super(ae,ko),this.payload=e,this.type=AN}},Bh=class extends At{constructor(e){super(ae,ko,e),this.payload=e,this.type=TN}},Vh=class extends Un{constructor(){super(ae,ko),this.type=RN}},Hh=class extends Un{constructor(){super(ae,Uo),this.type=MN}},zh=class extends Kr{constructor(){super(zc),this.type=xN}},qI="[User] Load Regions",YI="[User] Load Regions Success",ON="[User] Load Regions Fail",KI="[User] Clear Regions",Gh=class extends lt{constructor(e){super(Bc),this.payload=e,this.type=qI}},Wh=class extends dt{constructor(e){super(Bc,e),this.payload=e,this.type=ON}},qh=class extends ft{constructor(e){super(Bc),this.payload=e,this.type=YI}},Yh=class{constructor(){this.type=KI}},ZI="[User] Load User Addresses",QI="[User] Load User Addresses Fail",JI="[User] Load User Addresses Success",og="[User] Add User Address",NN="[User] Add User Address Fail",XI="[User] Add User Address Success",ag="[User] Update User Address",PN="[User] Update User Address Fail",eD="[User] Update User Address Success",cg="[User] Delete User Address",FN="[User] Delete User Address Fail",tD="[User] Delete User Address Success",Kh=class extends lt{constructor(e){super(rn),this.payload=e,this.type=ZI}},Zh=class extends dt{constructor(e){super(rn,e),this.payload=e,this.type=QI}},Qh=class extends ft{constructor(e){super(rn),this.payload=e,this.type=JI}},Jh=class extends lt{constructor(e){super(rn),this.payload=e,this.type=og}},Xh=class extends dt{constructor(e){super(rn,e),this.payload=e,this.type=NN}},ep=class extends ft{constructor(e){super(rn),this.payload=e,this.type=XI}},Tc=class extends lt{constructor(e){super(rn),this.payload=e,this.type=ag}},tp=class extends dt{constructor(e){super(rn,e),this.payload=e,this.type=PN}},np=class extends ft{constructor(e){super(rn),this.payload=e,this.type=eD}},rp=class extends lt{constructor(e){super(rn),this.payload=e,this.type=cg}},ip=class extends dt{constructor(e){super(rn,e),this.payload=e,this.type=FN}},sp=class extends ft{constructor(e){super(rn),this.payload=e,this.type=tD}},nD="[User] Load User Consents",rD="[User] Load User Consents Success",_N="[User] Load User Consents Fail",LN="[User] Reset Load User Consents",iD="[User] Give User Consent",kN="[User] Give User Consent Fail",sD="[User] Give User Consent Success",UN="[User] Reset Give User Consent Process",op="[User] Transfer Anonymous Consent",oD="[User] Withdraw User Consent",jN="[User] Withdraw User Consent Fail",$N="[User] Withdraw User Consent Success",BN="[User] Reset Withdraw User Consent Process",ap=class extends lt{constructor(e){super($c),this.payload=e,this.type=nD}},cp=class extends dt{constructor(e){super($c,e),this.payload=e,this.type=_N}},up=class extends ft{constructor(e){super($c),this.payload=e,this.type=rD}},Ac=class extends Kr{constructor(){super($c),this.type=LN}},Rc=class extends kt{constructor(e){super(ae,gs),this.payload=e,this.type=iD}},lp=class extends At{constructor(e){super(ae,gs,e),this.type=kN}},dp=class extends ht{constructor(e){super(ae,gs),this.consentTemplate=e,this.type=sD}},fp=class extends Un{constructor(){super(ae,gs),this.type=UN}},hp=class{constructor(e){this.payload=e,this.type=op}},pp=class extends kt{constructor(e){super(ae,ms),this.payload=e,this.type=oD}},gp=class extends At{constructor(e){super(ae,ms,e),this.type=jN}},mp=class extends ht{constructor(){super(ae,ms),this.type=$N}},vp=class extends Un{constructor(){super(ae,ms),this.type=BN}},aD="[User] Load Active CostCenters",cD="[User] Load Active CostCenters Fail",uD="[User] Load Active CostCenters Success",yp=class extends lt{constructor(e){super(sg),this.payload=e,this.type=aD}},Ep=class extends dt{constructor(e){super(sg,e),this.payload=e,this.type=cD}},Cp=class extends ft{constructor(e){super(sg),this.payload=e,this.type=uD}},Gc="[User] Clear User Misc Data",Sp=class{constructor(){this.type=Gc}},lD="[User] Register User Success",rS=class extends ht{constructor(){super(ae,H3),this.type=lD}},gue=Object.freeze({__proto__:null,ADD_PRODUCT_INTEREST:WI,ADD_PRODUCT_INTEREST_FAIL:TN,ADD_PRODUCT_INTEREST_RESET:RN,ADD_PRODUCT_INTEREST_SUCCESS:AN,ADD_USER_ADDRESS:og,ADD_USER_ADDRESS_FAIL:NN,ADD_USER_ADDRESS_SUCCESS:XI,AddProductInterest:jh,AddProductInterestFail:Bh,AddProductInterestSuccess:$h,AddUserAddress:Jh,AddUserAddressFail:Xh,AddUserAddressSuccess:ep,CLAIM_CUSTOMER_COUPON:RI,CLAIM_CUSTOMER_COUPON_FAIL:dN,CLAIM_CUSTOMER_COUPON_SUCCESS:fN,CLEAR_NOTIFICATION_PREFERENCES:EN,CLEAR_PRODUCT_INTERESTS:xN,CLEAR_REGIONS:KI,CLEAR_USER_MISCS_DATA:Gc,ClaimCustomerCoupon:ch,ClaimCustomerCouponFail:hh,ClaimCustomerCouponSuccess:ph,ClearNotificationPreferences:wh,ClearProductInterests:zh,ClearRegions:Yh,ClearUserMiscsData:Sp,DELETE_USER_ADDRESS:cg,DELETE_USER_ADDRESS_FAIL:FN,DELETE_USER_ADDRESS_SUCCESS:tD,DELETE_USER_PAYMENT_METHOD:BI,DELETE_USER_PAYMENT_METHOD_FAIL:IN,DELETE_USER_PAYMENT_METHOD_SUCCESS:DN,DISCLAIM_CUSTOMER_COUPON:MI,DISCLAIM_CUSTOMER_COUPON_FAIL:hN,DISCLAIM_CUSTOMER_COUPON_SUCCESS:pN,DeleteUserAddress:rp,DeleteUserAddressFail:ip,DeleteUserAddressSuccess:sp,DeleteUserPaymentMethod:Oh,DeleteUserPaymentMethodFail:Nh,DeleteUserPaymentMethodSuccess:Ph,DisclaimCustomerCoupon:uh,DisclaimCustomerCouponFail:dh,DisclaimCustomerCouponSuccess:fh,GIVE_USER_CONSENT:iD,GIVE_USER_CONSENT_FAIL:kN,GIVE_USER_CONSENT_SUCCESS:sD,GiveUserConsent:Rc,GiveUserConsentFail:lp,GiveUserConsentSuccess:dp,LOAD_ACTIVE_COST_CENTERS:aD,LOAD_ACTIVE_COST_CENTERS_FAIL:cD,LOAD_ACTIVE_COST_CENTERS_SUCCESS:uD,LOAD_BILLING_COUNTRIES:CI,LOAD_BILLING_COUNTRIES_FAIL:rN,LOAD_BILLING_COUNTRIES_SUCCESS:SI,LOAD_CUSTOMER_COUPONS:II,LOAD_CUSTOMER_COUPONS_FAIL:sN,LOAD_CUSTOMER_COUPONS_SUCCESS:DI,LOAD_DELIVERY_COUNTRIES:xI,LOAD_DELIVERY_COUNTRIES_FAIL:mN,LOAD_DELIVERY_COUNTRIES_SUCCESS:OI,LOAD_NOTIFICATION_PREFERENCES:NI,LOAD_NOTIFICATION_PREFERENCES_FAIL:PI,LOAD_NOTIFICATION_PREFERENCES_SUCCESS:FI,LOAD_PRODUCT_INTERESTS:VI,LOAD_PRODUCT_INTERESTS_FAIL:HI,LOAD_PRODUCT_INTERESTS_SUCCESS:zI,LOAD_REGIONS:qI,LOAD_REGIONS_FAIL:ON,LOAD_REGIONS_SUCCESS:YI,LOAD_USER_ADDRESSES:ZI,LOAD_USER_ADDRESSES_FAIL:QI,LOAD_USER_ADDRESSES_SUCCESS:JI,LOAD_USER_CONSENTS:nD,LOAD_USER_CONSENTS_FAIL:_N,LOAD_USER_CONSENTS_SUCCESS:rD,LOAD_USER_PAYMENT_METHODS:kI,LOAD_USER_PAYMENT_METHODS_FAIL:UI,LOAD_USER_PAYMENT_METHODS_SUCCESS:jI,LoadActiveCostCenters:yp,LoadActiveCostCentersFail:Ep,LoadActiveCostCentersSuccess:Cp,LoadBillingCountries:Zf,LoadBillingCountriesFail:Qf,LoadBillingCountriesSuccess:Jf,LoadCustomerCoupons:Xf,LoadCustomerCouponsFail:eh,LoadCustomerCouponsSuccess:th,LoadDeliveryCountries:gh,LoadDeliveryCountriesFail:mh,LoadDeliveryCountriesSuccess:vh,LoadNotificationPreferences:yh,LoadNotificationPreferencesFail:Eh,LoadNotificationPreferencesSuccess:Ch,LoadProductInterests:Bo,LoadProductInterestsFail:Fh,LoadProductInterestsSuccess:_h,LoadRegions:Gh,LoadRegionsFail:Wh,LoadRegionsSuccess:qh,LoadUserAddresses:Kh,LoadUserAddressesFail:Zh,LoadUserAddressesSuccess:Qh,LoadUserConsents:ap,LoadUserConsentsFail:cp,LoadUserConsentsSuccess:up,LoadUserPaymentMethods:$o,LoadUserPaymentMethodsFail:Th,LoadUserPaymentMethodsSuccess:Ah,REGISTER_USER_SUCCESS:lD,REMOVE_PRODUCT_INTEREST:GI,REMOVE_PRODUCT_INTEREST_FAIL:wN,REMOVE_PRODUCT_INTEREST_RESET:MN,REMOVE_PRODUCT_INTEREST_SUCCESS:bN,RESET_DISCLAIM_CUSTOMER_COUPON:gN,RESET_GIVE_USER_CONSENT_PROCESS:UN,RESET_LOAD_CUSTOMER_COUPONS:oN,RESET_LOAD_USER_CONSENTS:LN,RESET_NOTIFICATION_PREFERENCES:yN,RESET_SUBSCRIBE_CUSTOMER_COUPON_PROCESS:cN,RESET_UNSUBSCRIBE_CUSTOMER_COUPON_PROCESS:lN,RESET_WITHDRAW_USER_CONSENT_PROCESS:BN,RegisterUserSuccess:rS,RemoveProductInterest:Lh,RemoveProductInterestFail:Uh,RemoveProductInterestSuccess:kh,ResetAddInterestState:Vh,ResetDisclaimCustomerCoupon:lh,ResetGiveUserConsentProcess:fp,ResetLoadCustomerCoupons:eS,ResetLoadUserConsents:Ac,ResetNotificationPreferences:bh,ResetRemoveInterestState:Hh,ResetSubscribeCustomerCouponProcess:tS,ResetUnsubscribeCustomerCouponProcess:nS,ResetWithdrawUserConsentProcess:vp,SET_DEFAULT_USER_PAYMENT_METHOD:$I,SET_DEFAULT_USER_PAYMENT_METHOD_FAIL:CN,SET_DEFAULT_USER_PAYMENT_METHOD_SUCCESS:SN,SUBSCRIBE_CUSTOMER_COUPON:bI,SUBSCRIBE_CUSTOMER_COUPON_FAIL:aN,SUBSCRIBE_CUSTOMER_COUPON_SUCCESS:wI,SetDefaultUserPaymentMethod:Rh,SetDefaultUserPaymentMethodFail:Mh,SetDefaultUserPaymentMethodSuccess:xh,SubscribeCustomerCoupon:nh,SubscribeCustomerCouponFail:rh,SubscribeCustomerCouponSuccess:ih,TRANSFER_ANONYMOUS_CONSENT:op,TransferAnonymousConsent:hp,UNSUBSCRIBE_CUSTOMER_COUPON:TI,UNSUBSCRIBE_CUSTOMER_COUPON_FAIL:uN,UNSUBSCRIBE_CUSTOMER_COUPON_SUCCESS:AI,UPDATE_NOTIFICATION_PREFERENCES:_I,UPDATE_NOTIFICATION_PREFERENCES_FAIL:vN,UPDATE_NOTIFICATION_PREFERENCES_SUCCESS:LI,UPDATE_USER_ADDRESS:ag,UPDATE_USER_ADDRESS_FAIL:PN,UPDATE_USER_ADDRESS_SUCCESS:eD,UnsubscribeCustomerCoupon:sh,UnsubscribeCustomerCouponFail:oh,UnsubscribeCustomerCouponSuccess:ah,UpdateNotificationPreferences:Sh,UpdateNotificationPreferencesFail:Ih,UpdateNotificationPreferencesSuccess:Dh,UpdateUserAddress:Tc,UpdateUserAddressFail:tp,UpdateUserAddressSuccess:np,WITHDRAW_USER_CONSENT:oD,WITHDRAW_USER_CONSENT_FAIL:jN,WITHDRAW_USER_CONSENT_SUCCESS:$N,WithdrawUserConsent:pp,WithdrawUserConsentFail:gp,WithdrawUserConsentSuccess:mp}),Ip=class{},z3=(()=>{let e=class e{constructor(n){this.adapter=n}loadAnonymousConsentTemplates(){return this.adapter.loadAnonymousConsentTemplates()}loadAnonymousConsents(){return this.adapter.loadAnonymousConsents()}};e.\u0275fac=function(r){return new(r||e)(d(Ip))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dp=class{},bp=class{},iS=new S("CmsPageNormalizer"),G3="JspIncludeComponent",W3="CMSFlexComponent";var q3=function(t){return t.DEFER="DEFERRED-LOADING",t.INSTANT="INSTANT-LOADING",t}(q3||{}),dD=(()=>{let e=class e extends Cr{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),Wr=function(t){return t.INDEX="INDEX",t.NOINDEX="NOINDEX",t.FOLLOW="FOLLOW",t.NOFOLLOW="NOFOLLOW",t}(Wr||{}),Mo;(function(t){let e;(function(g){g.INDEX_FOLLOW="INDEX_FOLLOW",g.NOINDEX_FOLLOW="NOINDEX_FOLLOW",g.INDEX_NOFOLLOW="INDEX_NOFOLLOW",g.NOINDEX_NOFOLLOW="NOINDEX_NOFOLLOW"})(e=t.PageRobots||(t.PageRobots={}));let i;(function(g){g.Success="SUCCESS",g.Info="INFO",g.Warning="WARNING",g.Error="ERROR"})(i=t.OrderEntryStatus||(t.OrderEntryStatus={}));let n;(function(g){g.BUY="BUY",g.FROM="FROM"})(n=t.PriceType||(t.PriceType={}));let r;(function(g){g.PRIMARY="PRIMARY",g.GALLERY="GALLERY"})(r=t.ImageType||(t.ImageType={}));let s;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(s=t.Fields||(t.Fields={}));let o;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(o=t.Fields1||(t.Fields1={}));let a;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(a=t.Fields2||(t.Fields2={}));let c;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(c=t.Fields3||(t.Fields3={}));let u;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(u=t.Fields4||(t.Fields4={}));let l;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(l=t.Fields5||(t.Fields5={}));let f;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(f=t.Fields6||(t.Fields6={}));let h;(function(g){g.CONTENT_PAGE="ContentPage",g.PRODUCT_PAGE="ProductPage",g.CATEGORY_PAGE="CategoryPage",g.CATALOG_PAGE="CatalogPage"})(h=t.PageType||(t.PageType={}));let p;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(p=t.Fields7||(t.Fields7={}));let E;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(E=t.Fields8||(t.Fields8={}));let b;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(b=t.Fields9||(t.Fields9={}));let w;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(w=t.Fields10||(t.Fields10={}));let R;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(R=t.Fields11||(t.Fields11={}));let V;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(V=t.Fields12||(t.Fields12={}));let U;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(U=t.Fields13||(t.Fields13={}));let H;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(H=t.Fields14||(t.Fields14={}));let te;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(te=t.Fields15||(t.Fields15={}));let ue;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ue=t.Fields16||(t.Fields16={}));let he;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(he=t.SortEnum||(t.SortEnum={}));let Pe;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Pe=t.Fields17||(t.Fields17={}));let xi;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(xi=t.Fields18||(t.Fields18={}));let zn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(zn=t.Fields19||(t.Fields19={}));let D;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(D=t.Fields20||(t.Fields20={}));let N;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(N=t.Fields21||(t.Fields21={}));let ne;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ne=t.Fields22||(t.Fields22={}));let ye;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(ye=t.Fields23||(t.Fields23={}));let we;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(we=t.Fields24||(t.Fields24={}));let fe;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fe=t.Fields25||(t.Fields25={}));let Dr;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(Dr=t.Fields26||(t.Fields26={}));let pt;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(pt=t.Fields27||(t.Fields27={}));let He;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(He=t.Fields28||(t.Fields28={}));let sn;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(sn=t.Fields29||(t.Fields29={}));let tu;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(tu=t.Fields30||(t.Fields30={}));let cF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(cF=t.Fields31||(t.Fields31={}));let uF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(uF=t.Fields32||(t.Fields32={}));let lF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(lF=t.Fields33||(t.Fields33={}));let dF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(dF=t.Fields34||(t.Fields34={}));let fF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(fF=t.Fields35||(t.Fields35={}));let hF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(hF=t.Fields36||(t.Fields36={}));let pF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(pF=t.Fields37||(t.Fields37={}));let gF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(gF=t.Fields38||(t.Fields38={}));let mF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(mF=t.Fields39||(t.Fields39={}));let vF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(vF=t.Fields40||(t.Fields40={}));let yF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(yF=t.Fields41||(t.Fields41={}));let EF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(EF=t.Fields42||(t.Fields42={}));let CF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(CF=t.Fields43||(t.Fields43={}));let SF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(SF=t.Fields44||(t.Fields44={}));let IF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(IF=t.Fields45||(t.Fields45={}));let DF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(DF=t.Fields46||(t.Fields46={}));let bF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(bF=t.Fields47||(t.Fields47={}));let wF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(wF=t.Fields48||(t.Fields48={}));let TF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(TF=t.Fields49||(t.Fields49={}));let AF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(AF=t.Fields50||(t.Fields50={}));let RF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(RF=t.Fields51||(t.Fields51={}));let MF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(MF=t.Fields52||(t.Fields52={}));let xF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(xF=t.Fields53||(t.Fields53={}));let OF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(OF=t.Fields54||(t.Fields54={}));let NF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(NF=t.Fields55||(t.Fields55={}));let PF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(PF=t.Fields56||(t.Fields56={}));let FF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(FF=t.Fields57||(t.Fields57={}));let _F;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(_F=t.Fields58||(t.Fields58={}));let LF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(LF=t.Fields59||(t.Fields59={}));let kF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(kF=t.Fields60||(t.Fields60={}));let UF;(function(g){g.BASIC="BASIC",g.DEFAULT="DEFAULT",g.FULL="FULL"})(UF=t.Fields61||(t.Fields61={}));let jF;(function(g){g.All="all",g.Product="product",g.Order="order"})(jF=t.Type||(t.Type={}));let $F;(function(g){g.ANONYMOUS_CONSENT_GIVEN="GIVEN",g.ANONYMOUS_CONSENT_WITHDRAWN="WITHDRAWN"})($F=t.CONSENT_STATUS||(t.CONSENT_STATUS={}));let BF;(function(g){g.BACK_IN_STOCK="BACK_IN_STOCK"})(BF=t.NotificationType||(t.NotificationType={}));let VF;(function(g){g.DAY="DAY",g.WEEK="WEEK",g.MONTH="MONTH",g.QUARTER="QUARTER",g.YEAR="YEAR"})(VF=t.Period||(t.Period={}));let HF;(function(g){g.MONDAY="MONDAY",g.TUESDAY="TUESDAY",g.WEDNESDAY="WEDNESDAY",g.THURSDAY="THURSDAY",g.FRIDAY="FRIDAY",g.SATURDAY="SATURDAY",g.SUNDAY="SUNDAY"})(HF=t.DaysOfWeek||(t.DaysOfWeek={}));let zF;(function(g){g.APPROVE="APPROVE",g.REJECT="REJECT"})(zF=t.OrderApprovalDecisionValue||(t.OrderApprovalDecisionValue={}))})(Mo||(Mo={}));var Y3=(()=>{let e=class e{convert(n,r={}){return this.normalizePageData(n,r),this.normalizePageSlotData(n,r),this.normalizePageComponentData(n,r),this.normalizeComponentData(n,r),r}normalizePageData(n,r){if(!n)return;let s={};n.name&&(s.name=n.name),n.typeCode&&(s.type=n.typeCode),n.label&&(s.label=n.label),n.template&&(s.template=n.template),n.uid&&(s.pageId=n.uid),n.title&&(s.title=n.title),n.description&&(s.description=n.description),n.properties&&(s.properties=n.properties),this.normalizeRobots(n,s),r.page=s}normalizePageSlotData(n,r){if(n?.contentSlots){n.contentSlots.contentSlot&&!Array.isArray(n.contentSlots.contentSlot)&&(n.contentSlots.contentSlot=[n.contentSlots.contentSlot]),r.page=r.page??{},r.page.slots={};for(let s of n.contentSlots.contentSlot??[])s.position&&(r.page.slots[s.position]={},s.properties&&(r.page.slots[s.position].properties=s.properties))}}normalizePageComponentData(n,r){if(n?.contentSlots?.contentSlot){for(let s of n.contentSlots.contentSlot)if(Array.isArray(s.components?.component))for(let o of s.components?.component??[]){let a={uid:o.uid,typeCode:o.typeCode,flexType:this.getFlexTypeFromComponent(o),properties:this.getComponentProperties(o.properties)};if(s.position){let c=r.page?.slots?.[s.position];c&&(c.components||(c.components=[]),c.components.push(a))}}}}getComponentProperties(n){return n||void 0}getFlexTypeFromComponent(n){return n.typeCode===W3?n.flexType:n.typeCode===G3?n.uid:n.typeCode}normalizeComponentData(n,r){if(n?.contentSlots?.contentSlot)for(let s of n.contentSlots.contentSlot)for(let o of s.components?.component??[])o.modifiedtime&&(o.modifiedTime=o.modifiedtime,delete o.modifiedtime),o.properties&&(o.properties=void 0),r.components||(r.components=[]),r.components.push(o)}normalizeRobots(n,r){let s=[];if(n.robotTag)switch(n.robotTag){case Mo.PageRobots.INDEX_FOLLOW:s.push(Wr.INDEX),s.push(Wr.FOLLOW);break;case Mo.PageRobots.NOINDEX_FOLLOW:s.push(Wr.NOINDEX),s.push(Wr.FOLLOW);break;case Mo.PageRobots.INDEX_NOFOLLOW:s.push(Wr.INDEX),s.push(Wr.NOFOLLOW);break;case Mo.PageRobots.NOINDEX_NOFOLLOW:s.push(Wr.NOINDEX),s.push(Wr.NOFOLLOW);break}r.robots=s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vf=new S("CmsComponentNormalizer"),K3=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})();function VN(t){return typeof t=="object"&&!!t.features}function Px(t,e){if(t==="*")return!0;let i=t.split("."),n=e.split(".");for(let r=0;r<n.length;r++){let s=Number(n[r]),o=Number(i[r])||0;if(s!==o)return o>s}return!0}function HN(t,e){return VN(t)&&t.features.level?e.startsWith("!")?!Px(t.features.level,e.substring(1)):Px(t.features.level,e):!1}function zN(t,e){if(VN(t)){let i=e[0]==="!"?t.features[e.substring(1)]:t.features[e],n=typeof i=="string"?HN(t,i):i;return e.startsWith("!")?!n:!!n}return!1}var ug=(()=>{let e=class e{constructor(n){this.config=n}isLevel(n){return HN(this.config,n)}isEnabled(n){return zN(this.config,n)}};e.\u0275fac=function(r){return new(r||e)(d(K3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mue=(()=>{let e=class e{constructor(n,r,s){this.templateRef=n,this.viewContainer=r,this.featureConfig=s,this.hasView=!1}set cxFeature(n){this.featureConfig.isEnabled(n)&&!this.hasView?(this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!this.featureConfig.isEnabled(n)&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1)}};e.\u0275fac=function(r){return new(r||e)(X(On),X(zt),X(ug))},e.\u0275dir=Ft({type:e,selectors:[["","cxFeature",""]],inputs:{cxFeature:"cxFeature"}});let t=e;return t})(),vue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:()=>Object.assign({},C(GN),C(WN)),providedIn:"root"});let t=e;return t})(),GN=new S("DefaultFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(YN,{optional:!0})??[])}),WN=new S("RootFeatureToggles",{providedIn:"root",factory:()=>Object.assign({},...C(qN,{optional:!0})??[])}),qN=new S("FeatureTogglesChunk",{providedIn:"root",factory:()=>[]}),YN=new S("DefaultFeatureTogglesChunk",{providedIn:"root",factory:()=>[]});function yue(t={}){return{provide:qN,useValue:t,multi:!0}}function Z3(t={}){return{provide:YN,useValue:t,multi:!0}}var Q3={showDeliveryOptionsTranslation:!1,formErrorsDescriptiveMessages:!0,showSearchingCustomerByOrderInASM:!1,showStyleChangesInASM:!1,shouldHideAddToCartForUnpurchasableProducts:!1,useExtractedBillingAddressComponent:!1,showBillingAddressInDigitalPayments:!1,showDownloadProposalButton:!1,showPromotionsInPDP:!1,recentSearches:!1,pdfInvoicesSortByInvoiceDate:!1,storeFrontLibCardParagraphTruncated:!1,useProductCarouselBatchApi:!1,productConfiguratorAttributeTypesV2:!1,productConfiguratorDeltaRendering:!1,a11yRequiredAsterisks:!1,a11yQuantityOrderTabbing:!1,a11yNavigationUiKeyboardControls:!1,a11yNavMenuExpandStateReadout:!1,a11yOrderConfirmationHeadingOrder:!1,a11yStarRating:!1,a11yViewChangeAssistiveMessage:!1,a11yReorderDialog:!1,a11yPopoverFocus:!1,a11yScheduleReplenishment:!1,a11yScrollToTop:!1,a11ySavedCartsZoom:!1,a11ySortingOptionsTruncation:!1,a11yExpandedFocusIndicator:!1,a11yCheckoutDeliveryFocus:!1,a11yMobileVisibleFocus:!1,a11yOrganizationsBanner:!1,a11yOrganizationListHeadingOrder:!1,a11yReplenishmentOrderFieldset:!1,a11yListOversizedFocus:!1,a11yStoreFinderOverflow:!1,a11yCartSummaryHeadingOrder:!1,a11ySearchBoxMobileFocus:!1,a11yFacetKeyboardNavigation:!1,a11yUnitsListKeyboardControls:!1,a11yCartItemsLinksStyles:!1,a11yHideSelectBtnForSelectedAddrOrPayment:!1,a11yFocusableCarouselControls:!1,cmsGuardsServiceUseGuardsComposer:!1,cartQuickOrderRemoveListeningToFailEvent:!1,a11yKeyboardAccessibleZoom:!1,a11yOrganizationLinkableCells:!1,a11yVisibleFocusOverflows:!1,a11yTruncatedTextForResponsiveView:!1,a11ySemanticPaginationLabel:!1,a11yPreventCartItemsFormRedundantRecreation:!1,a11yPreventSRFocusOnHiddenElements:!1,a11yMyAccountLinkOutline:!1,a11yCloseProductImageBtnFocus:!1,a11yNotificationPreferenceFieldset:!1,a11yImproveContrast:!1,a11yEmptyWishlistHeading:!1,a11yScreenReaderBloatFix:!1,a11yUseButtonsForBtnLinks:!1,a11yNotificationsOnConsentChange:!1,a11yDisabledCouponAndQuickOrderActionButtonsInsteadOfRequiredFields:!1,a11yFacetsDialogFocusHandling:!1,a11yStoreFinderAlerts:!1,a11yFormErrorMuteIcon:!1,a11yCxMessageFocus:!1,a11yLinkBtnsToTertiaryBtns:!1,a11yRepeatedPageTitleFix:!1,a11yDeliveryModeRadiogroup:!1,a11yNgSelectOptionsCount:!1,a11yRepeatedCancelOrderError:!1,a11yAddedToCartActiveDialog:!1,a11yNgSelectMobileReadout:!1,occCartNameAndDescriptionInHttpRequestBody:!1,cmsBottomHeaderSlotUsingFlexStyles:!1};function J3(t,e){return()=>t.initialize(e)}var X3=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:YO,useValue:!0},{provide:wt,multi:!0,useFactory:J3,deps:[$n,[new dn,rg]]},{provide:EI,useFactory:()=>{let n=C($n);return()=>Jn(n.getStable())},multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function eW(t,e){let i=C(Q);return()=>{me()&&t.getStable().subscribe(n=>D3(n,e||[],i))}}var tW=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,multi:!0,useFactory:eW,deps:[$n,[new dn,KO]]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),yf={},sS=class{constructor(e,i){this.mainInjector=e,this.complementaryInjectors=i}get(e,i,n){if(n&&n.self){if(i!==void 0)return i;throw new Error("CombinedInjector should be used as a parent injector / doesn't support self dependencies")}for(let r of this.complementaryInjectors){let s=r.get(e,yf,{self:!0});if(s!==yf)return s}for(let r of this.complementaryInjectors){let s=r.get(e,yf);if(s!==yf)return s}return this.mainInjector.get(e,i)}},pC=(()=>{let e=class e extends Qr{};e.type="ModuleInitializedEvent";let t=e;return t})(),KN=new S("MODULE_INITIALIZER"),fD=(()=>{let e=class e{constructor(n,r,s){this.compiler=n,this.injector=r,this.events=s,this.logger=C(Q),this.modules$=Nu(this.events.get(pC).pipe(y(o=>o.moduleRef)),{connector:()=>new on,resetOnDisconnect:!1}),this.dependencyModules=new Map,this.eventSubscription=this.modules$.connect()}resolveModuleInstance(n,r,s=[]){let o;return s.length?s.length===1?o=s[0].injector:o=new sS(this.injector,s.map(a=>a.injector)):o=this.injector,this.resolveModuleFactory(n).pipe(y(([a])=>a.create(o)),je(a=>this.runModuleInitializersForModule(a)),L(a=>this.events.dispatch(bi(pC,{feature:r,moduleRef:a}))))}resolveDependencyModuleInstance(n){return this.resolveModuleFactory(n).pipe(y(([r,s])=>{if(!this.dependencyModules.has(s)){let o=r.create(this.injector);this.dependencyModules.set(s,o)}return this.dependencyModules.get(s)}),je(r=>this.runModuleInitializersForModule(r)),L(r=>this.events.dispatch(bi(pC,{moduleRef:r}))))}runModuleInitializersForModule(n){let r=n.injector.get(KN,[],{self:!0}),s=this.runModuleInitializerFunctions(r);return s.length?ge(Promise.all(s)).pipe(L({error:o=>{this.logger.error("MODULE_INITIALIZER promise was rejected while lazy loading a module.",o)}}),O(()=>I(n))):I(n)}runModuleInitializerFunctions(n){let r=[];try{if(n)for(let s=0;s<n.length;s++){let o=n[s]();this.isObjectPromise(o)&&r.push(o)}return r}catch(s){throw this.logger.error("MODULE_INITIALIZER init function throwed an error. ",s),s}}isObjectPromise(n){return!!n&&typeof n.then=="function"}resolveModuleFactory(n){return ge(n()).pipe(O(r=>r instanceof Zi?I([r,r]):_e([ge(this.compiler.compileModuleAsync(r)),I(r)])),Yt(Tr))}ngOnDestroy(){this.eventSubscription&&this.eventSubscription.unsubscribe(),this.dependencyModules.forEach(n=>n.destroy())}};e.\u0275fac=function(r){return new(r||e)(d(so),d(Ye),d(bs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fx={},Wc=(()=>{let e=class e{constructor(n,r){this.rootInjector=n,this.lazyModules=r,this.injectors$=this.lazyModules.modules$.pipe(y(s=>s.injector),Qn(this.rootInjector))}get(n,r){return this.injectors$.pipe(y((s,o)=>s.get(n,r??Fx,o?{self:!0}:void 0)),x(s=>s!==Fx))}getMulti(n){return this.get(n,[]).pipe(x(r=>{if(!Array.isArray(r))throw new Error(`Multi-providers mixed with single providers for ${n.toString()}!`);return r.length>0}),Ui((r,s)=>[...r,...s],[]))}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(fD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nW=(()=>{let e=class e{constructor(n,r,s,o){this.rootConfig=n,this.defaultConfig=r,this.unifiedInjector=s,this.ambientDefaultConfig={},this.ambientConfig={},this.config=o,this.unifiedConfig$=new Te(o),this.subscription=this.feedUnifiedConfig().subscribe()}feedUnifiedConfig(){let n=this.unifiedInjector.get(xc,[]),r=this.unifiedInjector.get(Vo,[]);return Li(n,r).pipe(Og(1),L(([s,o])=>this.processConfig(s,o)))}processConfig(n,r){r?.length&&Et(this.ambientDefaultConfig,...r),n.length&&Et(this.ambientConfig,...n),(n.length||r.length)&&this.emitUnifiedConfig()}emitUnifiedConfig(){let n=Et({},this.defaultConfig,this.ambientDefaultConfig,this.ambientConfig,this.rootConfig);this.unifiedConfig$.next(n),zN(this.config,"disableConfigUpdates")||Et(this.config,n)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.unifiedConfig$.complete()}};e.\u0275fac=function(r){return new(r||e)(d(BS),d(Qx),d(Wc),d(Ut))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZN=(()=>{let e=class e{constructor(n){}static withConfig(n){return{ngModule:e,providers:[bx(n)]}}static withConfigFactory(n,r){return{ngModule:e,providers:[If(n,r)]}}static forRoot(n={}){return{ngModule:e,providers:[bx(n)]}}};e.\u0275fac=function(r){return new(r||e)(d(nW))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function rW(t,e){let n=new RegExp("(?:^|;\\s*)"+e+"=([^;]*)","g").exec(t);return n&&decodeURIComponent(n[1])||""}var iW=new S("TEST_CONFIG_COOKIE_NAME"),Eue=new S("TEST_CONFIG",{providedIn:"root",factory:()=>{let t=C(iW),e=C($e),i=C(Le);if(Fn(e)&&t){let n=rW(i.cookie,t);return sW(n)}return{}}});function sW(t){try{return JSON.parse(decodeURIComponent(t))}catch{return{}}}var oW=[If(()=>{let t=C(WN);return{features:v({},t)}}),Ho(()=>{let t=C(GN);return{features:v({},t)}})],QN=(()=>{let e=class e{constructor(){this.rendererFactory=C(Ki),this.featureConfig=C(ug),this.logger=C(Q),this.CSS_FEATURE_FLAG_PREFIX="cxFeat_",this.renderer=this.rendererFactory.createRenderer(null,null),this.usagesCounter=new Map}init(n){this.rootElement=n.location.nativeElement;for(let[r,s]of this.usagesCounter.entries())s>0&&this.addClass(r)}registerUsage(n){let r=this.usagesCounter.get(n)??0;this.isEnabled(n)&&r===0&&this.addClass(n),this.usagesCounter.set(n,r+1)}unregisterUsage(n){let r=this.usagesCounter.get(n)??0;r===0&&me()&&this.logger.warn(`Feature flag CSS: "${n}" is already not used, so it cannot be unregistered.`),this.isEnabled(n)&&r===1&&this.removeClass(n),this.usagesCounter.set(n,Math.max(r-1,0))}isEnabled(n){return this.featureConfig.isEnabled(n)}addClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.addClass(this.rootElement,r)}removeClass(n){let r=this.getCssClass(n);!this.rootElement||!r||this.renderer.removeClass(this.rootElement,r)}getCssClass(n){return this.featureConfig.isEnabled(n)?`${this.CSS_FEATURE_FLAG_PREFIX}${n}`:void 0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aW=(()=>{let e=class e{static forRoot(n="3.0"){return{ngModule:e,providers:[Z3(Q3),...oW,Bn({features:{level:n||"*"}}),{provide:io,multi:!0,useFactory:()=>{let r=C(QN);return s=>r.init(s)}}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function cW(t){wa(cW);let e=C(QN),i=C(hi);e.registerUsage(t),i.onDestroy(()=>e.unregisterUsage(t))}function wp(t){let e;return t.subscribe(i=>e=i).unsubscribe(),e}var Je=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.subscriptions=new Ee,this.converters=new Map;let r=this.unifiedInjector.injectors$.pipe(L(()=>this.converters.clear()));this.subscriptions.add(r.subscribe())}getConverters(n){if(!this.converters.has(n)){let r=wp(this.unifiedInjector.getMulti(n));r&&this.converters.set(n,r)}return this.converters.get(n)}hasConverters(n){let r=this.getConverters(n);return Array.isArray(r)&&r.length>0}pipeable(n){return this.hasConverters(n)?y(r=>this.convertSource(r,n)):r=>r}pipeableMany(n){return this.hasConverters(n)?y(r=>this.convertMany(r,n)):r=>r}convert(n,r){return this.hasConverters(r)?this.convertSource(n,r):n}convertMany(n,r){return this.hasConverters(r)&&Array.isArray(n)?n.map(s=>this.convertSource(s,r)):n}convertSource(n,r){return this.getConverters(r)?.reduce((s,o)=>o.convert(n,s),void 0)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Wc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Sn),this.featureConfigService=C(ug),this.headers=new le().set("Content-Type","application/json")}load(n,r){return this.featureConfigService.isEnabled(Ro)?this.userIdService.getUserId().pipe(O(s=>this.http.get(this.getComponentEndPoint(n,r,s),{headers:this.headers})),this.converter.pipeable(vf)):this.http.get(this.getComponentEndPoint(n,r),{headers:this.headers}).pipe(this.converter.pipeable(vf))}findComponentsByIds(n,r,s="DEFAULT",o=0,a=n.length,c){let u=v(v({},this.getContextParams(r)),this.getPaginationParams(o,a,c));return u.componentIds=n.toString(),this.featureConfigService.isEnabled(Ro)?this.userIdService.getUserId().pipe(O(l=>this.http.get(this.getComponentsEndpoint(u,s,l),{headers:this.headers})),y(l=>l.component??[]),this.converter.pipeableMany(vf)):this.http.get(this.getComponentsEndpoint(u,s),{headers:this.headers}).pipe(y(l=>l.component??[]),this.converter.pipeableMany(vf))}getComponentEndPoint(n,r,s){if(this.featureConfigService.isEnabled(Ro)){let o=this.getContextParams(r),a=s?{urlParams:{id:n,userId:s},queryParams:o}:{urlParams:{id:n},queryParams:o};return this.occEndpoints.buildUrl("component",a)}return this.occEndpoints.buildUrl("component",{urlParams:{id:n},queryParams:this.getContextParams(r)})}getComponentsEndpoint(n,r,s){if(this.featureConfigService.isEnabled(Ro)){let o=v({fields:r},n),a=s?{urlParams:{userId:s},queryParams:o}:{queryParams:o};return this.occEndpoints.buildUrl("components",a)}return this.occEndpoints.buildUrl("components",{queryParams:v({fields:r},n)})}getPaginationParams(n,r,s){let o={};return n!==void 0&&(o.currentPage=n.toString()),r!==void 0&&(o.pageSize=r.toString()),s!==void 0&&(o.sort=s),o}getContextParams(n){let r={};switch(n.type){case be.PRODUCT_PAGE:{r={productCode:n.id};break}case be.CATEGORY_PAGE:{r={categoryCode:n.id};break}case be.CATALOG_PAGE:{r={catalogCode:n.id};break}}return r}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JN="__HOMEPAGE__",XN="smartedit-preview";var lW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.userIdService=C(Sn),this.featureConfigService=C(ug),this.headers=new le().set("Content-Type","application/json")}load(n){let r=this.getPagesRequestParams(n);if(this.featureConfigService.isEnabled(Ro))return this.userIdService.getUserId().pipe(O(o=>{let a=n.type?this.occEndpoints.buildUrl("pages",{urlParams:{userId:o},queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id,userId:o}});return this.http.get(a,{headers:this.headers})}),this.converter.pipeable(iS));let s=n.type?this.occEndpoints.buildUrl("pages",{queryParams:r}):this.occEndpoints.buildUrl("page",{urlParams:{id:n.id}});return this.http.get(s,{headers:this.headers}).pipe(this.converter.pipeable(iS))}getPagesRequestParams(n){if(n.id===JN||n.id===XN)return{};let r={};return n.type&&(r.pageType=n.type),n.type===be.CONTENT_PAGE?r.pageLabelOrId=n.id:r.code=n.id,r}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:bp,useExisting:lW},{provide:iS,useExisting:Y3,multi:!0},{provide:Dp,useExisting:uW}],imports:[Ze]});let t=e;return t})();var fW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.active=this.normalizeBoolean(n.active),r}normalizeBoolean(n){return n===void 0?!1:typeof n=="string"?n==="true":n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hW=(()=>{let e=class e{convert(n,r){return r===void 0&&(r=v({},n)),r.activeFlag=n.active,delete r.active,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eP=new S("CostCenterNormalizer"),tP=new S("CostCentersListNormalizer"),pW=new S("CostCenterSerializer"),gW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.costCenters.map(s=>v({},this.converter.convert(s,eP))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mW={backend:{occ:{endpoints:{getActiveCostCenters:"/costcenters?fields=DEFAULT,unit(BASIC,addresses(DEFAULT))"}}}},Cue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:tP,useExisting:gW,multi:!0},{provide:eP,useExisting:fW,multi:!0},{provide:pW,useExisting:hW,multi:!0}],imports:[Ze,ZN.withConfig(mW)]});let t=e;return t})(),vW=(()=>{let e=class e{constructor(n){this.config=n}convert(n,r){return r===void 0&&(r=v({},n)),n.images&&(r.images=this.normalize(n.images)),r}normalize(n){let r={};if(n)for(let s of n){let o=this.hasGalleryIndex(s);if(s.imageType){r.hasOwnProperty(s.imageType)||(r[s.imageType]=o?[]:{});let a=this.getImageContainer(o,r,s),c=v({},s);c.url=this.normalizeImageUrl(c.url??""),s.format&&(a[s.format]=c)}}return r}getImageContainer(n,r,s){return n?this.getImageGroups(r,s)[s.galleryIndex]:r[s.imageType]}getImageGroups(n,r){let s=n[r.imageType];return s[r.galleryIndex]||(s[r.galleryIndex]={}),s}normalizeImageUrl(n){return new RegExp(/^(http|data:image|\/\/)/i).test(n)?n:(this.config.backend?.media?.baseUrl||this.config.backend?.occ?.baseUrl||"")+n}hasGalleryIndex(n){return(n.galleryIndex??!1)!==!1}};e.\u0275fac=function(r){return new(r||e)(d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Es=new S("ProductNormalizer"),yW=(()=>{let e=class e{constructor(n){this.converterService=n,this.DEFAULT_TOP_VALUES=6}convert(n,r={}){return r=v(v({},r),n),this.normalizeFacets(r),n.products&&(r.products=n.products.map(s=>this.converterService.convert(s,Es))),r}normalizeFacets(n){this.normalizeFacetValues(n),this.normalizeUselessFacets(n)}normalizeUselessFacets(n){n.facets&&(n.facets=n.facets.filter(r=>!n.pagination||!n.pagination.totalResults||(!r.hasOwnProperty("visible")||r.visible)&&r.values&&r.values.find(s=>s.selected||(s.count??0)<(n.pagination?.totalResults??0))))}normalizeFacetValues(n){n.facets&&(n.facets=n.facets.map(r=>{let a=r,{topValues:s}=a,o=Cg(a,["topValues"]);return o.topValueCount=s&&s.length>0?s.length:this.DEFAULT_TOP_VALUES,o}))}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r=[]){return r===void 0&&(r=v({},n)),n&&n.references?(r=n.references.map(s=>T(v({},s),{target:this.converter.convert(s.target,Es)})),r):[]}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),CW=(()=>{let e=class e{constructor(n){this.config=n,this.reservedSlugCharacters=" !*'();:@&=+$,/?%#[]",this.slugChar="-",this.slugRegex=new RegExp(`[${this.reservedSlugCharacters.split("").join("\\")}]`,"g"),this.sanitizeMultipleSlugChars=new RegExp(`${this.slugChar}+`,"g")}convert(n,r){return r=r??v({},n),n.name&&(r.name=this.normalize(n.name),r.slug=this.normalizeSlug(n.name),r.nameHtml=n.name),r}normalize(n){return n.replace(/<[^>]*>/g,"")}normalizeSlug(n){return this.normalize(n).trim().toLowerCase().replace(this.slugRegex,this.slugChar).replace(this.sanitizeMultipleSlugChars,this.slugChar)}};e.\u0275fac=function(r){return new(r||e)(d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nP=new S("ProductReferencesListNormalizer"),SW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r,s){return this.http.get(this.getEndpoint(n,r,s)).pipe(this.converter.pipeable(nP))}getEndpoint(n,r,s){return this.occEndpoints.buildUrl("productReferences",{urlParams:{productCode:n},queryParams:{referenceType:r,pageSize:s}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),IW=new S("ProductReviewNormalizer"),DW=new S("ProductReviewSerializer"),bW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(y(s=>s.reviews),y(s=>s??[]),this.converter.pipeableMany(IW))}post(n,r){r=this.converter.convert(r,DW);let s=new le({"Content-Type":"application/x-www-form-urlencoded"}),o=new URLSearchParams;return o.append("headline",r.headline),o.append("comment",r.comment),o.append("rating",r.rating.toString()),o.append("alias",r.alias),this.http.post(this.getEndpoint(n),o.toString(),{headers:s})}getEndpoint(n,r){return this.occEndpoints.buildUrl("productReviews",{urlParams:{productCode:n},queryParams:{maxCount:r}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),rP=new S("ProductSearchPageNormalizer"),wW=new S("ProductSuggestionNormalizer"),iP=new Ba(()=>({}));function TW(t){let e=t.map(n=>typeof n=="string"?lg(n):n),i=sP(Et({},...e));return oP(i)}function sP(t={}){let e=Object.keys(t);return e.includes("FULL")?(delete t.DEFAULT,delete t.BASIC):e.includes("DEFAULT")&&delete t.BASIC,Object.keys(t).forEach(i=>{t[i]=sP(t[i])}),t}function lg(t,e=0){let i={},n=e;for(;n<t.length;){if(t[n]===",")n>e&&(i[t.substring(e,n)]={}),e=n+1;else if(t[n]==="("){let r=lg(t,n+1);if(!Array.isArray(r))return i;i[t.substring(e,n)]=r[0],e=r[1],n=e-1}else if(t[n]===")")return n>e&&(i[t.substring(e,n)]={}),[i,n+1];n++}return e<t.length&&(i[t.substring(e,n)]={}),i}function oP(t){return Object.keys(t).map(e=>{let i=oP(t[e]);return i?`${e}(${i})`:e}).join(",")}function AW(t,e){let i=typeof e=="string"?lg(e):e;return aP(t,i)}function aP(t,e){if(!Sf(t))return t;let i=Object.keys(e);if(i.length===0||i.find(r=>r==="BASIC"||r==="DEFAULT"||r==="FULL"))return t;let n={};return i.forEach(r=>{t.hasOwnProperty(r)&&(n[r]=aP(t[r],e[r]))}),n}var Sue=new S("List of OCC constants that pass for user IDs.",{providedIn:"root",factory:()=>F8}),RW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.router=C(Ne,{optional:!0}),this.DEFAULT_SEARCH_CONFIG={pageSize:20}}search(n,r=this.DEFAULT_SEARCH_CONFIG,s){let o=new co().set(iP,{sendUserIdAsHeader:!0});return this.http.get(this.getSearchEndpoint(n,r,s),{context:o}).pipe(this.converter.pipeable(rP),L(a=>a.keywordRedirectUrl&&this.router?.navigate([a.keywordRedirectUrl])))}searchByCodes(n,r){if(n.length===0)return I({products:[]});let s=100,o=[];for(let c=0;c<n.length;c+=s)o.push(n.slice(c,c+s));let a=o.map(c=>{let u={filters:`code:${c.join(",")}`,pageSize:s};return this.search("",u,r).pipe(y(l=>({products:l?.products??[]})))});return ra(a).pipe(y(c=>({products:c.flatMap(u=>u.products)})))}loadSuggestions(n,r=3){return this.http.get(this.getSuggestionEndpoint(n,r.toString())).pipe(y(s=>s.suggestions??[]),this.converter.pipeableMany(wW))}getSearchEndpoint(n,r,s){return this.occEndpoints.buildUrl("productSearch",{queryParams:v({query:n},r),scope:s})}getSuggestionEndpoint(n,r){return this.occEndpoints.buildUrl("productSuggestions",{queryParams:{term:n,max:r}})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),MW=(()=>{let e=class e{constructor(n){this.http=n,this.FIELDS_PARAM="fields"}getOptimalUrlGroups(n){let r={};for(let o of n){let[a,c]=this.splitFields(o.url??"");r[a]||(r[a]={}),o.fields=c?lg(c):{},o.scopedData.scope!==void 0&&(r[a][o.scopedData.scope]=o)}let s={};for(let[o,a]of Object.entries(r)){let c=this.getUrlWithFields(o,Object.values(a).map(u=>u.fields));s[c]=a}return s}splitFields(n){let[r,s]=n.split("?"),o={};s&&s.split("&").forEach(u=>{let l=u.split("=");o[l[0]]=l[1]});let c=Object.keys(o).sort().reduce((u,l)=>(l!==this.FIELDS_PARAM&&u.push(o[l]?`${l}=${o[l]}`:l),u),[]).join("&");return[c?`${r}?${c}`:r,o[this.FIELDS_PARAM]]}getUrlWithFields(n,r){let s=TW(r);return s&&(n+=n.includes("?")?"&":"?",n+=`${this.FIELDS_PARAM}=${s}`),n}};e.\u0275fac=function(r){return new(r||e)(d(ke))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xW=(()=>{let e=class e{constructor(n,r){this.http=n,this.occFields=r}scopedDataLoad(n,r){let s=[];r||(r=a=>this.http.get(a));let o=this.occFields.getOptimalUrlGroups(n);return Object.entries(o).forEach(([a,c])=>{let u=Object.values(c);if(u.length===1)s.push(T(v({},u[0].scopedData),{data$:r?.(a)}));else{let l=r?.(a).pipe(it(1));u.forEach(f=>{s.push(T(v({},f.scopedData),{data$:l?.pipe(y(h=>AW(h,f.fields)))}))})}}),s}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(MW))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),OW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.converter=s,this.requestsOptimizer=o}load(n,r){return this.http.get(this.getEndpoint(n,r)).pipe(this.converter.pipeable(Es))}loadMany(n){let r=n.map(s=>({scopedData:s,url:this.getEndpoint(s.code,s.scope)}));return this.requestsOptimizer.scopedDataLoad(r).map(s=>T(v({},s),{data$:s.data$?.pipe(this.converter.pipeable(Es))}))}getEndpoint(n,r){return this.occEndpoints.buildUrl("product",{urlParams:{productCode:n},scope:r})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je),d(xW))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Tp=class{},Ap=class{},Rp=class{},Mp=class{},NW={backend:{occ:{endpoints:{product:{default:"products/${productCode}?fields=DEFAULT,averageRating,images(FULL),classifications,manufacturer,numberOfReviews,categories(FULL),baseOptions,baseProduct,variantOptions,variantType",list:"products/${productCode}?fields=code,purchasable,name,summary,price(formattedValue),images(DEFAULT,galleryIndex),baseProduct",details:"products/${productCode}?fields=averageRating,stock(DEFAULT),description,availableForPickup,code,url,price(DEFAULT),numberOfReviews,manufacturer,categories(FULL),priceRange,multidimensional,tags,images(FULL)",promotions:"products/${productCode}?fields=potentialPromotions(description)",attributes:"products/${productCode}?fields=classifications",price:"products/${productCode}?fields=price(formattedValue)",stock:"products/${productCode}?fields=stock(DEFAULT)",list_item:"products/${productCode}?fields=code,name,price(formattedValue),images(DEFAULT),baseProduct"},productReviews:"products/${productCode}/reviews",productReferences:"products/${productCode}/references?fields=DEFAULT,references(target(images(FULL)))",productSearch:{default:"products/search?fields=products(code,name,summary,configurable,configuratorType,multidimensional,price(FULL),images(DEFAULT),stock(FULL),averageRating,variantOptions,baseProduct),facets,breadcrumbs,pagination(DEFAULT),sorts(DEFAULT),freeTextSearch,currentQuery,keywordRedirectUrl",carousel:"products/search?fields=products(code,purchasable,name,summary,price(formattedValue),stock(DEFAULT),images(DEFAULT,galleryIndex),baseProduct)",carouselMinimal:"products/search?fields=products(code,name,price(formattedValue),images(DEFAULT),baseProduct)"},productSuggestions:"products/suggestions"}},loadingScopes:{product:{details:{include:["list","variants"]}}}}},Iue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Bn(NW),{provide:Tp,useClass:OW},{provide:Es,useExisting:vW,multi:!0},{provide:Es,useExisting:CW,multi:!0},{provide:Ap,useClass:SW},{provide:nP,useExisting:EW,multi:!0},{provide:Mp,useClass:RW},{provide:rP,useExisting:yW,multi:!0},{provide:Rp,useClass:bW}],imports:[Ze]});let t=e;return t})(),PW=(()=>{let e=class e{constructor(){}convert(n,r){return r===void 0&&(r=v({},n)),r.baseStore=n.stores?.[0],delete r.stores,r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FW=new S("LanguageNormalizer"),_W=new S("CurrencyNormalizer"),LW=new S("CountryNormalizer"),kW=new S("RegionNormalizer"),cP=new S("BaseSiteNormalizer"),UW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpointsService=r,this.converterService=s}loadLanguages(){return this.http.get(this.occEndpointsService.buildUrl("languages")).pipe(y(n=>n.languages??[]),this.converterService.pipeableMany(FW))}loadCurrencies(){return this.http.get(this.occEndpointsService.buildUrl("currencies")).pipe(y(n=>n.currencies??[]),this.converterService.pipeableMany(_W))}loadCountries(n){return this.http.get(this.occEndpointsService.buildUrl("countries",{queryParams:n?{type:n}:void 0})).pipe(y(r=>r.countries??[]),this.converterService.pipeableMany(LW))}loadRegions(n){return this.http.get(this.occEndpointsService.buildUrl("regions",{urlParams:{isoCode:n}})).pipe(y(r=>r.regions??[]),this.converterService.pipeableMany(kW))}loadBaseSite(n){return n||(n=this.occEndpointsService.getBaseUrl().split("/").pop()),this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(r=>r.baseSites.find(s=>s.uid===n)))}loadBaseSites(){return this.http.get(this.occEndpointsService.buildUrl("baseSites",{},{baseSite:!1})).pipe(y(n=>n.baseSites),this.converterService.pipeableMany(cP))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),xp=class{},jW={backend:{occ:{endpoints:{languages:"languages",currencies:"currencies",countries:"countries",regions:"countries/${isoCode}/regions?fields=regions(name,isocode,isocodeShort)",baseSites:"basesites?fields=FULL"}}}},Mi=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(n3),L(n=>{n||this.store.dispatch(new Vf)}),x(Dc))}getActive(){return this.store.pipe(M(GC),x(Dc))}setActive(n){this.store.pipe(M(GC),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new Gf(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Lc(this.config,Ss).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),qc=(()=>{let e=class e{constructor(n,r){this.store=n,this.config=r}getAll(){return this.store.pipe(M(J8),L(n=>{n||this.store.dispatch(new kf)}),x(Dc))}getActive(){return this.store.pipe(M(zC),x(Dc))}setActive(n){this.store.pipe(M(zC),ie(1)).subscribe(r=>{r!==n&&this.isValid(n)&&this.store.dispatch(new $f(n))})}isInitialized(){let n=!1;return this.getActive().subscribe(()=>n=!0).unsubscribe(),n}isValid(n){return!!n&&Lc(this.config,Is).includes(n)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),$W=(()=>{let e=class e{constructor(n,r,s,o){this.languageService=n,this.currencyService=r,this.occEndpoints=s,this.config=o,this.activeLang=Di(this.config,Ss),this.activeCurr=Di(this.config,Is),this.languageService.getActive().subscribe(a=>this.activeLang=a),this.currencyService.getActive().subscribe(a=>{this.activeCurr=a})}intercept(n,r){return n.url.includes(this.occEndpoints.getBaseUrl())&&(n=n.clone({setParams:{lang:this.activeLang??"",curr:this.activeCurr??""}})),r.handle(n)}};e.\u0275fac=function(r){return new(r||e)(d(Mi),d(qc),d(Qe),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),BW=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Bn(jW),{provide:xp,useClass:UW},{provide:mn,useExisting:$W,multi:!0},{provide:cP,useExisting:PW,multi:!0}],imports:[Ze]});let t=e;return t})(),VW=(()=>{let e=class e{constructor(n){this.anonymousConsentsService=n}convert(n){return this.anonymousConsentsService.decodeAndDeserialize(n)}};e.\u0275fac=function(r){return new(r||e)(d(Uc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),HW=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),n&&n.results&&(r.results=n.results.map(s=>T(v({},s),{product:this.converter.convert(s.product,Es)}))),r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uP=new S("AnonymousConsentNormalizer"),oS=new S("ConsentTemplateNormalizer"),zW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAnonymousConsentTemplates(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.get(n).pipe(F(r=>{throw q(r,this.logger)}),y(r=>r.consentTemplates??[]),this.converter.pipeableMany(oS))}loadAnonymousConsents(){let n=this.occEndpoints.buildUrl("anonymousConsentTemplates");return this.http.head(n,{observe:"response"}).pipe(F(r=>{throw q(r,this.logger)}),y(r=>r.headers.get(DC)??""),this.converter.pipeable(uP))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),GW=new S("CustomerCouponSearchResultNormalizer"),WW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}getCustomerCoupons(n,r,s,o){if(n===Oo)return I({});let a=this.occEndpoints.buildUrl("customerCoupons",{urlParams:{userId:n}}),c=new ze().set("sort",o||"startDate:asc");r&&(c=c.set("pageSize",r.toString())),s&&(c=c.set("currentPage",s.toString()));let u=this.newHttpHeader();return this.http.get(a,{headers:u,params:c}).pipe(this.converter.pipeable(GW))}turnOffNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}turnOnNotification(n,r){let s=this.occEndpoints.buildUrl("couponNotification",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}claimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.post(s,{headers:o})}disclaimCustomerCoupon(n,r){let s=this.occEndpoints.buildUrl("claimCoupon",{urlParams:{userId:n,couponCode:r}}),o=this.newHttpHeader();return this.http.delete(s,{headers:o})}newHttpHeader(){return new le({"Content-Type":"application/json"})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),lP=new S("AddressNormalizer"),qW=new S("AddressesNormalizer"),gC=new S("AddressSerializer"),YW=new S("AddressValidationNormalizer"),Cc={"Content-Type":"application/json"},KW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),s=new le(v({},Cc));return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),y(o=>o.addresses??[]),this.converter.pipeableMany(lP))}add(n,r){let s=this.occEndpoints.buildUrl("addresses",{urlParams:{userId:n}}),o=new le(v({},Cc));return r=this.converter.convert(r,gC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}update(n,r,s){let o=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),a=new le(v({},Cc));return s=this.converter.convert(s,gC),this.http.patch(o,s,{headers:a}).pipe(F(c=>{throw q(c,this.logger)}))}verify(n,r){let s=this.occEndpoints.buildUrl("addressVerification",{urlParams:{userId:n}}),o=new le(v({},Cc));return n===Oo&&(o=bc.createHeader(WC,!0,o)),r=this.converter.convert(r,gC),this.http.post(s,r,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}),this.converter.pipeable(YW))}delete(n,r){let s=this.occEndpoints.buildUrl("addressDetail",{urlParams:{userId:n,addressId:r}}),o=new le(v({},Cc));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),ZW=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadConsents(n){let r=this.occEndpoints.buildUrl("consentTemplates",{urlParams:{userId:n}}),s=new le({"Cache-Control":"no-cache"});return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),y(o=>o.consentTemplates??[]),this.converter.pipeableMany(oS))}giveConsent(n,r,s){let o=this.occEndpoints.buildUrl("consents",{urlParams:{userId:n}}),a=new ze().set("consentTemplateId",r).set("consentTemplateVersion",s.toString()),c=new le({"Content-Type":"application/x-www-form-urlencoded","Cache-Control":"no-cache"});return this.http.post(o,a,{headers:c}).pipe(F(u=>{throw q(u,this.logger)}),this.converter.pipeable(oS))}withdrawConsent(n,r){let s=new le({"Cache-Control":"no-cache"}),o=this.occEndpoints.buildUrl("consentDetail",{urlParams:{userId:n,consentId:r}});return this.http.delete(o,{headers:s})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),dP=new S("ProductInterestsNormalizer"),_x=new le({"Content-Type":"application/json"}),QW=(()=>{let e=class e{constructor(n,r,s,o){this.http=n,this.occEndpoints=r,this.config=s,this.converter=o,this.logger=C(Q)}getInterests(n,r,s,o,a,c){let u=new ze().set("sort",o||"name:asc");return r&&(u=u.set("pageSize",r.toString())),s&&(u=u.set("currentPage",s.toString())),a&&(u=u.set("productCode",a)),c&&(u=u.set("notificationType",c.toString())),this.http.get(this.occEndpoints.buildUrl("getProductInterests",{urlParams:{userId:n}}),{headers:_x,params:u}).pipe(this.converter.pipeable(dP),F(l=>{throw q(l,this.logger)}))}removeInterest(n,r){let s=[];return r.productInterestEntry?.forEach(o=>{let a=new ze().set("productCode",r.product?.code??"").set("notificationType",o.interestType);s.push(this.http.delete(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{params:a}).pipe(F(c=>{throw q(c,this.logger)})))}),ra(s)}addInterest(n,r,s){let o=new ze().set("productCode",r).set("notificationType",s.toString());return this.http.post(this.occEndpoints.buildUrl("productInterests",{urlParams:{userId:n}}),{},{headers:_x,params:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Cr),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),JW=new S("NotificationPreferenceSerializer"),XW=new S("NotificationPreferenceNormalizer"),Op=class{},e4=(()=>{let e=class e{constructor(n){this.adapter=n}loadAll(n){return this.adapter.loadAll(n)}update(n,r){return this.adapter.update(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Op))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lx=new le({"Content-Type":"application/json"}),t4=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.converter=r,this.occEndpoints=s,this.logger=C(Q)}loadAll(n){return this.http.get(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{headers:Lx}).pipe(y(r=>r.preferences??[]),this.converter.pipeableMany(XW),F(r=>{throw q(r,this.logger)}))}update(n,r){return r=this.converter.convert(r,JW),this.http.patch(this.occEndpoints.buildUrl("notificationPreference",{urlParams:{userId:n}}),{preferences:r},{headers:Lx}).pipe(F(s=>{throw q(s,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Je),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),n4=new S("PaymentDetailsNormalizer"),mC={"Content-Type":"application/json"},r4=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s,this.logger=C(Q)}loadAll(n){let r=this.occEndpoints.buildUrl("paymentDetailsAll",{urlParams:{userId:n}})+"?saved=true",s=new le(v({},mC));return this.http.get(r,{headers:s}).pipe(F(o=>{throw q(o,this.logger)}),y(o=>o.payments??[]),this.converter.pipeableMany(n4))}delete(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},mC));return this.http.delete(s,{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}setDefault(n,r){let s=this.occEndpoints.buildUrl("paymentDetail",{urlParams:{userId:n,paymentDetailId:r}}),o=new le(v({},mC));return this.http.patch(s,{billingAddress:{titleCode:"mr"},defaultPayment:!0},{headers:o}).pipe(F(a=>{throw q(a,this.logger)}))}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Np=class{},Pp=class{},Fp=class{},_p=class{},Lp=class{},kp=class{},i4=(()=>{let e=class e{constructor(n){this.converter=n}convert(n,r){return r===void 0&&(r=v({},n)),r.values=n.addresses?.map(s=>v({},this.converter.convert(s,lP)))??[],r}};e.\u0275fac=function(r){return new(r||e)(d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s4={backend:{occ:{endpoints:{paymentDetailsAll:"users/${userId}/paymentdetails",paymentDetail:"users/${userId}/paymentdetails/${paymentDetailId}",anonymousConsentTemplates:"users/anonymous/consenttemplates",consentTemplates:"users/${userId}/consenttemplates",consents:"users/${userId}/consents",consentDetail:"users/${userId}/consents/${consentId}",addresses:"users/${userId}/addresses",addressDetail:"users/${userId}/addresses/${addressId}",addressVerification:"users/${userId}/addresses/verification",customerCoupons:"users/${userId}/customercoupons",claimCoupon:"users/${userId}/customercoupons/${couponCode}/claim",couponNotification:"users/${userId}/customercoupons/${couponCode}/notification",notificationPreference:"users/${userId}/notificationpreferences",productInterests:"users/${userId}/productinterests",getProductInterests:"users/${userId}/productinterests?fields=sorts,pagination,results(productInterestEntry,product(code))"}}}},o4=(()=>{let e=class e{constructor(n,r,s){this.http=n,this.occEndpoints=r,this.converter=s}loadActiveList(n){let r=new co().set(iP,{sendUserIdAsHeader:!0});return this.http.get(this.getCostCentersEndpoint(n),{context:r}).pipe(this.converter.pipeable(tP))}getCostCentersEndpoint(n,r){return this.occEndpoints.buildUrl("getActiveCostCenters",{urlParams:{userId:n},queryParams:r})}};e.\u0275fac=function(r){return new(r||e)(d(ke),d(Qe),d(Je))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Due=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Bn(s4),{provide:Np,useClass:KW},{provide:Pp,useClass:ZW},{provide:Ip,useClass:zW},{provide:kp,useClass:r4},{provide:_p,useClass:WW},{provide:Op,useClass:t4},{provide:Lp,useClass:QW},{provide:Fp,useClass:o4},{provide:dP,useExisting:HW,multi:!0},{provide:uP,useExisting:VW,multi:!0},{provide:qW,useExisting:i4,multi:!0}],imports:[Ze]});let t=e;return t})(),a4={backend:{occ:{prefix:"/occ/v2/"},media:{}}};function c4(t){if(t.backend===void 0||t.backend.occ===void 0||t.backend.occ.baseUrl===void 0)return"Please configure backend.occ.baseUrl before using storefront library!"}var u4=(()=>{let e=class e{constructor(n){this.config=n}intercept(n,r){return this.requiresWithCredentials(n)&&(n=n.clone({withCredentials:!0})),r.handle(n)}requiresWithCredentials(n){return this.occConfig?.useWithCredentials!==void 0&&n.url.indexOf(this.occConfig?.prefix??"")>-1}get occConfig(){return this.config.backend?.occ}};e.\u0275fac=function(r){return new(r||e)(d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:mn,useExisting:u4,multi:!0},Bn(a4),yI(c4)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[dW,BW]});let t=e;return t})(),d4="occ-backend-base-url",f4="OCC_BACKEND_BASE_URL_VALUE",h4="media-backend-base-url",p4="MEDIA_BACKEND_BASE_URL_VALUE";function g4(t){let e=fP(d4,t);return e&&e!==f4?{backend:{occ:{baseUrl:e}}}:{}}function m4(t){let e=fP(h4,t);return e&&e!==p4?{backend:{media:{baseUrl:e}}}:{}}function fP(t,e){let i=e.getTag(`name="${t}"`);return i&&i.content}function v4(){return[If(g4,[Ky]),If(m4,[Ky])]}var y4=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...v4()]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),E4=(()=>{let e=class e{constructor(n){this.config=n}expand(n,r){let s=this.config?.backend?.loadingScopes?.[n];if(s){let o=[...r],a=o.length;for(;a>0;){a--;let c=s[o[a]]?.include;if(c)for(let u of c)o.includes(u)||(o.splice(a,0,u),a++)}return o}return r}getMaxAge(n,r){return(this.config.backend?.loadingScopes?.[n]?.[r]?.maxAge??0)*1e3}getReloadTriggers(n,r){return this.config.backend?.loadingScopes?.[n]?.[r]?.reloadOn??[]}};e.\u0275fac=function(r){return new(r||e)(d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ir=_n(iN),C4=A(Ir,t=>t.billingCountries),S4=A(C4,t=>t.entities),I4=A(S4,t=>Object.keys(t).map(e=>t[e])),dg=A(Ir,t=>t.customerCoupons),D4=A(dg,t=>Vn(t)),b4=A(dg,t=>jt(t)),bue=A(dg,t=>nt(t)),w4=A(Ir,t=>t.countries),hP=A(w4,t=>t.entities),T4=A(hP,t=>Object.keys(t).map(e=>t[e])),A4=t=>A(hP,e=>Object.keys(e).length!==0?e[t]:null),hD=A(Ir,t=>t.notificationPreferences),R4=A(hD,t=>nt(t)),M4=A(hD,t=>nt(t).filter(e=>e.enabled)),x4=A(hD,t=>jt(t)),pD=A(Ir,t=>t.payments),O4=A(pD,t=>nt(t)),N4=A(pD,t=>jt(t)),P4=A(pD,t=>Vn(t)&&!jt(t)),gD=A(Ir,t=>t.productInterests),F4=A(gD,t=>nt(t)),_4=A(gD,t=>jt(t)),Yc=A(Ir,t=>t.regions),wue=A(Yc,t=>nt(t).entities),L4=A(Yc,t=>({loaded:Vn(t),loading:jt(t),regions:nt(t).entities,country:nt(t).country})),Tue=A(Yc,t=>nt(t).country),Aue=A(Yc,t=>jt(t)),Rue=A(Yc,t=>Vn(t)),mD=A(Ir,t=>t.addresses),k4=A(mD,t=>nt(t)),U4=A(mD,t=>jt(t)),j4=A(mD,t=>Vn(t)&&!jt(t)),fg=A(Ir,t=>t.consents),aS=A(fg,t=>nt(t)),$4=t=>A(aS,e=>e.find(i=>i.id===t)),B4=A(fg,jt),V4=A(fg,Vn),H4=A(fg,zo),pP=A(Ir,t=>t.costCenters),Mue=A(pP,t=>nt(t));var z4=(()=>{let e=class e{constructor(n,r,s){this.store=n,this.authService=r,this.userIdService=s}loadConsents(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new ap(n))})}getConsents(n=!1){return sa(()=>n,this.store.pipe(M(aS),st(this.getConsentsResultLoading(),this.getConsentsResultSuccess()),x(([r,s,o])=>!s),L(([r,s,o])=>{(!r||r.length===0)&&(o||this.loadConsents())}),x(([r,s])=>!!r),y(([r,s])=>r)),this.store.pipe(M(aS)))}getConsentsResultLoading(){return this.store.pipe(M(B4))}getConsentsResultSuccess(){return this.store.pipe(M(V4))}getConsentsResultError(){return this.store.pipe(M(H4))}resetConsentsProcessState(){this.store.dispatch(new Ac)}getConsent(n){return _e([this.authService.isUserLoggedIn(),this.userIdService.getUserId()]).pipe(x(([r,s])=>r&&s===xo),O(()=>this.getConsents(!0)),ie(1),O(()=>this.store.pipe(M($4(n)))),x(Cn),y(r=>r.currentConsent))}isConsentGiven(n){return!!n&&!!n.consentGivenDate&&!n.consentWithdrawnDate}isConsentWithdrawn(n){return n?!!n?.consentWithdrawnDate:!0}giveConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Rc({userId:s,consentTemplateId:n,consentTemplateVersion:r}))})}getGiveConsentResultLoading(){return this.store.pipe(M(Ii(gs)))}getGiveConsentResultSuccess(){return this.store.pipe(M(qr(gs)))}getGiveConsentResultError(){return this.store.pipe(M(Si(gs)))}resetGiveConsentProcessState(){return this.store.dispatch(new fp)}withdrawConsent(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new pp({userId:s,consentCode:n,consentId:r}))})}getWithdrawConsentResultLoading(){return this.store.pipe(M(Ii(ms)))}getWithdrawConsentResultSuccess(){return this.store.pipe(M(qr(ms)))}getWithdrawConsentResultError(){return this.store.pipe(M(Si(ms)))}resetWithdrawConsentProcessState(){return this.store.dispatch(new vp)}filterConsentTemplates(n,r=[]){if(r.length===0)return n;let s=[];for(let o of n)o.id&&!r.includes(o.id)&&s.push(o);return s}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Hn),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G4=(()=>{let e=class e{isRequiredConsent(n){return!!(n&&this.anonymousConsentsConfig.anonymousConsents?.requiredConsents?.includes(n))}constructor(n,r,s,o,a,c,u){this.actions$=n,this.anonymousConsentTemplatesConnector=r,this.authService=s,this.anonymousConsentsConfig=o,this.anonymousConsentService=a,this.userConsentService=c,this.userIdService=u,this.logger=C(Q),this.checkConsentVersions$=W(()=>this.actions$.pipe(k(RO),st(this.anonymousConsentService.getConsents()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsents().pipe(y(h=>{if(!h)return me()&&this.logger.warn("No consents were loaded. Please check the Spartacus documentation as this could be a back-end configuration issue."),!1;let p=f.map(b=>b.templateVersion),E=h.map(b=>b.templateVersion);return this.detectUpdatedVersion(p,E)}),O(h=>h?I(new Tf):pe),F(h=>I(new Rf(q(h,this.logger)))))))),this.loadAnonymousConsentTemplates$=W(()=>this.actions$.pipe(k(IO),st(this.anonymousConsentService.getTemplates()),je(([l,f])=>this.anonymousConsentTemplatesConnector.loadAnonymousConsentTemplates().pipe(G(h=>{let p=!1;return f&&f.length!==0&&(p=this.anonymousConsentService.detectUpdatedTemplates(f,h)),[new Af(h),new Mf(p)]}),F(h=>I(new Rf(q(h,this.logger)))))))),this.transferAnonymousConsentsToUser$=W(()=>this.actions$.pipe(k(jn),x(()=>!!this.anonymousConsentsConfig.anonymousConsents),st(this.actions$.pipe(k(lD))),x(([,l])=>!!l),O(()=>this.anonymousConsentService.getConsents().pipe(st(this.userIdService.getUserId(),this.anonymousConsentService.getTemplates(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),je(([l,f,h,p])=>{let E=[];for(let b of l)if(this.anonymousConsentService.isConsentGiven(b)&&!this.isRequiredConsent(b.templateCode)){for(let w of h)if(w.id===b.templateCode){E.push(new hp({userId:f,consentTemplateId:w.id,consentTemplateVersion:w.version}));break}}return E.length>0?E:pe}))))),this.giveRequiredConsentsToUser$=W(()=>this.actions$.pipe(k(jn),x(l=>!!(this.anonymousConsentsConfig.anonymousConsents&&this.anonymousConsentsConfig.anonymousConsents.requiredConsents&&l)),je(()=>this.userConsentService.getConsentsResultSuccess().pipe(ie(1),st(this.userIdService.getUserId(),this.userConsentService.getConsents(),this.authService.isUserLoggedIn()),x(([,,,l])=>l),L(([l,f,h,p])=>{l||this.userConsentService.loadConsents()}),y(([l,f,h,p])=>({userId:f,templates:h})),je(({userId:l,templates:f})=>{let h=[];for(let p of f)this.userConsentService.isConsentWithdrawn(p.currentConsent)&&this.isRequiredConsent(p.id)&&h.push(new Rc({userId:l,consentTemplateId:p.id,consentTemplateVersion:p.version}));return h.length>0?h:pe})))))}detectUpdatedVersion(n,r){if(n.length!==r.length)return!0;for(let s=0;s<r.length;s++)if(n[s]!==r[s])return!0;return!1}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(z3),d(Hn),d(nN),d(Uc),d(z4),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),W4=[G4],q4=(()=>{let e=class e{constructor(){this.logger=C(Q),this.EXTRACT_JAVA_REGEXP_MODIFIERS=/^(\(\?([a-z]+)\))?(.*)/}toJsRegExp(n){let r=n.match(this.EXTRACT_JAVA_REGEXP_MODIFIERS);if(!r)return null;let[,,s,o]=r;try{return new RegExp(o,s)}catch(a){return me()&&this.logger.warn(`WARNING: Could not convert Java regexp into Javascript. Original regexp: ${n} 
Message: ${a}`),null}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y4=(()=>{let e=class e{constructor(n,r,s){this.baseSiteService=n,this.javaRegExpConverter=r,this.winRef=s,this.scopes=["context"],this.configFactory=()=>Jn(this.resolveConfig())}get currentUrl(){return this.winRef.location.href}resolveConfig(){return this.baseSiteService.getAll().pipe(y(n=>n?.find(r=>this.isCurrentBaseSite(r))),x(n=>{if(!n)throw new Error(`Error: Cannot get base site config! Current url (${this.currentUrl}) doesn't match any of url patterns of any base sites.`);return!!n}),y(n=>this.getConfig(n)),ie(1))}getConfig(n){return{context:{urlParameters:this.getUrlParams(n.urlEncodingAttributes),[Zr]:[n.uid],[Ss]:this.getIsoCodes(n.baseStore?.languages,n.defaultLanguage||n.baseStore?.defaultLanguage),[Is]:this.getIsoCodes(n.baseStore?.currencies,n.baseStore?.defaultCurrency),[z8]:[n.theme]}}}isCurrentBaseSite(n){return(n.urlPatterns||[]).findIndex(s=>{let o=this.javaRegExpConverter.toJsRegExp(s);if(o)return o.test(this.currentUrl)})!==-1}getUrlParams(n){let r="storefront";return(n||[]).map(s=>s===r?Zr:s)}getIsoCodes(n,r){if(n&&r)return this.moveToFirst(n,o=>o.isocode===r.isocode).map(o=>o.isocode)}moveToFirst(n,r){n=[...n];let s=n.findIndex(r);if(s!==-1){let[o]=n.splice(s,1);n.unshift(o)}return n}};e.\u0275fac=function(r){return new(r||e)(d(Ds),d(q4),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yo=(()=>{let e=class e{constructor(n){this.adapter=n}getLanguages(){return this.adapter.loadLanguages()}getCurrencies(){return this.adapter.loadCurrencies()}getCountries(n){return this.adapter.loadCountries(n)}getRegions(n){return this.adapter.loadRegions(n)}getBaseSite(n){return this.adapter.loadBaseSite(n)}getBaseSites(){return this.adapter.loadBaseSites()}};e.\u0275fac=function(r){return new(r||e)(d(xp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kx=(()=>{let e=class e extends Qr{};e.type="LanguageSetEvent";let t=e;return t})(),Ux=(()=>{let e=class e extends Qr{};e.type="CurrencySetEvent";let t=e;return t})(),K4=(()=>{let e=class e{constructor(n,r){this.actionsSubject=n,this.eventService=r,this.register()}register(){this.registerSetLanguage(),this.registerSetCurrency()}registerSetLanguage(){let n=this.actionsSubject.pipe(k(eg),y(r=>bi(kx,{activeLanguage:r.payload})));this.eventService.register(kx,n)}registerSetCurrency(){let n=this.actionsSubject.pipe(k(Xp),y(r=>bi(Ux,{activeCurrency:r.payload})));this.eventService.register(Ux,n)}};e.\u0275fac=function(r){return new(r||e)(d(Vr),d(bs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z4=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(K4))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),Up=class{};function Q4(){return{[Ss]:Mi,[Is]:qc,[Zr]:Ds}}var J4={provide:Up,useFactory:Q4},X4=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Zr);!this.baseSiteService.isInitialized()&&r&&this.baseSiteService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Ds),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.currencyService=r,this.config=s,this.initialized$=new on(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Is,state$:this.currencyService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.currencyService.isInitialized()&&n&&this.currencyService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(ng),d(qc),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tq=(()=>{let e=class e{constructor(n,r,s){this.currencyService=n,this.currencyStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.currencyStatePersistenceService.initSync()),O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Is);!this.currencyService.isInitialized()&&r&&this.currencyService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(qc),d(eq),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nq=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.languageService=r,this.config=s,this.initialized$=new on(1)}initSync(){return this.statePersistenceService.syncWithStorage({key:Ss,state$:this.languageService.getActive(),onRead:n=>this.onRead(n)}),this.initialized$}onRead(n){!this.languageService.isInitialized()&&n&&this.languageService.setActive(n),this.initialized$.closed||(this.initialized$.next(void 0),this.initialized$.complete())}};e.\u0275fac=function(r){return new(r||e)(d(ng),d(Mi),d(Xr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rq=(()=>{let e=class e{constructor(n,r,s){this.languageService=n,this.languageStatePersistenceService=r,this.configInit=s}initialize(){this.subscription=this.configInit.getStable("context").pipe(O(()=>this.languageStatePersistenceService.initSync()),O(()=>this.setFallbackValue())).subscribe()}setFallbackValue(){return this.configInit.getStable("context").pipe(L(n=>this.setDefaultFromConfig(n)))}setDefaultFromConfig(n){let r=Di(n,Ss);!this.languageService.isInitialized()&&r&&this.languageService.setActive(r)}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(Mi),d(nq),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vD=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.injector=r,this.serviceMap=s,this.logger=C(Q)}getContextParameters(){return this.config.context?Object.keys(this.config.context).filter(n=>n!=="urlParameters"):[]}getUrlEncodingParameters(){return this.config.context&&this.config.context.urlParameters||[]}getParamValues(n){return Lc(this.config,n)}getParamDefaultValue(n){return Di(this.config,n)}getSiteContextService(n){if(this.serviceMap[n])try{return this.injector.get(this.serviceMap[n])}catch{me()&&this.logger.warn(`Couldn't find site context service for '${n}'.`);return}}getValue(n){let r,s=this.getSiteContextService(n);return s&&s.getActive().subscribe(o=>r=o).unsubscribe(),r!==void 0?r:this.getParamDefaultValue(n)}setValue(n,r){let s=this.getSiteContextService(n);s&&s.setActive(r)}getValues(n){return n.length===0?I([]):_e(n.map(r=>{let s=this.getSiteContextService(r);return s?s.getActive().pipe(cn()):I("")})).pipe(x(r=>r.every(s=>!!s)))}};e.\u0275fac=function(r){return new(r||e)(d(Xr),d(Ye),d(Up))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),cS=(()=>{let e=class e extends cs{get urlEncodingParameters(){return this.siteContextParams.getUrlEncodingParameters()}get hasContextInRoutes(){return this.urlEncodingParameters.length>0}constructor(n){super(),this.siteContextParams=n,this.URL_SPLIT=/(^[^#?]*)(.*)/}parse(n){if(this.hasContextInRoutes){let r=this.urlExtractContextParameters(n),s=super.parse(r.url);return this.urlTreeIncludeContextParameters(s,r.params),s}else return super.parse(n)}urlExtractContextParameters(n){let[,r,s]=n.match(this.URL_SPLIT)??[,"",""],o=r?.split("/")??[];o[0]===""&&o.shift();let a={},c=0,u=0;for(;c<this.urlEncodingParameters.length&&u<o.length;){let l=this.urlEncodingParameters[c];this.siteContextParams.getParamValues(l).includes(o[u])&&(a[l]=o[u],u++),c++}return n=o.slice(u).join("/")+s,{url:n,params:a}}urlTreeIncludeContextParameters(n,r){n.siteContext=r}serialize(n){let r=this.urlTreeExtractContextParameters(n),s=super.serialize(n);return this.urlIncludeContextParameters(s,r)}urlTreeExtractContextParameters(n){return n.siteContext?n.siteContext:{}}urlIncludeContextParameters(n,r){return this.urlEncodingParameters.map(o=>r[o]?r[o]:this.siteContextParams.getValue(o)).join("/")+n}};e.\u0275fac=function(r){return new(r||e)(d(vD))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function iq(t){if(Di(t,Zr)===void 0)return"Please configure context.parameters.baseSite before using storefront library!"}function sq(){return{context:{[Ss]:["en","de","ja","zh","ru","fr","tr","it","es","uk","pl","nl","hi","ar","pt","bn","pa"],[Is]:["USD","EUR","JPY","GBP","AUD","CAD","CHF","CNY","SEK","NZD","MXN","SGD","HKD","NOK","KRW","TRY","RUB","INR","BRL","ZAR"]}}}function oq(t){return()=>{t.initialize()}}function aq(t){return()=>{t.initialize()}}function cq(t){return()=>{t.initialize()}}var uq=[{provide:wt,useFactory:aq,deps:[rq],multi:!0},{provide:wt,useFactory:oq,deps:[tq],multi:!0},{provide:wt,useFactory:cq,deps:[X4],multi:!0}],lq=(()=>{let e=class e{constructor(n,r,s){this.siteContextParams=n,this.serializer=r,this.injector=s,this.subscription=new Ee,this.contextValues={},this.isNavigating=!1}init(){this.router=this.injector.get(Ne),this.location=this.injector.get(lr);let n=this.siteContextParams.getUrlEncodingParameters();n.length&&(this.setContextParamsFromRoute(this.location.path(!0)),this.subscribeChanges(n),this.subscribeRouting())}subscribeChanges(n){n.forEach(r=>{let s=this.siteContextParams.getSiteContextService(r);s&&this.subscription.add(s.getActive().subscribe(o=>{if(!this.isNavigating&&this.contextValues[r]&&this.contextValues[r]!==o){let a=this.router.parseUrl(this.router.url),c=this.router.serializeUrl(a);this.location.replaceState(c)}this.contextValues[r]=o}))})}subscribeRouting(){this.subscription.add(this.router.events.pipe(x(n=>n instanceof yn||n instanceof at||n instanceof pr||n instanceof En)).subscribe(n=>{this.isNavigating=n instanceof yn,this.isNavigating&&this.setContextParamsFromRoute(n.url)}))}setContextParamsFromRoute(n){let{params:r}=this.serializer.urlExtractContextParameters(n);Object.keys(r).forEach(s=>this.siteContextParams.setValue(s,r[s]))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(vD),d(cS),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dq(t,e){return()=>Jn(t.getStable("context").pipe(L(()=>{e.init()})))}var fq=[Ds,Mi,qc,{provide:wt,useFactory:dq,deps:[$n,lq],multi:!0}],hq=[vD,cS,{provide:ls,useExisting:cS}],pq=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBaseSite$=W(()=>this.actions$.pipe(k(cI),Xn(()=>this.siteConnector.getBaseSite().pipe(y(s=>{if(s)return new Nf(s);throw new Error("BaseSite is not found")}),F(s=>I(new Of(q(s,this.logger)))))))),this.loadBaseSites$=W(()=>this.actions$.pipe(k(lI),Xn(()=>this.siteConnector.getBaseSites().pipe(y(s=>new _f(s)),F(s=>I(new Ff(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),gq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadCurrencies$=W(()=>this.actions$.pipe(k(hI),Xn(()=>this.siteConnector.getCurrencies().pipe(y(o=>new jf(o)),F(o=>I(new Uf(q(o,this.logger)))))))),this.activateCurrency$=W(()=>this.state.select(zC).pipe(_u(2,1),x(([o])=>!!o),y(([o,a])=>new Bf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo),d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),mq=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.siteConnector=r,this.state=s,this.logger=C(Q),this.loadLanguages$=W(()=>this.actions$.pipe(k(gI),Xn(()=>this.siteConnector.getLanguages().pipe(y(o=>new zf(o)),F(o=>I(new Hf(q(o,this.logger)))))))),this.activateLanguage$=W(()=>this.state.select(GC).pipe(_u(2,1),x(([o])=>!!o),y(([o,a])=>new Wf({previous:o,current:a}))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo),d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vq=[mq,gq,pq],yq={entities:null,details:{},activeSite:""};function Eq(t=yq,e){switch(e.type){case uI:return T(v({},t),{details:e.payload});case fI:{let i={};return t.entities&&(i=t.entities[e.payload]),T(v({},t),{details:i,activeSite:e.payload})}case dI:{let n=e.payload.reduce((s,o)=>T(v({},s),{[o.uid??""]:o}),v({},t.entities)),r=n[t.activeSite];return T(v({},t),{details:r,entities:n})}}return t}var Cq={entities:null,activeCurrency:null};function Sq(t=Cq,e){switch(e.type){case pI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Xp:{let i=e.payload;return T(v({},t),{activeCurrency:i})}}return t}var Iq={entities:null,activeLanguage:null};function Dq(t=Iq,e){switch(e.type){case mI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case eg:{let i=e.payload;return T(v({},t),{activeLanguage:i})}}return t}function bq(){return{languages:Dq,currencies:Sq,baseSite:Eq}}var gP=new S("SiteContextReducers"),wq={provide:gP,useFactory:bq};function Tq(){return{state:{ssrTransfer:{keys:{[vI]:Wo.TRANSFER_STATE}}}}}var Aq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho(Tq),wq],imports:[Ze,fr.forFeature(vI,gP),Hr.forFeature(vq)]});let t=e;return t})();function Rq(t,e){return e.context?.[Zr]?null:t}var Mq=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Ho(sq),J4,...fq,...hq,yI(iq),{provide:rg,useFactory:Rq,deps:[Y4,Xr],multi:!0},...uq]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ri,Aq,Z4]});let t=e;return t})(),xq=!1;function Oq(t=xq,e){switch(e.type){case TO:return e.dismissed}return t}var Nq=!1;function Pq(t=Nq,e){switch(e.type){case AO:return e.updated}return t}var Fq=[];function jx(t,e,i){return t?t.map(n=>(n.templateCode===e&&(n=T(v({},n),{consentState:i})),n)):[]}function _q(t=Fq,e){switch(e.type){case bO:return jx(t,e.templateCode,Lo.GIVEN);case wO:return jx(t,e.templateCode,Lo.WITHDRAWN);case DO:return e.payload}return t}function Lq(){return{templates:ut(Nc),consents:_q,ui:ss({bannerDismissed:Oq,updated:Pq})}}var mP=new S("AnonymousConsentsReducers"),kq={provide:mP,useFactory:Lq};function Uq(t){return function(e,i){return e!==void 0&&(i.type===Er||i.type===In)&&(e=T(v({},e),{templates:{}})),t(e,i)}}var jq=[Uq],$q=(()=>{let e=class e{constructor(n,r,s){this.statePersistenceService=n,this.store=r,this.anonymousConsentsService=s,this.subscription=new Ee,this.key="anonymous-consents"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAuthState(),onRead:n=>this.onRead(n)}))}getAuthState(){return this.store.select(Pc)}onRead(n){let r=n?.templates,s=n?.consents,o=n?.ui;r?.success&&this.store.dispatch(new Af(r.value??[])),s&&this.anonymousConsentsService.setConsents(s),o&&(this.anonymousConsentsService.toggleBannerDismissed(o?.bannerDismissed),this.anonymousConsentsService.toggleTemplatesUpdated(o?.updated))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(ng),d(de),d(Uc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bq(t){return()=>t.initSync()}var Vq=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[kq,{provide:wt,useFactory:Bq,deps:[$q],multi:!0}],imports:[Ze,Ri,fr.forFeature(SO,mP,{metaReducers:jq}),Hr.forFeature(W4)]});let t=e;return t})(),xue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...B3,Uc,Bn(JG)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Vq]});let t=e;return t})(),vP={backend:{occ:{endpoints:{component:"cms/components/${id}",components:"cms/components",pages:"cms/pages",page:"cms/pages/${id}"}}},cmsComponents:{},componentsLoading:{pageSize:50}},Hq=T(v({},vP),{backend:{occ:{endpoints:{component:"users/${userId}/cms/components/${id}",components:"users/${userId}/cms/components",pages:"users/${userId}/cms/pages",page:"users/${userId}/cms/pages/${id}"}}}}),yD="cms",hg="[Cms] Navigation Entity",Kc="[Cms] Component Entity",ED="[Cms] Load Component",CD="[Cms] Load Component Fail",SD="[Cms] Load Component Success",ID="[Cms] Get Component from Page",jp=class extends kt{constructor(e){super(Kc,e.uid),this.payload=e,this.type=ED}},$p=class extends At{constructor(e){super(Kc,e.uid,e.error),this.payload=e,this.type=CD}},uS=class extends ht{constructor(e){super(Kc,e.uid||e.component.uid||""),this.payload=e,this.type=SD}},lS=class extends ht{constructor(e){super(Kc,[].concat(e).map(i=>i.component.uid)),this.payload=e,this.type=ID}},yP="[Cms] Load NavigationEntry items",zq="[Cms] Load NavigationEntry items Fail",EP="[Cms] Load NavigationEntry items Success",dS=class extends kt{constructor(e){super(hg,e.nodeId),this.payload=e,this.type=yP}},Bp=class extends At{constructor(e,i){super(hg,e,i),this.payload=i,this.type=zq}},fS=class extends ht{constructor(e){super(hg,e.nodeId),this.payload=e,this.type=EP}},CP="[Cms] Load Page Data",SP="[Cms] Load Page Data Fail",DD="[Cms] Load Page Data Success",IP="[Cms] Set Page Success Index",DP="[Cms] Set Page Fail Index",_o=class extends kt{constructor(e){super(e.type??"",e.id),this.payload=e,this.type=CP}},hS=class extends At{constructor(e,i){super(e.type??"",e.id,i),this.type=SP}},pS=class extends ht{constructor(e,i){super(e.type??"",e.id,i),this.type=DD}},gS=class extends ht{constructor(e,i){super(e.type??"",e.id,i),this.type=IP}},mS=class extends At{constructor(e,i){super(e.type??"",e.id),this.payload=i,this.type=DP}};var bD=_n(yD),Gq=A(bD,t=>t.components),bP=t=>A(Gq,e=>yO(e,t)),wP=(t,e)=>A(bP(t),i=>i&&i.pageContext&&i.pageContext[e]||kn),Wq=(t,e)=>A(wP(t,e),i=>nt(i)),qq=t=>A(bP(t),e=>e?e.component:void 0),Yq=(t,e)=>A(qq(t),Wq(t,e),(i,n)=>{switch(n){case!0:return i;case!1:return null;case void 0:return}}),Kq=A(bD,t=>t.navigation),Zq=t=>A(Kq,e=>qt(e,t)),Qq=t=>A(Zq(t),e=>nt(e)),Jq=t=>t.pageData.entities,Xq=(t,e)=>{switch(e){case be.CONTENT_PAGE:return t.content;case be.PRODUCT_PAGE:return t.product;case be.CATEGORY_PAGE:return t.category;case be.CATALOG_PAGE:return t.catalog;default:return{entities:{}}}},e6=t=>{let e=new Set;if(t&&t.slots)for(let i of Object.keys(t.slots))for(let n of t.slots[i].components||[])e.add(n.flexType??"");return Array.from(e)},TP=A(bD,t=>t.page),t6=A(TP,t=>t.index),n6=t=>A(t6,e=>Xq(e,t.type)),AP=t=>A(n6(t),e=>qt(e,t.id)),RP=t=>A(AP(t),e=>nt(e)),r6=A(TP,Jq),Vp=t=>A(r6,RP(t),(e,i)=>e[i]),i6=t=>A(Vp(t),e=>e6(e)),s6=(t,e)=>A(Vp(t),i=>{if(i)return i.slots?.[e]||{components:[]}});var o6="current";function Yr(t,e){return t?e&&t.type===be.CONTENT_PAGE?`${t.type}`:`${t.type}-${t.id}`:o6}var pg=(()=>{let e=class e{constructor(n,r){this.store=n,this.routingService=r,this.components={}}getCurrentPage(){return this.routingService.getPageContext().pipe(O(n=>this.store.select(Vp(n))))}getComponentData(n,r){let s=Yr(r,!0);this.components[n]||(this.components[n]={});let o=this.components[n];return o[s]||(o[s]=this.createComponentData(n,r)),o[s]}createComponentData(n,r){if(!r)return this.routingService.getPageContext().pipe(x(c=>!!c),O(c=>this.getComponentData(n,c)));let s=Yr(r,!0),o=_e([this.routingService.getNextPageContext(),this.store.pipe(M(wP(n,s)))]).pipe(Yt(Tr),L(([c,u])=>{let l=u.loading||u.success||u.error,f=c?Yr(c,!0)===s:!1;!l&&!f&&this.store.dispatch(new jp({uid:n,pageContext:r}))})),a=this.store.pipe(M(Yq(n,s)),x(Cn));return _i(()=>o.subscribe(),()=>a).pipe(it({bufferSize:1,refCount:!0}))}getContentSlot(n){return this.routingService.getPageContext().pipe(O(r=>this.store.pipe(M(s6(r,n)),x(Cn))))}getNavigationEntryItems(n){return this.store.pipe(M(Qq(n)))}loadNavigationItems(n,r){this.store.dispatch(new dS({nodeId:n,items:r}))}refreshLatestPage(){this.routingService.getPageContext().pipe(ie(1)).subscribe(n=>this.store.dispatch(new _o(n)))}refreshPageById(n){let r={id:n};this.store.dispatch(new _o(r))}refreshComponent(n,r){this.store.dispatch(new jp({uid:n,pageContext:r}))}getPageState(n){return this.store.pipe(M(Vp(n)))}getPageComponentTypes(n){return this.store.pipe(M(i6(n)))}hasPage(n,r=!1){return this.store.pipe(M(AP(n)),L(s=>{let o=s.loading||s.success||s.error,a=r&&!s.loading;(!o||a)&&(this.store.dispatch(new _o(n)),r=!1)}),x(s=>s.hasOwnProperty("value")?!!(s.success||s.error&&!s.loading):!1),y(s=>!!s.success),F(()=>I(!1)))}getPage(n,r=!1){return this.hasPage(n,r).pipe(O(s=>s?this.getPageState(n):I(null)))}getPageIndex(n){return this.store.pipe(M(RP(n)))}setPageFailIndex(n,r){this.store.dispatch(new mS(n,r))}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a6={pageMeta:{resolvers:[{property:"title",method:"resolveTitle"},{property:"heading",method:"resolveHeading"},{property:"breadcrumbs",method:"resolveBreadcrumbs"},{property:"description",method:"resolveDescription",disabledInCsr:!0},{property:"image",method:"resolveImage",disabledInCsr:!0},{property:"robots",method:"resolveRobots",disabledInCsr:!0},{property:"canonicalUrl",method:"resolveCanonicalUrl",disabledInCsr:!0}],canonicalUrl:{forceHttps:!0,forceWww:!1,removeQueryParams:!0,forceTrailingSlash:!0}}},nn=class{getScore(e){let i=0;return this.pageType&&(i+=e.type===this.pageType?1:-1),this.pageTemplate&&(i+=e.template===this.pageTemplate?1:-1),this.pageUid&&(i+=e.pageId===this.pageUid?10:-10),i}hasMatch(e){return this.getScore(e)>0}getPriority(e){return this.getScore(e)}},yr=class{},c6=(()=>{let e=class e{constructor(n){this.translation=n}resolveBreadcrumbs({url:n,pageMetaConfig:r}){let s=r?.breadcrumb;return s?typeof s!="string"&&s.raw?I([{link:n,label:s.raw}]):this.translateBreadcrumbLabel(s).pipe(y(o=>[{label:o,link:n}])):I([])}translateBreadcrumbLabel(n){let r=typeof n=="string"?n:n.i18n;return this.getParams().pipe(O(s=>this.translation.translate(r??"",s??{})))}getParams(){return I({})}};e.\u0275fac=function(r){return new(r||e)(d(yr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u6=(()=>{let e=class e{constructor(n,r){this.activatedRoutesService=n,this.injector=r,this.routes$=this.activatedRoutesService.routes$.pipe(y(s=>s=s.slice(1,s.length))),this.routesWithExtras$=this.routes$.pipe(y(s=>s.reduce((o,a)=>{let c=o.length?o[o.length-1]:{route:null,resolver:this.injector.get(c6),url:""},u=this.getResolver(a)??c.resolver,l=this.getUrlPart(a),f=c.url+(l?`/${l}`:"");return o.concat({route:a,resolver:u,url:f})},[])),it({bufferSize:1,refCount:!0}))}resolveBreadcrumbs(n){return this.routesWithExtras$.pipe(y(r=>n?.includeCurrentRoute?r:this.trimCurrentRoute(r)),O(r=>r.length?_e(r.map(s=>this.resolveRouteBreadcrumb(s))):I([])),y(r=>r.flat()))}getResolver(n){let r=this.getPageMetaConfig(n);return typeof r!="string"&&r?.resolver?this.injector.get(r.resolver,null):null}resolveRouteBreadcrumb({route:n,resolver:r,url:s}){let o=r;return typeof o.resolveBreadcrumbs=="function"?o.resolveBreadcrumbs({route:n,url:s,pageMetaConfig:this.getPageMetaConfig(n)}):I([])}trimCurrentRoute(n){let r=n.length-1;for(;n[r]?.route?.url.length===0&&r>=0;)r--;return n.slice(0,r)}getUrlPart(n){return n.url.map(r=>r.path).join("/")}getPageMetaConfig(n){return n?.routeConfig?.data?.cxPageMeta}};e.\u0275fac=function(r){return new(r||e)(d(PO),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),xP=(()=>{let e=class e{constructor(n,r){this.pageMetaConfig=n,this.winRef=r}getCanonicalUrl(n,r){let s=v(v({},this.pageMetaConfig?.pageMeta?.canonicalUrl),n);return this.buildCanonicalUrl(r??this.winRef.location.href??"",s)}buildCanonicalUrl(n,r){return r.forceHttps&&(n=n.replace(/^http(?!s):/i,"https:")),r.forceWww&&(n=n.replace(/^(https?:\/\/)(?!www\.)(.*)/i,"$1www.$2")),r.removeQueryParams&&(n=this.removeQueryParams(n,r)),r.forceTrailingSlash&&(n=n.replace(/^([^\?]+[^\/\?]$)$/i,"$1/")),n}removeQueryParams(n,r){let s=n.indexOf("?");if(s>-1){let o=n.substring(0,s),a=new URLSearchParams(n.substring(s));n=o,Array.isArray(r.removeQueryParams)&&(r.removeQueryParams.forEach(c=>{a.delete(c)}),a.toString().length>0&&(n=`${o}?${a.toString()}`))}return n}};e.\u0275fac=function(r){return new(r||e)(d(MP),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gg=(()=>{let e=class e{constructor(n,r,s,o,a){this.cmsService=n,this.translation=r,this.routingPageMetaResolver=s,this.router=o,this.pageLinkService=a,this.page$=qe(()=>this.cmsService.getCurrentPage()).pipe(x(c=>!!c)),this.title$=this.page$.pipe(y(c=>c.title)),this.description$=this.page$.pipe(y(c=>c.description)),this.robots$=this.page$.pipe(y(c=>c.robots||[])),this.homeBreadcrumb$=this.translation.translate("common.home").pipe(y(c=>[{label:c,link:"/"}])),this.breadcrumb$=_e([this.homeBreadcrumb$,qe(()=>this.routingPageMetaResolver?.resolveBreadcrumbs())]).pipe(y(c=>c.flat()),it({bufferSize:1,refCount:!0}))}resolveTitle(){return this.title$}resolveDescription(){return this.description$}resolveBreadcrumbs(){return this.breadcrumb$}resolveRobots(){return this.robots$}resolveCanonicalUrl(n){return this.router.events.pipe(x(r=>r instanceof at),Qn(null),y(()=>this.pageLinkService.getCanonicalUrl(n)))}};e.\u0275fac=function(r){return new(r||e)(d(pg),d(yr),d(u6),d(Ne),d(xP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l6=(()=>{let e=class e extends nn{constructor(n){super(),this.basePageMetaResolver=n,this.pageType=be.CONTENT_PAGE}resolveTitle(){return this.basePageMetaResolver.resolveTitle()}resolveDescription(){return this.basePageMetaResolver.resolveDescription()}resolveBreadcrumbs(){return this.basePageMetaResolver.resolveBreadcrumbs()}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(gg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d6=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Bn(a6)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:nn,useExisting:l6,multi:!0}]});let t=e;return t})();function wD(t=0,e){return i=>{let n=[];return i.pipe(L(r=>n.push(r)),ki(t,e),y(()=>n),L(()=>n=[]))}}function mg(t){return e=>t.pipe(Qn(void 0),O(()=>e))}var f6=(()=>{let e=class e extends dD{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),OP=(()=>{let e=class e{constructor(n){this.cmsDataConfig=n}mergePageStructure(n,r){return this.mergePage(n,r).pipe(O(s=>this.mergeSlots(s)))}shouldIgnoreBackend(n){return this.getPageFromConfig(n).pipe(y(r=>!!r&&!!r.ignoreBackend))}getComponentFromConfig(n){return I(this.getComponentById(n))}getComponentsFromConfig(n){return I(n.map(r=>this.getComponentById(r)))}getPageFromConfig(n){return I(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.pages?this.cmsDataConfig.cmsStructure.pages.find(r=>r.pageId===n):void 0)}mergePage(n,r){return this.getPageFromConfig(n).pipe(O(s=>s?(r.page||(r.page=v({},s),r.page.slots={}),r.page.slots||(r.page.slots={}),this.mergeSlots(r,s.slots)):I(r)))}mergeSlots(n,r){if(!r&&this.cmsDataConfig.cmsStructure?.slots&&(r=this.cmsDataConfig.cmsStructure.slots),!r)return I(n);for(let s of Object.keys(r))if(n.page?.slots&&!Object.keys(n.page.slots).includes(s)){n.page.slots[s]={};for(let o of this.getComponentsByPosition(r,s))n.page.slots[s].components=n.page.slots[s].components??[],n.page.slots[s].components?.push({uid:o.uid,flexType:o.flexType,typeCode:o.typeCode}),n.components=n.components??[],n.components.push(o)}return I(n)}getComponentsByPosition(n,r){let s=[];if(n[r]&&n[r].componentIds){for(let o of n[r].componentIds??[])if(this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components){let a=this.cmsDataConfig.cmsStructure.components[o];a&&s.push(v({uid:o},a))}}return s}getComponentById(n){return this.cmsDataConfig.cmsStructure&&this.cmsDataConfig.cmsStructure.components?this.cmsDataConfig.cmsStructure.components[n]:void 0}};e.\u0275fac=function(r){return new(r||e)(d(f6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NP=(()=>{let e=class e{constructor(n,r,s){this.cmsStructureConfigService=n,this.cmsComponentAdapter=r,this.config=s}get(n,r){return this.cmsStructureConfigService.getComponentFromConfig(n).pipe(O(s=>s?I(s):this.cmsComponentAdapter.load(n,r)))}getList(n,r){return this.cmsStructureConfigService.getComponentsFromConfig(n).pipe(O(s=>{let o=s.reduce((a,c,u)=>(c===void 0&&a.push(n[u]),a),[]);if(o.length>0){let a=this.config.componentsLoading?.pageSize||o.length,c=Math.ceil(o.length/a),u=[],l=0;for(;l<c;)u.push(this.cmsComponentAdapter.findComponentsByIds(o.slice(l*a,(l+1)*a),r)),l++;return Li(...u).pipe(y(f=>[...s.filter(Boolean)].concat(...f)))}else return I(s)}))}};e.\u0275fac=function(r){return new(r||e)(d(OP),d(Dp),d(dD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.cmsComponentConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(k(In,Er,jn)),this.loadComponent$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(k(ED),Ar(a=>Yr(a.payload.pageContext)),G(a=>a.pipe(wD(o,s),G(c=>this.loadComponentsEffect(c.map(u=>u.payload.uid),c[0].payload.pageContext??{id:""})))),mg(this.contextChange$)))}loadComponentsEffect(n,r){return this.cmsComponentConnector.getList(n,r).pipe(O(s=>{let o=[],a=new Set(n);for(let c of s)o.push(new uS({component:c,uid:c.uid,pageContext:r})),a.delete(c.uid??"");return a.forEach(c=>{o.push(new $p({uid:c,pageContext:r}))}),ge(o)}),F(s=>ge(n.map(o=>new $p({uid:o,error:q(s,this.logger),pageContext:r})))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(NP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),p6="[^/]",g6="[^/]*",m6="(?:.+\\/)?",PP=[{replace:/\./g,with:"\\."},{replace:/\+/g,with:"\\+"},{replace:/\*/g,with:g6}],v6=[...PP,{replace:/\?/g,with:p6}],y6=[...PP,{replace:/\?/g,with:"\\?"}];function E6(t,e=!1){let i=e?y6:v6,n=t.split("/").reverse(),r="";for(;n.length>0;){let s=n.pop();if(s==="**")n.length>0?r+=m6:r+=".*";else{let o=i.reduce((a,c)=>a?.replace(c.replace,c.with),s);r+=o,n.length>0&&(r+="\\/")}}return r}function C6(t){return t.map(e=>{let i=!e.startsWith("!");return e=i?e:e.substring(1),{positive:i,regex:`^${E6(e)}$`}})}var S6=(()=>{let e=class e{getValidator(n){let r=C6(n).map(({positive:a,regex:c})=>({positive:a,regex:new RegExp(c)})),s=r.filter(a=>a.positive),o=r.filter(a=>!a.positive);return a=>s.some(c=>c.regex.test(a))&&!o.some(c=>c.regex.test(a))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TD=(()=>{let e=class e{constructor(n){this.globService=n}getFalsy(){return function(){return null}}getFromPaths(n){let r=n.map(o=>this.getFromPath(o)),s=this.getCombined(r);return me()&&(s._paths=n),s}getCombined(n){let r=function(o,a,c){for(let u=0;u<n.length;u++){let l=n[u](o,a,c);if(l)return l}return null};return me()&&(r._matchers=n),r}getFromPath(n=""){let r=function(u,l,f){if(n==="")return s(u,l,f);let h=n.split("/");if(o(h.length>u.length,a(f.pathMatch==="full",o(l.hasChildren(),h.length<u.length))))return null;let p={};for(let E=0;E<h.length;E++){let b=h[E],w=u[E];if(b.startsWith(":"))p[b.substring(1)]=w;else if(b!==w.path)return null}return{consumed:u.slice(0,h.length),posParams:p}};return me()&&(r._path=n),r;function s(c,u,l){return a(l.pathMatch==="full",o(u.hasChildren(),c.length>0))?null:{consumed:[],posParams:{}}}function o(c,u){return c||u}function a(c,u){return c&&u}}getOpposite(n){let r=function(o,a,c){return n(o,a,c)?null:{consumed:o,posParams:{}}};return me()&&(r._originalMatcher=n),r}getFromGlob(n){let r=this.globService.getValidator(n),s=function(a){let c=`/${a.map(u=>u.path).join("/")}`;return r(c)?{consumed:a,posParams:{}}:null};return me()&&(s._globPatterns=n),s}};e.\u0275fac=function(r){return new(r||e)(d(S6))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),I6=(()=>{let e=class e{constructor(n,r,s){this.injector=n,this.routingConfigService=r,this.urlMatcherService=s,this.logger=C(Q),this.initCalled=!1}init(){this.initCalled||(this.initCalled=!0,this.configure())}configure(){let n=this.injector.get(Ne);n.resetConfig(this.configureRoutes(n.config))}configureRoutes(n){return n.map(r=>{let s=this.configureRoute(r);return r.children&&r.children.length&&(s.children=this.configureRoutes(r.children)),s})}configureRoute(n){let r=this.getRouteName(n);if(r){let s=this.routingConfigService.getRouteConfig(r);return this.validateRouteConfig(s,r,n),s?.disabled?(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFalsy()})):s?.matchers?(delete n.path,T(v({},n),{matcher:this.resolveUrlMatchers(n,s?.matchers)})):s?.paths?.length===1?(delete n.matcher,T(v({},n),{path:s?.paths[0]})):(delete n.path,T(v({},n),{matcher:this.urlMatcherService.getFromPaths(s?.paths||[])}))}return n}resolveUrlMatchers(n,r){let s=r?.map(o=>typeof o=="function"?o:this.resolveUrlMatcherFactory(n,o))??[];return this.urlMatcherService.getCombined(s)}resolveUrlMatcherFactory(n,r){return this.injector.get(r)(n)}getRouteName(n){return n.data&&n.data.cxRoute}validateRouteConfig(n,r,s){if(me()){if(n===null||n?.paths===null||n?.matchers)return;if(!n?.paths){this.warn(`Could not configure the named route '${r}'`,s,"due to undefined config or undefined 'paths' property for this route");return}}}warn(...n){me()&&this.logger.warn(...n)}};e.\u0275fac=function(r){return new(r||e)(d(Ye),d(Jp),d(TD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oue=(()=>{let e=class e{constructor(n){this.urlService=n}transform(n){return this.urlService.transform(n)}};e.\u0275fac=function(r){return new(r||e)(X(_c,16))},e.\u0275pipe=Vt({name:"cxUrl",type:e,pure:!0});let t=e;return t})(),Nue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ze]});let t=e;return t})(),D6=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),b6=(()=>{let e=class e{constructor(n,r){this.winRef=n,this.platformId=r}canActivate(n,r){return Fn(this.platformId)&&this.redirect(n,r),!1}redirect(n,r){let s=this.winRef.nativeWindow;s&&s.location&&(s.location.href=r.url)}};e.\u0275fac=function(r){return new(r||e)(d(Ti),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w6(t){return()=>{t.addRoutes()}}var T6=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.urlMatcherService=r,this.injector=s}get internalUrlPatterns(){return this.config&&this.config.routing&&this.config.routing.internal||[]}addRoutes(){let n=this.injector.get(Ne),r=this.getRoutes();r.length&&n.resetConfig([...r,...n.config])}getRoutes(){if(!this.internalUrlPatterns.length)return[];let n=[];return n.push({pathMatch:"full",matcher:this.getUrlMatcher(),canActivate:[b6],component:{}}),n}getUrlMatcher(){let n=this.urlMatcherService.getFromGlob(this.internalUrlPatterns);return this.urlMatcherService.getOpposite(n)}};e.\u0275fac=function(r){return new(r||e)(d(D6),d(TD),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,multi:!0,useFactory:w6,deps:[T6]}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),A6=(()=>{let e=class e{get routingConfig(){return this.config&&this.config.routing}get shouldProtect(){return!!this.routingConfig?.protected}constructor(n,r){this.config=n,this.urlParsingService=r,this.nonProtectedPaths=[],this.shouldProtect&&(this.nonProtectedPaths=this.getNonProtectedPaths().map(s=>this.getSegments(s)))}isUrlProtected(n){return this.shouldProtect&&!this.matchAnyPath(n,this.nonProtectedPaths)}matchAnyPath(n,r){return r.some(s=>this.matchPath(n,s))}matchPath(n,r){return this.urlParsingService.matchPath(n,r)}getNonProtectedPaths(){return Object.values(this.routingConfig?.routes??{}).reduce((n,r)=>r.protected===!1&&r.paths&&r.paths.length?n.concat(r?.paths??[]):n,[])}getSegments(n){return(n||"").split("/")}};e.\u0275fac=function(r){return new(r||e)(d(Qp),d(oI))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fue=(()=>{let e=class e{constructor(n,r){this.service=n,this.authGuard=r}canActivate(n){let r=n.url.map(s=>s.path);return r=r.length?r:[""],this.service.isUrlProtected(r)?this.authGuard.canActivate():I(!0)}};e.\u0275fac=function(r){return new(r||e)(d(A6),d(j3))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),R6=(()=>{let e=class e{constructor(n,r){this.baseSiteService=n,this.configInit=r,this.scopes=["routing"],this.configFactory=()=>Jn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context").pipe(O(n=>{let r=n?.context?.[Zr]?.[0];return this.baseSiteService.get(r).pipe(L(s=>{if(!s)throw new Error(`Error: Cannot get base site config for ${r}.`)}),y(s=>this.getRoutingConfig(s)),ie(1))}))}getRoutingConfig(n){return{routing:{protected:n?.requiresAuthentication}}}};e.\u0275fac=function(r){return new(r||e)(d(Ds),d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M6=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.router=r,this.clearCmsRoutes$=W(()=>this.actions$.pipe(k(In,Er,jn),L(()=>{let s=this.router.config.filter(o=>!(o.data&&o.data.cxCmsRouteContext));s.length!==this.router.config.length&&this.router.resetConfig(s)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Ne))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),x6=[M6],O6={navigationId:0,state:{url:"",queryParams:{},params:{},context:{id:""},cmsRequired:!1,semanticRoute:void 0},nextState:void 0};function N6(){return{router:P6}}function P6(t=O6,e){switch(e.type){case ef:return T(v({},t),{nextState:e.payload.routerState,navigationId:e.payload.event.id});case nf:case tf:return T(v({},t),{nextState:void 0});case OO:return t.nextState?T(v({},t),{nextState:T(v({},t.nextState),{context:e.payload})}):t;case rf:return{state:T(v({},e.payload.routerState),{context:t.nextState?.context??e.payload.routerState.context}),navigationId:e.payload.event.id,nextState:void 0};default:return t}}var FP=new S("RouterReducers"),F6={provide:FP,useFactory:N6},_6=(()=>{let e=class e{serialize(n){let r=n.root,s=!1,o,a,c="";for(;r.firstChild;)r=r.firstChild,c+="/"+r.url.map(l=>l.path).join("/"),r.data?.cxRoute&&(a=r.data?.cxRoute),r.data?.cxCmsRouteContext&&(o=r.data?.cxCmsRouteContext),!s&&(o||r.routeConfig?.canActivate?.find(l=>l&&l.guardName==="CmsPageGuard"))&&(s=!0);a=a||this.lookupSemanticRoute(c);let{params:u}=r;return o=this.getPageContext(o,r),{url:n.url,queryParams:n.root.queryParams,params:u,context:o,cmsRequired:s,semanticRoute:a}}getPageContext(n,r){let s=n;if(r.url.length>0&&r.url[0].path==="cx-preview"&&r.queryParams.cmsTicketId!==void 0)s={id:XN,type:be.CONTENT_PAGE};else{let{params:o}=r;o.productCode?s={id:o.productCode,type:be.PRODUCT_PAGE}:o.categoryCode?s={id:o.categoryCode,type:be.CATEGORY_PAGE}:o.brandCode?s={id:o.brandCode,type:be.CATEGORY_PAGE}:r.data.pageLabel!==void 0&&(s={id:r.data.pageLabel,type:be.CONTENT_PAGE})}return s||(r.url.length>0?s={id:"/"+r.url.map(a=>a.path).join("/"),type:be.CONTENT_PAGE}:s={id:JN,type:be.CONTENT_PAGE}),s}lookupSemanticRoute(n){return this.routingConfig.getRouteName(n.substr(1))}constructor(n){this.routingConfig=n}};e.\u0275fac=function(r){return new(r||e)(d(Jp))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})();function L6(t){return()=>t.init()}function k6(t,e){return e.routing?.protected===void 0?t:null}function U6(){let e=(C(EI,{optional:!0})??[]).map(i=>i());return Promise.all(e)}var _ue=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[F6,{provide:So,useClass:_6},{provide:wt,useFactory:L6,deps:[I6],multi:!0},{provide:rg,useFactory:k6,deps:[R6,Qp],multi:!0},{provide:fd,useFactory:U6}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[fr.forFeature($C,FP),Hr.forFeature(x6),YM.forRoot({routerState:1,stateKey:$C})]});let t=e;return t})();function j6(t,e){return n=>{let r=n.data&&n.data.cxRoute,s=t.getRouteConfig(r),o=s&&s.paths||[];return e.getFromPaths(o)}}var Lue=new S("DEFAULT_URL_MATCHER",{providedIn:"root",factory:()=>j6(C(Jp),C(TD))}),$6=(()=>{let e=class e{getIdListByItemType(n){let r=[],s=[],o=[];return n.forEach(a=>{a.superType==="AbstractCMSComponent"?s.push(a.id):a.superType==="AbstractPage"?r.push(a.id):a.superType==="AbstractMedia"&&o.push(a.id)}),{pageIds:r,componentIds:s,mediaIds:o}}constructor(n,r,s){this.actions$=n,this.cmsComponentConnector=r,this.routingService=s,this.logger=C(Q),this.loadNavigationItems$=W(()=>this.actions$.pipe(k(yP),y(o=>o.payload),y(o=>({ids:this.getIdListByItemType(o.items),nodeId:o.nodeId})),G(o=>o.ids.componentIds.length>0?this.routingService.getRouterState().pipe(x(Cn),y(a=>a.state.context),ie(1),G(a=>this.cmsComponentConnector.getList(o.ids.componentIds,a).pipe(y(c=>new fS({nodeId:o.nodeId,components:c})),F(c=>I(new Bp(o.nodeId,q(c,this.logger))))))):I(new Bp(o.nodeId,"navigation nodes are empty")))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(NP),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),B6=(()=>{let e=class e{constructor(n,r){this.cmsPageAdapter=n,this.cmsStructureConfigService=r}get(n){return this.cmsStructureConfigService.shouldIgnoreBackend(n.id).pipe(O(r=>r?I({}):this.cmsPageAdapter.load(n).pipe(F(s=>{if(s instanceof Wt&&s.status===400)return I({});throw s}))),O(r=>this.mergeDefaultPageStructure(n,r)))}mergeDefaultPageStructure(n,r){return this.cmsStructureConfigService.mergePageStructure(n.id,r)}};e.\u0275fac=function(r){return new(r||e)(d(bp),d(OP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V6=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.cmsPageConnector=r,this.routingService=s,this.logger=C(Q),this.refreshPage$=W(()=>this.actions$.pipe(k(In,Er,jn),O(()=>this.routingService.getRouterState().pipe(x(o=>o&&o.state&&o.state.cmsRequired&&!o.nextState),ie(1),y(o=>o.state.context),G(o=>I(new _o(o))))))),this.loadPageData$=W(()=>this.actions$.pipe(k(CP),y(o=>o.payload),Ar(o=>Yr(o)),G(o=>o.pipe(O(a=>this.cmsPageConnector.get(a).pipe(G(c=>{let u=[new lS((c.components??[]).map(f=>({component:f,pageContext:a}))),new pS(a,c.page??{})],l=c.page?.label;return l&&l!==a.id&&u.unshift(new gS({id:l,type:a.type},c.page??{})),u}),F(c=>I(new hS(a,q(c,this.logger))))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(B6),d(Ai))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),H6=[V6,h6,$6],z6={component:void 0,pageContext:{}};function Ef(t,e){switch(e.type){case CD:return!1;case ID:case SD:return!0}return t}function G6(t=z6,e){switch(e.type){case ED:{let i=ut(e.meta.entityType,Ef),n=Yr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case CD:{let i=ut(e.meta.entityType,Ef),n=Yr(e.payload.pageContext,!0);return T(v({},t),{pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case SD:{let i=ut(e.meta.entityType,Ef),n=Yr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}case ID:{let i=ut(e.meta.entityType,Ef);if(!Array.isArray(e.payload)){let n=Yr(e.payload.pageContext,!0);return T(v({},t),{component:e.payload.component,pageContext:T(v({},t.pageContext),{[n]:i(t.pageContext[n],e)})})}}}return t}var W6=void 0;function q6(t=W6,e){switch(e.type){case EP:if(e.payload.components.length){let n=e.payload.components.reduce((r,s)=>T(v({},r),{[`${s.uid}_AbstractCMSComponent`]:s}),{});return v(v({},t),n)}}return t}var Y6={entities:{}};function K6(t=Y6,e){switch(e.type){case DD:{let i=e.payload;return T(v({},t),{entities:T(v({},t.entities),{[i.pageId??""]:i})})}}return t}var $x=void 0;function Cf(t){return(e=$x,i)=>{if(i.meta&&i.meta.entityType===t)switch(i.type){case DD:return i.payload.pageId;case SP:return $x;case DP:return i.payload;case IP:return i.payload.pageId}return e}}function Z6(){return{page:ss({pageData:K6,index:ss({content:ps(be.CONTENT_PAGE,Cf(be.CONTENT_PAGE)),product:ps(be.PRODUCT_PAGE,Cf(be.PRODUCT_PAGE)),category:ps(be.CATEGORY_PAGE,Cf(be.CATEGORY_PAGE)),catalog:ps(be.CATALOG_PAGE,Cf(be.CATALOG_PAGE))})}),components:Oc(Kc,G6),navigation:ps(hg,q6)}}var _P=new S("CmsReducers"),Q6={provide:_P,useFactory:Z6};function J6(t){return function(e,i){return(i.type===In||i.type===Er||i.type===jn)&&(e=void 0),t(e,i)}}var X6=[J6];function e5(){return{state:{ssrTransfer:{keys:{[yD]:Wo.TRANSFER_STATE}}}}}var t5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho(e5),Q6],imports:[Ze,Ri,fr.forFeature(yD,_P,{metaReducers:X6}),Hr.forFeature(H6)]});let t=e;return t})();function n5(t){let e=!1;return t.find(i=>{let n=i.features?.[Ro];n&&(e=n)}),e?Hq:vP}var r5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[pg,Ho(n5,[xc])]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[t5,d6.forRoot()]});let t=e;return t})(),i5=(()=>{let e=class e{constructor(){this.logger=C(Q)}handleError(n){this.logger.error(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),s5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:Dt,useClass:i5}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),ei=function(t){return t[t.UNKNOWN=-1]="UNKNOWN",t[t.BAD_REQUEST=400]="BAD_REQUEST",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.FORBIDDEN=403]="FORBIDDEN",t[t.NOT_FOUND=404]="NOT_FOUND",t[t.CONFLICT=409]="CONFLICT",t[t.BAD_GATEWAY=502]="BAD_GATEWAY",t[t.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",t[t.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",t}(ei||{}),yt=(()=>{let e=class e{constructor(n,r){this.globalMessageService=n,this.platformId=r}hasMatch(n){return n.status===this.responseStatus}getErrorTranslationKey(n){let r="httpHandlers.badRequest";return n?`${r}.${n.toLowerCase().replace(/ /g,"_")}`:`${r}PleaseLoginAgain`}isSsr(){return this.platformId?!Fn(this.platformId):!1}};e.\u0275fac=function(r){return new(r||e)(d(qo),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.BAD_GATEWAY}handleError(){this.globalMessageService.add({key:"httpHandlers.badGateway"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a5="/authorizationserver/oauth/token",c5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.BAD_REQUEST}handleError(n,r){this.handleBadPassword(n,r),this.handleBadLoginResponse(n,r),this.handleValidationError(n,r),this.handleGuestDuplicateEmail(n,r),this.handleUnknownIdentifierError(n,r)}handleBadPassword(n,r){r.url?.includes(a5)&&r.error?.error==="invalid_grant"&&n.body?.get("grant_type")==="password"&&(this.globalMessageService.add({key:this.getErrorTranslationKey(r.error?.error_description),params:{errorMessage:r.error.error_description||r.message||""}},Ue.MSG_TYPE_ERROR),this.globalMessageService.remove(Ue.MSG_TYPE_CONFIRMATION))}handleBadLoginResponse(n,r){this.getErrors(r).filter(s=>s.type==="PasswordMismatchError").forEach(()=>{let o=new URL(n.url).pathname.endsWith("/password")?"httpHandlers.badRequestOldPasswordIncorrect":"httpHandlers.validationErrors.invalid.password";this.globalMessageService.add({key:o},Ue.MSG_TYPE_ERROR)})}handleValidationError(n,r){this.getErrors(r).filter(s=>s.type==="ValidationError").forEach(s=>{this.globalMessageService.add({key:`httpHandlers.validationErrors.${s.reason}.${s.subject}`},Ue.MSG_TYPE_ERROR)})}handleGuestDuplicateEmail(n,r){this.getErrors(r).filter(s=>s.type==="DuplicateUidError").forEach(s=>{this.globalMessageService.add({key:"httpHandlers.badRequestGuestDuplicateEmail",params:{errorMessage:s.message||""}},Ue.MSG_TYPE_ERROR)})}handleUnknownIdentifierError(n,r){this.getErrors(r).filter(s=>s.type==="UnknownIdentifierError").forEach(s=>{this.globalMessageService.add(s.message?s.message:{key:"httpHandlers.unknownIdentifier"},Ue.MSG_TYPE_ERROR)})}getErrors(n){return(n.error?.errors||[]).filter(r=>r.type!=="JaloObjectNoLongerValidError")}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.CONFLICT}handleError(){this.globalMessageService.add({key:"httpHandlers.conflict"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l5=(()=>{let e=class e extends yt{handleError(n){n.url.endsWith(this.occEndpoints.buildUrl("user",{urlParams:{userId:"current"}}))&&this.authService.logout(),this.globalMessageService.add({key:"httpHandlers.forbidden"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}constructor(n,r,s){super(n),this.globalMessageService=n,this.authService=r,this.occEndpoints=s,this.responseStatus=ei.FORBIDDEN}};e.\u0275fac=function(r){return new(r||e)(d(qo),d(Hn),d(Qe))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),d5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.GATEWAY_TIMEOUT}handleError(){this.globalMessageService.add({key:"httpHandlers.gatewayTimeout"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),f5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.INTERNAL_SERVER_ERROR}handleError(){this.globalMessageService.add({key:"httpHandlers.internalServerError"},Ue.MSG_TYPE_ERROR)}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.NOT_FOUND}handleError(){}getPriority(){return-10}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p5=(()=>{let e=class e extends yt{constructor(){super(...arguments),this.responseStatus=ei.UNKNOWN,this.logger=C(Q)}hasMatch(n){return!0}handleError(n,r){(me()||this.isSsr())&&this.logger.warn(`An unknown http error occurred
`,r.message)}getPriority(){return-50}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AD(t,e=[],i=[]){let n=(t??[]).filter(s=>!s.hasMatch||s.hasMatch(...e));if(n.length<2)return n[0];let r=-1/0;return n.reduce((s,o)=>{let a=o.getPriority?o.getPriority(...i):0;return r>a?s:(r=a,o)},void 0)}var g5=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.handlers$=this.unifiedInjector.getMulti(yt).pipe(it(1))}intercept(n,r){return r.handle(n).pipe(L({error:s=>{s instanceof Wt&&this.handleErrorResponse(n,s)}}))}handleErrorResponse(n,r){let s=this.getResponseHandler(r);s&&s.handleError(n,r)}getResponseHandler(n){return AD(wp(this.handlers$)??[],[n])}};e.\u0275fac=function(r){return new(r||e)(d(Wc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),m5=[{provide:yt,useExisting:p5,multi:!0},{provide:yt,useExisting:o5,multi:!0},{provide:yt,useExisting:c5,multi:!0},{provide:yt,useExisting:u5,multi:!0},{provide:yt,useExisting:l5,multi:!0},{provide:yt,useExisting:d5,multi:!0},{provide:yt,useExisting:f5,multi:!0},{provide:yt,useExisting:h5,multi:!0}],v5=[{provide:mn,useExisting:g5,multi:!0}],y5={entities:{}};function E5(t=y5,e){switch(e.type){case Yf:{let i=e.payload;if(t.entities[i.type]===void 0)return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[i.text]})});{let n=t.entities[i.type];return T(v({},t),{entities:T(v({},t.entities),{[i.type]:[...n,i.text]})})}}case QO:{let i=e.payload.type,n=e.payload.index;if(Object.keys(t.entities).length===0||!t.entities[i])return t;let r=[...t.entities[i]];return r.splice(n,1),T(v({},t),{entities:T(v({},t.entities),{[i]:r})})}case JO:{let i=T(v({},t.entities),{[e.payload]:[]});return T(v({},t),{entities:i})}}return t}function C5(){return E5}var LP=new S("GlobalMessageReducers"),S5={provide:LP,useFactory:C5},I5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[S5],imports:[Ri,fr.forFeature(XO,LP)]});let t=e;return t})(),Mc=class{static shallowEqualObjects(e,i){if(e===i)return!0;if(!e||!i)return!1;let n=Object.keys(e),r=Object.keys(i),s=n.length,o=r.length;if(s!==o)return!1;for(let a=0;a<s;a++){let c=n[a];if(e[c]!==i[c])return!1}return!0}static deepEqualObjects(e,i){return e===i?!0:!(e instanceof Object)||!(i instanceof Object)||e.constructor!==i.constructor?!1:this.compareObjectProperties(e,i)}static compareObjectProperties(e,i){for(let n in e)if(e.hasOwnProperty(n)){if(!i.hasOwnProperty(n))return!1;if(e[n]!==i[n]&&(typeof e[n]!="object"||!this.deepEqualObjects(e[n],i[n])))return!1}for(let n in i)if(i.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}static countOfDeepEqualObjects(e,i){return i.reduce((n,r)=>(this.deepEqualObjects(e,r)&&n++,n),0)}static indexOfFirstOccurrence(e,i){for(let n=0;n<i.length;n++)if(this.deepEqualObjects(i[n],e))return n}},D5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),b5=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.store=r,this.config=s,this.platformId=o,this.removeDuplicated$=W(()=>this.actions$.pipe(k(Yf),y(a=>a.payload),O(a=>I(a.text).pipe(st(this.store.pipe(M(tN(a.type)))),x(([c,u])=>Mc.countOfDeepEqualObjects(c,u)>1),y(([c,u])=>{let l=Mc.indexOfFirstOccurrence(c,u);if(l!==void 0)return new wc({type:a.type,index:l})}),x(Cn))))),this.hideAfterDelay$=W(()=>Fn(this.platformId)?this.actions$.pipe(k(Yf),y(a=>a.payload),je(a=>{let c=this.config.globalMessages?.[a.type];return this.store.pipe(M(x3(a.type)),ie(1),x(u=>(c&&c.timeout!==void 0||a.timeout!==void 0)&&u>0),Zn(a.timeout||c?.timeout),O(()=>I(new wc({type:a.type,index:0}))))})):()=>pe)}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(de),d(D5),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),w5={globalMessages:{[Ue.MSG_TYPE_CONFIRMATION]:{timeout:3e3},[Ue.MSG_TYPE_INFO]:{timeout:3e3},[Ue.MSG_TYPE_ERROR]:{timeout:7e3},[Ue.MSG_TYPE_WARNING]:{timeout:7e3},[Ue.MSG_TYPE_ASSISTIVE]:{timeout:7e3}}},T5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...m5,...v5]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Bn(w5)],imports:[I5,Hr.forFeature([b5])]});let t=e;return t})(),A5={backend:{timeout:{server:2e4}}},R5=new Ba(()=>{});var M5=(()=>{let e=class e{constructor(n,r){this.windowRef=n,this.config=r,this.logger=C(Q)}intercept(n,r){let s=this.getTimeoutValue(n);return typeof s>"u"?r.handle(n):r.handle(n).pipe(O(o=>o.type===dr.Sent?Lg.pipe(Qn(o),na(s)):I(o)),F(o=>{throw this.convertTimeoutToHttpErrorResponse({error:o,request:n,timeoutValue:s})}))}getTimeoutValue(n){let r=n.context.get(R5),s=this.config?.backend?.timeout,o=r??s??{};return this.windowRef.isBrowser()?o?.browser:o?.server}convertTimeoutToHttpErrorResponse({error:n,request:r,timeoutValue:s}){if(n instanceof Ou){let o=this.buildError(r,s);return new Wt({url:r.url,error:o})}return n}buildError(n,r){let s=`Request to URL '${n.url}' exceeded expected time of ${r}ms and was aborted.`;return this.logger.warn(s),new Error(s)}};e.\u0275fac=function(r){return new(r||e)(d(Ti),d(Cr))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),x5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[{provide:mn,useExisting:M5,multi:!0},Bn(A5)]});let t=e;return t})(),O5=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[x5]});let t=e;return t})(),N5={i18n:{fallbackLang:void 0,debug:!1}},Ko=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=d(Ut),s},providedIn:"root"});let t=e;return t})(),P5=(()=>{let e=class e{constructor(n){this.configInit=n,this.scopes=["i18n.fallbackLang"],this.configFactory=()=>Jn(this.resolveConfig())}resolveConfig(){return this.configInit.getStable("context.language").pipe(y(n=>({i18n:{fallbackLang:n?.context?.language?.[0]}})))}};e.\u0275fac=function(r){return new(r||e)(d($n))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kue=(()=>{let e=class e extends LA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r,s){return super.transform(n,r,s,this.getLang())}getLang(){let n=this.getActiveLang();try{return hd(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){me()&&this.logger.warn(`cxDate pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Mi,16))},e.\u0275pipe=Vt({name:"cxDate",type:e,pure:!0});let t=e;return t})(),vS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),vg=new S("I18NEXT_INSTANCE",{providedIn:"root",factory:()=>vt.createInstance()}),F5=new S("I18NEXT_HTTP_BACKEND_CLIENT",{providedIn:"root",factory:()=>{let t=C(ke);return(e,i,n,r)=>{t.get(i,{responseType:"text"}).subscribe({next:s=>r(null,{status:200,data:s}),error:s=>r(s,{data:null,status:s.status})})}}}),_5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.i18nextHttpClient=r,this.config=s,this.windowRef=o}hasMatch(){return!!this.config.i18n?.backend?.loadPath}initialize(){return this.i18next.use(dx),{backend:this.getBackendConfig()}}getBackendConfig(){if(!this.config.i18n?.backend?.loadPath)throw new Error("Missing config `i18n.backend.loadPath`.");return{loadPath:this.getLoadPath(this.config.i18n.backend.loadPath),request:this.i18nextHttpClient,reloadInterval:!1}}getLoadPath(n){return!this.windowRef.isBrowser()&&!n.match(/^http(s)?:\/\//)?(n.startsWith("/")&&(n=n.slice(1)),n.startsWith("./")&&(n=n.slice(2)),`${this.windowRef.location.origin}/${n}`):n}};e.\u0275fac=function(r){return new(r||e)(d(vg),d(F5),d(Ko),d(Ti))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L5=(()=>{let e=class e{constructor(n,r){this.config=n,this.i18next=r}hasMatch(){return!!this.config.i18n?.backend?.loader}initialize(){let n=this.config.i18n?.backend?.loader;if(!n)throw new Error("Missing config `i18n.backend.loader`.");return this.i18next.use(Dx(n)),{backend:{}}}};e.\u0275fac=function(r){return new(r||e)(d(Ko),d(vg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k5=[{provide:vS,useExisting:_5,multi:!0},{provide:vS,useExisting:L5,multi:!0}],U5=new S("I18NEXT_LOGGER_PLUGIN",{providedIn:"root",factory:()=>{let t=C(Q);return{type:"logger",log:e=>t.log(...e),warn:e=>t.warn(...e),error:e=>t.error(...e)}}}),yS=class{},Ao=function(t){return t[t.Parallel=0]="Parallel",t[t.Queue=1]="Queue",t[t.CancelPrevious=2]="CancelPrevious",t[t.ErrorPrevious=3]="ErrorPrevious",t}(Ao||{}),j5=(()=>{let e=class e{constructor(){this.subscriptions=new Ee}create(n,r){let s=new re,o=new re,a=l=>({next:f=>l.next(f),error:f=>l.error(f),complete:()=>l.complete()}),c;switch(r?.strategy){case Ao.CancelPrevious:case Ao.ErrorPrevious:c=Li(s,o).pipe(O(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe),wn(()=>{!f.closed&&!f.hasError&&(r.strategy===Ao.ErrorPrevious?f.error(new Error("Canceled by next command")):f.complete())}))));break;case Ao.Parallel:c=Li(s,o).pipe(G(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe))));break;case Ao.Queue:default:c=Li(s,o).pipe(je(([l,f])=>qe(()=>n(l)).pipe(L(a(f)),F(()=>pe))));break}return this.subscriptions.add(c.subscribe()),new class extends yS{constructor(){super(...arguments),this.execute=l=>{let f=new on;return o.next(f),s.next(l),f}}}}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uue=(()=>{let e=class e{constructor(n){this.eventService=n,this.subscriptions=new Ee}create(n,r){let s={data:void 0,error:!1,loading:!0},o=new Te(s),a=sa(()=>o.value.loading,I(void 0),pe),c=this.getTriggersStream([a,...r?.reloadOn??[],...r?.resetOn??[]]),u=this.getTriggersStream(r?.resetOn??[]),l=this.getTriggersStream(r?.reloadOn??[]),f=n().pipe(ca(u)),h=c.pipe(L(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))}),O(()=>f),L(b=>{o.next({loading:!1,error:!1,data:b})}),F((b,w)=>(o.next({loading:!1,error:b,data:void 0}),w)),Os());r?.reloadOn?.length&&this.subscriptions.add(l.subscribe(()=>{o.value.loading||o.next(T(v({},o.value),{loading:!0}))})),r?.resetOn?.length&&this.subscriptions.add(u.subscribe(()=>{(o.value.data!==void 0||o.value.error!==!1||o.value.loading!==!1)&&o.next(s)}));let p=_i(()=>h.subscribe(),()=>o),E=p.pipe(y(b=>b.data),cn());return{get:()=>E,getState:()=>p}}getTriggersStream(n){if(!n.length)return pe;let r=n.map(s=>Fi(s)?s:this.eventService.get(s));return an(...r)}ngOnDestroy(){this.subscriptions.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(bs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jue(t){return t.details?.[0]?.type==="JaloObjectNoLongerValidError"}var $ue=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Bue=/^(?=.*?[A-Z])(?=.*?\d)(?=.*?[!@#$%^*()_\-+{};:.,]).{6,}$/,Vue=/^(?=.*?[A-Z]).*$/,Hue=/^(?=.*?\d).*$/,zue=/^(?=.*?[!@#$%^*()_\-+{};:.,]).*$/,Gue=/^.{6,}$/;function Wue(t){let e=t?.shouldRetry??(()=>!0),i=t?.maxTries??3,n=t?.delay??300;return r=>r.pipe(Vg({delay:(s,o)=>{if(o>i||!e(s))throw s;let a=o*o;return Zt(a*n)}}))}function kP(t){return qe(()=>{let e=0,i=new z(n=>{let r=()=>{n.next(),n.complete()};e?Fg.schedule(r):r(),e++});return _e(t).pipe(oa(()=>i))})}function que(t){return Fi(t)?t:$5(t)?ge(Promise.resolve(t)):I(t)}function $5(t){return!!t&&typeof t.then=="function"}var ES=function(t){return t.HEAD="head",t.BODY="body",t}(ES||{}),Yue=(()=>{let e=class e{constructor(n,r){this.document=n,this.platformId=r}embedScript(n){let{src:r,params:s,attributes:o,callback:a,errorCallback:c,placement:u=ES.HEAD}=n,l=ns(this.platformId);if((a||c)&&l)return;let f=s?r+this.parseParams(s):r;if(!l&&this.hasScript(f))return;let h=this.document.createElement("script");h.src=f,h.async=!0,h.defer=!0,o&&Object.keys(o).forEach(p=>{p.startsWith("data-")?h.setAttribute(p,o[p]):h[p]=o[p]}),a&&h.addEventListener("load",a),c&&h.addEventListener("error",c),u===ES.HEAD?this.document.head.appendChild(h):this.document.body.appendChild(h)}hasScript(n){return!!this.document.querySelector(`script[src="${n}"]`)}parseParams(n){let r="",s=Object.keys(n);return s.length>0&&(r="?"+s.map(o=>encodeURI(o)+"="+encodeURI(n[o])).join("&")),r}};e.\u0275fac=function(r){return new(r||e)(d(Le),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Bx=class t{static getLocalTimezoneOffset(e){let i=new Date().getTimezoneOffset()*-1,n=Math.abs(Math.floor(i/60)).toString().padStart(2,"0"),r=(i%60).toString().padStart(2,"0");return`${i>=0?e?"-":"+":e?"+":"-"}${n}:${r}`}static convertDateToDatetime(e,i){return`${e}T${i?"23:59:59":"00:00:00"}${t.getLocalTimezoneOffset()}`}static convertDatetimeToDate(e){return new Date(`${e.substring(0,19)}${t.getLocalTimezoneOffset(!0)}`).toISOString().substring(0,10)}},B5=(()=>{let e=class e{constructor(n){this.backendInitializers=n}initialize(){return AD(this.backendInitializers??[])?.initialize()??{}}};e.\u0275fac=function(r){return new(r||e)(d(vS,8))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V5=(()=>{let e=class e{constructor(n,r,s,o){this.i18next=n,this.config=r,this.languageService=s,this.i18nextBackendService=o,this.loggerPlugin=C(U5)}initialize(){let n=this.getI18nextConfig();return this.i18next.use(this.loggerPlugin).init(n,()=>{this.addTranslationResources(),this.synchronizeLanguage()})}getI18nextConfig(){let n={ns:[],fallbackLng:this.config.i18n?.fallbackLang,debug:this.config.i18n?.debug,interpolation:{escapeValue:!1,skipOnVariables:!1}};return this.config.i18n?.backend&&(n=v(v({},n),this.i18nextBackendService.initialize())),n}addTranslationResources(){let n=this.config.i18n?.resources??{};Object.keys(n).forEach(r=>{Object.keys(n[r]).forEach(s=>{this.i18next.addResourceBundle(r,s,n[r][s],!0,!0)})})}synchronizeLanguage(){this.subscription=this.subscription??this.languageService.getActive().subscribe(n=>this.i18next.changeLanguage(n))}ngOnDestroy(){this.subscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(d(vg),d(Ko),d(Mi),d(B5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H5=[{provide:wt,useFactory:()=>{let t=C($n),e=C(V5);return()=>Jn(t.getStable("i18n")).then(()=>e.initialize())},multi:!0},...k5],z5=(()=>{let e=class e{constructor(n){this.config=n,this.duplicates={},this.chunks={},this.logger=C(Q),this.KEY_SEPARATOR=".";let r=n.i18n&&n.i18n.chunks||{};Object.keys(r).forEach(s=>{r[s].forEach(o=>{this.chunks.hasOwnProperty(o)?(this.duplicates[o]||(this.duplicates[o]=[this.chunks[o]]),this.duplicates[o].push(s)):this.chunks[o]=s})}),Object.keys(this.duplicates).length>0&&me()&&this.warnDuplicates(this.duplicates)}getChunkNameForKey(n){let r=(n||"").split(this.KEY_SEPARATOR)[0],s=this.chunks&&this.chunks[r];return s||r}warnDuplicates(n){let r=[];Object.keys(n).forEach(s=>{r.push(`* '${s}' found in chunks: ${n[s].join(", ")}. Used '${this.chunks[s]}.${s}'.`)}),this.logger.warn(`Duplicated keys has been found in the config of i18n chunks:
${r.join(`
`)}`)}};e.\u0275fac=function(r){return new(r||e)(d(Ko))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),G5=(()=>{let e=class e{constructor(n,r,s){this.config=n,this.translationChunk=r,this.i18next=s,this.NON_BREAKING_SPACE="\xA0",this.NAMESPACE_SEPARATOR=":",this.logger=C(Q)}translate(n,r={},s=!1){let o=Array.isArray(n)?n:[n],a=new Map,c=[];return o.forEach(u=>{let l=this.translationChunk.getChunkNameForKey(u),f=this.getNamespacedKey(u,l);c.push(f),a.set(u,l)}),new z(u=>{let l=()=>{if(!this.i18next.isInitialized)return;let f=!1;this.i18next.loadNamespaces(Array.from(a.values()),()=>{f=!0,this.i18next.exists(c,r)?u.next(this.i18next.t(c,r)):(this.reportMissingKey(a),u.next(this.getFallbackValue(c)))}),!f&&s&&u.next(this.NON_BREAKING_SPACE)};return l(),this.i18next.on("languageChanged",l),()=>this.i18next.off("languageChanged",l)})}loadChunks(n){return this.i18next.loadNamespaces(n)}getFallbackValue(n){let r=Array.isArray(n)?n.join(", "):n;return me()?`[${r}]`:this.NON_BREAKING_SPACE}reportMissingKey(n){let r=[...n.keys()];me()&&this.logger.warn(`Translation keys missing [${r.join(", ")}]. Attempted to load ${[...n].map(([s,o])=>`'${s}' from chunk '${o}'`).join(", ")}.`)}getNamespacedKey(n,r){return r+this.NAMESPACE_SEPARATOR+n}};e.\u0275fac=function(r){return new(r||e)(d(Ko),d(z5),d(vg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kue=(()=>{let e=class e extends kA{constructor(n){super(""),this.language=n,this.logger=C(Q)}transform(n,r){return super.transform(n,r,this.getLang())}getLang(){let n=this.getActiveLang();try{return hd(n),n}catch{return this.reportMissingLocaleData(n),"en"}}getActiveLang(){let n="";return this.language.getActive().subscribe(r=>n=r).unsubscribe(),n}reportMissingLocaleData(n){me()&&this.logger.warn(`cxNumeric pipe: No locale data registered for '${n}' (see https://angular.io/api/common/registerLocaleData).`)}};e.\u0275fac=function(r){return new(r||e)(X(Mi,16))},e.\u0275pipe=Vt({name:"cxNumeric",type:e,pure:!0});let t=e;return t})();function vC(t){return t!==null&&typeof t=="object"&&("key"in t||"raw"in t)}var Zue=(()=>{let e=class e{constructor(n,r){this.service=n,this.cd=r,this.logger=C(Q)}transform(n,r={}){if(!n)return me()&&this.logger.error(`The given input for the cxTranslate pipe (${n}) is invalid and cannot be translated`),"";if(vC(n)&&n.raw)return n.raw;vC(n)&&n.params&&(r=v(v({},r),n.params));let s=vC(n)?n.key:n;return this.translate(s,r),this.translatedValue}translate(n,r){(n!==this.lastKey||!Mc.shallowEqualObjects(r,this.lastOptions))&&(this.lastKey=n,this.lastOptions=r,this.sub&&this.sub.unsubscribe(),this.sub=this.service.translate(n,r,!0).subscribe(s=>this.markForCheck(s)))}markForCheck(n){this.translatedValue=n,this.cd.markForCheck()}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(X(yr,16),X(Lr,16))},e.\u0275pipe=Vt({name:"cxTranslate",type:e,pure:!1});let t=e;return t})();function W5(t,e){return e?.i18n?.fallbackLang!==void 0?null:t}var q5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[Bn(N5),{provide:yr,useExisting:G5},...H5,{provide:rg,useFactory:W5,deps:[P5,Ko],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Y5(t,e){let i=C(Q);return()=>Promise.all(t.runModuleInitializerFunctions(e)).catch(n=>{throw i.error("MODULE_INITIALIZER promise was rejected during app initialization.",n),n})}var K5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[{provide:wt,useFactory:Y5,deps:[fD,[new dn,KN]],multi:!0}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();function Z5(){return ps(ae)}var UP=new S("ProcessReducers"),Q5={provide:UP,useFactory:Z5},J5=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Q5],imports:[Ri,fr.forFeature(ae,UP)]});let t=e;return t})(),X5=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[J5]});let t=e;return t})(),Que=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[Ri.forRoot(),ZN.forRoot(),X3.forRoot(),tW.forRoot(),q5.forRoot(),r5.forRoot(),T5.forRoot(),X5.forRoot(),aW.forRoot(),Mq.forRoot(),y4.forRoot(),l4.forRoot(),K5.forRoot(),O5.forRoot(),s5.forRoot()]});let t=e;return t})(),Jue=new S("PointOfServiceNormalizer"),eY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),tY=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),Xue=(()=>{let e=class e{constructor(n,r,s,o){this.cms=n,this.unifiedInjector=r,this.pageMetaConfig=s,this.platformId=o,this.resolvers$=this.unifiedInjector.getMulti(nn).pipe(it({bufferSize:1,refCount:!0})),this.meta$=qe(()=>this.cms.getCurrentPage()).pipe(x(a=>!!a),O(a=>this.getMetaResolver(a)),O(a=>a?this.resolve(a):I(null)),it({bufferSize:1,refCount:!0}))}getMeta(){return this.meta$}resolve(n){let r=this.getResolverMethods(),s=Object.keys(r).filter(o=>n[r[o]]).map(o=>n[r[o]]().pipe(y(a=>({[o]:a}))));return s.length===0?I({}):kP(s).pipe(y(o=>Object.assign({},...o)))}getResolverMethods(){let n={};return this.pageMetaConfig?.pageMeta?.resolvers?.filter(r=>!Fn(this.platformId??"")||!r.disabledInCsr||me()&&this.pageMetaConfig?.pageMeta?.enableInDevMode).forEach(r=>n[r.property]=r.method),n}getMetaResolver(n){return this.resolvers$.pipe(y(r=>AD(r,[n],[n])))}};e.\u0275fac=function(r){return new(r||e)(d(pg),d(Wc),d(MP),d($e))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ele=(()=>{let e=class e{constructor(n){this.unifiedInjector=n,this.componentDecorators$=this.unifiedInjector.getMulti(eY).pipe(it(1)),this.slotDecorators$=this.unifiedInjector.getMulti(tY).pipe(it(1))}addAttributesToComponent(n,r,s){(wp(this.componentDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}addAttributesToSlot(n,r,s){(wp(this.slotDecorators$)||[]).forEach(o=>o.decorate(n,r,s))}};e.\u0275fac=function(r){return new(r||e)(d(Wc))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nY=(()=>{let e=class e{constructor(n,r){this.cmsConfig=n,this.lazyModules=r,this.features=new Map}isConfigured(n){return!!this.getFeatureConfig(n)?.module}resolveFeature(n){return n=this.resolveFeatureAlias(n),qe(()=>{if(!this.features.has(n)){if(!this.isConfigured(n))return xt(()=>new Error("No module defined for Feature Module "+n));let r=this.getFeatureConfig(n);this.features.set(n,this.resolveDependencies(r?.dependencies).pipe(O(s=>this.lazyModules.resolveModuleInstance(r?.module,n,s)),it()))}return this.features.get(n)??pe})}getFeatureConfig(n){return this.cmsConfig.featureModules?.[this.resolveFeatureAlias(n)]}resolveFeatureAlias(n){for(;typeof this.cmsConfig.featureModules?.[n]=="string";)n=this.cmsConfig.featureModules?.[n];return n}resolveDependencies(n=[]){return n?.length?ra(n.map(r=>typeof r=="string"?this.resolveFeature(r):this.lazyModules.resolveDependencyModuleInstance(r))):I(void 0)}};e.\u0275fac=function(r){return new(r||e)(d(dD),d(fD))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vx="proxyFacadeInstance",rY=(()=>{let e=class e{constructor(n,r){this.featureModules=n,this.injector=r}getResolver(n,r,s=!1){if(!this.featureModules.isConfigured(n))return xt(()=>new Error(`Feature ${n} is not configured properly`));let o=this.featureModules.resolveFeature(n).pipe(y(a=>a.injector),y(a=>a.get(r)));return s&&(o=o.pipe(Zn(0))),o.pipe(it())}call(n,r,s){let o=Nu(n.pipe(y(a=>a[r](...s))),{connector:()=>new on,resetOnDisconnect:!1});return o.connect(),o.pipe(O(a=>Fi(a)?a:pe))}get(n,r){return n.pipe(O(s=>s[r]))}create({facade:n,feature:r,methods:s,properties:o,async:a}){let c=this.getResolver(r,n,a),u=new class extends n{};return(s??[]).forEach(l=>{u[l]=(...f)=>this.call(c,l,f)}),(o??[]).forEach(l=>{u[l]=this.get(c,l)}),u[Vx]=!0,u}isProxyFacadeInstance(n){return!!n?.[Vx]}};e.\u0275fac=function(r){return new(r||e)(d(nY),d(Ye))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tle(t){return C(rY).create(t)}var iY=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r=""){return this.adapter.load(n,r)}getMany(n){return this.adapter.loadMany?this.adapter.loadMany(n):n.map(r=>T(v({},r),{data$:this.adapter.load(r.code,r.scope)}))}};e.\u0275fac=function(r){return new(r||e)(d(Tp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sY=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r,s){return this.adapter.load(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Ap))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oY=(()=>{let e=class e{constructor(n){this.adapter=n}get(n,r){return this.adapter.load(n,r)}add(n,r){return this.adapter.post(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Rp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jP=(()=>{let e=class e{constructor(n){this.adapter=n}search(n,r,s){return this.adapter.search(n,r,s)}searchByCodes(n,r){return this.adapter.searchByCodes(n,r)}getSuggestions(n,r){return this.adapter.loadSuggestions(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Mp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hx=(()=>{let e=class e extends Qr{};e.type="FacetChangedEvent";let t=e;return t})(),$P="[Product] Load Product References Data",aY="[Product] Load Product References Data Fail",BP="[Product] Load Product References Data Success",VP="[Product] Clean Product References",CS=class{constructor(e){this.payload=e,this.type=$P}},SS=class{constructor(e){this.payload=e,this.type=aY}},IS=class{constructor(e){this.payload=e,this.type=BP}},DS=class{constructor(){this.type=VP}},HP="[Product] Load Product Reviews Data",cY="[Product] Load Product Reviews Data Fail",zP="[Product] Load Product Reviews Data Success",GP="[Product] Post Product Review",WP="[Product] Post Product Review Fail",qP="[Product] Post Product Review Success",bS=class{constructor(e){this.payload=e,this.type=HP}},wS=class{constructor(e){this.payload=e,this.type=cY}},TS=class{constructor(e){this.payload=e,this.type=zP}},AS=class{constructor(e){this.payload=e,this.type=GP}},RS=class{constructor(e){this.payload=e,this.type=WP}},MS=class{constructor(e){this.payload=e,this.type=qP}},YP="[Product] Search Products",uY="[Product] Search Products Fail",KP="[Product] Search Products Success",ZP="[Product] Get Product Suggestions",QP="[Product] Get Product Suggestions Success",lY="[Product] Get Product Suggestions Fail",JP="[Product] Clear Product Search Result",Hp=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=YP}},xS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=uY}},OS=class{constructor(e,i){this.payload=e,this.auxiliary=i,this.type=KP}},NS=class{constructor(e){this.payload=e,this.type=ZP}},zp=class{constructor(e){this.payload=e,this.type=QP}},PS=class{constructor(e){this.payload=e,this.type=lY}},Gp=class{constructor(e={clearPageResults:!1,clearSearchboxResults:!1}){this.payload=e,this.type=JP}},Jr;(function(t){function e(u,l,f){return T(v({},ZS(u,l)),{scope:f})}t.entityScopedLoadMeta=e;function i(u,l,f,h){return T(v({},QS(u,l,h)),{scope:f})}t.entityScopedFailMeta=i;function n(u,l,f){return T(v({},JS(u,l)),{scope:f})}t.entityScopedSuccessMeta=n;function r(u,l,f){return T(v({},XS(u,l)),{scope:f})}t.entityScopedResetMeta=r;class s{constructor(l,f,h){this.type=WS,this.meta=e(l,f,h)}}t.EntityScopedLoadAction=s;class o{constructor(l,f,h,p){this.type=qS,this.meta=i(l,f,h,p)}}t.EntityScopedFailAction=o;class a{constructor(l,f,h,p){this.payload=p,this.type=YS,this.meta=n(l,f,h)}}t.EntityScopedSuccessAction=a;class c{constructor(l,f,h){this.type=KS,this.meta=r(l,f,h)}}t.EntityScopedResetAction=c})(Jr||(Jr={}));var RD="product",Zc="[Product] Detail Entity",Qc="[Product] Search Results By Codes Entity",XP="[Product] Product Search Load By Code",dY="[Product] Product Search Load By Code Success",fY="[Product] Product Search Load By Code Fail",hY="[Product] Clear Product Search By Code State",FS=class extends Jr.EntityScopedLoadAction{constructor(e){super(Qc,e.code,e.scope),this.payload=e,this.type=XP}},_S=class extends Jr.EntityScopedSuccessAction{constructor(e){super(Qc,e.code,e.scope,e.product),this.type=dY}},LS=class extends Jr.EntityScopedFailAction{constructor(e){super(Qc,e.code,e.scope,e.error),this.type=fY}},kS=class extends bf{constructor(){super(Qc),this.type=hY}},MD="[Product] Load Product Data",eF="[Product] Load Product Data Fail",tF="[Product] Load Product Data Success",pY="[Product] Clear Product PRICE",US=class extends Jr.EntityScopedLoadAction{constructor(e,i=""){super(Zc,e,i),this.payload=e,this.type=MD}},Wp=class extends Jr.EntityScopedFailAction{constructor(e,i,n=""){super(Zc,e,n,i),this.payload=i,this.type=eF}},jS=class extends Jr.EntityScopedSuccessAction{constructor(e,i=""){super(Zc,e.code??"",i),this.payload=e,this.type=tF}},$S=class extends Jr.EntityScopedResetAction{constructor(){super(Zc,void 0,"price"),this.type=pY}};var Jc=_n(RD),gY=A(Jc,t=>t.references),mY=(t,e)=>A(gY,i=>i.productCode===t&&i.list?e?i.list.filter(n=>n.referenceType===e):i.list:[]),vY=A(Jc,t=>t.reviews),yY=t=>A(vY,e=>{if(e.productCode===t)return e.list}),EY={results:{},suggestions:[],auxResults:{}};function CY(t=EY,e){switch(e.type){case KP:{let i=e.payload,n=e.auxiliary?{auxResults:i}:{results:i};return v(v({},t),n)}case QP:{let i=e.payload;return T(v({},t),{suggestions:i})}case JP:return T(v({},t),{results:e.payload.clearPageResults?{}:t.results,suggestions:e.payload.clearSearchboxResults?[]:t.suggestions,auxResults:e.payload.clearSearchboxResults?{}:t.auxResults})}return t}var SY=t=>t.results,IY=t=>t.auxResults,DY=t=>t.suggestions,xD=A(Jc,t=>t.search),bY=A(xD,SY),wY=A(xD,IY),TY=A(xD,DY),AY=A(Jc,t=>t.searchByCode),RY=t=>A(AY,e=>qt(e,t.code)[t.scope]||kn),nF=A(Jc,t=>t.details),Xc=(t,e="")=>A(nF,i=>qt(i,t)[e]||kn),MY=(t,e="")=>A(Xc(t,e),i=>nt(i)),rF=(t,e="")=>A(Xc(t,e),i=>jt(i)),xY=(t,e="")=>A(Xc(t,e),i=>Vn(i)),OY=(t,e="")=>A(Xc(t,e),i=>zo(i)),nle=A(nF,t=>Object.keys(t.entities));var eu=(()=>{let e=class e{constructor(n){this.store=n}search(n,r){n&&this.store.dispatch(new Hp({queryText:n,searchConfig:r}))}getResults(){return this.store.pipe(M(bY))}clearResults(){this.store.dispatch(new Gp({clearPageResults:!0}))}};e.\u0275fac=function(r){return new(r||e)(d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NY=(()=>{let e=class e{constructor(n,r){this.eventService=n,this.productSearchService=r,this.register()}register(){this.eventService.register(Hx,this.buildFacetChangedEvent())}buildFacetChangedEvent(){return this.productSearchService.getResults().pipe(aa(),x(([n,r])=>this.compareSearchResults(n,r)),y(([n,r])=>{let s=this.getToggledBreadcrumb(r.breadcrumbs,n.breadcrumbs)||this.getToggledBreadcrumb(n.breadcrumbs,r.breadcrumbs);if(s)return bi(Hx,{code:s.facetCode,name:s.facetName,valueCode:s.facetValueCode,valueName:s.facetValueName,selected:r.breadcrumbs&&n.breadcrumbs&&r.breadcrumbs.length>n.breadcrumbs.length})}))}compareSearchResults(n,r){if(n&&Object.keys(n).length!==0){let s=n.freeTextSearch!==""&&n.freeTextSearch===r.freeTextSearch,o=r.breadcrumbs?.[0]?.facetCode==="allCategories"&&n.breadcrumbs?.[0]?.facetCode===r.breadcrumbs[0]?.facetCode&&n.breadcrumbs[0].facetValueCode===r.breadcrumbs[0].facetValueCode;return s||o}return!1}getToggledBreadcrumb(n,r){if(n&&r&&n.length-r.length===1)return n.find(s=>!r.find(o=>o.facetCode===s.facetCode&&o.facetValueCode===s.facetValueCode))}};e.\u0275fac=function(r){return new(r||e)(d(bs),d(eu))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PY=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(NY))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})(),FY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productReferencesConnector=r,this.logger=C(Q),this.loadProductReferences$=W(()=>this.actions$.pipe(k($P),y(s=>s.payload),G(s=>this.productReferencesConnector.get(s.productCode,s.referenceType,s.pageSize).pipe(y(o=>new IS({productCode:s.productCode,list:o})),F(o=>I(new SS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(sY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),_Y=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.productReviewsConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadProductReviews$=W(()=>this.actions$.pipe(k(HP),y(o=>o.payload),G(o=>this.productReviewsConnector.get(o).pipe(y(a=>new TS({productCode:o,list:a})),F(a=>I(new wS(q(a,this.logger)))))))),this.postProductReview=W(()=>this.actions$.pipe(k(GP),y(o=>o.payload),G(o=>this.productReviewsConnector.add(o.productCode,o.review).pipe(y(a=>new MS(a)),F(a=>I(new RS(q(a,this.logger)))))))),this.showGlobalMessageOnPostProductReviewSuccess$=W(()=>this.actions$.pipe(k(qP),L(()=>{this.globalMessageService.add({key:"productReview.thankYouForReview"},Ue.MSG_TYPE_CONFIRMATION)})),{dispatch:!1}),this.showGlobalMessageOnPostProductReviewFail$=W(()=>this.actions$.pipe(k(WP),L(()=>{this.globalMessageService.add({key:"productReview.postReviewFail"},Ue.MSG_TYPE_ERROR)})),{dispatch:!1})}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(oY),d(qo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),LY=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.productSearchConnector=r,this.logger=C(Q),this.searchProducts$=W(()=>this.actions$.pipe(k(YP),Ar(s=>s.auxiliary),G(s=>s.pipe(O(o=>this.productSearchConnector.search(o.payload.queryText,o.payload.searchConfig).pipe(y(a=>new OS(a,o.auxiliary)),F(a=>I(new xS(q(a,this.logger),o.auxiliary))))))))),this.getProductSuggestions$=W(()=>this.actions$.pipe(k(ZP),y(s=>s.payload),O(s=>this.productSearchConnector.getSuggestions(s.term,s.searchConfig?.pageSize).pipe(y(o=>o===void 0?new zp([]):new zp(o)),F(o=>I(new PS(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(jP))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),kY=(()=>{let e=class e{productLoadEffect(n){return n.data$?.pipe(y(r=>new jS(v({code:n.code},r),n.scope)),F(r=>I(new Wp(n.code,q(r,this.logger),n.scope))))??I(new Wp(n.code,"Scoped product data does not exist",n.scope))}constructor(n,r){this.actions$=n,this.productConnector=r,this.logger=C(Q),this.contextChange$=this.actions$.pipe(k(Go,In)),this.loadProduct$=W(()=>({scheduler:s,debounce:o=0}={})=>this.actions$.pipe(k(MD),y(a=>({code:a.payload,scope:a.meta.scope})),wD(o,s),G(a=>an(...this.productConnector.getMany(a).map(c=>this.productLoadEffect(c)))),mg(this.contextChange$))),this.clearProductPrice$=W(()=>this.actions$.pipe(k(Er,jn),y(()=>new $S)))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(iY))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),UY=(()=>{let e=class e{constructor(){this.logger=C(Q),this.actions$=C(Ae),this.productSearchConnector=C(jP),this.contextChange$=this.actions$.pipe(k(Go,In)),this.searchByCodes$=W(()=>({scheduler:n,debounce:r=0}={})=>this.actions$.pipe(k(XP),Ar(s=>s.payload.scope),G(s=>{let o=s.key;return s.pipe(y(a=>a.payload),wD(r,n),G(a=>{let c=a.map(u=>u.code);return this.productSearchConnector.searchByCodes(c,o).pipe(O(u=>u.products?.map((l,f)=>new _S(T(v({},a[f]),{product:l})))),F(u=>a.map(l=>new LS(T(v({},l),{error:q(u,this.logger)})))))}))}),mg(this.contextChange$))),this.clearState$=W(()=>this.actions$.pipe(k(Er,jn),y(()=>new kS)))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),jY=[LY,UY,kY,_Y,FY],$Y={};function BY(t,e){let i=ut(t,e);return(n=$Y,r)=>r&&r.meta&&r.meta.entityType===t?T(v({},n),{[r.meta.scope??""]:i(n[r.meta.scope??""],r)}):n}function zx(t,e){return Oc(t,BY(t,e))}var Gx={productCode:"",list:[]};function VY(t=Gx,e){switch(e.type){case BP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{list:[...t.list,...n||[]].reduce((r,s)=>(r.some(o=>o.referenceType===s.referenceType&&o.target?.code===s.target?.code)||r.push(s),r),[]),productCode:i})}case VP:return Gx}return t}var HY={productCode:"",list:[]};function zY(t=HY,e){switch(e.type){case zP:{let i=e.payload.productCode,n=e.payload.list;return T(v({},t),{productCode:i,list:n})}}return t}function GY(){return{search:CY,searchByCode:zx(Qc),details:zx(Zc),reviews:zY,references:VY}}var iF=new S("ProductReducers"),WY={provide:iF,useFactory:GY};function qY(t){return function(e,i){return(i.type===Go||i.type===In)&&(e=void 0),t(e,i)}}var YY=[qY],rle=(()=>{let e=class e{constructor(n){this.store=n}loadProductReferences(n,r,s){this.store.dispatch(new CS({productCode:n,referenceType:r,pageSize:s}))}getProductReferences(n,r){return this.store.pipe(M(mY(n,r)))}cleanReferences(){this.store.dispatch(new DS)}};e.\u0275fac=function(r){return new(r||e)(d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ile=(()=>{let e=class e{constructor(n){this.store=n}getByProductCode(n){return this.store.pipe(M(yY(n)),L(r=>{r===void 0&&n!==void 0&&this.store.dispatch(new bS(n))}),y(r=>r??[]))}add(n,r){this.store.dispatch(new AS({productCode:n,review:r}))}};e.\u0275fac=function(r){return new(r||e)(d(de))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sle=(()=>{let e=class e{constructor(){this.store=C(de)}load({code:n,scope:r}){this.store.dispatch(new FS({code:n,scope:r??""}))}get({code:n,scope:r}){let s=this.store.pipe(M(RY({code:n,scope:r??""}))),o=s.pipe(Fu(0),L(c=>{c.loading||c.success||c.error||this.load({code:n,scope:r})})),a=s.pipe(y(c=>c.value));return _i(()=>o.subscribe(),()=>a)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),KY=(()=>{let e=class e{constructor(n,r,s,o,a){this.store=n,this.loadingScopes=r,this.actions$=s,this.platformId=o,this.eventService=a,this.products={}}get(n,r){return r=this.loadingScopes.expand("product",r),this.initProductScopes(n,r),this.products[n][this.getScopesIndex(r)]}initProductScopes(n,r){this.products[n]||(this.products[n]={});for(let s of r)this.products[n][s]||(this.products[n][s]=this.getProductForScope(n,s));r.length>1&&(this.products[n][this.getScopesIndex(r)]=kP(r.map(s=>this.products[n][s])).pipe(y(s=>s.every(Boolean)?Et({},...s):void 0),cn()))}getScopesIndex(n){return n.join("\u0275")}getProductForScope(n,r){let s=this.store.pipe(M(Xc(n,r)),y(u=>!u.loading&&!u.success&&!u.error),cn(),x(u=>u)),o=this.store.pipe(M(rF(n,r))),a=an(s,...this.getProductReloadTriggers(n,r)).pipe(ki(0),st(o),L(([,u])=>{u||this.store.dispatch(new US(n,r))})),c=this.store.pipe(M(MY(n,r)));return _i(()=>a.subscribe(),()=>c).pipe(it({bufferSize:1,refCount:!0}))}getProductReloadTriggers(n,r){let s=[],o=this.loadingScopes.getMaxAge("product",r);if(o&&Fn(this.platformId)){let c=this.actions$.pipe(k(tF,eF),x(l=>l.meta.entityId===n&&l.meta.scope===r)),u=this.actions$.pipe(k(MD),x(l=>l.payload===n&&l.meta.scope===r));s.push(this.getMaxAgeTrigger(u,c,o))}let a=this.loadingScopes.getReloadTriggers("product",r).map(c=>this.eventService.get(c));return s.concat(a)}getMaxAgeTrigger(n,r,s,o){let a=0,c=()=>o?o.now():Date.now(),u=r.pipe(L(()=>a=c()));return qe(()=>{let f=c()-a,h=u.pipe(Zn(s,o),y(()=>!0),mg(n));return f>s?an(I(!0),h):f===0?h:an(I(!0).pipe(Zn(s-f,o)),h)})}};e.\u0275fac=function(r){return new(r||e)(d(de),d(E4),d(Ae),d($e),d(bs))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ZY=(()=>{let e=class e{constructor(n,r){this.store=n,this.productLoading=r}get(n,r=Ic){return n?this.productLoading.get(n,[].concat(r)):I(void 0)}isLoading(n,r=""){return this.store.pipe(M(rF(n,r)))}isSuccess(n,r=""){return this.store.pipe(M(xY(n,r)))}hasError(n,r=""){return this.store.pipe(M(OY(n,r)))}};e.\u0275fac=function(r){return new(r||e)(d(de),d(KY))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ole=(()=>{let e=class e extends eu{search(n,r){this.store.dispatch(new Hp({queryText:n,searchConfig:r},!0))}getResults(){return this.store.pipe(M(wY))}clearResults(){this.store.dispatch(new Gp({clearSearchboxResults:!0}))}getSuggestionResults(){return this.store.pipe(M(TY))}searchSuggestions(n,r){this.store.dispatch(new NS({term:n,searchConfig:r}))}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QY=(()=>{let e=class e extends nn{constructor(n,r,s,o){super(),this.productSearchService=n,this.cms=r,this.translation=s,this.basePageMetaResolver=o,this.searchPage$=this.cms.getCurrentPage().pipe(x(a=>!!a),O(a=>this.hasProductListComponent(a)?this.productSearchService.getResults().pipe(x(c=>!!c)):I(a))),this.pageType=be.CATEGORY_PAGE}resolveTitle(){return this.searchPage$.pipe(x(n=>!!n.pagination),O(n=>this.translation.translate("pageMetaResolver.category.title",{count:n.pagination?.totalResults,query:n.breadcrumbs?.length?n.breadcrumbs[0].facetValueName:void 0})))}resolveBreadcrumbs(){return _e([this.searchPage$.pipe(),this.translation.translate("common.home")]).pipe(y(([n,r])=>n.breadcrumbs?this.resolveBreadcrumbData(n,r):[]))}resolveBreadcrumbData(n,r){let s=[];s.push({label:r,link:"/"});for(let o of n.breadcrumbs??[])o.facetValueName&&((o.facetCode==="category"||o.facetCode==="allCategories")&&s.push({label:o.facetValueName,link:`/c/${o.facetValueCode}`}),o.facetCode==="brand"&&s.push({label:o.facetValueName,link:`/Brands/${o.facetValueName}/c/${o.facetValueCode}`}));return s}hasProductListComponent(n){return!!Object.keys(n.slots||{}).find(r=>!!n.slots?.[r].components?.find(s=>s.typeCode==="CMSProductListComponent"||s.typeCode==="ProductGridComponent"))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(eu),d(pg),d(yr),d(gg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JY=(()=>{let e=class e extends nn{constructor(n,r,s,o,a){super(),this.productSearchService=n,this.translation=r,this.authService=s,this.route=o,this.semanticPathService=a,this.total$=this.productSearchService.getResults().pipe(x(c=>!!c?.pagination),y(c=>c.pagination?.totalResults??0)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveBreadcrumbs(){return _e([this.translation.translate("common.home"),this.translation.translate("myCoupons.myCoupons"),this.authService.isUserLoggedIn()]).pipe(y(([n,r,s])=>{let o=[];return o.push({label:n,link:"/"}),s&&o.push({label:r,link:this.semanticPathService.transform({cxRoute:"coupons"})}),o}))}resolveTitle(){return this.total$.pipe(O(n=>this.translation.translate("pageMetaResolver.search.findProductTitle",{count:n,coupon:this.couponCode})))}getScore(n){return super.getScore(n)+(this.couponCode?1:-1)}get couponCode(){return this.route.snapshot?.queryParams?.couponcode}};e.\u0275fac=function(r){return new(r||e)(d(eu),d(yr),d(Hn),d(zr),d(_c))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),XY=(()=>{let e=class e extends nn{constructor(n,r,s,o,a){super(),this.routingService=n,this.productService=r,this.translation=s,this.basePageMetaResolver=o,this.pageLinkService=a,this.product$=this.routingService.getRouterState().pipe(y(c=>c.state.params.productCode),x(c=>!!c),O(c=>this.productService.get(c,"details")),x(Cn)),this.pageType=be.PRODUCT_PAGE}resolveHeading(){return this.product$.pipe(O(n=>this.translation.translate("pageMetaResolver.product.heading",{heading:n.name})))}resolveTitle(){return this.product$.pipe(O(n=>{let r=n.name;return r+=this.resolveFirstCategory(n),r+=this.resolveManufacturer(n),this.translation.translate("pageMetaResolver.product.title",{title:r})}))}resolveDescription(){return this.product$.pipe(O(n=>this.translation.translate("pageMetaResolver.product.description",{description:n.summary})))}resolveBreadcrumbs(){return _e([this.product$.pipe(),this.translation.translate("common.home")]).pipe(y(([n,r])=>{let s=[];s.push({label:r,link:"/"});for(let{name:o,code:a,url:c}of n.categories||[])s.push({label:o||a,link:c});return s}))}resolveImage(){return this.product$.pipe(y(n=>n.images?.PRIMARY?.zoom?.url??null))}resolveFirstCategory(n){let r=n?.categories?.[0];return r?` | ${r.name||r.code}`:""}resolveManufacturer(n){return n.manufacturer?` | ${n.manufacturer}`:""}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.product$.pipe(O(n=>this.findBaseProduct(n)),y(n=>{let r=this.routingService.getFullUrl({cxRoute:"product",params:n});return this.pageLinkService.getCanonicalUrl({},r)}))}findBaseProduct(n){return n?.baseProduct?this.productService.get(n.baseProduct,"list").pipe(x(Cn),O(r=>this.findBaseProduct(r))):I(n)}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(ZY),d(yr),d(gg),d(xP))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),e9=(()=>{let e=class e extends nn{constructor(n,r,s,o){super(),this.routingService=n,this.productSearchService=r,this.translation=s,this.basePageMetaResolver=o,this.total$=this.productSearchService.getResults().pipe(x(a=>!!a?.pagination),y(a=>a.pagination?.totalResults)),this.query$=this.routingService.getRouterState().pipe(y(a=>a.state.params.query)),this.pageType=be.CONTENT_PAGE,this.pageTemplate="SearchResultsListPageTemplate"}resolveTitle(){let n=[this.total$,this.query$];return _e(n).pipe(O(([r,s])=>this.translation.translate("pageMetaResolver.search.default_title").pipe(G(o=>this.translation.translate("pageMetaResolver.search.title",{count:r,query:s||o})))))}resolveRobots(){return this.basePageMetaResolver.resolveRobots()}resolveCanonicalUrl(){return this.basePageMetaResolver.resolveCanonicalUrl()}};e.\u0275fac=function(r){return new(r||e)(d(Ai),d(eu),d(yr),d(gg))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function t9(){return{state:{ssrTransfer:{keys:{[RD]:Wo.TRANSFER_STATE}}}}}var n9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[Ho(t9),WY],imports:[Ze,fr.forFeature(RD,iF,{metaReducers:YY}),Hr.forFeature(jY)]});let t=e;return t})(),r9=[{provide:nn,useExisting:XY,multi:!0},{provide:nn,useExisting:QY,multi:!0},{provide:nn,useExisting:e9,multi:!0},{provide:nn,useExisting:JY,multi:!0}],ale=(()=>{let e=class e{static forRoot(){return{ngModule:e,providers:[...r9]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({imports:[n9,PY]});let t=e;return t})(),sF=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}add(n,r){return this.adapter.add(n,r)}update(n,r,s){return this.adapter.update(n,r,s)}verify(n,r){return this.adapter.verify(n,r)}delete(n,r){return this.adapter.delete(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(Np))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i9=(()=>{let e=class e{constructor(n){this.adapter=n}loadConsents(n){return this.adapter.loadConsents(n)}giveConsent(n,r,s){return this.adapter.giveConsent(n,r,s)}withdrawConsent(n,r,s){return this.adapter.withdrawConsent(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Pp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),s9=(()=>{let e=class e{constructor(n){this.adapter=n}getActiveList(n){return this.adapter.loadActiveList(n)}};e.\u0275fac=function(r){return new(r||e)(d(Fp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),o9=(()=>{let e=class e{constructor(n){this.adapter=n}getCustomerCoupons(n,r,s,o){return this.adapter.getCustomerCoupons(n,r,s,o)}turnOnNotification(n,r){return this.adapter.turnOnNotification(n,r)}turnOffNotification(n,r){return this.adapter.turnOffNotification(n,r)}claimCustomerCoupon(n,r){return this.adapter.claimCustomerCoupon(n,r)}disclaimCustomerCoupon(n,r){return this.adapter.disclaimCustomerCoupon(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(_p))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a9=(()=>{let e=class e{constructor(n){this.adapter=n}getInterests(n,r,s,o,a,c){return this.adapter.getInterests(n,r,s,o,a,c)}removeInterest(n,r){return this.adapter.removeInterest(n,r)}addInterest(n,r,s){return this.adapter.addInterest(n,r,s)}};e.\u0275fac=function(r){return new(r||e)(d(Lp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c9=(()=>{let e=class e{constructor(n){this.adapter=n}getAll(n){return this.adapter.loadAll(n)}delete(n,r){return this.adapter.delete(n,r)}setDefault(n,r){return this.adapter.setDefault(n,r)}};e.\u0275fac=function(r){return new(r||e)(d(kp))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cs=class extends Qr{},u9=(()=>{let e=class e extends Cs{};e.type="UpdateUserAddressEvent";let t=e;return t})(),l9=(()=>{let e=class e extends Cs{};e.type="DeleteUserAddressEvent";let t=e;return t})(),d9=(()=>{let e=class e extends Cs{};e.type="AddUserAddressEvent";let t=e;return t})(),cle=(()=>{let e=class e extends Cs{};e.type="LoadUserAddressesEvent";let t=e;return t})(),ule=(()=>{let e=class e extends Cs{};e.type="LoadUserPaymentMethodsEvent";let t=e;return t})(),oF=(()=>{let e=class e{constructor(n){this.stateEventService=n,this.register()}register(){this.updateUserAddressEvent(),this.deleteUserAddressEvent(),this.addUserAddressEvent()}updateUserAddressEvent(){this.stateEventService.register({action:ag,event:u9})}addUserAddressEvent(){this.stateEventService.register({action:og,event:d9})}deleteUserAddressEvent(){this.stateEventService.register({action:cg,event:l9})}};e.\u0275fac=function(r){return new(r||e)(d(ZO))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),f9=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(r){return new(r||e)(d(oF))},e.\u0275mod=B({type:e}),e.\u0275inj=$({});let t=e;return t})();var lle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadCustomerCoupons(n,r,s){this.userIdService.takeUserId().subscribe(o=>{this.store.dispatch(new Xf({userId:o,pageSize:n,currentPage:r,sort:s}))})}getCustomerCoupons(n){return _e([this.store.pipe(M(dg)),this.getClaimCustomerCouponResultLoading()]).pipe(x(([,r])=>!r),L(([r])=>{r.loading||r.success||r.error||this.loadCustomerCoupons(n)}),y(([r])=>r.value),x(Cn))}getCustomerCouponsLoaded(){return this.store.pipe(M(D4))}getCustomerCouponsLoading(){return this.store.pipe(M(b4))}subscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new nh({userId:r,couponCode:n}))})}getSubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ii(vs)))}getSubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(qr(vs)))}getSubscribeCustomerCouponResultError(){return this.store.pipe(M(Si(vs)))}unsubscribeCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new sh({userId:r,couponCode:n}))})}getUnsubscribeCustomerCouponResultLoading(){return this.store.pipe(M(Ii(ys)))}getUnsubscribeCustomerCouponResultSuccess(){return this.store.pipe(M(qr(ys)))}getUnsubscribeCustomerCouponResultError(){return this.store.pipe(M(Si(ys)))}claimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new ch({userId:r,couponCode:n}))})}disclaimCustomerCoupon(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new uh({userId:r,couponCode:n}))})}resetDisclaimCustomerCoupon(){this.store.dispatch(new lh)}getClaimCustomerCouponResultSuccess(){return this.store.pipe(M(qr(Fo)))}getClaimCustomerCouponResultLoading(){return this.store.pipe(M(Ii(Fo)))}getDisclaimCustomerCouponResultSuccess(){return this.store.pipe(M(qr(jo)))}getClaimCustomerCouponResultError(){return this.store.pipe(M(Si(Fo)))}getDisclaimCustomerCouponResultError(){return this.store.pipe(M(Si(jo)))}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h9=(()=>{let e=class e{constructor(n,r,s,o){this.store=n,this.userIdService=r,this.userAddressConnector=s,this.command=o,this.userAddressVerificationCommand=this.command.create(a=>this.userIdService.takeUserId(!1).pipe(O(c=>this.userAddressConnector.verify(c,a.address))))}loadAddresses(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new Kh(n))})}addUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Jh({userId:r,address:n}))})}setAddressAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Tc({userId:r,addressId:n,address:{defaultAddress:!0}}))})}updateUserAddress(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Tc({userId:s,addressId:n,address:r}))})}deleteUserAddress(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new rp({userId:r,addressId:n}))})}getAddresses(){return this.store.pipe(M(k4))}getAddressesLoading(){return this.store.pipe(M(U4))}getAddressesLoadedSuccess(){return this.store.pipe(M(j4))}loadDeliveryCountries(){this.store.dispatch(new gh)}getDeliveryCountries(){return this.store.pipe(M(T4))}getCountry(n){return this.store.pipe(M(A4(n)))}loadRegions(n){this.store.dispatch(new Gh(n))}clearRegions(){this.store.dispatch(new Yh)}getRegions(n){return this.store.pipe(M(L4),y(({regions:r,country:s,loading:o,loaded:a})=>!n&&(o||a)?(this.clearRegions(),[]):o&&!a?[]:!o&&n!==s&&n?(s&&this.clearRegions(),this.loadRegions(n),[]):r))}verifyAddress(n){return this.userAddressVerificationCommand.execute({address:n})}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn),d(sF),d(j5))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadActiveCostCenters(){this.userIdService.takeUserId(!0).subscribe({next:n=>{this.store.dispatch(new yp(n))},error:()=>{}})}getCostCentersState(){return this.store.select(pP)}getActiveCostCenters(){return this.getCostCentersState().pipe(Yt(Tr),L(n=>{n.loading||n.success||n.error||this.loadActiveCostCenters()}),x(n=>!!(n.success||n.error)),y(n=>n.value??[]))}getCostCenterAddresses(n){return this.getActiveCostCenters().pipe(y(r=>{let s=r.find(o=>o.code===n);return s&&s.unit?s.unit.addresses??[]:[]}))}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadProductInterests(n,r,s,o,a){this.userIdService.takeUserId().subscribe(c=>{this.store.dispatch(new Bo({userId:c,pageSize:n,currentPage:r,sort:s,productCode:o,notificationType:a}))})}getProductInterests(){return this.store.pipe(M(F4))}getAndLoadProductInterests(n){return this.store.pipe(M(gD),L(r=>{r.loading||r.success||r.error||this.loadProductInterests(n)}),y(r=>r.value),x(Cn))}getProdutInterestsLoading(){return this.store.pipe(M(_4))}removeProdutInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new Lh({userId:s,item:n,singleDelete:r}))})}getRemoveProdutInterestLoading(){return this.store.pipe(M(Ii(Uo)))}getRemoveProdutInterestSuccess(){return this.store.pipe(M(qr(Uo)))}addProductInterest(n,r){this.userIdService.takeUserId().subscribe(s=>{this.store.dispatch(new jh({userId:s,productCode:n,notificationType:r}))})}getAddProductInterestSuccess(){return this.store.pipe(M(qr(ko)))}getAddProductInterestError(){return this.store.pipe(M(Si(ko)))}resetAddInterestState(){this.store.dispatch(new Vh)}resetRemoveInterestState(){this.store.dispatch(new Hh)}clearProductInterests(){this.store.dispatch(new zh)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hle=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}getPreferences(){return this.store.pipe(M(R4))}getEnabledPreferences(){return this.store.pipe(M(M4))}loadPreferences(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new yh(n))})}clearPreferences(){this.store.dispatch(new wh)}getPreferencesLoading(){return this.store.pipe(M(x4))}updatePreferences(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Sh({userId:r,preferences:n}))})}getUpdatePreferencesResultLoading(){return this.store.select(Ii(jc))}resetNotificationPreferences(){this.store.dispatch(new bh)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ple=(()=>{let e=class e{constructor(n,r){this.store=n,this.userIdService=r}loadPaymentMethods(){this.userIdService.takeUserId().subscribe(n=>{this.store.dispatch(new $o(n))})}getPaymentMethods(){return this.store.pipe(M(O4))}getPaymentMethodsLoading(){return this.store.pipe(M(N4))}getPaymentMethodsLoadedSuccess(){return this.store.pipe(M(P4))}setPaymentMethodAsDefault(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Rh({userId:r,paymentMethodId:n}))})}deletePaymentMethod(n){this.userIdService.takeUserId().subscribe(r=>{this.store.dispatch(new Oh({userId:r,paymentMethodId:n}))})}getAllBillingCountries(){return this.store.pipe(M(I4))}loadBillingCountries(){this.store.dispatch(new Zf)}};e.\u0275fac=function(r){return new(r||e)(d(de),d(Sn))},e.\u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wx=class{},p9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadBillingCountries$=W(()=>this.actions$.pipe(k(CI),O(()=>this.siteConnector.getCountries(VS.BILLING).pipe(y(s=>new Jf(s)),F(s=>I(new Qf(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),g9=(()=>{let e=class e{constructor(n){this.actions$=n,this.clearMiscsData$=W(()=>this.actions$.pipe(k(In,Go),y(()=>new Sp)))}};e.\u0275fac=function(r){return new(r||e)(d(Ae))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),m9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.customerCouponConnector=r,this.logger=C(Q),this.loadCustomerCoupons$=W(()=>this.actions$.pipe(k(II),y(s=>s.payload),G(s=>this.customerCouponConnector.getCustomerCoupons(s.userId,s.pageSize,s.currentPage,s.sort).pipe(y(o=>new th(o)),F(o=>I(new eh(q(o,this.logger)))))))),this.subscribeCustomerCoupon$=W(()=>this.actions$.pipe(k(bI),y(s=>s.payload),G(s=>this.customerCouponConnector.turnOnNotification(s.userId,s.couponCode).pipe(y(o=>new ih(o)),F(o=>I(new rh(q(o,this.logger)))))))),this.unsubscribeCustomerCoupon$=W(()=>this.actions$.pipe(k(TI),y(s=>s.payload),G(s=>this.customerCouponConnector.turnOffNotification(s.userId,s.couponCode).pipe(y(()=>new ah(s.couponCode)),F(o=>I(new oh(q(o,this.logger)))))))),this.claimCustomerCoupon$=W(()=>this.actions$.pipe(k(RI),y(s=>s.payload),G(s=>this.customerCouponConnector.claimCustomerCoupon(s.userId,s.couponCode).pipe(y(o=>new ph(o)),F(o=>I(new hh(q(o,this.logger)))))))),this.disclaimCustomerCoupon$=W(()=>this.actions$.pipe(k(MI),y(s=>s.payload),G(s=>this.customerCouponConnector.disclaimCustomerCoupon(s.userId,s.couponCode).pipe(y(o=>new fh(o)),F(o=>I(new dh(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(o9))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),v9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadDeliveryCountries$=W(()=>this.actions$.pipe(k(xI),O(()=>this.siteConnector.getCountries(VS.SHIPPING).pipe(y(s=>new vh(s)),F(s=>I(new mh(q(s,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),y9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.connector=r,this.logger=C(Q),this.loadPreferences$=W(()=>this.actions$.pipe(k(NI),y(s=>s.payload),O(s=>this.connector.loadAll(s).pipe(y(o=>new Ch(o)),F(o=>I(new Eh(q(o,this.logger)))))))),this.updatePreferences$=W(()=>this.actions$.pipe(k(_I),y(s=>s.payload),G(s=>this.connector.update(s.userId,s.preferences).pipe(y(()=>new Dh(s.preferences)),F(o=>I(new Ih(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(e4))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),E9=(()=>{let e=class e{constructor(n,r,s){this.actions$=n,this.userPaymentMethodConnector=r,this.globalMessageService=s,this.logger=C(Q),this.loadUserPaymentMethods$=W(()=>this.actions$.pipe(k(kI),y(o=>o.payload),G(o=>this.userPaymentMethodConnector.getAll(o).pipe(y(a=>new Ah(a)),F(a=>I(new Th(q(a,this.logger)))))))),this.setDefaultUserPaymentMethod$=W(()=>this.actions$.pipe(k($I),y(o=>o.payload),G(o=>this.userPaymentMethodConnector.setDefault(o.userId,o.paymentMethodId).pipe(O(a=>[new xh(a),new $o(o.userId)]),F(a=>I(new Mh(q(a,this.logger)))))))),this.deleteUserPaymentMethod$=W(()=>this.actions$.pipe(k(BI),y(o=>o.payload),G(o=>this.userPaymentMethodConnector.delete(o.userId,o.paymentMethodId).pipe(O(a=>(this.globalMessageService.add({key:"paymentCard.deletePaymentSuccess"},Ue.MSG_TYPE_CONFIRMATION),[new Ph(a),new $o(o.userId)])),F(a=>I(new Nh(q(a,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(c9),d(qo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),C9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userInterestsConnector=r,this.logger=C(Q),this.loadProductInteres$=W(()=>this.actions$.pipe(k(VI),y(s=>s.payload),O(s=>this.userInterestsConnector.getInterests(s.userId,s.pageSize,s.currentPage,s.sort,s.productCode,s.notificationType).pipe(y(o=>new _h(o)),F(o=>I(new Fh(q(o,this.logger)))))))),this.removeProductInterest$=W(()=>this.actions$.pipe(k(GI),y(s=>s.payload),O(s=>this.userInterestsConnector.removeInterest(s.userId,s.item).pipe(O(o=>[new Bo(s.singleDelete?{userId:s.userId,productCode:s.item.product?.code,notificationType:s.item.productInterestEntry?.[0].interestType}:{userId:s.userId}),new kh(o)]),F(o=>I(new Uh(q(o,this.logger)))))))),this.addProductInterest$=W(()=>this.actions$.pipe(k(WI),y(s=>s.payload),O(s=>this.userInterestsConnector.addInterest(s.userId,s.productCode,s.notificationType).pipe(O(o=>[new Bo({userId:s.userId,productCode:s.productCode,notificationType:s.notificationType}),new $h(o)]),F(o=>I(new Bh(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(a9))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),S9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.siteConnector=r,this.logger=C(Q),this.loadRegions$=W(()=>this.actions$.pipe(k(qI),y(s=>s.payload),O(s=>this.siteConnector.getRegions(s).pipe(y(o=>new qh({entities:o,country:s})),F(o=>I(new Wh(q(o,this.logger)))))))),this.resetRegions$=W(()=>this.actions$.pipe(k(Gc,KI),y(()=>new Kr(Bc))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(Yo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),I9=(()=>{let e=class e{constructor(n,r,s,o){this.actions$=n,this.userAddressConnector=r,this.userAddressService=s,this.messageService=o,this.logger=C(Q),this.loadUserAddresses$=W(()=>this.actions$.pipe(k(ZI),y(a=>a.payload),O(a=>this.userAddressConnector.getAll(a).pipe(y(c=>new Qh(c)),F(c=>I(new Zh(q(c,this.logger)))))))),this.addUserAddress$=W(()=>this.actions$.pipe(k(og),y(a=>a.payload),G(a=>this.userAddressConnector.add(a.userId,a.address).pipe(y(c=>new ep(c)),F(c=>I(new Xh(q(c,this.logger)))))))),this.updateUserAddress$=W(()=>this.actions$.pipe(k(ag),y(a=>a.payload),G(a=>this.userAddressConnector.update(a.userId,a.addressId,a.address).pipe(y(()=>new np(a)),F(c=>(this.showGlobalMessage("addressForm.invalidAddress",Ue.MSG_TYPE_ERROR),I(new tp(q(c,this.logger))))))))),this.deleteUserAddress$=W(()=>this.actions$.pipe(k(cg),y(a=>a.payload),G(a=>this.userAddressConnector.delete(a.userId,a.addressId).pipe(y(c=>new sp(c)),F(c=>I(new ip(q(c,this.logger)))))))),this.showGlobalMessageOnAddSuccess$=W(()=>this.actions$.pipe(k(XI),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressAddSuccess")})),{dispatch:!1}),this.showGlobalMessageOnUpdateSuccess$=W(()=>this.actions$.pipe(k(eD),y(a=>a.payload),L(a=>{this.loadAddresses(),(Object.keys(a?.address).length!==1||!a?.address?.defaultAddress)&&this.showGlobalMessage("addressForm.userAddressUpdateSuccess")})),{dispatch:!1}),this.showGlobalMessageOnDeleteSuccess$=W(()=>this.actions$.pipe(k(tD),L(()=>{this.loadAddresses(),this.showGlobalMessage("addressForm.userAddressDeleteSuccess")})),{dispatch:!1})}showGlobalMessage(n,r){this.messageService.add({key:n},r??Ue.MSG_TYPE_CONFIRMATION)}loadAddresses(){this.userAddressService.loadAddresses()}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(sF),d(h9),d(qo))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),D9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userConsentConnector=r,this.logger=C(Q),this.resetConsents$=W(()=>this.actions$.pipe(k(In),y(()=>new Ac))),this.getConsents$=W(()=>this.actions$.pipe(k(nD),y(s=>s.payload),je(s=>this.userConsentConnector.loadConsents(s).pipe(y(o=>new up(o)),F(o=>I(new cp(q(o,this.logger)))))))),this.giveConsent$=W(()=>this.actions$.pipe(k(iD,op),je(s=>this.userConsentConnector.giveConsent(s.payload.userId,s.payload.consentTemplateId??"",s.payload.consentTemplateVersion??0).pipe(y(o=>new dp(o)),F(o=>{let a=[new lp(q(o,this.logger))];return s.type===op&&o.status===409&&a.push(new Kf(Ue.MSG_TYPE_ERROR)),I(...a)}))))),this.withdrawConsent$=W(()=>this.actions$.pipe(k(oD),y(s=>s.payload),je(({userId:s,consentCode:o,consentId:a})=>this.userConsentConnector.withdrawConsent(s,o,a).pipe(y(()=>new mp),F(c=>I(new gp(q(c,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(i9))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),b9=(()=>{let e=class e{constructor(n,r){this.actions$=n,this.userCostCenterConnector=r,this.logger=C(Q),this.loadActiveCostCenters$=W(()=>this.actions$.pipe(k(aD),y(s=>s.payload),O(s=>this.userCostCenterConnector.getActiveList(s).pipe(y(o=>new Cp(o.values)),F(o=>I(new Ep(q(o,this.logger))))))))}};e.\u0275fac=function(r){return new(r||e)(d(Ae),d(s9))},e.\u0275prov=m({token:e,factory:e.\u0275fac});let t=e;return t})(),w9=[g9,v9,S9,I9,E9,p9,D9,m9,y9,C9,b9],qx={entities:{}};function T9(t=qx,e){switch(e.type){case SI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Gc:return qx}return t}var A9={coupons:[],sorts:[],pagination:{}};function R9(t=A9,e){switch(e.type){case DI:return e.payload;case wI:{let i=e.payload.coupon,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>i&&r.couponId===i.couponId?n[s]=i:n[s]=r),T(v({},t),{coupons:n})}case AI:{let i=e.payload,n=new Array(t.coupons?.length??0);return t.coupons?.forEach((r,s)=>r.couponId===i?n[s]=T(v({},r),{notificationOn:!1}):n[s]=r),T(v({},t),{coupons:n})}}return t}var Yx={entities:{}};function M9(t=Yx,e){switch(e.type){case OI:{let n=e.payload.reduce((r,s)=>T(v({},r),{[s.isocode??""]:s}),v({},t.entities));return T(v({},t),{entities:n})}case Gc:return Yx}return t}var yC=[];function x9(t=yC,e){switch(e.type){case PI:return yC;case FI:case LI:return e.payload?e.payload:yC}return t}var EC=[];function O9(t=EC,e){switch(e.type){case jI:return e.payload?e.payload:EC;case UI:return EC}return t}var CC={results:[],pagination:{},sorts:[]};function N9(t=CC,e){switch(e.type){case zI:return e.payload?e.payload:CC;case HI:return CC}return t}var Kx={entities:[],country:null};function P9(t=Kx,e){switch(e.type){case YI:{let i=e.payload.entities,n=e.payload.country;return i||n?T(v({},t),{entities:i,country:n}):Kx}}return t}var SC=[];function F9(t=SC,e){switch(e.type){case QI:return SC;case JI:return e.payload?e.payload:SC}return t}var Zx=[];function _9(t=Zx,e){switch(e.type){case rD:{let i=e.payload;return i||Zx}case sD:{let i=e.consentTemplate;return t.map(n=>n.id===i.id?i:n)}}return t}var IC=[];function L9(t=IC,e){switch(e.type){case cD:return IC;case uD:return e.payload?e.payload:IC}return t}function k9(){return{addresses:ut(rn,F9),billingCountries:T9,consents:ut($c,_9),payments:ut(Sr,O9),countries:M9,regions:ut(Bc,P9),customerCoupons:ut(Vc,R9),notificationPreferences:ut(Hc,x9),productInterests:ut(zc,N9),costCenters:ut(sg,L9)}}var aF=new S("UserReducers"),U9={provide:aF,useFactory:k9};function j9(t){return function(e,i){return i.type===Er&&(e=void 0),t(e,i)}}var $9=[j9],B9=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[U9],imports:[Ze,Ri,fr.forFeature(iN,aF,{metaReducers:$9}),Hr.forFeature(w9),LM]});let t=e;return t})(),gle=(()=>{let e=class e{static forRoot(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=B({type:e}),e.\u0275inj=$({providers:[oF],imports:[B9,f9]});let t=e;return t})();export{v as a,T as b,Cg as c,V9 as d,rt as e,Ee as f,z as g,re as h,Te as i,on as j,Fg as k,Tr as l,R_ as m,pe as n,DK as o,bK as p,Yt as q,ge as r,I as s,xt as t,Jn as u,y as v,_e as w,G as x,Yn as y,Kn as z,qe as A,ra as B,ia as C,sa as D,Zt as E,k_ as F,an as G,Lg as H,x as I,kg as J,_i as K,Li as L,Fu as M,F as N,je as O,E_ as P,ki as Q,ie as R,wu as S,Zn as T,C_ as U,cn as V,I_ as W,lb as X,B_ as Y,wn as Z,Mt as _,Ar as $,aa,V_ as ba,Ui as ca,Os as da,it as ea,Og as fa,ku as ga,Qn as ha,O as ia,ca as ja,b_ as ka,L as la,H_ as ma,st as na,j as oa,Ew as pa,m as qa,$ as ra,S as sa,d as ta,C as ua,Ev as va,dn as wa,un as xa,Fw as ya,B as za,Ft as Aa,Vt as Ba,sr as Ca,di as Da,use as Ea,lse as Fa,We as Ga,_v as Ha,Ye as Ia,ar as Ja,gt as Ka,$e as La,pn as Ma,dse as Na,fse as Oa,yU as Pa,hse as Qa,pse as Ra,gse as Sa,X as Ta,On as Ua,Vm as Va,pl as Wa,Hl as Xa,Ki as Ya,to as Za,Ce as _a,zt as $a,R1 as ab,U1 as bb,sy as cb,e$ as db,F0 as eb,t$ as fb,Ese as gb,Cse as hb,Sse as ib,V0 as jb,H0 as kb,cy as lb,z0 as mb,G0 as nb,p$ as ob,Ise as pb,m$ as qb,uy as rb,Dse as sb,bse as tb,wse as ub,b$ as vb,q0 as wb,w$ as xb,T$ as yb,Y0 as zb,Tse as Ab,K0 as Bb,Z0 as Cb,Ase as Db,Rse as Eb,M$ as Fb,Q0 as Gb,x$ as Hb,O$ as Ib,N$ as Jb,P$ as Kb,Mse as Lb,F$ as Mb,xse as Nb,Ose as Ob,Nse as Pb,Pse as Qb,Fse as Rb,_se as Sb,Lse as Tb,kse as Ub,Use as Vb,jse as Wb,$se as Xb,Bse as Yb,Vse as Zb,Hse as _b,zse as $b,ro as ac,wt as bc,io as cc,ts as dc,me as ec,Lr as fc,gy as gc,La as hc,gi as ic,Le as jc,lr as kc,Tt as lc,hd as mc,ur as nc,uoe as oc,loe as pc,UB as qc,doe as rc,foe as sc,hoe as tc,poe as uc,_A as vc,goe as wc,moe as xc,voe as yc,yoe as zc,Eoe as Ac,Coe as Bc,Soe as Cc,Ioe as Dc,kA as Ec,Doe as Fc,Ze as Gc,Fn as Hc,ns as Ic,UA as Jc,le as Kc,Ly as Lc,ze as Mc,co as Nc,rs as Oc,Wt as Pc,ke as Qc,mn as Rc,_oe as Sc,Loe as Tc,koe as Uc,Koe as Vc,Zoe as Wc,Ky as Xc,oR as Yc,BV as Zc,mi as _c,lo as $c,Vr as ad,uo as bd,ss as cd,de as dd,M as ed,A as fd,_n as gd,fr as hd,lae as id,dae as jd,W as kd,Ae as ld,k as md,Hr as nd,yn as od,at as pd,En as qd,_d as rd,zr as sd,AH as td,fc as ud,Ne as vd,XR as wd,jae as xd,LM as yd,rf as zd,Sf as Ad,Et as Bd,Ut as Cd,xc as Dd,Vo as Ed,bx as Fd,Bn as Gd,Ho as Hd,be as Id,XG as Jd,e8 as Kd,Lo as Ld,Df as Md,t8 as Nd,n8 as Od,r8 as Pd,i8 as Qd,s8 as Rd,iue as Sd,xo as Td,Oo as Ud,P8 as Vd,sue as Wd,oue as Xd,Sn as Yd,_8 as Zd,Sc as _d,Xr as $d,Cr as ae,Kp as be,Ti as ce,xO as de,Fc as ee,Q as fe,Jp as ge,_c as he,PO as ie,Ai as je,aI as ke,Cn as le,Dc as me,Di as ne,Ss as oe,Is as pe,Zr as qe,z8 as re,cue as se,Ds as te,r3 as ue,Hn as ve,Uc as we,WC as xe,lue as ye,due as ze,bc as Ae,ZC as Be,Qe as Ce,Po as De,ng as Ee,Ri as Fe,q as Ge,$n as He,bi as Ie,Qr as Je,Nx as Ke,T3 as Le,bs as Me,ZO as Ne,Ue as Oe,qo as Pe,O3 as Qe,fue as Re,j3 as Se,hue as Te,nN as Ue,ae as Ve,pue as We,gue as Xe,q3 as Ye,dD as Ze,ug as _e,mue as $e,vue as af,yue as bf,KN as cf,Wc as df,ZN as ef,aW as ff,cW as gf,wp as hf,Je as if,eP as jf,tP as kf,pW as lf,Cue as mf,Es as nf,iP as of,Sue as pf,Iue as qf,xp as rf,Mi as sf,qc as tf,lP as uf,qW as vf,gC as wf,n4 as xf,Due as yf,z4 as zf,kx as Af,Ux as Bf,Up as Cf,vD as Df,Mq as Ef,xue as Ff,pg as Gf,nn as Hf,yr as If,c6 as Jf,gg as Kf,l6 as Lf,d6 as Mf,mg as Nf,TD as Of,Oue as Pf,Nue as Qf,Pue as Rf,A6 as Sf,Fue as Tf,_ue as Uf,Lue as Vf,ei as Wf,yt as Xf,AD as Yf,Mc as Zf,kue as _f,Ao as $f,j5 as ag,Uue as bg,jue as cg,$ue as dg,Bue as eg,Vue as fg,Hue as gg,zue as hg,Gue as ig,Wue as jg,que as kg,Yue as lg,Bx as mg,z5 as ng,Kue as og,Zue as pg,q5 as qg,Que as rg,Jue as sg,eY as tg,tY as ug,Xue as vg,ele as wg,nY as xg,tle as yg,iY as zg,jP as Ag,eu as Bg,rle as Cg,ile as Dg,sle as Eg,ZY as Fg,ole as Gg,ale as Hg,Cs as Ig,u9 as Jg,l9 as Kg,cle as Lg,ule as Mg,lle as Ng,h9 as Og,dle as Pg,fle as Qg,hle as Rg,ple as Sg,Wx as Tg,gle as Ug};
